define('core/tag', ["jquery","core/ajax","core/templates","core/notification","core/str","core/yui"],function(a,b,c,d,e,f){return{initTagindexPage:function(){a("body").delegate(".tagarea[data-ta] a[data-quickload=1]","click",function(d){d.preventDefault();var e=a(this),f=e[0].search.replace(/^\?/,""),g=e.closest(".tagarea[data-ta]"),h=f.split("&").reduce(function(a,b){var c=b.split("=");return a[c[0]]=decodeURIComponent(c[1]),a},{}),i=b.call([{methodname:"core_tag_get_tagindex",args:{tagindex:h}}],!0);a.when.apply(a,i).done(function(a){c.render("core_tag/index",a).done(function(a){g.replaceWith(a)})})})},initManagePage:function(){a("body").on("updated","[data-inplaceeditable]",function(b){if(e.get_string("now").done(function(c){a(b.target).closest("tr").find("td.col-timemodified").html(c)}),"tagflag"===b.ajaxreturn.itemtype){var c=a(b.target).closest("tr");"0"===b.ajaxreturn.value?c.removeClass("flagged-tag"):c.addClass("flagged-tag")}}),a(".tag-management-table").delegate("a.tagdelete","click",function(b){b.preventDefault();var c=a(this).attr("href");e.get_strings([{key:"delete"},{key:"confirmdeletetag",component:"tag"},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){window.location.href=c})})}),a("#tag-management-delete").click(function(b){var c=a(this).closest("form").get(0),f=a(c).find("input[type=checkbox]:checked").length;if(f){var g=a("<input type='hidden'/>").attr("name",this.name);b.preventDefault(),e.get_strings([{key:"delete"},{key:"confirmdeletetags",component:"tag"},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){g.appendTo(c),c.submit()})})}}),a("#tag-management-combine").click(function(b){b.preventDefault();var c=a(this).closest("form").get(0),g=a(c).find("input[type=checkbox]:checked");if(g.length<=1)return void e.get_strings([{key:"combineselected",component:"tag"},{key:"selectmultipletags",component:"tag"},{key:"ok"}]).done(function(a){d.alert(a[0],a[1],a[2])});var h=a("<input type='hidden'/>").attr("name",this.name);e.get_strings([{key:"combineselected",component:"tag"},{key:"selectmaintag",component:"tag"},{key:"continue"},{key:"cancel"}]).done(function(b){var d=a('<div><form id="combinetags_form" class="form-inline"><p class="description"></p><p class="options"></p><p class="mdl-align"><input type="submit" id="combinetags_submit"/><input type="button" id="combinetags_cancel"/></p></form></div>');d.find(".description").html(b[1]),d.find("#combinetags_submit").attr("value",b[2]),d.find("#combinetags_cancel").attr("value",b[3]);var e=d.find(".options");g.each(function(){var b=a(this).val(),c=a(".inplaceeditable[data-itemtype=tagname][data-itemid="+b+"]").attr("data-value");e.append(a('<input type="radio" name="maintag" id="combinetags_maintag_'+b+'" value="'+b+'"/><label for="combinetags_maintag_'+b+'">'+c+"</label><br>"))}),f.use("moodle-core-notification-dialogue",function(){var e=new M.core.dialogue({draggable:!0,modal:!0,closeButton:!0,headerContent:b[0],bodyContent:d.html()});e.show(),a("#combinetags_form input[type=radio]").first().focus().prop("checked",!0),a("#combinetags_form #combinetags_cancel").on("click",function(){e.destroy()}),a("#combinetags_form").on("submit",function(){h.appendTo(c);var b=a("input[name=maintag]:checked","#combinetags_form").val();return a("<input type='hidden'/>").attr("name","maintag").attr("value",b).appendTo(c),c.submit(),!1})})})}),a("body").on("updatefailed","[data-inplaceeditable][data-itemtype=tagname]",function(b){var c=b.exception,f=b.newvalue,g=a(b.target).attr("data-itemid");"namesalreadybeeingused"===c.errorcode&&(b.preventDefault(),e.get_strings([{key:"nameuseddocombine",component:"tag"},{key:"yes"},{key:"cancel"}]).done(function(a){d.confirm(b.message,a[0],a[1],a[2],function(){window.location.href=window.location.href+"&newname="+encodeURIComponent(f)+"&tagid="+encodeURIComponent(g)+"&action=renamecombine&sesskey="+M.cfg.sesskey})}))}),a("body").on("click","a[data-action=addstandardtag]",function(b){b.preventDefault(),e.get_strings([{key:"addotags",component:"tag"},{key:"inputstandardtags",component:"tag"},{key:"continue"},{key:"cancel"}]).done(function(b){var c=a('<div><form id="addtags_form" class="form-inline" method="POST"><input type="hidden" name="action" value="addstandardtag"/><input type="hidden" name="sesskey" value="'+M.cfg.sesskey+'"/><p><label for="id_tagslist">'+b[1]+'</label><input type="text" id="id_tagslist" name="tagslist"/></p><p class="mdl-align"><input type="submit" id="addtags_submit"/><input type="button" id="addtags_cancel"/></p></form></div>');c.find("#addtags_form").attr("action",window.location.href),c.find("#addtags_submit").attr("value",b[2]),c.find("#addtags_cancel").attr("value",b[3]),f.use("moodle-core-notification-dialogue",function(){var d=new M.core.dialogue({draggable:!0,modal:!0,closeButton:!0,headerContent:b[0],bodyContent:c.html()});d.show(),a("#addtags_form input[type=text]").focus(),a("#addtags_form #addtags_cancel").on("click",function(){d.destroy()})})})})},initManageCollectionsPage:function(){a("body").on("updated","[data-inplaceeditable]",function(b){var c,d,e,f=b.ajaxreturn;"core_tag"===f.component&&"tagareaenable"===f.itemtype&&(c=a(this).attr("data-itemid"),a(".tag-collections-table ul[data-collectionid] li[data-areaid="+c+"]").hide(),e=f.value,"1"===e?(a(this).closest("tr").removeClass("dimmed_text"),d=a(this).closest("tr").find('[data-itemtype="tagareacollection"]').attr("data-value"),a(".tag-collections-table ul[data-collectionid="+d+"] li[data-areaid="+c+"]").show()):a(this).closest("tr").addClass("dimmed_text")),"core_tag"===f.component&&"tagareacollection"===f.itemtype&&(c=a(this).attr("data-itemid"),a(".tag-collections-table ul[data-collectionid] li[data-areaid="+c+"]").hide(),d=a(this).attr("data-value"),e=a(this).closest("tr").find('[data-itemtype="tagareaenable"]').attr("data-value"),"1"===e&&a(".tag-collections-table ul[data-collectionid="+d+"] li[data-areaid="+c+"]").show())}),a("body").on("click",".addtagcoll > a",function(b){b.preventDefault();var c=a(this).attr("data-url")+"&sesskey="+M.cfg.sesskey;e.get_strings([{key:"addtagcoll",component:"tag"},{key:"name"},{key:"searchable",component:"tag"},{key:"create"},{key:"cancel"}]).done(function(b){var d=a('<div><form id="addtagcoll_form" class="form-inline"><p><label for="addtagcoll_name"></label>: <input id="addtagcoll_name" type="text"/></p><p><label for="addtagcoll_searchable"></label>: <input id="addtagcoll_searchable" type="checkbox" value="1" checked/></p><p class="mdl-align"><input type="submit" id="addtagcoll_submit"/><input type="button" id="addtagcoll_cancel"/></p></form></div>');d.find('label[for="addtagcoll_name"]').html(b[1]),d.find('label[for="addtagcoll_searchable"]').html(b[2]),d.find("#addtagcoll_submit").attr("value",b[3]),d.find("#addtagcoll_cancel").attr("value",b[4]),f.use("moodle-core-notification-dialogue",function(){var e=new M.core.dialogue({draggable:!0,modal:!0,closeButton:!0,headerContent:b[0],bodyContent:d.html()});e.show(),a("#addtagcoll_form #addtagcoll_name").focus(),a("#addtagcoll_form #addtagcoll_cancel").on("click",function(){e.destroy()}),a("#addtagcoll_form").on("submit",function(){var b=a("#addtagcoll_form #addtagcoll_name").val(),d=a("#addtagcoll_form #addtagcoll_searchable").prop("checked")?1:0;return String(b).length>0&&(window.location.href=c+"&name="+encodeURIComponent(b)+"&searchable="+d),!1})})})}),a("body").on("click",".tag-collections-table .action_delete",function(b){b.preventDefault();var c=a(this).attr("data-url")+"&sesskey="+M.cfg.sesskey;e.get_strings([{key:"delete"},{key:"suredeletecoll",component:"tag",param:a(this).attr("data-collname")},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){window.location.href=c})})})}}});
define('core/log', ["core/loglevel"],function(a){var b=a.methodFactory;return a.methodFactory=function(a,c){var d=b(a,c);return function(a,b){d(b?b+": "+a:a)}},a.setConfig=function(b){"undefined"!=typeof b.level&&a.setLevel(b.level)},a});
define('core/auto_rows', ["jquery"],function(a){var b={ELEMENT:"[data-auto-rows]"},c={ROW_CHANGE:"autorows:rowchange"},d=function(a){var b=a.attr("rows"),c=a.attr("data-max-rows"),d=a.height(),e=a.innerHeight(),f=e-d;a.height("1px");var g=a[0].scrollHeight,h=(g-f)/(d/b);return a.css("height",""),c&&h>=c?c:h},e=function(e){a(e).on("input propertychange",b.ELEMENT,function(b){var f=a(b.target),g=f.attr("rows"),h=d(f);h!=g&&(f.attr("rows",h),a(e).trigger(c.ROW_CHANGE))})};return{init:e,events:c}});
define('core/config', function(){return M.cfg});
define('core/chart_base', ["core/chart_series","core/chart_axis"],function(a,b){function c(){this._series=[],this._labels=[],this._xaxes=[],this._yaxes=[],this._setDefaults()}return c.prototype._series=null,c.prototype._labels=null,c.prototype._title=null,c.prototype._xaxes=null,c.prototype._yaxes=null,c.prototype.COLORSET=["#f3c300","#875692","#f38400","#a1caf1","#be0032","#c2b280","#7f180d","#008856","#e68fac","#0067a5"],c.prototype._configColorSet=null,c.prototype.TYPE=null,c.prototype.addSeries=function(a){if(this._validateSeries(a),this._series.push(a),null===a.getColor()){var b=this.getConfigColorSet()||c.prototype.COLORSET;a.setColor(b[this._series.length%b.length])}},c.prototype.create=function(c,d){var e=new c;return e.setConfigColorSet(d.config_colorset),e.setLabels(d.labels),e.setTitle(d.title),d.series.forEach(function(b){e.addSeries(a.prototype.create(b))}),d.axes.x.forEach(function(a,c){e.setXAxis(b.prototype.create(a),c)}),d.axes.y.forEach(function(a,c){e.setYAxis(b.prototype.create(a),c)}),e},c.prototype.__getAxis=function(a,c,d){var e,f="x"===a?this._xaxes:this._yaxes,g=("x"===a?this.setXAxis:this.setYAxis).bind(this);if(c="undefined"==typeof c?0:c,d="undefined"!=typeof d&&d,e=f[c],"undefined"==typeof e){if(!d)throw new Error("Unknown axis.");e=new b,g(e,c)}return e},c.prototype.getConfigColorSet=function(){return this._configColorSet},c.prototype.getLabels=function(){return this._labels},c.prototype.getSeries=function(){return this._series},c.prototype.getTitle=function(){return this._title},c.prototype.getType=function(){if(!this.TYPE)throw new Error("The TYPE property has not been set.");return this.TYPE},c.prototype.getXAxes=function(){return this._xaxes},c.prototype.getXAxis=function(a,b){return this.__getAxis("x",a,b)},c.prototype.getYAxes=function(){return this._yaxes},c.prototype.getYAxis=function(a,b){return this.__getAxis("y",a,b)},c.prototype.setConfigColorSet=function(a){this._configColorSet=a},c.prototype._setDefaults=function(){},c.prototype.setLabels=function(a){if(a.length&&this._series.length&&this._series[0].length!=a.length)throw new Error("Series must match label values.");this._labels=a},c.prototype.setTitle=function(a){this._title=a},c.prototype.setXAxis=function(a,b){b="undefined"==typeof b?0:b,this._validateAxis("x",a,b),this._xaxes[b]=a},c.prototype.setYAxis=function(a,b){b="undefined"==typeof b?0:b,this._validateAxis("y",a,b),this._yaxes[b]=a},c.prototype._validateAxis=function(a,b,c){if(c="undefined"==typeof c?0:c,c>0){var d="x"==a?this._xaxes:this._yaxes;if("undefined"==typeof d[c-1])throw new Error("Missing "+a+" axis at index lower than "+c)}},c.prototype._validateSeries=function(a){if(this._series.length&&this._series[0].getCount()!=a.getCount())throw new Error("Series do not have an equal number of values.");if(this._labels.length&&this._labels.length!=a.getCount())throw new Error("Series must match label values.")},c});
define('core/inplace_editable', ["jquery","core/ajax","core/templates","core/notification","core/str","core/config","core/url"],function(a,b,c,d,e,f,g){return a("body").on("click keypress","[data-inplaceeditable] [data-inplaceeditablelink]",function(h){if("keypress"!==h.type||13===h.keyCode){h.stopImmediatePropagation(),h.preventDefault();var i=a(this),j=i.closest("[data-inplaceeditable]"),k=function(b){b.addClass("updating");var c=b.find("img.spinner");c.length?c.show():(c=a("<img/>").attr("src",g.imageUrl("i/loading_small")).addClass("spinner").addClass("smallicon"),b.append(c))},l=function(a){a.removeClass("updating"),a.find("img.spinner").hide()},m=function(e,f){k(e),b.call([{methodname:"core_update_inplace_editable",args:{itemid:e.attr("data-itemid"),component:e.attr("data-component"),itemtype:e.attr("data-itemtype"),value:f},done:function(b){var d=e.attr("data-value");c.render("core/inplace_editable",b).done(function(f,g){var h=a(f);c.replaceNode(e,h,g),h.find("[data-inplaceeditablelink]").focus(),h.trigger({type:"updated",ajaxreturn:b,oldvalue:d})})},fail:function(b){var c=a.Event("updatefailed",{exception:b,newvalue:f});l(e),e.trigger(c),c.isDefaultPrevented()||d.exception(b)}}],!0)},n=function(a){a.find("input").off(),a.find("select").off(),a.html(a.attr("data-oldcontent")),a.removeAttr("data-oldcontent"),a.removeClass("inplaceeditingon"),a.find("[data-inplaceeditablelink]").focus()},o=function(){a("span.inplaceeditable.inplaceeditingon").each(function(){n(a(this))})},p=function(b,c){var d,e=b;for(d=0;d<c;d++)e+=String(Math.floor(10*Math.random()));return 0===a("#"+e).length?e:p(b,c)},q=function(b){e.get_string("edittitleinstructions").done(function(c){var d=a('<span class="editinstructions">'+c+"</span>").attr("id",p("id_editinstructions_",20)),e=a('<input type="text"/>').attr("id",p("id_inplacevalue_",20)).attr("value",b.attr("data-value")).attr("aria-describedby",d.attr("id")).addClass("ignoredirty").addClass("form-control"),g=a('<label class="accesshide">'+j.attr("data-editlabel")+"</label>").attr("for",e.attr("id"));b.html("").append(d).append(g).append(e),e.focus(),e.select(),e.on("keyup keypress focusout",function(a){if(!f.behatsiterunning||"focusout"!==a.type){if("keypress"===a.type&&13===a.keyCode){var c=e.val();n(b),m(b,c)}("keyup"===a.type&&27===a.keyCode||"focusout"===a.type)&&n(b)}})})},r=function(a,b){n(a),m(a,b)},s=function(b,c){var d,e=a("<select></select>").attr("id",p("id_inplacevalue_",20)).addClass("custom-select"),g=a('<label class="accesshide">'+j.attr("data-editlabel")+"</label>").attr("for",e.attr("id"));for(d in c)e.append(a("<option>").attr("value",c[d].key).html(c[d].value));e.val(b.attr("data-value")),b.html("").append(g).append(e),e.focus(),e.select(),e.on("keyup change focusout",function(a){if(!f.behatsiterunning||"focusout"!==a.type){if("change"===a.type){var c=e.val();n(b),m(b,c)}("keyup"===a.type&&27===a.keyCode||"focusout"===a.type)&&n(b)}})},t=function(b){b.addClass("inplaceeditingon"),b.attr("data-oldcontent",b.html());var c=b.attr("data-type"),d=b.attr("data-options");"toggle"===c?r(b,d):"select"===c?s(b,a.parseJSON(d)):q(b)};o(),t(j)}}),{}});
define('core/notification', ["core/yui","jquery","core/log"],function(a,b,c){var d={types:{success:"core/notification_success",info:"core/notification_info",warning:"core/notification_warning",error:"core/notification_error"},fieldName:"user-notifications",fetchNotifications:function(){require(["core/ajax"],function(a){var b=a.call([{methodname:"core_fetch_notifications",args:{contextid:d.contextid}}]);b[0].done(d.addNotifications)})},addNotifications:function(a){a||(a=[]),b.each(a,function(a,b){d.renderNotification(b.template,b.variables)})},setupTargetRegion:function(){var a=b("#"+d.fieldName);if(a.length)return!1;var c=b("<span>").attr("id",d.fieldName);return a=b("#region-main"),a.length?a.prepend(c):(a=b('[role="main"]'),a.length?a.prepend(c):(a=b("body"),a.prepend(c)))},addNotification:function(a){var c=d.types.error;return a=b.extend({closebutton:!0,announce:!0,type:"error"},a),a.template?(c=a.template,delete a.template):a.type&&("undefined"!=typeof d.types[a.type]&&(c=d.types[a.type]),delete a.type),d.renderNotification(c,a)},renderNotification:function(a,e){return"undefined"!=typeof e.message&&e.message?void require(["core/templates"],function(c){c.render(a,e).done(function(a,e){b("#"+d.fieldName).prepend(a),c.runTemplateJS(e)}).fail(d.exception)}):void c.debug("Notification received without content. Skipping.")},alert:function(b,c,d){a.use("moodle-core-notification-alert",function(){var a=new M.core.alert({title:b,message:c,yesLabel:d});a.show()})},confirm:function(b,c,d,e,f,g){a.use("moodle-core-notification-confirm",function(){var a=new M.core.confirm({title:b,question:c,yesLabel:d,noLabel:e});a.on("complete-yes",function(){f()}),g&&a.on("complete-no",function(){g()}),a.show()})},exception:function(b){if("undefined"==typeof b.stack&&(b.stack=""),b.debuginfo&&(b.stack+=b.debuginfo+"\n"),!b.backtrace&&b.stacktrace&&(b.backtrace=b.stacktrace),b.backtrace){b.stack+=b.backtrace;var c=b.backtrace.match(/line ([^ ]*) of/),d=b.backtrace.match(/ of ([^:]*): /);c&&c[1]&&(b.lineNumber=c[1]),d&&d[1]&&(b.fileName=d[1],b.fileName.length>30&&(b.fileName="..."+b.fileName.substr(b.fileName.length-27)))}"undefined"==typeof b.name&&b.errorcode&&(b.name=b.errorcode),a.use("moodle-core-notification-exception",function(){var a=new M.core.exception(b);a.show()})}};return{init:function(a,b){d.contextid=a,d.setupTargetRegion(),d.addNotifications(b),d.fetchNotifications()},fetchNotifications:d.fetchNotifications,addNotification:d.addNotification,alert:d.alert,confirm:d.confirm,exception:d.exception}});
define('core/chart_bar', ["core/chart_base"],function(a){function b(){a.prototype.constructor.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype._horizontal=!1,b.prototype._stacked=!1,b.prototype.TYPE="bar",b.prototype.create=function(b,c){var d=a.prototype.create.apply(this,arguments);return d.setHorizontal(c.horizontal),d.setStacked(c.stacked),d},b.prototype._setDefaults=function(){a.prototype._setDefaults.apply(this,arguments);var b=this.getYAxis(0,!0);b.setMin(0)},b.prototype.getHorizontal=function(){return this._horizontal},b.prototype.getStacked=function(){return this._stacked},b.prototype.setHorizontal=function(a){var b=this.getXAxis(0,!0);null===b.getMin()&&b.setMin(0),this._horizontal=Boolean(a)},b.prototype.setStacked=function(a){this._stacked=Boolean(a)},b});
define('core/yui', function(){return Y});
define('core/chart_output_chartjs', ["jquery","core/chartjs","core/chart_axis","core/chart_bar","core/chart_output_base","core/chart_line","core/chart_pie","core/chart_series"],function(a,b,c,d,e,f,g,h){function i(){e.prototype.constructor.apply(this,arguments),this._canvas=this._node,"CANVAS"!=this._canvas.prop("tagName")&&(this._canvas=a("<canvas>"),this._node.append(this._canvas)),this._build()}var j=function(a,b){return"axis-"+a+"-"+b};return i.prototype=Object.create(e.prototype),i.prototype._config=null,i.prototype._chartjs=null,i.prototype._canvas=null,i.prototype._build=function(){this._config=this._makeConfig(),this._chartjs=new b(this._canvas[0],this._config)},i.prototype._cleanData=function(b){return b instanceof Array?b.map(function(b){return a("<span>").html(b).text()}):a("<span>").html(b).text()},i.prototype._getChartType=function(){var a=this._chart.getType();return this._chart.getType()===d.prototype.TYPE&&this._chart.getHorizontal()===!0?a="horizontalBar":this._chart.getType()===g.prototype.TYPE&&this._chart.getDoughnut()===!0&&(a="doughnut"),a},i.prototype._makeAxisConfig=function(a,b,d){var e={id:j(b,d)};return a.getPosition()!==c.prototype.POS_DEFAULT&&(e.position=a.getPosition()),null!==a.getLabel()&&(e.scaleLabel={display:!0,labelString:this._cleanData(a.getLabel())}),null!==a.getStepSize()&&(e.ticks=e.ticks||{},e.ticks.stepSize=a.getStepSize()),null!==a.getMax()&&(e.ticks=e.ticks||{},e.ticks.max=a.getMax()),null!==a.getMin()&&(e.ticks=e.ticks||{},e.ticks.min=a.getMin()),e},i.prototype._makeConfig=function(){var a={type:this._getChartType(),data:{labels:this._cleanData(this._chart.getLabels()),datasets:this._makeDatasetsConfig()},options:{title:{display:null!==this._chart.getTitle(),text:this._cleanData(this._chart.getTitle())}}};return this._chart.getXAxes().forEach(function(b,c){var d=b.getLabels();a.options.scales=a.options.scales||{},a.options.scales.xAxes=a.options.scales.xAxes||[],a.options.scales.xAxes[c]=this._makeAxisConfig(b,"x",c),null!==d&&(a.options.scales.xAxes[c].ticks.callback=function(a,b){return d[b]||""}),a.options.scales.xAxes[c].stacked=this._isStacked()}.bind(this)),this._chart.getYAxes().forEach(function(b,c){var d=b.getLabels();a.options.scales=a.options.scales||{},a.options.scales.yAxes=a.options.scales.yAxes||[],a.options.scales.yAxes[c]=this._makeAxisConfig(b,"y",c),null!==d&&(a.options.scales.yAxes[c].ticks.callback=function(a){return d[parseInt(a,10)]||""}),a.options.scales.yAxes[c].stacked=this._isStacked()}.bind(this)),a.options.tooltips={callbacks:{label:this._makeTooltip.bind(this)}},a},i.prototype._makeDatasetsConfig=function(){var a=this._chart.getSeries().map(function(a){var b=a.hasColoredValues()?a.getColors():a.getColor(),c={label:this._cleanData(a.getLabel()),data:a.getValues(),type:a.getType(),fill:!1,backgroundColor:b,borderColor:this._chart.getType()==g.prototype.TYPE?null:b,lineTension:this._isSmooth(a)?.3:0};return null!==a.getXAxis()&&(c.xAxisID=j("x",a.getXAxis())),null!==a.getYAxis()&&(c.yAxisID=j("y",a.getYAxis())),c}.bind(this));return a},i.prototype._makeTooltip=function(a,b){var c=this._chart.getSeries()[a.datasetIndex],d=c.getLabel(),e=c.getLabels(),f=b.datasets[a.datasetIndex].data,g=f[a.index],h=[];if(""==a.xLabel&&""==a.yLabel){var i=this._cleanData(this._chart.getLabels());h.push(i[a.index])}return null!==e?h.push(this._cleanData(e[a.index])):h.push(this._cleanData(d)+": "+g),h},i.prototype._isSmooth=function(a){var b=!1;return this._chart.getType()===f.prototype.TYPE?(b=a.getSmooth(),null===b&&(b=this._chart.getSmooth())):a.getType()===h.prototype.TYPE_LINE&&(b=a.getSmooth()),b},i.prototype._isStacked=function(){var a=!1;return this._chart.getType()===d.prototype.TYPE&&(a=this._chart.getStacked()),a},i.prototype.update=function(){a.extend(!0,this._config,this._makeConfig()),this._chartjs.update()},i});
define('core/tree', ["jquery"],function(a){var b={ITEM:"[role=treeitem]",GROUP:"[role=treeitem]:has([role=group]), [role=treeitem][aria-owns], [role=treeitem][data-requires-ajax=true]",CLOSED_GROUP:"[role=treeitem]:has([role=group])[aria-expanded=false], [role=treeitem][aria-owns][aria-expanded=false], [role=treeitem][data-requires-ajax=true][aria-expanded=false]",FIRST_ITEM:"[role=treeitem]:first",VISIBLE_ITEM:"[role=treeitem]:visible",UNLOADED_AJAX_ITEM:"[role=treeitem][data-requires-ajax=true][data-loaded=false][aria-expanded=true]"},c=function(c,d){this.treeRoot=a(c),this.treeRoot.data("activeItem",null),this.selectCallback=d,this.keys={tab:9,enter:13,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,asterisk:106},this.initialiseNodes(this.treeRoot),this.setActiveItem(this.treeRoot.find(b.FIRST_ITEM)),this.refreshVisibleItemsCache(),this.bindEventHandlers()};return c.prototype.refreshVisibleItemsCache=function(){this.treeRoot.data("visibleItems",this.treeRoot.find(b.VISIBLE_ITEM))},c.prototype.getVisibleItems=function(){return this.treeRoot.data("visibleItems")},c.prototype.setActiveItem=function(a){var b=this.treeRoot.data("activeItem");a!==b&&(b&&(b.attr("tabindex","-1"),b.attr("aria-selected","false")),a.attr("tabindex","0"),a.attr("aria-selected","true"),this.treeRoot.data("activeItem",a),"function"==typeof this.selectCallback&&this.selectCallback(a))},c.prototype.isGroupItem=function(a){return a.is(b.GROUP)},c.prototype.getGroupFromItem=function(a){return this.treeRoot.find("#"+a.attr("aria-owns"))||a.children("[role=group]")},c.prototype.isGroupCollapsed=function(a){return"false"===a.attr("aria-expanded")},c.prototype.isGroupCollapsible=function(a){return"false"!==a.attr("data-collapsible")},c.prototype.initialiseNodes=function(c){this.removeAllFromTabOrder(c),this.setAriaSelectedFalseOnItems(c);var d=this;c.find(b.UNLOADED_AJAX_ITEM).each(function(){var b=a(this);d.collapseGroup(b),d.expandGroup(b)})},c.prototype.removeAllFromTabOrder=function(b){b.find("*").attr("tabindex","-1"),this.getGroupFromItem(a(b)).find("*").attr("tabindex","-1")},c.prototype.setAriaSelectedFalseOnItems=function(a){a.find(b.ITEM).attr("aria-selected","false")},c.prototype.expandAllGroups=function(){var c=this;this.treeRoot.find(b.CLOSED_GROUP).each(function(){var b=a(this);c.expandGroup(a(this)).done(function(){c.expandAllChildGroups(b)})})},c.prototype.expandAllChildGroups=function(c){var d=this;this.getGroupFromItem(c).find(b.CLOSED_GROUP).each(function(){var b=a(this);d.expandGroup(a(this)).done(function(){d.expandAllChildGroups(b)})})},c.prototype.expandGroup=function(b){var c=a.Deferred();if("false"!==b.attr("data-expandable")&&this.isGroupCollapsed(b))if("true"===b.attr("data-requires-ajax")&&"true"!==b.attr("data-loaded")){b.attr("data-loaded",!1);var d=b.closest("[data-ajax-loader]").attr("data-ajax-loader"),e=this;b.addClass("loading"),require([d],function(a){a.load(b).done(function(){b.attr("data-loaded",!0),e.initialiseNodes(b),e.finishExpandingGroup(b),b.removeClass("loading"),c.resolve()})})}else this.finishExpandingGroup(b),c.resolve();else c.resolve();return c},c.prototype.finishExpandingGroup=function(a){var b=this.getGroupFromItem(a);b.attr("aria-hidden","false"),a.attr("aria-expanded","true"),this.refreshVisibleItemsCache()},c.prototype.collapseGroup=function(a){if(this.isGroupCollapsible(a)&&!this.isGroupCollapsed(a)){var b=this.getGroupFromItem(a);b.attr("aria-hidden","true"),a.attr("aria-expanded","false"),this.refreshVisibleItemsCache()}},c.prototype.toggleGroup=function(a){"true"===a.attr("aria-expanded")?this.collapseGroup(a):this.expandGroup(a)},c.prototype.handleKeyDown=function(c,d){var e=this.getVisibleItems().index(c);if(d.altKey||d.ctrlKey||d.metaKey||d.shiftKey&&d.keyCode!=this.keys.tab)return!0;switch(d.keyCode){case this.keys.home:return this.getVisibleItems().first().focus(),d.stopPropagation(),!1;case this.keys.end:return this.getVisibleItems().last().focus(),d.stopPropagation(),!1;case this.keys.enter:var f=c.children("a").length?c.children("a"):c.children().not(b.GROUP).find("a");return f.length?window.location.href=f.first().attr("href"):this.isGroupItem(c)&&this.toggleGroup(c,!0),d.stopPropagation(),!1;case this.keys.space:return this.isGroupItem(c)&&this.toggleGroup(c,!0),d.stopPropagation(),!1;case this.keys.left:var g=function(b){b.getVisibleItems().filter(function(){return b.getGroupFromItem(a(this)).has(c).length}).focus()};return this.isGroupItem(c)?this.isGroupCollapsed(c)?g(this):this.collapseGroup(c):g(this),d.stopPropagation(),!1;case this.keys.right:return this.isGroupItem(c)&&(this.isGroupCollapsed(c)?this.expandGroup(c):this.getGroupFromItem(c).find(b.ITEM).first().focus()),d.stopPropagation(),!1;case this.keys.up:if(e>0){var h=this.getVisibleItems().eq(e-1);h.focus()}return d.stopPropagation(),!1;case this.keys.down:if(e<this.getVisibleItems().length-1){var i=this.getVisibleItems().eq(e+1);i.focus()}return d.stopPropagation(),!1;case this.keys.asterisk:return this.expandAllGroups(),d.stopPropagation(),!1}return!0},c.prototype.handleClick=function(a,b){return!!(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(a.focus(),this.isGroupItem(a)&&this.toggleGroup(a),b.stopPropagation(),!0)},c.prototype.handleFocus=function(a,b){return this.setActiveItem(a),b.stopPropagation(),!0},c.prototype.bindEventHandlers=function(){var c=this;this.treeRoot.on({click:function(b){return c.handleClick(a(this),b)},keydown:function(b){return c.handleKeyDown(a(this),b)},focus:function(b){return c.handleFocus(a(this),b)}},b.ITEM)},c});
define('core/backoff_timer', function(){var a=function(a,b){this.callback=a,this.backOffFunction=b};return a.prototype.callback=null,a.prototype.backOffFunction=null,a.prototype.time=null,a.prototype.timeout=null,a.prototype.generateNextTime=function(){var a=this.backOffFunction(this.time);return this.time=a,a},a.prototype.reset=function(){return this.time=null,this.stop(),this},a.prototype.stop=function(){return this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null),this},a.prototype.start=function(){if(!this.timeout){var a=this.generateNextTime();this.timeout=window.setTimeout(function(){this.callback(),this.stop(),this.start()}.bind(this),a)}return this},a.prototype.restart=function(){return this.reset().start()},a.getIncrementalCallback=function(a,b,c,d){return function(e){return e?e+b>c?d:e+b:a}},a});
define('core/chart_pie', ["core/chart_base"],function(a){function b(){a.prototype.constructor.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.TYPE="pie",b.prototype._doughnut=null,b.prototype.create=function(b,c){var d=a.prototype.create.apply(this,arguments);return d.setDoughnut(c.doughnut),d},b.prototype.addSeries=function(b){if(null===b.getColor()){for(var c=[],d=this.getConfigColorSet()||a.prototype.COLORSET,e=0;e<b.getCount();e++)c.push(d[e%d.length]);b.setColors(c)}return a.prototype.addSeries.apply(this,arguments)},b.prototype.getDoughnut=function(){return this._doughnut},b.prototype.setDoughnut=function(a){this._doughnut=Boolean(a)},b.prototype._validateSeries=function(){if(this._series.length>=1)throw new Error("Pie charts only support one serie.");return a.prototype._validateSeries.apply(this,arguments)},b});
!function(a,b){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?b(exports):"function"==typeof define&&define.amd?define('core/mustache', ["exports"],b):(a.Mustache={},b(a.Mustache))}(this,function(a){function b(a){return"function"==typeof a}function c(a){return p(a)?"array":typeof a}function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function e(a,b){return null!=a&&"object"==typeof a&&b in a}function f(a,b){return q.call(a,b)}function g(a){return!f(r,a)}function h(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return s[a]})}function i(b,c){function e(){if(r&&!s)for(;q.length;)delete o[q.pop()];else q=[];r=!1,s=!1}function f(a){if("string"==typeof a&&(a=a.split(u,2)),!p(a)||2!==a.length)throw new Error("Invalid tags: "+a);h=new RegExp(d(a[0])+"\\s*"),i=new RegExp("\\s*"+d(a[1])),m=new RegExp("\\s*"+d("}"+a[1]))}if(!b)return[];var h,i,m,n=[],o=[],q=[],r=!1,s=!1;f(c||a.tags);for(var y,z,A,B,C,D,E=new l(b);!E.eos();){if(y=E.pos,A=E.scanUntil(h))for(var F=0,G=A.length;F<G;++F)B=A.charAt(F),g(B)?q.push(o.length):s=!0,o.push(["text",B,y,y+1]),y+=1,"\n"===B&&e();if(!E.scan(h))break;if(r=!0,z=E.scan(x)||"name",E.scan(t),"="===z?(A=E.scanUntil(v),E.scan(v),E.scanUntil(i)):"{"===z?(A=E.scanUntil(m),E.scan(w),E.scanUntil(i),z="&"):A=E.scanUntil(i),!E.scan(i))throw new Error("Unclosed tag at "+E.pos);if(C=[z,A,y,E.pos],o.push(C),"#"===z||"^"===z||"$"===z||"<"===z)n.push(C);else if("/"===z){if(D=n.pop(),!D)throw new Error('Unopened section "'+A+'" at '+y);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+y)}else"name"===z||"{"===z||"&"===z?s=!0:"="===z&&f(A)}if(D=n.pop())throw new Error('Unclosed section "'+D[1]+'" at '+E.pos);return k(j(o))}function j(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function k(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;g<h;++g)switch(b=a[g],b[0]){case"$":case"<":case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function l(a){this.string=a,this.tail=a,this.pos=0}function m(a,b){this.view=a,this.blocks={},this.cache={".":this.view},this.parent=b}function n(){this.cache={}}var o=Object.prototype.toString,p=Array.isArray||function(a){return"[object Array]"===o.call(a)},q=RegExp.prototype.test,r=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},t=/\s*/,u=/\s+/,v=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!|\$|</;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},l.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},m.prototype.push=function(a){return new m(a,this)},m.prototype.setBlockVar=function(a,b){var c=this.blocks;return c[a]=b,b},m.prototype.clearBlockVars=function(){this.blocks={}},m.prototype.getBlockVar=function(a){var b,c=this.blocks;return c.hasOwnProperty(a)?b=c[a]:this.parent&&(b=this.parent.getBlockVar(a)),b},m.prototype.lookup=function(a){var c,d=this.cache;if(d.hasOwnProperty(a))c=d[a];else{for(var f,g,h=this,i=!1;h;){if(a.indexOf(".")>0)for(c=h.view,f=a.split("."),g=0;null!=c&&g<f.length;)g===f.length-1&&(i=e(c,f[g])),c=c[f[g++]];else c=h.view[a],i=e(h.view,a);if(i)break;h=h.parent}d[a]=c}return b(c)&&(c=c.call(this.view)),c},n.prototype.clearCache=function(){this.cache={}},n.prototype.parse=function(a,b){var c=this.cache,d=c[a];return null==d&&(d=c[a]=i(a,b)),d},n.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof m?b:new m(b);return this.renderTokens(d,e,c,a)},n.prototype.renderTokens=function(a,b,c,d){for(var e,f,g,h="",i=0,j=a.length;i<j;++i)g=void 0,e=a[i],f=e[0],"#"===f?g=this.renderSection(e,b,c,d):"^"===f?g=this.renderInverted(e,b,c,d):">"===f?g=this.renderPartial(e,b,c,d):"<"===f?g=this.renderBlock(e,b,c,d):"$"===f?g=this.renderBlockVariable(e,b,c,d):"&"===f?g=this.unescapedValue(e,b):"name"===f?g=this.escapedValue(e,b):"text"===f&&(g=this.rawValue(e)),void 0!==g&&(h+=g);return h},n.prototype.renderSection=function(a,c,d,e){function f(a){return g.render(a,c,d)}var g=this,h="",i=c.lookup(a[1]);if(i){if(p(i))for(var j=0,k=i.length;j<k;++j)h+=this.renderTokens(a[4],c.push(i[j]),d,e);else if("object"==typeof i||"string"==typeof i||"number"==typeof i)h+=this.renderTokens(a[4],c.push(i),d,e);else if(b(i)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,e.slice(a[3],a[5]),f),null!=i&&(h+=i)}else h+=this.renderTokens(a[4],c,d,e);return h}},n.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||p(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},n.prototype.renderPartial=function(a,c,d){if(d){var e=b(d)?d(a[1]):d[a[1]];return null!=e?this.renderTokens(this.parse(e),c,d,e):void 0}},n.prototype.renderBlock=function(a,c,d,e){if(d){var f=b(d)?d(a[1]):d[a[1]];null!=f&&c.clearBlockVars(),this.renderTokens(a[4],c,d,e);var g=this.renderTokens(this.parse(f),c,d,f);return c.clearBlockVars(),g}},n.prototype.renderBlockVariable=function(a,b,c,d){var e=a[1],f=b.getBlockVar(e);return f?this.renderTokens(this.parse(f),b,c,f):(b.setBlockVar(e,d.slice(a[3],a[5])),this.renderTokens(a[4],b,c,d))},n.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},n.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},n.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="2.2.1",a.tags=["{{","}}"];var y=new n;a.clearCache=function(){return y.clearCache()},a.parse=function(a,b){return y.parse(a,b)},a.render=function(a,b,d){if("string"!=typeof a)throw new TypeError('Invalid template! Template should be a "string" but "'+c(a)+'" was given as the first argument for mustache#render(template, view, partials)');return y.render(a,b,d)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);return b(f)?void f(g):g},a.escape=h,a.Scanner=l,a.Context=m,a.Writer=n});
define('core/modal_cancel', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events"],function(a,b,c,d,e){var f={CANCEL_BUTTON:'[data-action="cancel"]'},g=function(a){d.call(this,a),this.getFooter().find(f.CANCEL_BUTTON).length||b.exception({message:"No cancel button found"})};return g.prototype=Object.create(d.prototype),g.prototype.constructor=g,g.prototype.setFooter=function(){b.exception({message:"Can not change the footer of a cancel modal"})},g.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,f.CANCEL_BUTTON,function(b,c){var d=a.Event(e.cancel);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},g});
define('core/chart_output_base', ["jquery"],function(a){function b(b,c){this._node=a(b),this._chart=c}return b.prototype.update=function(){throw new Error("Not supported.")},b});
define('core/form-course-selector', ["core/ajax","jquery"],function(a,b){return{processResults:function(a,c){var d=[],e=0,f=String(b(a).data("exclude")).split(",");for(e=0;e<c.courses.length;e++)f.indexOf(String(c.courses[e].id))===-1&&d.push({value:c.courses[e].id,label:c.courses[e].displayname});return d},transport:function(c,d,e,f){var g=b(c),h=g.data("requiredcapabilities");h=""!==h.trim()?h.split(","):[];var i=g.data("limittoenrolled"),j=g.data("includefrontpage"),k=null;"undefined"==typeof d&&(d="");var l={criterianame:"search",criteriavalue:d,page:0,perpage:100,requiredcapabilities:h,limittoenrolled:i},m=[{methodname:"core_course_search_courses",args:l}];j&&m.push({methodname:"core_course_get_courses",args:{options:{ids:[j]}}}),k=a.call(m),b.when.apply(b.when,k).done(function(a,b){if(b&&1==b.length){var c=b.pop(),f=""===d||c.fullname.toUpperCase().indexOf(d.toUpperCase())>-1||c.shortname.toUpperCase().indexOf(d.toUpperCase())>-1;f&&a.courses.splice(0,0,c)}e(a)}).fail(f)}}});
define('core/chart_output', ["core/chart_output_chartjs"],function(a){var b=a;return b});
define('core/storagewrapper', ["core/config"],function(a){var b=function(b){this.storage=b,this.supported=this.detectSupport(),this.hashSource=a.wwwroot+"/"+a.jsrev,this.hash=this.hashString(this.hashSource),this.prefix=this.hash+"/",this.jsrevPrefix=this.hash+"/jsrev"};return b.prototype.detectSupport=function(){if(a.jsrev==-1)return!1;if("undefined"==typeof this.storage)return!1;var b="test";try{return null!==this.storage&&(this.storage.setItem(b,"1"),this.storage.removeItem(b),!0)}catch(c){return!1}},b.prototype.prefixKey=function(a){return this.prefix+a},b.prototype.validateCache=function(){var b=this.storage.getItem(this.jsrevPrefix);if(null===b)return void this.storage.setItem(this.jsrevPrefix,a.jsrev);var c=a.jsrev;c!=b&&(this.storage.clear(),this.storage.setItem(this.jsrevPrefix,a.jsrev))},b.prototype.hashString=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,d=a.length;b<d;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return e},b.prototype.get=function(a){return!!this.supported&&(this.validateCache(),a=this.prefixKey(a),this.storage.getItem(a))},b.prototype.set=function(a,b){if(!this.supported)return!1;this.validateCache(),a=this.prefixKey(a);try{this.storage.setItem(a,b)}catch(c){return!1}return!0},b});
define('core/chartjs', ["core/chartjs-lazy"],function(a){return a});
define('core/modal_confirm', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events"],function(a,b,c,d,e){var f={YES_BUTTON:'[data-action="yes"]',NO_BUTTON:'[data-action="no"]'},g=function(a){d.call(this,a),this.getFooter().find(f.YES_BUTTON).length||b.exception({message:'No "yes" button found'}),this.getFooter().find(f.NO_BUTTON).length||b.exception({message:'No "no" button found'})};return g.prototype=Object.create(d.prototype),g.prototype.constructor=g,g.prototype.setFooter=function(){b.exception({message:"Can not change the footer of a confirm modal"})},g.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,f.YES_BUTTON,function(b,c){var d=a.Event(e.yes);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,f.NO_BUTTON,function(b,c){var d=a.Event(e.no);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},g});
define('core/permissionmanager', ["jquery","core/config","core/notification","core/templates","core/yui"],function(a,b,c,d,e){var f,g,h,i,j={ADDROLE:"a.allowlink, a.prohibitlink",REMOVEROLE:"a.preventlink, a.unprohibitlink",UNPROHIBIT:"a.unprohibitlink"},k=a.Event("rolesloaded"),l=null,m=function(){var d={contextid:f,getroles:1,sesskey:b.sesskey};a.post(h+"roles/ajax.php",d,null,"json").done(function(b){try{i=b,m=function(){a("body").trigger(k)},m()}catch(d){c.exception(d)}}).fail(function(a,b,d){c.exception(d)})},n=function(b,e,g){var j={contextid:f,roleid:e,sesskey:M.cfg.sesskey,action:g,capability:b.data("name")};a.post(h+"roles/ajax.php",j,null,"json").done(function(f){var g=f;try{var j={rolename:i[e],roleid:e,adminurl:h,imageurl:M.util.image_url("t/delete","moodle")};switch(g){case"allow":j.spanclass="allowed",j.linkclass="preventlink",j.action="prevent",j.icon="t/delete";break;case"prohibit":j.spanclass="forbidden",j.linkclass="unprohibitlink",j.action="unprohibit",j.icon="t/delete";break;case"prevent":return void b.find('a[data-role-id="'+e+'"]').first().closest(".allowed").remove();case"unprohibit":return void b.find('a[data-role-id="'+e+'"]').first().closest(".forbidden").remove();default:return}d.render("core/permissionmanager_role",j).done(function(c){if("allow"==g)a(c).insertBefore(b.find(".allowmore:first"));else if("prohibit"==g){a(c).insertBefore(b.find(".prohibitmore:first"));var d=b.find(".allowedroles").first().find('a[data-role-id="'+e+'"]');d&&d.first().closest(".allowed").remove()}l.hide()}).fail(c.exception)}catch(k){c.exception(k)}}).fail(function(a,b,d){c.exception(d)})},o=function(b){b.preventDefault(),e.use("moodle-core-notification-dialogue",function(){a("body").one("rolesloaded",function(){var e=a(b.currentTarget),f=e.data("action"),h=e.closest("tr.rolecap"),k={cap:h.data("humanname"),context:g},m=M.util.get_string("role"+f+"info","core_role",k);null===l&&(l=new M.core.dialogue({draggable:!0,modal:!0,closeButton:!0,width:"450px"})),l.set("headerContent",M.util.get_string("role"+f+"header","core_role"));var o,p,q=[];switch(f){case"allow":p=h.find(j.REMOVEROLE);break;case"prohibit":p=h.find(j.UNPROHIBIT)}for(o in i){var r="",s=p.filter("[data-role-id='"+o+"']").length;s&&(r="disabled");var t={roleid:o,rolename:i[o],disabled:r};q.push(t)}d.render("core/permissionmanager_panelcontent",{message:m,roles:q}).done(function(b){l.set("bodyContent",b),l.show(),a("div.role_buttons").delegate("input","click",function(b){var c=a(b.currentTarget).data("role-id");n(h,c,f)})}).fail(c.exception)})}),m()},p=function(b){b.preventDefault(),a("body").one("rolesloaded",function(){var d=a(b.currentTarget),e=d.data("action"),f=d.data("role-id"),h=d.closest("tr.rolecap"),j={role:i[f],cap:h.data("humanname"),context:g};c.confirm(M.util.get_string("confirmunassigntitle","core_role"),M.util.get_string("confirmrole"+e,"core_role",j),M.util.get_string("confirmunassignyes","core_role"),M.util.get_string("confirmunassignno","core_role"),function(){n(h,f,e)})}),m()};return{initialize:function(b){f=b.contextid,g=b.contextname,h=b.adminurl;var c=a("body");c.delegate(j.ADDROLE,"click",o),c.delegate(j.REMOVEROLE,"click",p)}}});
!function(a,b){"use strict";"function"==typeof define&&define.amd?define('core/loglevel', b):"object"==typeof module&&module.exports?module.exports=b():a.log=b()}(this,function(){"use strict";function a(a){return typeof console!==h&&(void 0!==console[a]?b(console,a):void 0!==console.log?b(console,"log"):g)}function b(a,b){var c=a[b];if("function"==typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function c(a,b,c){return function(){typeof console!==h&&(d.call(this,b,c),this[a].apply(this,arguments))}}function d(a,b){for(var c=0;c<i.length;c++){var d=i[c];this[d]=c<a?g:this.methodFactory(d,a,b)}}function e(b,d,e){return a(b)||c.apply(this,arguments)}function f(a,b,c){function f(a){var b=(i[a]||"silent").toUpperCase();try{return void(window.localStorage[l]=b)}catch(c){}try{window.document.cookie=encodeURIComponent(l)+"="+b+";"}catch(c){}}function g(){var a;try{a=window.localStorage[l]}catch(b){}if(typeof a===h)try{var c=window.document.cookie,d=c.indexOf(encodeURIComponent(l)+"=");d&&(a=/^([^;]+)/.exec(c.slice(d))[1])}catch(b){}return void 0===k.levels[a]&&(a=void 0),a}var j,k=this,l="loglevel";a&&(l+=":"+a),k.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},k.methodFactory=c||e,k.getLevel=function(){return j},k.setLevel=function(b,c){if("string"==typeof b&&void 0!==k.levels[b.toUpperCase()]&&(b=k.levels[b.toUpperCase()]),!("number"==typeof b&&b>=0&&b<=k.levels.SILENT))throw"log.setLevel() called with invalid level: "+b;if(j=b,c!==!1&&f(b),d.call(k,b,a),typeof console===h&&b<k.levels.SILENT)return"No console available for logging"},k.setDefaultLevel=function(a){g()||k.setLevel(a,!1)},k.enableAll=function(a){k.setLevel(k.levels.TRACE,a)},k.disableAll=function(a){k.setLevel(k.levels.SILENT,a)};var m=g();null==m&&(m=null==b?"WARN":b),k.setLevel(m,!1)}var g=function(){},h="undefined",i=["trace","debug","info","warn","error"],j=new f,k={};j.getLogger=function(a){if("string"!=typeof a||""===a)throw new TypeError("You must supply a name when creating a logger.");var b=k[a];return b||(b=k[a]=new f(a,j.getLevel(),j.methodFactory)),b};var l=typeof window!==h?window.log:void 0;return j.noConflict=function(){return typeof window!==h&&window.log===j&&(window.log=l),j},j});
define('core/modal', ["jquery","core/templates","core/notification","core/key_codes","core/custom_interaction_events","core/modal_backdrop","core/modal_events"],function(a,b,c,d,e,f,g){var h,i={CONTAINER:'[data-region="modal-container"]',MODAL:'[data-region="modal"]',HEADER:'[data-region="header"]',TITLE:'[data-region="title"]',BODY:'[data-region="body"]',FOOTER:'[data-region="footer"]',HIDE:'[data-action="hide"]',DIALOG:"[role=dialog]",MENU_BAR:"[role=menubar]",HAS_Z_INDEX:".moodle-has-zindex",CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]'},j={LOADING:"core/loading",BACKDROP:"core/modal_backdrop"},k=function(b){this.root=a(b),this.modal=this.root.find(i.MODAL),this.header=this.modal.find(i.HEADER),this.title=this.header.find(i.TITLE),this.body=this.modal.find(i.BODY),this.footer=this.modal.find(i.FOOTER),this.hiddenSiblings=[],this.isAttached=!1,this.bodyJS=null,this.footerJS=null,this.root.is(i.CONTAINER)||c.exception({message:"Element is not a modal container"}),this.modal.length||c.exception({message:"Container does not contain a modal"}),this.header.length||c.exception({message:"Modal is missing a header region"}),this.title.length||c.exception({message:"Modal header is missing a title region"}),this.body.length||c.exception({message:"Modal is missing a body region"}),this.footer.length||c.exception({message:"Modal is missing a footer region"}),this.registerEventListeners()};return k.prototype.attachToDOM=function(){this.isAttached||(a("body").append(this.root),this.bodyJS&&(b.runTemplateJS(this.bodyJS),this.bodyJS=null),this.footerJS&&(b.runTemplateJS(this.footerJS),this.footerJS=null),this.isAttached=!0)},k.prototype.countOtherVisibleModals=function(){var b=0;return a("body").find(i.CONTAINER).each(function(c,d){d=a(d),!this.root.is(d)&&d.hasClass("show")&&b++}.bind(this)),b},k.prototype.getBackdrop=function(){return h||(h=b.render(j.BACKDROP,{}).then(function(b){var c=a(b);return new f(c)}).fail(c.exception)),h},k.prototype.getRoot=function(){return this.root},k.prototype.getModal=function(){return this.modal},k.prototype.getTitle=function(){return this.title},k.prototype.getBody=function(){return this.body},k.prototype.getFooter=function(){return this.footer},k.prototype.setTitle=function(b){var c=this.getTitle(),d=b;"object"==typeof b&&b.hasOwnProperty("then")||(d=a.Deferred(),d.resolve(b)),d.then(function(a){c.html(a)})},k.prototype.setBody=function(a){var c=this.getBody();"string"==typeof a?c.html(a):b.render(j.LOADING,{}).done(function(d){c.html(d),a.done(function(a,d){c.html(a),d&&(this.isAttached?b.runTemplateJS(d):this.bodyJS=d)}.bind(this))}.bind(this))},k.prototype.setFooter=function(a){var c=this.getFooter();"string"==typeof a?c.html(a):b.render(j.LOADING,{}).done(function(d){c.html(d),a.done(function(a,d){c.html(a),d&&(this.isAttached?b.runTemplateJS(d):this.footerJS=d)}.bind(this))}.bind(this))},k.prototype.setLarge=function(){this.isLarge()||this.getModal().addClass("modal-lg")},k.prototype.isLarge=function(){return this.getModal().hasClass("modal-lg")},k.prototype.setSmall=function(){this.isSmall()||this.getModal().removeClass("modal-lg")},k.prototype.isSmall=function(){return!this.getModal().hasClass("modal-lg")},k.prototype.calculateZIndex=function(){var b=a(i.DIALOG+", "+i.MENU_BAR+", "+i.HAS_Z_INDEX),c=parseInt(this.root.css("z-index"));return b.each(function(b,d){d=a(d);var e=d.css("z-index")?parseInt(d.css("z-index")):0;e>c&&(c=e)}),c},k.prototype.isVisible=function(){return this.root.hasClass("show")},k.prototype.hasFocus=function(){var b=a(document.activeElement);return this.root.is(b)||this.root.has(b).length},k.prototype.hasTransitions=function(){return this.getRoot().hasClass("fade")},k.prototype.show=function(){this.isVisible()||(this.isAttached||this.attachToDOM(),this.getBackdrop().done(function(b){var c=this.calculateZIndex(),d=c+2,e=d-1;this.root.css("z-index",d),b.setZIndex(e),b.show(),this.root.removeClass("hide").addClass("show"),this.accessibilityShow(),this.getTitle().focus(),a("body").addClass("modal-open"),this.root.trigger(g.shown,this)}.bind(this)))},k.prototype.hide=function(){this.isVisible()&&this.getBackdrop().done(function(b){this.countOtherVisibleModals()||(b.hide(),a("body").removeClass("modal-open"));var c=parseInt(this.root.css("z-index"));this.root.css("z-index",""),b.setZIndex(c-3),this.accessibilityHide(),this.hasTransitions()?this.getRoot().one("transitionend webkitTransitionEnd oTransitionEnd",function(){this.getRoot().removeClass("show").addClass("hide")}.bind(this)):this.getRoot().removeClass("show").addClass("hide"),this.root.trigger(g.hidden,this)}.bind(this))},k.prototype.destroy=function(){this.root.remove(),this.root.trigger(g.destroyed,this)},k.prototype.accessibilityShow=function(){a("body").children().each(function(b,c){if(!this.root.is(c)){c=a(c);var d=c.attr("aria-hidden");"true"!==d&&(c.data("previous-aria-hidden",d),this.hiddenSiblings.push(c),c.attr("aria-hidden","true"))}}.bind(this)),this.root.attr("aria-hidden","false")},k.prototype.accessibilityHide=function(){this.root.attr("aria-hidden","true"),a.each(this.hiddenSiblings,function(b,c){c=a(c);var d=c.data("previous-aria-hidden");"undefined"==typeof d?c.removeAttr("aria-hidden"):c.attr("aria-hidden",d)}),this.hiddenSiblings=[]},k.prototype.handleTabLock=function(b){if(this.hasFocus()){var c=a(document.activeElement),d=this.modal.find(i.CAN_RECEIVE_FOCUS),e=d.first(),f=d.last();c.is(e)&&b.shiftKey?(f.focus(),b.preventDefault()):c.is(f)&&!b.shiftKey&&(e.focus(),b.preventDefault())}},k.prototype.registerEventListeners=function(){this.getRoot().on("keydown",function(a){this.isVisible()&&(a.keyCode==d.tab?this.handleTabLock(a):a.keyCode==d.escape&&this.hide())}.bind(this)),e.define(this.getModal(),[e.events.activate]),this.getModal().on(e.events.activate,i.HIDE,function(a,b){this.hide(),b.originalEvent.preventDefault()}.bind(this))},k});
define('core/chart_series', [],function(){function a(a,b){if("string"!=typeof a)throw new Error("Invalid label for series.");if("object"!=typeof b)throw new Error("Values for a series must be an array.");if(b.length<1)throw new Error("Invalid values received for series.");this._colors=[],this._label=a,this._values=b}return a.prototype.TYPE_DEFAULT=null,a.prototype.TYPE_LINE="line",a.prototype._colors=null,a.prototype._label=null,a.prototype._labels=null,a.prototype._smooth=!1,a.prototype._type=a.prototype.TYPE_DEFAULT,a.prototype._values=null,a.prototype._xaxis=null,a.prototype._yaxis=null,a.prototype.create=function(b){var c=new a(b.label,b.values);return c.setType(b.type),c.setXAxis(b.axes.x),c.setYAxis(b.axes.y),c.setLabels(b.labels),b.colors&&b.colors.length>1?c.setColors(b.colors):c.setColor(b.colors[0]),c.setSmooth(b.smooth),c},a.prototype.getColor=function(){return this._colors[0]||null},a.prototype.getColors=function(){return this._colors},a.prototype.getCount=function(){return this._values.length},a.prototype.getLabel=function(){return this._label},a.prototype.getLabels=function(){return this._labels},a.prototype.getSmooth=function(){return this._smooth},a.prototype.getType=function(){return this._type},a.prototype.getValues=function(){return this._values},a.prototype.getXAxis=function(){return this._xaxis},a.prototype.getYAxis=function(){return this._yaxis},a.prototype.hasColoredValues=function(){return this._colors.length==this.getCount()},a.prototype.setColor=function(a){this._colors=[a]},a.prototype.setColors=function(a){if(a&&a.length!=this.getCount())throw new Error("When setting multiple colors there must be one per value.");this._colors=a||[]},a.prototype.setLabels=function(a){this._validateLabels(a),a="undefined"==typeof a?null:a,this._labels=a},a.prototype.setSmooth=function(a){a="undefined"==typeof a?null:a,this._smooth=a},a.prototype.setType=function(a){if(a!=this.TYPE_DEFAULT&&a!=this.TYPE_LINE)throw new Error("Invalid serie type.");this._type=a||null},a.prototype.setXAxis=function(a){this._xaxis=a||null},a.prototype.setYAxis=function(a){this._yaxis=a||null},a.prototype._validateLabels=function(a){if(a&&a.length>0&&a.length!=this.getCount())throw new Error("Series labels must match series values.")},a});
define('core/user_date', ["jquery","core/ajax","core/sessionstorage","core/config"],function(a,b,c,d){var e={},f=function(b){var c=a("html").attr("lang").replace(/-/g,"_");return"core_user_date/"+c+"/"+d.usertimezone+"/"+b.timestamp+"/"+b.format},g=function(a){return c.get(a)},h=function(a,b){c.set(a,b)},i=function(a){return"undefined"!=typeof e[a]},j=function(a){return e[a]},k=function(a,b){e[a]=b},l=function(a){var c=a.map(function(a){return{timestamp:a.timestamp,format:a.format}}),e={methodname:"core_get_user_dates",args:{contextid:d.contextid,timestamps:c}};return b.call([e],!0,!0)[0].then(function(b){b.dates.forEach(function(b,c){var d=a[c],e=f(d);h(e,b),d.deferred.resolve(b)})}).fail(function(b){a.forEach(function(a){a.deferred.reject(b)})})},m=function(b){var c=[],d=[];return b.forEach(function(b){var e=f(b);if(i(e))d.push(j(e));else{var h=a.Deferred(),l=g(e);l?h.resolve(l):(b.deferred=h,c.push(b)),k(e,h.promise()),d.push(h.promise())}}),c.length&&l(c),a.when.apply(a,d).then(function(){return 1===arguments.length?[arguments[0]]:Array.apply(null,arguments)})};return{get:m}});
define('core/tooltip', ["jquery"],function(a){var b=function(b){this._regionSelector=b,a(this._regionSelector).each(function(b,c){var d=a(c).attr("aria-describedby");if(d){var e=document.getElementById(d);if(e){var f="tooltip"==a(e).attr("role");f&&(a(e).hide(),a(c).attr("tabindex","0")),a(c).on("focus",this._handleFocus.bind(this)),a(c).on("mouseover",this._handleMouseOver.bind(this)),a(c).on("mouseout",this._handleMouseOut.bind(this)),a(c).on("blur",this._handleBlur.bind(this)),a(c).on("keydown",this._handleKeyDown.bind(this))}}}.bind(this))};return b.prototype._regionSelector=null,b.prototype._showTooltip=function(b){var c=a(b.target),d=c.attr("aria-describedby");if(d){var e=a(document.getElementById(d));if(e.show(),e.attr("aria-hidden","false"),!e.is(".tooltip")){var f=a('<div class="tooltip-inner"></div>');f.append(e.contents()),e.append(f),e.addClass("tooltip"),e.addClass("bottom"),e.append('<div class="tooltip-arrow"></div>')}var g=c.offset();g.top+=c.height()+10,a(e).offset(g)}},b.prototype._hideTooltip=function(b){var c=a(b.target),d=c.attr("aria-describedby");if(d){var e=document.getElementById(d);a(e).hide(),a(e).attr("aria-hidden","true")}},b.prototype._handleFocus=function(a){this._showTooltip(a)},b.prototype._handleKeyDown=function(a){27==a.which&&this._hideTooltip(a)},b.prototype._handleMouseOver=function(a){this._showTooltip(a)},b.prototype._handleMouseOut=function(b){var c=a(b.target);c.is(":focus")||this._hideTooltip(b)},b.prototype._handleBlur=function(a){this._hideTooltip(a)},b});
define('core/templates', ["core/mustache","jquery","core/ajax","core/str","core/notification","core/url","core/config","core/localstorage","core/icon_system","core/event","core/yui","core/log","core/truncate","core/user_date"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=0,p={},q={},r={},s=function(){this.requiredStrings=[],this.requiredJS=[],this.requiredDates=[],this.currentThemeName=""};s.prototype.requiredStrings=null,s.prototype.requiredDates=[],s.prototype.requiredJS=null,s.prototype.currentThemeName="",s.prototype.getTemplate=function(a){var d=a.split("/"),e=d.shift(),f=d.shift(),g=this.currentThemeName+"/"+a;if(g in q)return q[g];var i=h.get("core_template/"+g);if(i)return p[g]=i,q[g]=b.Deferred().resolve(i).promise(),q[g];var j=c.call([{methodname:"core_output_load_template",args:{component:e,template:f,themename:this.currentThemeName}}],!0,!1);return q[g]=j[0].then(function(a){return p[g]=a,h.set("core_template/"+g,a),a}),q[g]},s.prototype.partialHelper=function(a){var b=this.currentThemeName+"/"+a;return b in p||e.exception(new Error("Failed to pre-fetch the template: "+a)),p[b]},s.prototype.renderIcon=function(a,c,d){var e=g.iconsystemmodule,f=b.Deferred();return require([e],function(a){var b=new a;b instanceof i?(r=b,b.init().then(f.resolve)):f.reject("Invalid icon system specified"+g.iconsystemmodule)}),f.then(function(a){return this.getTemplate(a.getTemplateName())}.bind(this)).then(function(b){return r.renderIcon(a,c,d,b)})},s.prototype.pixHelper=function(a,b,c){var d=b.split(","),e="",f="",g="";d.length>0&&(e=c(d.shift().trim(),a)),d.length>0&&(f=c(d.shift().trim(),a)),d.length>0&&(g=c(d.join(",").trim(),a));var h=r.getTemplateName(),i=this.currentThemeName+"/"+h,j=p[i];return e=e.replace(/&#x2F;/gi,"/"),r.renderIcon(e,f,g,j)},s.prototype.jsHelper=function(a,b,c){return this.requiredJS.push(c(b,a)),""},s.prototype.stringHelper=function(a,b,c){var d=b.split(","),e="",f="",g="";d.length>0&&(e=d.shift().trim()),d.length>0&&(f=d.shift().trim()),d.length>0&&(g=d.join(",").trim()),""!==g&&(g=c(g,a)),0===g.indexOf("{")&&0!==g.indexOf("{{")&&(g=JSON.parse(g));var h=this.requiredStrings.length;return this.requiredStrings.push({key:e,component:f,param:g}),"[[_s"+h+"]]"},s.prototype.quoteHelper=function(a,b,c){var d=c(b.trim(),a);return d=d.replace('"','\\"').replace(/([\{\}]{2,3})/g,"{{=<% %>=}}$1<%={{ }}=%>"),'"'+d+'"'},s.prototype.shortenTextHelper=function(a,b,c){var d=/(.*?),(.*)/,e=b.match(d),f=e[1].trim(),g=e[2].trim(),h=c(g,a);return m.truncate(h,{length:f,words:!0,ellipsis:"..."})},s.prototype.userDateHelper=function(a,b,c){var d=/(.*?),(.*)/,e=b.match(d),f=c(e[1].trim(),a),g=c(e[2].trim(),a),h=this.requiredDates.length;return this.requiredDates.push({timestamp:f,format:g}),"[[_t_"+h+"]]"},s.prototype.addHelpers=function(a,b){this.currentThemeName=b,this.requiredStrings=[],this.requiredJS=[],a.uniqid=o++,a.str=function(){return this.stringHelper.bind(this,a)}.bind(this),a.pix=function(){return this.pixHelper.bind(this,a)}.bind(this),a.js=function(){return this.jsHelper.bind(this,a)}.bind(this),a.quote=function(){return this.quoteHelper.bind(this,a)}.bind(this),a.shortentext=function(){return this.shortenTextHelper.bind(this,a)}.bind(this),a.userdate=function(){return this.userDateHelper.bind(this,a)}.bind(this),a.globals={config:g},a.currentTheme=b},s.prototype.getJS=function(){var a="";return this.requiredJS.length>0&&(a=this.requiredJS.join(";\n")),a},s.prototype.treatStringsInContent=function(a,b){var c,d,e,f,g,h,i=/\[\[_s\d+\]\]/;do{for(c="",d=a.search(i);d>-1;){c+=a.substring(0,d),a=a.substr(d),e="",f=4,g=a.substr(f,1);do e+=g,f++,g=a.substr(f,1);while("]"!=g);h=b[parseInt(e,10)],"undefined"==typeof h&&(l.debug("Could not find string for pattern [[_s"+e+"]]."),h=""),c+=h,a=a.substr(6+e.length),d=a.search(i)}a=c+a,d=a.search(i)}while(d>-1);return a},s.prototype.treatDatesInContent=function(a,b){return b.forEach(function(b,c){var d="\\[\\[_t_"+c+"\\]\\]",e=new RegExp(d,"g");a=a.replace(e,b)}),a},s.prototype.doRender=function(c,e,f){this.currentThemeName=f;var g=r.getTemplateName();return this.getTemplate(g).then(function(){this.addHelpers(e,f);var d=a.render(c,e,this.partialHelper.bind(this));return b.Deferred().resolve(d.trim(),this.getJS()).promise()}.bind(this)).then(function(a,c){return this.requiredStrings.length>0?d.get_strings(this.requiredStrings).then(function(d){return this.requiredDates=this.requiredDates.map(function(a){return{timestamp:this.treatStringsInContent(a.timestamp,d),format:this.treatStringsInContent(a.format,d)}}.bind(this)),a=this.treatStringsInContent(a,d),c=this.treatStringsInContent(c,d),b.Deferred().resolve(a,c).promise()}.bind(this)):b.Deferred().resolve(a,c).promise()}.bind(this)).then(function(a,c){return this.requiredDates.length>0?n.get(this.requiredDates).then(function(d){return a=this.treatDatesInContent(a,d),c=this.treatDatesInContent(c,d),b.Deferred().resolve(a,c).promise()}.bind(this)):b.Deferred().resolve(a,c).promise()}.bind(this))};var t=function(a){if(""!==a.trim()){var c=b("<script>").attr("type","text/javascript").html(a);b("head").append(c)}},u=function(a,c,d,e){var f=b(a);if(f.length){var g=b(c),h=null;e?(h=new k.NodeList(f.children().get()),h.destroy(!0),f.empty(),f.append(g)):(h=new k.NodeList(f.get()),h.destroy(!0),f.replaceWith(g)),t(d),j.notifyFilterContentUpdated(g)}};s.prototype.scanForPartials=function(b){var c=a.parse(b),d=[],e=function(a,b){var c,d;for(c=0;c<a.length;c++)d=a[c],">"!=d[0]&&"<"!=d[0]||b.push(d[1]),d.length>4&&e(d[4],b)};return e(c,d),d},s.prototype.cachePartials=function(a){return this.getTemplate(a).then(function(a){var c,d=this.scanForPartials(a),e=[];for(c=0;c<d.length;c++){var f=this.currentThemeName+"/"+d[c];f in q?e.push(q[f]):e.push(this.cachePartials(d[c]))}return b.when.apply(b,e).then(function(){return a})}.bind(this))},s.prototype.render=function(a,c,d){"undefined"==typeof d&&(d=g.theme),this.currentThemeName=d;var e=g.iconsystemmodule,f=b.Deferred();return require([e],function(a){var b=new a;b instanceof i?(r=b,b.init().then(f.resolve)):f.reject("Invalid icon system specified"+g.iconsystem)}),f.then(function(){return this.cachePartials(a)}.bind(this)).then(function(a){return this.doRender(a,c,d)}.bind(this))};var v=function(a,c,d){var e=b(a);e.length&&(e.prepend(c),t(d),j.notifyFilterContentUpdated(e))},w=function(a,c,d){var e=b(a);e.length&&(e.append(c),t(d),j.notifyFilterContentUpdated(e))};return{render:function(a,b,c){var d=new s;return d.render(a,b,c)},renderPix:function(a,b,c){var d=new s;return d.renderIcon(a,b,c)},runTemplateJS:t,replaceNodeContents:function(a,b,c){u(a,b,c,!0)},replaceNode:function(a,b,c){u(a,b,c,!1)},prependNodeContents:function(a,b,c){v(a,b,c)},appendNodeContents:function(a,b,c){w(a,b,c)}}});
define('core/modal_factory', ["jquery","core/modal_events","core/modal_registry","core/modal","core/modal_save_cancel","core/modal_confirm","core/modal_cancel","core/templates","core/notification","core/custom_interaction_events"],function(a,b,c,d,e,f,g,h,i,j){var k={DEFAULT:"core/modal",SAVE_CANCEL:"core/modal_save_cancel",CONFIRM:"core/modal_confirm",CANCEL:"core/modal_cancel"},l={DEFAULT:"DEFAULT",SAVE_CANCEL:"SAVE_CANCEL",CONFIRM:"CONFIRM",CANCEL:"CANCEL"};c.register(l.DEFAULT,d,k.DEFAULT),c.register(l.SAVE_CANCEL,e,k.SAVE_CANCEL),c.register(l.CONFIRM,f,k.CONFIRM),c.register(l.CANCEL,g,k.CANCEL);var m=function(a,c){"undefined"!=typeof c&&(j.define(c,[j.events.activate]),c.on(j.events.activate,function(b,c){a.then(function(a){return a.show(),a}),c.originalEvent.preventDefault()}),a.then(function(a){return a.getRoot().on(b.hidden,function(){c.focus()}),a}))},n=function(b,c){c=a(c);var d=b.module,e=new d(c);return e},o=function(b,c){var d=b.template,e=h.render(d,{}).then(function(c){var d=a(c);return n(b,d)}).fail(i.exception);return m(e,c),e},p=function(a,b){var d=a.type||l.DEFAULT,e=!!a.large,f=null;return f=c.get(d),f||i.exception({message:"Unable to find modal of type: "+d}),o(f,b).then(function(b){return"undefined"!=typeof a.title&&b.setTitle(a.title),"undefined"!=typeof a.body&&b.setBody(a.body),"undefined"!=typeof a.footer&&b.setFooter(a.footer),e&&b.setLarge(),b})};return{create:p,types:l}});
define('core/icon_system_standard', ["core/icon_system","core/url","core/mustache"],function(a,b,c){var d=function(){a.apply(this,arguments)};return d.prototype=Object.create(a.prototype),d.prototype.renderIcon=function(a,d,e,f){var g=b.imageUrl(a,d),h={attributes:[{name:"src",value:g},{name:"alt",value:e},{name:"title",value:e}]},i=c.render(f,h);return i.trim()},d.prototype.getTemplateName=function(){return"core/pix_icon"},d});
define('core/event', ["jquery","core/yui"],function(a,b){return{Events:{FORM_FIELD_VALIDATION:"core_form-field-validation"},getLegacyEvents:function(){var c=a.Deferred();return b.use("event","moodle-core-event",function(){c.resolve(window.M.core.event)}),c.promise()},notifyFilterContentUpdated:function(c){c=a(c),b.use("event","moodle-core-event",function(b){a(document).trigger(M.core.event.FILTER_CONTENT_UPDATED,[c]);var d=new b.NodeList(c.get());b.fire(M.core.event.FILTER_CONTENT_UPDATED,{nodes:d})})},notifyEditorContentRestored:function(){b.use("event","moodle-core-event",function(b){a(document).trigger(M.core.event.EDITOR_CONTENT_RESTORED),b.fire(M.core.event.EDITOR_CONTENT_RESTORED)})}}});
define('core/modal_save_cancel', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events"],function(a,b,c,d,e){var f={SAVE_BUTTON:'[data-action="save"]',CANCEL_BUTTON:'[data-action="cancel"]'},g=function(a){d.call(this,a),this.getFooter().find(f.SAVE_BUTTON).length||b.exception({message:"No save button found"}),this.getFooter().find(f.CANCEL_BUTTON).length||b.exception({message:"No cancel button found"})};return g.prototype=Object.create(d.prototype),g.prototype.constructor=g,g.prototype.setFooter=function(){b.exception({message:"Can not change the footer of a save cancel modal"})},g.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,f.SAVE_BUTTON,function(b,c){var d=a.Event(e.save);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,f.CANCEL_BUTTON,function(b,c){var d=a.Event(e.cancel);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},g.prototype.setSaveButtonText=function(a){this.getFooter().find(f.SAVE_BUTTON).text(a)},g});
define('core/chart_builder', ["jquery"],function(a){var b={make:function(b){var c=a.Deferred();return require(["core/chart_"+b.type],function(a){var d=a.prototype.create(a,b);c.resolve(d)}),c.promise()}};return b});
define('core/custom_interaction_events', ["jquery","core/key_codes"],function(a,b){var c={activate:"cie:activate",keyboardActivate:"cie:keyboardactivate",escape:"cie:escape",down:"cie:down",up:"cie:up",home:"cie:home",end:"cie:end",next:"cie:next",previous:"cie:previous",asterix:"cie:asterix",scrollLock:"cie:scrollLock",scrollTop:"cie:scrollTop",scrollBottom:"cie:scrollBottom",ctrlPageUp:"cie:ctrlPageUp",ctrlPageDown:"cie:ctrlPageDown",enter:"cie:enter"},d=function(a,b){return b=b||[],!(!b.length||b.indexOf(a)===-1)},e=function(a){return a.shiftKey||a.metaKey||a.altKey||a.ctrlKey},f=function(b,c,d){b.off("keydown."+c).on("keydown."+c,function(b){e(b)||b.keyCode==d&&a(b.target).trigger(c,[{originalEvent:b}])})},g=function(d){d.off("click.cie.activate").on("click.cie.activate",function(b){a(b.target).trigger(c.activate,[{originalEvent:b}])}),d.off("keydown.cie.activate").on("keydown.cie.activate",function(d){e(d)||d.keyCode!=b.enter&&d.keyCode!=b.space||a(d.target).trigger(c.activate,[{originalEvent:d}])})},h=function(d){d.off("keydown.cie.keyboardactivate").on("keydown.cie.keyboardactivate",function(d){e(d)||d.keyCode!=b.enter&&d.keyCode!=b.space||a(d.target).trigger(c.keyboardActivate,[{originalEvent:d}])})},i=function(a){f(a,c.escape,b.escape)},j=function(a){f(a,c.down,b.arrowDown)},k=function(a){f(a,c.up,b.arrowUp)},l=function(a){f(a,c.home,b.home)},m=function(a){f(a,c.end,b.end)},n=function(d){var e="rtl"==a("html").attr("dir")?b.arrowLeft:b.arrowRight;f(d,c.next,e)},o=function(d){var e="rtl"==a("html").attr("dir")?b.arrowRight:b.arrowLeft;f(d,c.previous,e)},p=function(a){f(a,c.asterix,b.asterix)},q=function(a){a.off("scroll.cie.scrollTop").on("scroll.cie.scrollTop",function(b){var d=a.scrollTop();0===d&&a.trigger(c.scrollTop,[{originalEvent:b}])})},r=function(a){a.off("scroll.cie.scrollBottom").on("scroll.cie.scrollBottom",function(b){var d=a.scrollTop(),e=a.innerHeight(),f=a[0].scrollHeight;d+e>=f&&a.trigger(c.scrollBottom,[{originalEvent:b}])})},s=function(a){a.off("DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock").on("DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock",function(b){var d=a.scrollTop(),e=a[0].scrollHeight,f=a.height(),g="DOMMouseScroll"==b.type?b.originalEvent.detail*-40:b.originalEvent.wheelDelta,h=g>0;return!h&&-g>e-f-d?(a.scrollTop(e),b.stopPropagation(),b.preventDefault(),b.returnValue=!1,a.trigger(c.scrollLock,[{originalEvent:b}]),!1):!(h&&g>d)||(a.scrollTop(0),b.stopPropagation(),b.preventDefault(),b.returnValue=!1,a.trigger(c.scrollLock,[{originalEvent:b}]),!1)})},t=function(d){d.off("keydown.cie.ctrlpageup").on("keydown.cie.ctrlpageup",function(d){d.ctrlKey&&d.keyCode==b.pageUp&&a(d.target).trigger(c.ctrlPageUp,[{originalEvent:d}])})},u=function(d){d.off("keydown.cie.ctrlpagedown").on("keydown.cie.ctrlpagedown",function(d){d.ctrlKey&&d.keyCode==b.pageDown&&a(d.target).trigger(c.ctrlPageDown,[{originalEvent:d}])})},v=function(a){f(a,c.enter,b.enter)},w=function(){var a={};return a[c.activate]=g,a[c.keyboardActivate]=h,a[c.escape]=i,a[c.down]=j,a[c.up]=k,a[c.home]=l,a[c.end]=m,a[c.next]=n,a[c.previous]=o,a[c.asterix]=p,a[c.scrollLock]=s,a[c.scrollTop]=q,a[c.scrollBottom]=r,a[c.ctrlPageUp]=t,a[c.ctrlPageDown]=u,a[c.enter]=v,a},x=function(b,c){b=a(b),c=c||[],b.length&&c.length&&a.each(w(),function(a,e){d(a,c)&&e(b)})};return{define:x,events:c}});
define('core/localstorage', ["core/config","core/storagewrapper"],function(a,b){var c=new b(window.localStorage);return{get:function(a){return c.get(a)},set:function(a,b){return c.set(a,b)}}});
define('core/popover_region_controller', ["jquery","core/str","core/custom_interaction_events"],function(a,b,c){var d={CONTENT:".popover-region-content",CONTENT_CONTAINER:".popover-region-content-container",MENU_CONTAINER:".popover-region-container",MENU_TOGGLE:".popover-region-toggle",CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]'},e=function(b){this.root=a(b),this.content=this.root.find(d.CONTENT),this.contentContainer=this.root.find(d.CONTENT_CONTAINER),this.menuContainer=this.root.find(d.MENU_CONTAINER),this.menuToggle=this.root.find(d.MENU_TOGGLE),this.isLoading=!1,this.promises={closeHandlers:a.Deferred(),navigationHandlers:a.Deferred()},this.registerBaseEventListeners()};return e.prototype.events=function(){return{menuOpened:"popoverregion:menuopened",menuClosed:"popoverregion:menuclosed",startLoading:"popoverregion:startLoading",stopLoading:"popoverregion:stopLoading"}},e.prototype.getContentContainer=function(){return this.contentContainer},e.prototype.getContent=function(){return this.content},e.prototype.isMenuOpen=function(){return!this.root.hasClass("collapsed")},e.prototype.toggleMenu=function(){this.isMenuOpen()?this.closeMenu():this.openMenu()},e.prototype.closeMenu=function(){this.isMenuOpen()&&(this.root.addClass("collapsed"),this.menuContainer.attr("aria-expanded","false"),this.menuContainer.attr("aria-hidden","true"),this.updateButtonAriaLabel(),this.root.trigger(this.events().menuClosed))},e.prototype.openMenu=function(){this.isMenuOpen()||(this.root.removeClass("collapsed"),this.menuContainer.attr("aria-expanded","true"),this.menuContainer.attr("aria-hidden","false"),this.updateButtonAriaLabel(),this.promises.closeHandlers.resolve(),this.promises.navigationHandlers.resolve(),this.root.trigger(this.events().menuOpened))},e.prototype.updateButtonAriaLabel=function(){this.isMenuOpen()?b.get_string("hidepopoverwindow").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):b.get_string("showpopoverwindow").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this))},e.prototype.startLoading=function(){this.isLoading=!0,this.getContentContainer().addClass("loading"),this.getContentContainer().attr("aria-busy","true"),this.root.trigger(this.events().startLoading)},e.prototype.stopLoading=function(){this.isLoading=!1,this.getContentContainer().removeClass("loading"),this.getContentContainer().attr("aria-busy","false"),this.root.trigger(this.events().stopLoading)},e.prototype.focusMenuToggle=function(){this.menuToggle.focus()},e.prototype.contentItemHasFocus=function(){return this.getContentItemWithFocus().length>0},e.prototype.getContentItemWithFocus=function(){var b=a(document.activeElement),c=this.getContent().children(),d=c.filter(b);return d.length||(d=c.has(b)),d},e.prototype.focusContentItem=function(a){a.is(d.CAN_RECEIVE_FOCUS)?a.focus():a.find(d.CAN_RECEIVE_FOCUS).first().focus()},e.prototype.focusFirstContentItem=function(){this.focusContentItem(this.getContent().children().first())},e.prototype.focusLastContentItem=function(){this.focusContentItem(this.getContent().children().last())},e.prototype.focusNextContentItem=function(){var a=this.getContentItemWithFocus();a.length&&a.next()&&this.focusContentItem(a.next())},e.prototype.focusPreviousContentItem=function(){var a=this.getContentItemWithFocus();a.length&&a.prev()&&this.focusContentItem(a.prev())},e.prototype.registerBaseEventListeners=function(){c.define(this.root,[c.events.activate,c.events.escape]),this.root.on(c.events.activate,d.MENU_TOGGLE,function(){this.toggleMenu()}.bind(this)),this.promises.closeHandlers.done(function(){this.root.on(c.events.escape,function(){this.closeMenu(),this.focusMenuToggle()}.bind(this)),a("html").click(function(b){var c=a(b.target);this.root.is(c)||this.root.has(c).length||this.closeMenu()}.bind(this)),c.define(this.getContentContainer(),[c.events.scrollBottom])}.bind(this))},e.prototype.registerListNavigationEventListeners=function(){c.define(this.root,[c.events.down]),this.root.on(c.events.down,function(a,b){this.isMenuOpen()?this.contentItemHasFocus()?this.focusNextContentItem():this.focusFirstContentItem():(this.openMenu(),this.focusFirstContentItem()),b.originalEvent.preventDefault()}.bind(this)),this.promises.navigationHandlers.done(function(){c.define(this.root,[c.events.up,c.events.home,c.events.end]),this.root.on(c.events.up,function(a,b){this.focusPreviousContentItem(),b.originalEvent.preventDefault()}.bind(this)),this.root.on(c.events.home,function(a,b){this.focusFirstContentItem(),b.originalEvent.preventDefault()}.bind(this)),this.root.on(c.events.end,function(a,b){this.focusLastContentItem(),b.originalEvent.preventDefault()}.bind(this))}.bind(this))},e});
define('core/sessionstorage', ["core/config","core/storagewrapper"],function(a,b){var c=new b(window.sessionStorage);return{get:function(a){return c.get(a)},set:function(a,b){return c.set(a,b)}}});
define('core/modal_backdrop', ["jquery","core/templates","core/notification"],function(a,b,c){var d={ROOT:'[data-region="modal-backdrop"]'},e=function(b){this.root=a(b),this.isAttached=!1,this.root.is(d.ROOT)||c.exception({message:"Element is not a modal backdrop"})};return e.prototype.getRoot=function(){return this.root},e.prototype.attachToDOM=function(){this.isAttached||(a("body").append(this.root),this.isAttached=!0)},e.prototype.setZIndex=function(a){this.root.css("z-index",a)},e.prototype.isVisible=function(){return this.root.hasClass("show")},e.prototype.hasTransitions=function(){return this.getRoot().hasClass("fade")},e.prototype.show=function(){this.isVisible()||(this.isAttached||this.attachToDOM(),this.root.removeClass("hide").addClass("show"))},e.prototype.hide=function(){this.isVisible()&&(this.hasTransitions()?this.getRoot().one("transitionend webkitTransitionEnd oTransitionEnd",function(){this.getRoot().removeClass("show").addClass("hide")}.bind(this)):this.getRoot().removeClass("show").addClass("hide"))},e.prototype.destroy=function(){this.root.remove()},e});
define('core/url', ["jquery","core/config"],function(a,b){return{fileUrl:function(a,c){var d=b.wwwroot+a;return"/"!=c.charAt(0)&&(c="/"+c),d+=b.slasharguments?c:"?file="+encodeURIComponent(c)},relativeUrl:function(c,d,e){if(0===c.indexOf("http:")||0===c.indexOf("https:")||c.indexOf("://")>=0)throw new Error("relativeUrl function does not accept absolute urls");"/"!=c.charAt(0)&&(c="/"+c),"admin"!==b.admin&&(c=c.replace(/^\/admin\//,"/"+b.admin+"/")),d=d||{},e&&(d.sesskey=b.sesskey);var f="";return Object.keys(d).length&&(f=a.map(d,function(a,b){return b+"="+a}).join("&")),""!==f?b.wwwroot+c+"?"+f:b.wwwroot+c},imageUrl:function(a,b){return M.util.image_url(a,b)}}});
define('core/modal_events', [],function(){return{shown:"modal:shown",hidden:"modal:hidden",destroyed:"modal:destroyed",save:"modal-save-cancel:save",cancel:"modal-save-cancel:cancel",yes:"modal-confirm:yes",no:"modal-confirm:no"}});
define('core/chart_output_htmltable', ["jquery","core/chart_output_base"],function(a,b){function c(){b.prototype.constructor.apply(this,arguments),this._build()}return c.prototype=Object.create(b.prototype),c.prototype._build=function(){this._node.empty(),this._node.append(this._makeTable())},c.prototype._makeTable=function(){var b,c,d,e=a("<table>"),f=this._chart,g=f.getLabels(),h=g.length>0,i=f.getSeries(),j=i[0].getCount();e.addClass("chart-output-htmltable generaltable"),null!==f.getTitle()&&e.append(a("<caption>").text(f.getTitle())),b=a("<tr>"),h&&b.append(a("<td>")),i.forEach(function(c){b.append(a("<th>").text(c.getLabel()).attr("scope","col"))}),e.append(b);for(var k=0;k<j;k++){b=a("<tr>"),g.length>0&&b.append(a("<th>").text(g[k]).attr("scope","row"));for(var l=0;l<i.length;l++)c=i[l].getValues()[k],d=i[l].getLabels(),null!==d&&(c=i[l].getLabels()[k]),b.append(a("<td>").text(c));e.append(b)}return e},c.prototype.update=function(){this._build()},c});
define('core/icon_system_fontawesome', ["core/icon_system","jquery","core/ajax","core/mustache","core/localstorage","core/url"],function(a,b,c,d,e,f){var g=null,h=null,i=function(){a.apply(this,arguments)};return i.prototype=Object.create(a.prototype),i.prototype.init=function(){if(g)return b.when(this);var a=e.get("core/iconmap-fontawesome");return a&&(a=JSON.parse(a)),a?(g=a,b.when(this)):(null===h&&(h=c.call([{methodname:"core_output_load_fontawesome_icon_map",args:[]}],!0,!1)[0]),h.then(function(a){return g={},b.each(a,function(a,b){g[b.component+"/"+b.pix]=b.to}),e.set("core/iconmap-fontawesome",JSON.stringify(g)),this}.bind(this)))},i.prototype.renderIcon=function(a,b,c,e){var h=g[b+"/"+a],i=!1;if("undefined"==typeof h){var j=f.imageUrl(a,b);i={attributes:[{name:"src",value:j},{name:"alt",value:c},{name:"title",value:c}]}}var k={key:h,title:c,alt:c,unmappedIcon:i};return d.render(e,k)},i.prototype.getTemplateName=function(){return"core/pix_icon_fontawesome"},i});
define('core/addblockmodal', ["jquery","core/modal_factory","core/templates","core/str","core/notification"],function(a,b,c,d,e){return{init:function(f){var g=a("[data-key=addblock]"),h=[];a.each(f.blocks,function(a,b){h[h.length]={key:"pluginname",component:"block_"+b}});var i=d.get_strings(h).then(function(a){return a.map(function(a,b){return{name:f.blocks[b],title:a}})}).then(function(a){return f.blocks=a,c.render("core/add_block_body",f)}).fail(e.exception),j=d.get_string("addblock").fail(e.exception);b.create({title:j,body:i,type:"CANCEL"},g)}}});
define('core/fragment', ["jquery","core/ajax"],function(a,b){var c=function(c,d,e,f){var g=[];for(var h in f)g.push({name:h,value:f[h]});var i=a.Deferred(),j=b.call([{methodname:"core_get_fragment",args:{component:c,callback:d,contextid:e,args:g}}],!1);return j[0].done(function(a){i.resolve(a)}).fail(function(a){i.reject(a)}),i.promise()};return{loadFragment:function(b,d,e,f){var g=a.Deferred();return a.when(c(b,d,e,f)).then(function(b){var c=a(b.javascript),d="";c.each(function(b,c){c=a(c);var e=c.prop("tagName");if(e&&"script"==e.toLowerCase())if(c.attr("src")){var f=!1;a("script").each(function(b,d){return a(d).attr("src")==c.attr("src")&&(f=!0),!f}),f||(d+=" { ",d+=' node = document.createElement("script"); ',d+=' node.type = "text/javascript"; ',d+=' node.src = decodeURI("'+encodeURI(c.attr("src"))+'"); ',d+=' document.getElementsByTagName("head")[0].appendChild(node); ',d+=" } ")}else d+=" "+c.text()}),g.resolve(b.html,d)}).fail(function(a){g.reject(a)}),g.promise()}}});
define('core/truncate', ["jquery"],function(a){var b=/(\s*\S+|\s)$/,c=/^(\S*)/,d=/\s/,e=function(a,b){if(null==this)throw TypeError();var c=String(a),d=c.length,e=b?Number(b):0;if(e!=e&&(e=0),e<=-1||e>=d)return"";e=0|e;var f,g=c.charCodeAt(e),h=e+1,i=1;return g>=55296&&g<=56319&&d>h&&(f=c.charCodeAt(h),f>=56320&&f<=57343&&(i=2)),i},f=function(a){for(var b=0,c=0;c<a.length;c+=e(a,c))b++;return b},g=function(a,b){if(!a.length)return 0;var c=0,d=0;do c+=e(a,c),d++;while(c<a.length&&d<b);return c};return a.truncate=function(b,c){return a("<div></div>").append(b).truncate(c).html()},a.fn.truncate=function(e){a.isNumeric(e)&&(e={length:e});var h=a.extend({},a.truncate.defaults,e);return this.each(function(){var e=a(this);h.noBreaks&&e.find("br").replaceWith(" ");var i=h.ellipsis.length,j=e.text(),k=f(j),l=k-h.length+i;if(!(k<h.length)){if(h.stripTags&&e.text(j),h.words&&l>0){var m=j.slice(0,g(j,h.length-i)+1),n=m.replace(b,""),o=f(n),p=!m.match(d);l=h.keepFirstWord&&0===o?k-f(c.exec(j)[0])-i:p&&0===o?k-h.length+i:k-o-1}l>k&&(l=k-h.length),l<0||!l&&!h.truncated||a.each(e.contents().get().reverse(),function(b,c){var d=a(c),e=d.text(),j=f(e);if(j<=l)return h.truncated=!0,l-=j,void d.remove();if(3===c.nodeType){var k=j-l;return k=k>=0?g(e,k):0,a(c.splitText(k)).replaceWith(h.ellipsis),!1}return d.truncate(a.extend(h,{length:j-l+i})),!1})}})},a.truncate.defaults={stripTags:!1,words:!1,keepFirstWord:!1,noBreaks:!1,length:1/0,ellipsis:""},{truncate:a.truncate}});
define('core/modal_registry', ["core/notification"],function(a){var b={},c=function(a){return b[a]},d=function(d,e,f){c(d)&&a.exception({message:"Modal of  type '"+d+"' is already registered"}),e&&"function"==typeof e||a.exception({message:"You must provide a modal module"}),f||a.exception({message:"You must provide a modal template"}),b[d]={module:e,template:f}};return{register:d,get:c}});
define('core/first', ["jquery"],function(a){a(document).bind("ajaxStart",function(){M.util.js_pending("jq")}).bind("ajaxStop",function(){M.util.js_complete("jq")})});
define('core/chart_axis', [],function(){function a(){}return a.prototype.POS_DEFAULT=null,a.prototype.POS_BOTTOM="bottom",a.prototype.POS_LEFT="left",a.prototype.POS_RIGHT="right",a.prototype.POS_TOP="top",a.prototype._label=null,a.prototype._labels=null,a.prototype._max=null,a.prototype._min=null,a.prototype._position=null,a.prototype._stepSize=null,a.prototype.create=function(b){var c=new a;return c.setPosition(b.position),c.setLabel(b.label),c.setStepSize(b.stepSize),c.setMax(b.max),c.setMin(b.min),c.setLabels(b.labels),c},a.prototype.getLabel=function(){return this._label},a.prototype.getLabels=function(){return this._labels},a.prototype.getMax=function(){return this._max},a.prototype.getMin=function(){return this._min},a.prototype.getPosition=function(){return this._position},a.prototype.getStepSize=function(){return this._stepSize},a.prototype.setLabel=function(a){this._label=a||null},a.prototype.setLabels=function(a){this._labels=a||null,null===this._labels||null!==this._stepSize||null!==this._min&&0!==this._min||null!==this._max||(this.setStepSize(1),this.setMin(0),this.setMax(a.length-1))},a.prototype.setMax=function(a){this._max="undefined"!=typeof a?a:null},a.prototype.setMin=function(a){this._min="undefined"!=typeof a?a:null},a.prototype.setPosition=function(a){if(a!=this.POS_DEFAULT&&a!=this.POS_BOTTOM&&a!=this.POS_LEFT&&a!=this.POS_RIGHT&&a!=this.POS_TOP)throw new Error("Invalid axis position.");this._position=a},a.prototype.setStepSize=function(a){if("undefined"==typeof a||null===a)a=null;else{if(isNaN(Number(a)))throw new Error("Value for stepSize is not a number.");a=Number(a)}this._stepSize=a},a});
define('core/search-input', ["jquery"],function(a){var b=null,c=function(a){b.hasClass("expanded")?e():d(a)},d=function(c){var d=a(document).width();if("keydown"!==c.type||13===c.keyCode||32===c.keyCode)return d<=767&&("click"===c.type||"keydown"===c.type)?void f():void(d<=767||("keydown"===c.type&&c.preventDefault(),b.addClass("expanded"),b.find("form").addClass("expanded"),b.find("input").focus()))},e=function(){b.removeClass("expanded"),b.find("form").removeClass("expanded")},f=function(){b.find("form").submit()};return{init:function(d){b=a("#"+d),b.on("click mouseover keydown","div",c)}}});
define('core/form-autocomplete', ["jquery","core/log","core/str","core/templates","core/notification"],function(a,b,c,d,e){var f={DOWN:40,ENTER:13,SPACE:32,ESCAPE:27,COMMA:44,UP:38},g=a.now(),h=function(b,c){var d=a(document.getElementById(c.selectionId)),e=d.children("[aria-selected=true]").length;for(b%=e;b<0;)b+=e;var f=a(d.children("[aria-selected=true]").get(b)),g=c.selectionId+"-"+b;d.children().attr("data-active-selection",!1).attr("id",""),f.attr("data-active-selection",!0).attr("id",g),d.attr("aria-activedescendant",g)},i=function(b,c,f){var g=[],i=a(document.getElementById(c.selectionId)),j=i.attr("aria-activedescendant"),k=!1;j&&(k=a(document.getElementById(j)).attr("data-value")),f.children("option").each(function(b,c){a(c).prop("selected")&&g.push({label:a(c).html(),value:a(c).attr("value")})});var l=a.extend({items:g},b,c);d.render("core/form_autocomplete_selection",l).done(function(b){i.empty().append(a(b).html()),k!==!1&&i.children("[aria-selected=true]").each(function(b,d){a(d).attr("data-value")===k&&h(b,c)})}).fail(e.exception)},j=function(a){"undefined"!=typeof M.core_formchangechecker&&M.core_formchangechecker.set_form_changed(),a.change()},k=function(b,c,d,e){var f=a(d).attr("data-value");b.multiple&&e.children("option").each(function(b,c){a(c).attr("value")==f&&(a(c).prop("selected",!1),a(c).attr("data-iscustom")&&a(c).remove())}),i(b,c,e),j(e)},l=function(b,c){var d=a(document.getElementById(c.inputId)),e=a(document.getElementById(c.suggestionsId)),f=e.children("[aria-hidden=false]").length;for(b%=f;b<0;)b+=f;var g=a(e.children("[aria-hidden=false]").get(b)),h=a(e.children("[role=option]")).index(g),i=c.suggestionsId+"-"+h;e.children().attr("aria-selected",!1).attr("id",""),g.attr("aria-selected",!0).attr("id",i),d.attr("aria-activedescendant",i);var j=g.offset().top-e.offset().top+e.scrollTop()-e.height()/2;e.animate({scrollTop:j},100)},m=function(b){var c=a(document.getElementById(b.suggestionsId)),d=c.children("[aria-selected=true]"),e=c.children("[aria-hidden=false]").index(d);l(e+1,b)},n=function(b){var c=a(document.getElementById(b.selectionId)),d=c.children("[data-active-selection=true]");if(!d)return void h(0,b);var e=c.children("[aria-selected=true]").index(d);h(e-1,b)},o=function(b){var c=a(document.getElementById(b.selectionId)),d=c.children("[data-active-selection=true]");if(!d)return void h(0,b);var e=c.children("[aria-selected=true]").index(d);h(e+1,b)},p=function(b){var c=a(document.getElementById(b.suggestionsId)),d=c.children("[aria-selected=true]"),e=c.children("[aria-hidden=false]").index(d);l(e-1,b)},q=function(b){var c=a(document.getElementById(b.inputId)),d=a(document.getElementById(b.suggestionsId));c.attr("aria-expanded",!1).attr("aria-activedescendant",b.selectionId),d.hide().attr("aria-hidden",!0)},r=function(b,f,g,h){var i=a(document.getElementById(f.inputId)),j=a(document.getElementById(f.suggestionsId)),k=!1,m=[];h.children("option").each(function(b,c){a(c).prop("selected")!==!0&&(m[m.length]={label:c.innerHTML,value:a(c).attr("value")})});var n=f.caseSensitive?g:g.toLocaleLowerCase(),o=a.extend({options:m},b,f);d.render("core/form_autocomplete_suggestions",o).done(function(d){j.replaceWith(d),j=a(document.getElementById(f.suggestionsId)),j.show().attr("aria-hidden",!1),j.children().each(function(c,d){d=a(d),b.caseSensitive&&d.text().indexOf(n)>-1||!b.caseSensitive&&d.text().toLocaleLowerCase().indexOf(n)>-1?(d.show().attr("aria-hidden",!1),k=!0):d.hide().attr("aria-hidden",!0)}),i.attr("aria-expanded",!0),k?b.tags||l(0,f):c.get_string("nosuggestions","form").done(function(a){j.html(a)})}).fail(e.exception)},s=function(b,c,d){var e=a(document.getElementById(c.inputId)),f=e.val(),g=f.split(","),h=!1;a.each(g,function(c,e){if(e=e.trim(),""!==e&&(b.multiple||d.children("option").prop("selected",!1),d.children("option").each(function(b,c){a(c).attr("value")==e&&(h=!0,a(c).prop("selected",!0))}),!h)){var f=a("<option>");f.append(e),f.attr("value",e),d.append(f),f.prop("selected",!0),f.attr("data-iscustom",!0)}}),i(b,c,d),j(d),e.val(""),q(c)},t=function(b,c,d){var e=a(document.getElementById(c.inputId)),f=a(document.getElementById(c.suggestionsId)),g=f.children("[aria-selected=true]").attr("data-value");b.multiple||d.children("option").prop("selected",!1),d.children("option").each(function(b,c){a(c).attr("value")==g&&a(c).prop("selected",!0)}),i(b,c,d),j(d),e.val(""),q(c)},u=function(b,c,d,f,g){var h=a(b.currentTarget).val();g.transport(c.selector,h,function(b){var e=g.processResults(c.selector,b),h=[];if(f.children("option").each(function(b,c){c=a(c),c.prop("selected")?h.push(String(c.attr("value"))):c.remove()}),!c.multiple&&0===f.children("option").length){var i=a("<option>");f.append(i)}a.each(e,function(b,c){if(h.indexOf(String(c.value))===-1){var d=a("<option>");d.append(c.label),d.attr("value",c.value),f.append(d)}}),r(c,d,"",f)},e.exception)},v=function(b,c,d){var e=a(document.getElementById(c.inputId));if(e.on("keydown",function(g){switch(g.keyCode){case f.DOWN:return!b.showSuggestions||("true"===e.attr("aria-expanded")?m(c):!e.val()&&b.ajax?require([b.ajax],function(a){u(g,b,c,d,a)}):r(b,c,e.val(),d),g.preventDefault(),!1);case f.UP:return p(c),g.preventDefault(),!1;case f.ENTER:var h=a(document.getElementById(c.suggestionsId));return"true"===e.attr("aria-expanded")&&h.children("[aria-selected=true]").length>0?t(b,c,d):b.tags&&s(b,c,d),g.preventDefault(),!1;case f.ESCAPE:return"true"===e.attr("aria-expanded")&&q(c),g.preventDefault(),!1}return!0}),e.on("keypress",function(a){return a.keyCode!==f.COMMA||(b.tags&&s(b,c,d),a.preventDefault(),!1)}),e.on("behat:set-value",function(){var f=a(document.getElementById(c.suggestionsId));"true"===e.attr("aria-expanded")&&f.children("[aria-selected=true]").length>0?t(b,c,d):b.tags&&s(b,c,d)}),e.on("blur",function(){window.setTimeout(function(){var f=a(document.activeElement);f.attr("id")!=e.attr("id")&&(b.tags&&s(b,c,d),q(c))},500)}),b.showSuggestions){var g=a(document.getElementById(c.downArrowId));g.on("click",function(a){e.focus(),!e.val()&&b.ajax?require([b.ajax],function(e){u(a,b,c,d,e)}):r(b,c,e.val(),d)})}var h=a(document.getElementById(c.suggestionsId));h.parent().on("click","[role=option]",function(e){var f=a(e.currentTarget).closest("[role=option]"),g=a(document.getElementById(c.suggestionsId)),h=g.children("[aria-hidden=false]").index(f);l(h,c),t(b,c,d)});var i=a(document.getElementById(c.selectionId));i.on("click","[role=listitem]",function(e){var f=a(e.currentTarget);k(b,c,f,d)}),i.on("keydown",function(e){switch(e.keyCode){case f.DOWN:return o(c),e.preventDefault(),!1;case f.UP:return n(c),e.preventDefault(),!1;case f.SPACE:case f.ENTER:var g=a(document.getElementById(c.selectionId)).children("[data-active-selection=true]");return g&&(k(b,c,g,d),e.preventDefault()),!1}return!0}),b.showSuggestions&&(b.ajax?require([b.ajax],function(a){var f=null,g=function(e){u(e,b,c,d,a)},h=function(a){null!==f&&(window.clearTimeout(f),f=null),f=window.setTimeout(g.bind(this,a),300)};e.on("input",h)}):e.on("input",function(e){var f=a(e.currentTarget).val(),g=a(e.currentTarget).data("last-value");g!==f&&r(b,c,f,d),a(e.currentTarget).data("last-value",f)}))};return{enhance:function(f,h,j,k,l,m,n){var o={selector:f,tags:!1,ajax:!1,placeholder:k,caseSensitive:!1,showSuggestions:!0,noSelectionString:n};"undefined"!=typeof h&&(o.tags=h),"undefined"!=typeof j&&(o.ajax=j),"undefined"!=typeof l&&(o.caseSensitive=l),"undefined"!=typeof m&&(o.showSuggestions=m),"undefined"==typeof n&&c.get_string("noselection","form").done(function(a){o.noSelectionString=a}).fail(e.exception);var p=a(f);if(!p)return void b.debug("Selector not found: "+f);p.hide().attr("aria-hidden",!0);var q={selectId:p.attr("id"),inputId:"form_autocomplete_input-"+g,suggestionsId:"form_autocomplete_suggestions-"+g,selectionId:"form_autocomplete_selection-"+g,downArrowId:"form_autocomplete_downarrow-"+g};g++,o.multiple=p.attr("multiple");var r=a("[for="+q.selectId+"]"),s=[];p.children("option").each(function(b,c){s[b]={label:c.innerHTML,value:a(c).attr("value")}});var t=a.extend({},o,q);t.options=s,t.items=[];var u=d.render("core/form_autocomplete_input",t),w=d.render("core/form_autocomplete_suggestions",t),x=d.render("core/form_autocomplete_selection",t);a.when(u,w,x).done(function(b,c,d){p.after(c),p.after(b),p.after(d),r.attr("for",q.inputId),v(o,q,p);var e=a(document.getElementById(q.suggestionsId));e.hide().attr("aria-hidden",!0),i(o,q,p)})}}});
define('core/chart_line', ["core/chart_base"],function(a){function b(){a.prototype.constructor.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.TYPE="line",b.prototype._smooth=!1,b.prototype.create=function(b,c){var d=a.prototype.create.apply(this,arguments);return d.setSmooth(c.smooth),d},b.prototype.getSmooth=function(){return this._smooth},b.prototype.setSmooth=function(a){this._smooth=Boolean(a)},b});
define('core/icon_system', ["jquery"],function(a){var b=function(){};return b.prototype.init=function(){return a.when(this)},b.prototype.renderIcon=function(a,b,c,d){throw new Error("Abstract function not implemented.")},b.prototype.getTemplateName=function(){throw new Error("Abstract function not implemented.")},b});
define('core/str', ["jquery","core/ajax","core/localstorage"],function(a,b,c){var d=[];return{get_string:function(a,b,c,d){var e=this.get_strings([{key:a,component:b,param:c,lang:d}]);return e.then(function(a){return a[0]})},get_strings:function(e){var f,g=a.Deferred(),h=[],i=0,j=!1;for(i=0;i<e.length;i++)if(f=e[i],"undefined"==typeof f.lang&&(f.lang=a("html").attr("lang").replace(/-/g,"_")),f.cacheKey="core_str/"+f.key+"/"+f.component+"/"+f.lang,"undefined"==typeof M.str[f.component]||"undefined"==typeof M.str[f.component][f.key]){var k=c.get(f.cacheKey);k?("undefined"==typeof M.str[f.component]&&(M.str[f.component]=[]),M.str[f.component][f.key]=k):j=!0}if(j){var l=[],m=[],n=function(a){this.resolve(a)},o=function(a){this.reject(a)};for(i=0;i<e.length;i++)if(f=e[i],"undefined"!=typeof d[f.cacheKey])m.push(d[f.cacheKey]);else{var p=a.Deferred();l.push({methodname:"core_get_string",args:{stringid:f.key,component:f.component,lang:f.lang,stringparams:[]},done:n.bind(p),fail:o.bind(p)}),d[f.cacheKey]=p.promise(),m.push(d[f.cacheKey])}l.length>0&&b.call(l,!0,!1),a.when.apply(null,m).done(function(){var a=0;for(a=0;a<arguments.length;a++)f=e[a],"undefined"==typeof M.str[f.component]&&(M.str[f.component]=[]),M.str[f.component][f.key]=arguments[a],c.set("core_str/"+f.key+"/"+f.component+"/"+f.lang,arguments[a]),h[a]=M.util.get_string(f.key,f.component,f.param).trim();g.resolve(h)}).fail(function(a){g.reject(a)})}else{for(i=0;i<e.length;i++)f=e[i],h[i]=M.util.get_string(f.key,f.component,f.param);g.resolve(h)}return g.promise()}}});
define('core/ajax', ["jquery","core/config","core/log"],function(a,b,c){var d=!1,e=function(a){var b,c,d=this,e=null,f=0;if(a.error)for(;f<d.length;f++)b=d[f],b.deferred.reject(a);else{for(f=0;f<d.length;f++){if(b=d[f],c=a[f],"undefined"==typeof c){e=new Error("missing response");break}if(c.error!==!1){e=c.exception;break}b.deferred.resolve(c.data)}if(null!==e)for(;f<d.length;f++)b=d[f],b.deferred.reject(e)}},f=function(a,b,e){var f=this,g=0;for(g=0;g<f.length;g++){var h=f[g];d?(c.error("Page unloaded."),c.error(e)):h.deferred.reject(e)}};return{call:function(c,g,h){a(window).bind("beforeunload",function(){d=!0});var i,j=[],k=[],l=[],m="";for("undefined"==typeof h&&(h=!0),"undefined"==typeof g&&(g=!0),i=0;i<c.length;i++){var n=c[i];j.push({index:i,methodname:n.methodname,args:n.args}),n.deferred=a.Deferred(),k.push(n.deferred.promise()),"undefined"!=typeof n.done&&n.deferred.done(n.done),"undefined"!=typeof n.fail&&n.deferred.fail(n.fail),n.index=i,l.push(n.methodname)}m=l.length<=5?l.sort().join():l.length+"-method-calls",j=JSON.stringify(j);var o={type:"POST",data:j,context:c,dataType:"json",processData:!1,async:g,contentType:"application/json"},p="service.php";h||(p="service-nologin.php");var q=b.wwwroot+"/lib/ajax/"+p+"?sesskey="+b.sesskey+"&info="+m;return g?a.ajax(q,o).done(e).fail(f):(o.success=e,o.error=f,a.ajax(q,o)),k}}});
define('core/key_codes', function(){return{tab:9,enter:13,escape:27,space:32,end:35,home:36,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40,8:56,asterix:106,pageUp:33,pageDown:34}});
define('core_course/actions', ["jquery","core/ajax","core/templates","core/notification","core/str","core/url","core/yui","core/modal_factory","core/modal_events","core/key_codes"],function(a,b,c,d,e,f,g,h,i,j){var k={EDITINPROGRESS:"editinprogress",SECTIONDRAGGABLE:"sectiondraggable",EDITINGMOVE:"editing_move"},l={ACTIVITYLI:"li.activity",ACTIONAREA:".actions",ACTIVITYACTION:"a.cm-edit-action",MENU:".moodle-actionmenu[data-enhance=moodle-core-actionmenu]",TOGGLE:".toggle-display,.dropdown-toggle",SECTIONLI:"li.section",SECTIONACTIONMENU:".section_action_menu",ADDSECTIONS:"#changenumsections [data-add-sections]"};g.use("moodle-course-coursebase",function(){var a=M.course.format.get_section_selector();a&&(l.SECTIONLI=a)});var m=function(a){var b;return g.use("moodle-course-util",function(c){b=c.Moodle.core_course.util.cm.getId(c.Node(a.get(0)))}),b},n=function(a){var b;return g.use("moodle-course-util",function(c){b=c.Moodle.core_course.util.cm.getName(c.Node(a.get(0)))}),b},o=function(a){a.addClass(k.EDITINPROGRESS);var b=a.find(l.ACTIONAREA).get(0);if(b){var c=M.util.add_spinner(g,g.Node(b));return c.show(),c}return null},p=function(a){a.addClass(k.EDITINPROGRESS);var b=a.find(l.SECTIONACTIONMENU).get(0);if(b){var c=M.util.add_spinner(g,g.Node(b));return c.show(),c}return null},q=function(a){var b=M.util.add_lightbox(g,g.Node(a.get(0)));return b.show(),b},r=function(a,b,c){window.setTimeout(function(){a.removeClass(k.EDITINPROGRESS),b&&b.hide()},c)},s=function(a,b){a&&window.setTimeout(function(){a.hide()},b)},t=function(a,b){if(g.use("moodle-course-coursebase",function(){M.course.coursebase.invoke_function("setup_for_resource","#"+a)}),M.core.actionmenu&&M.core.actionmenu.newDOMNode&&M.core.actionmenu.newDOMNode(g.one("#"+a)),b){var c=g.one("#"+a+" "+l.MENU).one(l.TOGGLE);c&&c.simulate&&c.simulate("click")}},u=function(b,c){var d=a("#"+b),e="[data-action="+c+"]";"groupsseparate"!==c&&"groupsvisible"!==c&&"groupsnone"!==c||(e="[data-action=groupsseparate],[data-action=groupsvisible],[data-action=groupsnone]"),d.find(e).is(":visible")?d.find(e).focus():d.find(l.MENU).find(l.TOGGLE).focus()},v=function(b){var c=a("a:visible"),d=!1,e=null;return c.each(function(){if(a.contains(b[0],this))d=!0;else if(d)return e=this,!1}),e},w=function(c,e,f){var g,h=f.attr("data-keepopen"),i=f.attr("data-action"),j=o(c),k=b.call([{methodname:"core_course_edit_module",args:{id:e,action:i,sectionreturn:f.attr("data-sectionreturn")?f.attr("data-sectionreturn"):0}}],!0);"duplicate"===i&&(g=q(f.closest(l.SECTIONLI))),a.when.apply(a,k).done(function(b){var d=v(c);c.replaceWith(b),a("<div>"+b+"</div>").find(l.ACTIVITYLI).each(function(b){t(a(this).attr("id"),h),0===b&&(u(a(this).attr("id"),i),d=null)}),d&&d.focus(),r(c,j,400),s(g,400),c.trigger(a.Event("coursemoduleedited",{ajaxreturn:b,action:i}))}).fail(function(b){r(c,j),s(g);var e=a.Event("coursemoduleeditfailed",{exception:b,action:i});c.trigger(e),e.isDefaultPrevented()||d.exception(b)})},x=function(c,d,e){var f=o(c),g=b.call([{methodname:"core_course_get_module",args:{id:d,sectionreturn:e}}],!0);a.when.apply(a,g).done(function(a){r(c,f,400),C(a)}).fail(function(){r(c,f)})},y=function(a,b){var c=a.attr("class").match(/modtype_([^\s]*)/)[1],f=n(a);e.get_string("pluginname",c).done(function(a){var c={type:a,name:f};e.get_strings([{key:"confirm"},{key:null===f?"deletechecktype":"deletechecktypename",param:c},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],b)})})},z=function(a,b){e.get_strings([{key:"confirm"},{key:"yes"},{key:"no"}]).done(function(c){d.confirm(c[0],a,c[1],c[2],b)})},A=function(a,b,d,f,g,h,i){e.get_string(d,f).done(function(b){a.find("span.menu-action-text").html(b),a.attr("title",b)}),g?e.get_string(g,h).then(function(d){c.renderPix(b,"core",d).then(function(b){a.find(".icon").replaceWith(b)}),a.attr("title",d)}):c.renderPix(b,"core","").then(function(b){a.find(".icon").replaceWith(b)}),a.attr("data-action",i)},B=function(b,c,d,e){var f=c.attr("data-action");if("hide"===f||"show"===f){if("hide"===f?(b.addClass("hidden"),A(c,"i/show","showfromothers","format_"+e,null,null,"show")):(b.removeClass("hidden"),A(c,"i/hide","hidefromothers","format_"+e,null,null,"hide")),void 0!==d.modules)for(var g in d.modules)C(d.modules[g]);void 0!==d.section_availability&&b.find(".section_availability").first().replaceWith(d.section_availability)}else if("setmarker"===f){var h=a(l.SECTIONLI+".current"),i=h.find(l.SECTIONACTIONMENU+" a[data-action=removemarker]");h.removeClass("current"),A(i,"i/marker","highlight","core","markthistopic","core","setmarker"),b.addClass("current"),A(c,"i/marked","highlightoff","core","markedthistopic","core","removemarker")}else"removemarker"===f&&(b.removeClass("current"),A(c,"i/marker","highlight","core","markthistopic","core","setmarker"))},C=function(b){a("<div>"+b+"</div>").find(l.ACTIVITYLI).each(function(){var c=a(this).attr("id");a(l.ACTIVITYLI+"#"+c).replaceWith(b),t(c,!1)})},D=function(c,e,f,g){var h=f.attr("data-action"),i=f.attr("data-sectionreturn")?f.attr("data-sectionreturn"):0,j=p(c),k=b.call([{methodname:"core_course_edit_section",args:{id:e,action:h,sectionreturn:i}}],!0),m=q(c);a.when.apply(a,k).done(function(b){var d=a.parseJSON(b);r(c,j),s(m),c.find(l.SECTIONACTIONMENU).find(l.TOGGLE).focus();var e=a.Event("coursesectionedited",{ajaxreturn:d,action:h});c.trigger(e),e.isDefaultPrevented()||B(c,f,d,g)}).fail(function(b){r(c,j),s(m);var e=a.Event("coursesectioneditfailed",{exception:b,action:h});c.trigger(e),e.isDefaultPrevented()||d.exception(b)})};return g.use("moodle-course-coursebase",function(){M.course.coursebase.register_module({set_visibility_resource_ui:function(b){var c=a(b.element.getDOMNode()),d=m(c);if(d){var e=c.find("."+k.EDITINGMOVE).attr("data-sectionreturn");x(c,d,e)}}})}),{initCoursePage:function(b){a("body").on("click keypress",l.ACTIVITYLI+" "+l.ACTIVITYACTION+"[data-action]",function(b){if("keypress"!==b.type||13===b.keyCode){var c=a(this),d=c.closest(l.ACTIVITYLI),e=c.attr("data-action"),f=m(d);switch(e){case"moveleft":case"moveright":case"delete":case"duplicate":case"hide":case"stealth":case"show":case"groupsseparate":case"groupsvisible":case"groupsnone":break;default:return}f&&(b.preventDefault(),"delete"===e?y(d,function(){w(d,f,c)}):w(d,f,c))}}),a("body").on("click keypress",l.SECTIONLI+" "+l.SECTIONACTIONMENU+"[data-sectionid] a[data-action]",function(c){if("keypress"!==c.type||13===c.keyCode){var d=a(this),e=d.closest(l.SECTIONLI),f=d.closest(l.SECTIONACTIONMENU).attr("data-sectionid");c.preventDefault(),d.attr("data-confirm")?z(d.attr("data-confirm"),function(){D(e,f,d,b)}):D(e,f,d,b)}}),e.get_string("numberweeks").done(function(b){var c=a(l.ADDSECTIONS),d=c.attr("data-add-sections"),e=a('<div><label for="add_section_numsections"></label> <input id="add_section_numsections" type="number" min="1" value="1"></div>');e.find("label").html(b),h.create({title:d,type:h.types.SAVE_CANCEL,body:e.html()},c).done(function(b){var e=a(b.getBody()).find("#add_section_numsections"),f=function(){""+parseInt(e.val())===e.val()&&parseInt(e.val())>=1&&(document.location=c.attr("href")+"&numsections="+parseInt(e.val()))};b.setSaveButtonText(d),b.getRoot().on(i.shown,function(){e.focus().select().on("keydown",function(a){a.keyCode===j.enter&&f()})}),b.getRoot().on(i.save,function(a){a.preventDefault(),f()})})})},replaceSectionActionItem:function(a,b,c,d,e,f,g,h){var i=a.find(l.SECTIONACTIONMENU+" "+b);A(i,c,d,e,f,g,h)}}});
define('core_form/defaultcustom', ["jquery"],function(a){var b=function(b){var c=a(b.target),d=JSON.parse(c.attr("data-defaultvalue")),e=JSON.parse(c.attr("data-customvalue")),f=c.attr("data-type"),g=c.closest("form"),h=c.attr("name").replace(/\[customize\]$/,"[value]"),i=c.prop("checked")?e:d;"text"===f?g.find('[name="'+h+'"]').val(i):"date_selector"===f&&(g.find('[name="'+h+'[day]"]').val(i.day),g.find('[name="'+h+'[month]"]').val(i.month),g.find('[name="'+h+'[year]"]').val(i.year))},c="input[data-defaultcustom=true]";a("body").on("change",c,b)});
define('core_form/passwordunmask', ["jquery","core/templates"],function(a,b){var c=function(b){this.wrapperSelector='[data-passwordunmask="wrapper"][data-passwordunmaskid="'+b+'"]',this.wrapper=a(this.wrapperSelector),this.editorSpace=this.wrapper.find('[data-passwordunmask="editor"]'),this.editLink=this.wrapper.find('a[data-passwordunmask="edit"]'),this.editInstructions=this.wrapper.find('[data-passwordunmask="instructions"]'),this.displayValue=this.wrapper.find('[data-passwordunmask="displayvalue"]'),this.inputFieldLabel=a('label[for="'+b+'"]'),this.inputField=this.editorSpace.find(document.getElementById(b)),this.inputField.attr("type","hidden"),this.inputField.removeClass("hiddenifjs"),this.editInstructions.attr("id")||this.editInstructions.attr("id",b+"_instructions"),this.editInstructions.hide(),this.setDisplayValue(),this.addListeners()};return c.prototype.addListeners=function(){return this.wrapper.on("click keypress",'[data-passwordunmask="edit"]',a.proxy(function(b){"keypress"===b.type&&13!==b.keyCode||(b.stopImmediatePropagation(),b.preventDefault(),"hidden"!==this.inputField.attr("type")?"click"===b.type||a(b.relatedTarget).is(":input")?this.turnEditingOff(!1):this.turnEditingOff(!0):this.turnEditingOn())},this)),this.wrapper.on("click keypress",'[data-passwordunmask="unmask"]',a.proxy(function(a){"keypress"===a.type&&13!==a.keyCode||(a.stopImmediatePropagation(),a.preventDefault(),this.wrapper.data("unmasked",!this.wrapper.data("unmasked")),this.setDisplayValue())},this)),this.wrapper.on("keydown","input",a.proxy(function(a){"keydown"===a.type&&13!==a.keyCode||(a.stopImmediatePropagation(),a.preventDefault(),this.turnEditingOff(!0))},this)),this.inputFieldLabel.on("click",a.proxy(function(a){a.preventDefault(),this.turnEditingOn()},this)),this},c.prototype.checkFocusOut=function(b){this.isEditing()&&window.setTimeout(a.proxy(function(){var c=b.relatedTarget||document.activeElement;this.wrapper.has(a(c)).length||this.turnEditingOff(!a(c).is(":input,a"))},this),100)},c.prototype.passwordVisible=function(){return!!this.wrapper.data("unmasked")},c.prototype.isEditing=function(){return"hidden"!==this.inputField.attr("type")},c.prototype.turnEditingOn=function(){var b=this.getDisplayValue();return this.passwordVisible()?this.inputField.attr("type","text"):this.inputField.attr("type","password"),this.inputField.val(b),this.inputField.attr("size",this.inputField.attr("data-size")),this.editInstructions.length&&(this.inputField.attr("aria-describedby",this.editInstructions.attr("id")),this.editInstructions.show()),this.wrapper.attr("data-passwordunmask-visible",1),this.editLink.hide(),this.inputField.focus().select(),a("body").on("focusout",this.wrapperSelector,a.proxy(this.checkFocusOut,this)),this},c.prototype.turnEditingOff=function(b){a("body").off("focusout",this.wrapperSelector,this.checkFocusOut);var c=this.getDisplayValue();return this.inputField.attr("type","hidden").attr("aria-describedby",null),this.inputField.val(c),this.editInstructions.hide(),this.wrapper.removeAttr("data-passwordunmask-visible"),this.inputField.removeAttr("size"),this.editLink.show(),this.setDisplayValue(),b&&this.editLink.focus(),this},c.prototype.getDisplayValue=function(){return this.inputField.val()},c.prototype.setDisplayValue=function(){var c=this.getDisplayValue();return this.isEditing()&&(this.wrapper.data("unmasked")?this.inputField.attr("type","text"):this.inputField.attr("type","password"),this.inputField.val(c)),c&&this.wrapper.data("unmasked")?this.displayValue.text(c):(c||(c=""),b.render("core_form/element-passwordunmask-fill",{element:{frozen:this.inputField.is("[readonly]"),value:c,valuechars:c.split("")}}).done(a.proxy(function(a,c){this.displayValue.html(a),b.runTemplateJS(c)},this))),this},c});
define('core_grades/edittree_index', ["jquery"],function(a){var b=function(){a("body").on("change",".itemselect.ignoredirty",b.checkMoveMenuState),a("body").on("click",'[data-action="grade_edittree-index-bulkselect"]',b.toggleAllSelectItems),a("body").on("change",".weightoverride",b.toggleWeightInput),a("#menumoveafter").on("change",function(){var b=a(this).closest("form"),c=b.find("#bulkmoveinput");c.val(1),b.submit()}),b.checkMoveMenuState()};return b.toggleWeightInput=function(b){b.preventDefault();var c=a(this),d=c.closest("tr");a('input[name="weight_'+d.data("itemid")+'"]').prop("disabled",!c.prop("checked"))},b.toggleAllSelectItems=function(c){c.preventDefault();var d=a(this),e=d.closest("tr");a("."+e.data("category")+" .itemselect").prop("checked",d.data("checked")),b.checkMoveMenuState()},b.getMoveMenu=function(){return a("#menumoveafter")},b.checkMoveMenuState=function(){var c=b.getMoveMenu();if(!c.length)return!1;var d;return a(".itemselect").each(function(){return d=a(this).prop("checked"),!d}),c.prop("disabled",!d),d},{enhance:b}});
define('core_message/message_repository', ["jquery","core/ajax","core/notification"],function(a,b,c){var d=function(a){"undefined"==typeof a.limit&&(a.limit=0),"undefined"==typeof a.offset&&(a.offset=0),a.limitfrom=a.offset,a.limitnum=a.limit,delete a.limit,delete a.offset;var d={methodname:"core_message_data_for_messagearea_conversations",args:a},e=b.call([d])[0];return e.fail(c.exception),e},e=function(a){var d={methodname:"core_message_get_unread_conversations_count",args:a},e=b.call([d])[0];return e.fail(c.exception),e},f=function(a){var d={methodname:"core_message_mark_all_messages_as_read",args:a},e=b.call([d])[0];return e.fail(c.exception),e};return{query:d,countUnreadConversations:e,markAllAsRead:f}});
define('core_message/toggle_contact_button', ["jquery","core/ajax","core/templates","core/notification","core/custom_interaction_events"],function(a,b,c,d,e){var f=function(a){return"1"==a.attr("data-is-contact")},g=function(a){a.attr("data-is-contact","1")},h=function(a){a.attr("data-is-contact","0")},i=function(a){return a.attr("data-userid")},j=function(a){return a.hasClass("loading")||a.attr("disabled")},k=function(c,e){return j(c)?a.Deferred():(c.addClass("loading"),c.attr("disabled","disabled"),b.call([e])[0].fail(d.exception).always(function(){c.removeClass("loading"),c.removeAttr("disabled")}))},l=function(a){if(!j(a)){var b={methodname:"core_message_create_contacts",args:{userids:[i(a)]}};k(a,b).done(function(){g(a),c.render("message/remove_contact_button",{}).done(function(b,d){c.replaceNodeContents(a,b,d)})})}},m=function(a){if(!j(a)){var b={methodname:"core_message_delete_contacts",args:{userids:[i(a)]}};k(a,b).done(function(){h(a),c.render("message/add_contact_button",{}).done(function(b,d){c.replaceNodeContents(a,b,d)})})}},n=function(b){b=a(b),b.children(".loading-icon").length||c.render("core/loading",{}).done(function(a,c){b.append(a,c)}),e.define(b,[e.events.activate]),b.on(e.events.activate,function(a,c){f(b)?m(b):l(b),a.preventDefault(),c.originalEvent.preventDefault()})};return{enhance:n}});
define('core_message/notification_processor_settings', ["jquery","core/ajax","core/notification","core/fragment","core/templates","core/str","tool_lp/dialogue"],function(a,b,c,d,e,f,g){var h={PROCESSOR:"[data-processor-name]",PREFERENCE_ROW:'[data-region="preference-row"]'},i=function(b){this.root=a(b),this.name=this.root.attr("data-name"),this.userId=this.root.attr("data-user-id"),this.contextId=this.root.attr("data-context-id")};return i.prototype.show=function(){d.loadFragment("message","processor_settings",this.contextId,{userid:this.userId,type:this.name}).done(function(b,c){f.get_string("processorsettings","message").done(function(d){var f=new g(d,b,function(){e.runTemplateJS(c)},function(){f.close()});a(document).on("mpp:formsubmitted",function(){f.close(),this.updateConfiguredStatus()}.bind(this)),a(document).on("mpp:formcancelled",function(){f.close()})}.bind(this))}.bind(this))},i.prototype.updateConfiguredStatus=function(){var d=this.root.closest(h.PROCESSOR);if(!d.hasClass("unconfigured"))return!1;var e=d.attr("data-processor-name"),f={methodname:"core_message_get_message_processor",args:{name:e,userid:this.userId}};return b.call([f])[0].fail(c.exception).done(function(b){if(b.userconfigured){var c=a(h.PREFERENCE_ROW+' [data-processor-name="'+e+'"]');d.removeClass("unconfigured"),c.removeClass("disabled")}})},i});
define('core_message/notification_preference', ["jquery","core/ajax","core/notification","core_message/notification_processor"],function(a,b,c,d){var e={PROCESSOR:"[data-processor-name]",STATE_INPUTS:"[data-state] input"},f=function(b,c){this.root=a(b),this.userId=c};return f.prototype.getPreferenceKey=function(){return this.root.attr("data-preference-key")},f.prototype.getLoggedInPreferenceKey=function(){return this.getPreferenceKey()+"_loggedin"},f.prototype.getLoggedOffPreferenceKey=function(){return this.getPreferenceKey()+"_loggedoff"},f.prototype.getProcessors=function(){return this.root.find(e.PROCESSOR).map(function(b,c){return new d(a(c))})},f.prototype.startLoading=function(){this.root.addClass("loading"),this.root.find(e.STATE_INPUTS).prop("disabled",!0)},f.prototype.stopLoading=function(){this.root.removeClass("loading"),this.root.find(e.STATE_INPUTS).prop("disabled",!1)},f.prototype.isLoading=function(){return this.root.hasClass("loading")},f.prototype.save=function(){if(this.isLoading())return a.Deferred().resolve();this.startLoading();var d="",e="";this.getProcessors().each(function(a,b){b.isLoggedInEnabled()&&(""===d?d=b.getName():d+=","+b.getName()),b.isLoggedOffEnabled()&&(""===e?e=b.getName():e+=","+b.getName())}),""===d&&(d="none"),""===e&&(e="none");var f={userid:this.userId,preferences:[{type:this.getLoggedInPreferenceKey(),value:d},{type:this.getLoggedOffPreferenceKey(),value:e}]},g={methodname:"core_user_update_user_preferences",args:f};return b.call([g])[0].fail(c.exception).always(function(){this.stopLoading()}.bind(this))},f});
define('core_message/message_preferences', ["jquery","core/ajax","core/notification","core_message/message_notification_preference","core/custom_interaction_events"],function(a,b,c,d,e){var f={PREFERENCE:"[data-state]",PREFERENCES_CONTAINER:'[data-region="preferences-container"]',BLOCK_NON_CONTACTS:'[data-region="block-non-contacts-container"] [data-block-non-contacts]',BLOCK_NON_CONTACTS_CONTAINER:'[data-region="block-non-contacts-container"]'},g=function(b){this.root=a(b),this.registerEventListeners()};return g.prototype.preferencesDisabled=function(){return this.root.find(f.PREFERENCES_CONTAINER).hasClass("disabled")},g.prototype.saveBlockNonContactsStatus=function(){var d=this.root.find(f.BLOCK_NON_CONTACTS),e=this.root.find(f.BLOCK_NON_CONTACTS_CONTAINER),g=d.prop("checked");if(e.hasClass("loading"))return a.Deferred().resolve();e.addClass("loading");var h={methodname:"core_user_update_user_preferences",args:{preferences:[{type:d.attr("data-preference-key"),value:g?1:0}]}};return b.call([h])[0].fail(c.exception).always(function(){e.removeClass("loading")})},g.prototype.registerEventListeners=function(){e.define(this.root,[e.events.activate]),this.root.on(e.events.activate,f.BLOCK_NON_CONTACTS,function(){this.saveBlockNonContactsStatus()}.bind(this)),this.root.on("change",function(b){if(!this.preferencesDisabled()){var c=a(b.target).closest(f.PREFERENCES_CONTAINER),e=a(b.target).closest(f.PREFERENCE),g=new d(c);e.addClass("loading"),g.save().always(function(){e.removeClass("loading")})}}.bind(this))},g});
define('core_message/message_area', ["jquery","core_message/message_area_contacts","core_message/message_area_messages","core_message/message_area_profile","core_message/message_area_tabs","core_message/message_area_search"],function(a,b,c,d,e,f){function g(b,c,d,e){this.node=a(b),this.pollmin=c,this.pollmax=d,this.polltimeout=e,this._init()}return g.prototype.node=null,g.prototype.pollmin=null,g.prototype.pollmax=null,g.prototype.polltimeout=null,g.prototype._init=function(){new b(this),new c(this),new d(this),new e(this),new f(this)},g.prototype.onDelegateEvent=function(a,b,c){this.node.on(a,b,c)},g.prototype.onCustomEvent=function(a,b){this.node.on(a,b)},g.prototype.trigger=function(a,b){"undefined"==typeof b&&(b=""),this.node.trigger(a,b)},g.prototype.find=function(a){return this.node.find(a)},g.prototype.getCurrentUserId=function(){return this.node.data("userid")},g.prototype.showContactsFirst=function(){return!!this.node.data("displaycontacts")},g});
define('core_message/message_area_events', [],function(){return{CANCELDELETEMESSAGES:"cancel-delete-messages",CHOOSEMESSAGESTODELETE:"choose-messages-to-delete",CONTACTADDED:"contact-added",CONTACTBLOCKED:"contact-blocked",CONTACTREMOVED:"contact-removed",CONTACTSELECTED:"contact-selected",CONTACTSSELECTED:"contacts-selected",CONTACTUNBLOCKED:"contact-unblocked",CONVERSATIONDELETED:"conversation-deleted",CONVERSATIONSELECTED:"conversation-selected",CONVERSATIONSSELECTED:"conversations-selected",MESSAGESDELETED:"messages-deleted",MESSAGESEARCHCANCELED:"message-search-canceled",MESSAGESENT:"message-sent",SENDMESSAGE:"message-send",USERSSEARCHCANCELED:"users-search-canceled"}});
define('core_message/preferences_notifications_list_controller', ["jquery","core/ajax","core/notification","core/custom_interaction_events","core_message/notification_preference","core_message/notification_processor_settings"],function(a,b,c,d,e,f){var g={DISABLE_NOTIFICATIONS:'[data-region="disable-notification-container"] [data-disable-notifications]',DISABLE_NOTIFICATIONS_CONTAINER:'[data-region="disable-notification-container"]',PREFERENCE:"[data-state]",PREFERENCE_ROW:'[data-region="preference-row"]',PREFERENCE_INPUT:"[data-state] input",PROCESSOR_SETTING:"[data-processor-setting]"},h=function(b){this.root=a(b),this.userId=this.root.attr("data-user-id"),this.registerEventListeners()};return h.prototype.isDisabled=function(){return this.root.hasClass("disabled")},h.prototype.setDisabled=function(){this.root.addClass("disabled"),this.root.find(g.PREFERENCE_INPUT).prop("disabled",!0)},h.prototype.setEnabled=function(){this.root.removeClass("disabled"),this.root.find(g.PREFERENCE_INPUT).prop("disabled",!1)},h.prototype.toggleDisableAllStatus=function(){var d=a(g.DISABLE_NOTIFICATIONS),e=a(g.DISABLE_NOTIFICATIONS_CONTAINER),f=d.prop("checked");if(e.hasClass("loading"))return a.Deferred().resolve();e.addClass("loading");var h={methodname:"core_user_update_user_preferences",args:{userid:this.userId,emailstop:f?1:0}};return b.call([h])[0].done(function(){f?this.setDisabled():this.setEnabled()}.bind(this)).always(function(){e.removeClass("loading")}).fail(c.exception)},h.prototype.registerEventListeners=function(){var b=a(g.DISABLE_NOTIFICATIONS);d.define(this.root,[d.events.activate]),this.root.on("change",function(b){if(!this.isDisabled()){var c=a(b.target).closest(g.PREFERENCE),d=a(b.target).closest(g.PREFERENCE_ROW),f=new e(d,this.userId);c.addClass("loading"),f.save().always(function(){c.removeClass("loading")})}}.bind(this)),this.root.on(d.events.activate,g.PROCESSOR_SETTING,function(b,c){var d=a(b.target).closest(g.PROCESSOR_SETTING),e=new f(d);e.show(),c.originalEvent.preventDefault()}),d.define(b,[d.events.activate]),b.on(d.events.activate,function(){this.toggleDisableAllStatus()}.bind(this))},h});
define('core_message/message_area_profile', ["jquery","core/ajax","core/templates","core/notification","core/str","core/config","core/custom_interaction_events","core_message/message_area_events"],function(a,b,c,d,e,f,g,h){function i(a){this.messageArea=a,this._init()}var j={PROFILE:"[data-region='profile']",PROFILEADDCONTACT:"[data-action='profile-add-contact']",PROFILEBLOCKCONTACT:"[data-action='profile-block-contact']",PROFILEREMOVECONTACT:"[data-action='profile-remove-contact']",PROFILESENDMESSAGE:"[data-action='profile-send-message']",PROFILEUNBLOCKCONTACT:"[data-action='profile-unblock-contact']",PROFILEVIEW:"[data-action='profile-view']",SHOWCONTACTS:"[data-action='show-contacts']",MESSAGESAREA:"[data-region='messages-area']",MESSAGINGAREA:"[data-region='messaging-area']"};return i.prototype.messageArea=null,i.prototype._init=function(){g.define(this.messageArea.node,[g.events.activate]),this.messageArea.onCustomEvent(h.CONTACTSELECTED,this._viewProfile.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEVIEW,function(a,b){this._viewFullProfile(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILESENDMESSAGE,function(a,b){this._sendMessage(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEUNBLOCKCONTACT,function(a,b){this._unblockContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEBLOCKCONTACT,function(a,b){this._blockContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEADDCONTACT,function(a,b){this._addContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEREMOVECONTACT,function(a,b){this._removeContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.SHOWCONTACTS,this._hideMessagingArea.bind(this))},i.prototype._viewProfile=function(a,e){c.render("core/loading",{}).done(function(a,b){c.replaceNodeContents(this.messageArea.find(j.MESSAGESAREA),a,b)}.bind(this));var f=b.call([{methodname:"core_message_data_for_messagearea_get_profile",args:{currentuserid:this.messageArea.getCurrentUserId(),otheruserid:e}}]);return f[0].then(function(a){return c.render("core_message/message_area_profile",a)}).then(function(a,b){c.replaceNodeContents(this.messageArea.find(j.MESSAGESAREA),a,b)}.bind(this)).fail(d.exception)},i.prototype._viewFullProfile=function(){window.location.href=f.wwwroot+"/user/profile.php?id="+this._getUserId()},i.prototype._sendMessage=function(){this.messageArea.trigger(h.SENDMESSAGE,this._getUserId())},i.prototype._blockContact=function(){var a=this._performAction("core_message_block_contacts","unblockcontact","profile-block-contact","profile-unblock-contact","");return a.then(function(){this.messageArea.trigger(h.CONTACTBLOCKED,this._getUserId())}.bind(this))},i.prototype._unblockContact=function(){var a=this._performAction("core_message_unblock_contacts","blockcontact","profile-unblock-contact","profile-block-contact","danger");return a.then(function(){this.messageArea.trigger(h.CONTACTUNBLOCKED,this._getUserId())}.bind(this))},i.prototype._addContact=function(){var a=this._performAction("core_message_create_contacts","removecontact","profile-add-contact","profile-remove-contact","danger");return a.then(function(){this.messageArea.trigger(h.CONTACTADDED,this._getUserId())}.bind(this))},i.prototype._removeContact=function(){var a=this._performAction("core_message_delete_contacts","addcontact","profile-remove-contact","profile-add-contact","");return a.then(function(){this.messageArea.trigger(h.CONTACTREMOVED,this._getUserId())}.bind(this))},i.prototype._performAction=function(a,c,f,g,h){var i=b.call([{methodname:a,args:{userid:this.messageArea.getCurrentUserId(),userids:[this._getUserId()]}}]);return i[0].then(function(){return e.get_string(c,"message")}).then(function(a){this._changeText(a,f,g,h)}.bind(this)).fail(d.exception)},i.prototype._changeText=function(a,b,c,d){var e=this.messageArea.find("[data-action='"+b+"']");e.text(a),e.removeClass(),d&&e.addClass(d),e.attr("data-action",c)},i.prototype._getUserId=function(){return this.messageArea.find(j.PROFILE).data("userid")},i.prototype._hideMessagingArea=function(){this.messageArea.find(j.MESSAGINGAREA).removeClass("show-messages").addClass("hide-messages")},i});
define('core_message/preferences_processor_form', ["jquery","core/ajax","core/notification","core/custom_interaction_events"],function(a,b,c,d){var e=function(b){this.root=a(b),this.userId=this.root.attr("data-user-id"),this.name=this.root.attr("data-processor-name"),this.root.find("form").on("submit",function(b){b.preventDefault(),this.save().done(function(){a(document).trigger("mpp:formsubmitted")})}.bind(this));var c=this.root.find("[data-cancel-button]");d.define(c,[d.events.activate]),c.on(d.events.activate,function(){a(document).trigger("mpp:formcancelled")})};return e.prototype.startLoading=function(){this.root.addClass("loading")},e.prototype.stopLoading=function(){this.root.removeClass("loading")},e.prototype.isLoading=function(){return this.root.hasClass("loading")},e.prototype.save=function(){if(this.isLoading())return a.Deferred();this.startLoading();var d=this.root.find("form").serializeArray(),e={methodname:"core_message_message_processor_config_form",args:{userid:this.userId,name:this.name,formvalues:d}};return b.call([e])[0].fail(c.exception).always(function(){this.stopLoading()}.bind(this))},e});
define('core_message/notification_processor', ["jquery"],function(a){var b={STATE_NONE:'[data-state="none"]',STATE_BOTH:'[data-state="both"]',STATE_LOGGED_IN:'[data-state="loggedin"]',STATE_LOGGED_OFF:'[data-state="loggedoff"]'},c=function(b){this.root=a(b)};return c.prototype.getName=function(){return this.root.attr("data-processor-name")},c.prototype.isLoggedInEnabled=function(){var a=this.root.find(b.STATE_NONE).find("input");if(a.prop("checked"))return!1;var c=this.root.find(b.STATE_BOTH).find("input"),d=this.root.find(b.STATE_LOGGED_IN).find("input");return d.prop("checked")||c.prop("checked")},c.prototype.isLoggedOffEnabled=function(){var a=this.root.find(b.STATE_NONE).find("input");if(a.prop("checked"))return!1;var c=this.root.find(b.STATE_BOTH).find("input"),d=this.root.find(b.STATE_LOGGED_OFF).find("input");return d.prop("checked")||c.prop("checked")},c});
define('core_message/message_area_actions', ["core_message/message_area_events"],function(a){function b(a){this.messageArea=a}var c={MESSAGES:"[data-region='messages']"};return b.prototype.messageArea=null,b.prototype.chooseMessagesToDelete=function(){0!==this.messageArea.find(c.MESSAGES).length&&this.messageArea.trigger(a.CHOOSEMESSAGESTODELETE)},b});
define('core_message/message_area_contacts', ["jquery","core/ajax","core/templates","core/notification","core/custom_interaction_events","core/str","core_message/message_area_events"],function(a,b,c,d,e,f,g){function h(a){this.messageArea=a,this._init()}var i={CONTACT:"[data-region='contact']",CONTACTICONBLOCKED:"[data-region='contact-icon-blocked']",CONTACTS:"[data-region='contacts'][data-region-content='contacts']",CONTACTSAREA:"[data-region='contacts-area']",CONVERSATIONS:"[data-region='contacts'][data-region-content='conversations']",COURSE:"[data-region='course']",LASTMESSAGETEXT:"[data-region='last-message-text']",LASTMESSAGEUSER:"[data-region='last-message-user']",LOADINGICON:".loading-icon",MESSAGETEXT:"[data-region='message-text']",MESSAGINGAREA:"[data-region='messaging-area']",NOCONTACTS:"[data-region=no-contacts]",SEARCHBOX:"[data-region='search-box']",SEARCHRESULTSAREA:"[data-region='search-results-area']",SEARCHTEXTAREA:"[data-region='search-text-area']",SELECTEDVIEWCONVERSATION:"[data-action='view-contact-msg'].selected",SELECTEDVIEWPROFILE:"[data-action='view-contact-profile'].selected",SHOWMESSAGES:"[data-action='show-messages']",VIEWCONVERSATION:"[data-action='view-contact-msg']",VIEWPROFILE:"[data-action='view-contact-profile']"};return h.prototype._isLoadingConversations=!1,h.prototype._isLoadingContacts=!1,h.prototype._numContactsDisplayed=0,h.prototype._numContactsToRetrieve=20,h.prototype._numConversationsDisplayed=0,h.prototype._numConversationsToRetrieve=20,h.prototype._messageLength=60,h.prototype.messageArea=null,h.prototype._init=function(){e.define(this.messageArea.node,[e.events.activate,e.events.down,e.events.up]),this.messageArea.onCustomEvent(g.MESSAGESEARCHCANCELED,this._viewConversations.bind(this)),this.messageArea.onCustomEvent(g.USERSSEARCHCANCELED,this._viewContacts.bind(this)),this.messageArea.onCustomEvent(g.CONTACTSSELECTED,this._viewContacts.bind(this)),this.messageArea.onCustomEvent(g.CONVERSATIONDELETED,this._deleteConversation.bind(this)),this.messageArea.onCustomEvent(g.CONVERSATIONSSELECTED,this._viewConversations.bind(this)),this.messageArea.onCustomEvent(g.CONTACTSSELECTED,this._viewContacts.bind(this)),this.messageArea.onCustomEvent(g.MESSAGESDELETED,this._updateLastMessage.bind(this)),this.messageArea.onCustomEvent(g.MESSAGESENT,this._handleMessageSent.bind(this)),this.messageArea.onCustomEvent(g.CONTACTREMOVED,function(a,b){this._removeContact(i.CONTACTS,b)}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTADDED,function(a,b){this._addContact(b)}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTBLOCKED,function(a,b){this._blockContact(b)}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTUNBLOCKED,function(a,b){this._unblockContact(b)}.bind(this)),this.messageArea.onCustomEvent(g.CHOOSEMESSAGESTODELETE,this._startDeleting.bind(this)),this.messageArea.onCustomEvent(g.CANCELDELETEMESSAGES,this._stopDeleting.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,i.VIEWCONVERSATION,this._viewConversation.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,i.VIEWPROFILE,this._viewContact.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,i.SHOWMESSAGES,this._showMessagingArea.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i.CONTACT,this._selectPreviousContact.bind(this)),this.messageArea.onDelegateEvent(e.events.down,i.CONTACT,this._selectNextContact.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i.VIEWCONVERSATION,this._selectPreviousConversation.bind(this)),this.messageArea.onDelegateEvent(e.events.down,i.VIEWCONVERSATION,this._selectNextConversation.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i.COURSE,this._selectPreviousCourse.bind()),this.messageArea.onDelegateEvent(e.events.down,i.COURSE,this._selectNextCourse.bind()),this.messageArea.onDelegateEvent("focus",i.SEARCHBOX,this._setSearching.bind(this)),this.messageArea.onDelegateEvent("blur",i.SEARCHBOX,this._clearSearching.bind(this)),e.define(this.messageArea.find(i.CONVERSATIONS),[e.events.scrollBottom]),e.define(this.messageArea.find(i.CONTACTS),[e.events.scrollBottom]),this.messageArea.onDelegateEvent(e.events.scrollBottom,i.CONVERSATIONS,this._loadConversations.bind(this)),this.messageArea.onDelegateEvent(e.events.scrollBottom,i.CONTACTS,this._loadContacts.bind(this)),this.messageArea.showContactsFirst()||(this._numConversationsDisplayed=20)},h.prototype._startDeleting=function(){this.messageArea.find(i.CONTACTSAREA).addClass("editing")},h.prototype._stopDeleting=function(){this.messageArea.find(i.CONTACTSAREA).removeClass("editing")},h.prototype._viewConversations=function(){0===this._numConversationsDisplayed&&this._loadConversations(),this.messageArea.find(i.CONTACTS).hide(),this.messageArea.find(i.CONVERSATIONS).show()},h.prototype._viewContacts=function(){0===this._numContactsDisplayed&&this._loadContacts(),this.messageArea.find(i.CONVERSATIONS).hide(),this.messageArea.find(i.CONTACTS).show()},h.prototype._handleMessageSent=function(a,b,c){this._viewConversations();var d=this._getUserNode(i.CONVERSATIONS,b);if(0===d.length){var e=this._getUserNode(i.CONTACTS,b);if(0===e.length&&(e=this._getUserNode(i.SEARCHRESULTSAREA,b)),0==e.length)return;d=e.clone(),d.attr("data-action","view-contact-msg"),this.messageArea.find(i.CONVERSATIONS+" "+i.NOCONTACTS).remove(),this._numConversationsDisplayed++}d.prependTo(this.messageArea.find(i.CONVERSATIONS)),this.messageArea.find(i.CONVERSATIONS).scrollTop(0),this._updateContactText(d,c,!0),this._setSelectedUser("[data-userid='"+b+"']")},h.prototype._loadConversations=function(){if(this._isLoadingConversations)return!1;this._isLoadingConversations=!0;var a=0;return c.render("core/loading",{}).then(function(a,b){return this._numConversationsDisplayed?c.appendNodeContents(this.messageArea.find(i.CONVERSATIONS),"<div style='text-align:center'>"+a+"</div>",b):c.replaceNodeContents(this.messageArea.find(i.CONVERSATIONS),"<div style='text-align:center'>"+a+"</div>",b),this._getItems("core_message_data_for_messagearea_conversations",this._numConversationsDisplayed,this._numConversationsToRetrieve)}.bind(this)).then(function(b){return a=b.contacts.length,b.isconversation=!0,c.render("core_message/message_area_contacts",b)}).then(function(b,d){this.messageArea.find(i.CONVERSATIONS+" "+i.LOADINGICON).remove(),a>0?(c.appendNodeContents(this.messageArea.find(i.CONVERSATIONS),b,d),this._numConversationsDisplayed+=this._numConversationsToRetrieve):this._numConversationsDisplayed||c.replaceNodeContents(this.messageArea.find(i.CONVERSATIONS),b,d),this._isLoadingConversations=!1}.bind(this)).fail(d.exception)},h.prototype._loadContacts=function(){if(this._isLoadingContacts)return!1;this._isLoadingContacts=!0;var a=0;return c.render("core/loading",{}).then(function(a,b){return this._numContactsDisplayed?c.appendNodeContents(this.messageArea.find(i.CONTACTS),"<div style='text-align:center'>"+a+"</div>",b):c.replaceNodeContents(this.messageArea.find(i.CONTACTS),"<div style='text-align:center'>"+a+"</div>",b),this._getItems("core_message_data_for_messagearea_contacts",this._numContactsDisplayed,this._numContactsToRetrieve)}.bind(this)).then(function(b){return a=b.contacts.length,b.isconversation=!1,c.render("core_message/message_area_contacts",b)}).then(function(b,d){this.messageArea.find(i.CONTACTS+" "+i.LOADINGICON).remove(),a>0?(c.appendNodeContents(this.messageArea.find(i.CONTACTS),b,d),this._numContactsDisplayed+=a):this._numContactsDisplayed||c.replaceNodeContents(this.messageArea.find(i.CONTACTS),b,d),this._isLoadingContacts=!1}.bind(this)).fail(d.exception)},h.prototype._viewConversation=function(b){this.messageArea.trigger(g.CANCELDELETEMESSAGES);var c=a(b.currentTarget).data("userid"),d=a(b.currentTarget).data("messageid"),e="[data-userid='"+c+"']";d&&(e="[data-messageid='"+d+"']"),this._setSelectedUser(e),this.messageArea.trigger(g.CONVERSATIONSELECTED,c),this.messageArea.find(i.SELECTEDVIEWPROFILE).removeClass("selected"),this._showMessagingArea()},h.prototype._viewContact=function(b){this.messageArea.trigger(g.CANCELDELETEMESSAGES);var c=a(b.currentTarget).data("userid");this._setSelectedUser("[data-userid='"+c+"']"),this.messageArea.trigger(g.CONTACTSELECTED,c),this.messageArea.find(i.SELECTEDVIEWCONVERSATION).removeClass("selected"),this._showMessagingArea()},h.prototype._getItems=function(a,c,d){var e=b.call([{methodname:a,args:{userid:this.messageArea.getCurrentUserId(),limitfrom:c,limitnum:d}}]);return e[0]},h.prototype._deleteConversation=function(a,b){this._removeContact(i.CONVERSATIONS,b),this._numConversationsDisplayed--,this._hideMessagingArea(),this._stopDeleting()},h.prototype._updateLastMessage=function(a,b,c){if(c){var d=this._getUserNode(i.CONVERSATIONS,b),e=c.find(i.MESSAGETEXT).text().trim(),f=!1;c.data("useridto")==b&&(f=!0),this._updateContactText(d,e,f)}this._stopDeleting()},h.prototype._addContact=function(){this.messageArea.find(i.CONTACTS).empty(),this._numContactsDisplayed=0,this._loadContacts()},h.prototype._removeContact=function(a,b){this._getUserNode(a,b).remove(),this._numContactsDisplayed--},h.prototype._blockContact=function(a){var b=this._getUserNode(i.CONTACTS,a);b.find(i.CONTACTICONBLOCKED).removeClass("hidden"),b=this._getUserNode(i.CONVERSATIONS,a),b.find(i.CONTACTICONBLOCKED).removeClass("hidden"),b=this._getUserNode(i.SEARCHRESULTSAREA,a),b.find(i.CONTACTICONBLOCKED).removeClass("hidden")},h.prototype._unblockContact=function(a){var b=this._getUserNode(i.CONTACTS,a);b.find(i.CONTACTICONBLOCKED).addClass("hidden"),b=this._getUserNode(i.CONVERSATIONS,a),b.find(i.CONTACTICONBLOCKED).addClass("hidden"),b=this._getUserNode(i.SEARCHRESULTSAREA,a),b.find(i.CONTACTICONBLOCKED).addClass("hidden")},h.prototype._getUserNode=function(a,b){return this.messageArea.find(a+" "+i.CONTACT+"[data-userid='"+b+"']")},h.prototype._setSelectedUser=function(a){this.messageArea.find(i.CONTACT).removeClass("selected"),this.messageArea.find(i.CONTACT).attr("aria-pressed",!1),this.messageArea.find(i.CONTACT+a).addClass("selected"),this.messageArea.find(i.CONTACT+a).attr("aria-pressed",!0)},h.prototype._getContactText=function(b){return b=a(document.createElement("div")).html(b).text(),b.length>this._messageLength&&(b=b.substr(0,this._messageLength-3),b+="..."),b},h.prototype._updateContactText=function(a,b,c){b=this._getContactText(b),c?f.get_string("you","message").done(function(b){a.find(i.LASTMESSAGEUSER).empty().append(b)}).always(function(){a.find(i.LASTMESSAGETEXT).empty().append(b)}):(a.find(i.LASTMESSAGEUSER).empty(),a.find(i.LASTMESSAGETEXT).empty().append(b))},h.prototype._selectNextContact=function(b,c){var d=a(b.target).closest(i.CONTACT),e=d.next();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectPreviousContact=function(b,c){var d=a(b.target).closest(i.CONTACT),e=d.prev();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectNextCourse=function(b,c){var d=a(b.target).closest(i.COURSE);d.next().focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectPreviousCourse=function(b,c){var d=a(b.target).closest(i.COURSE);d.prev().focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectNextConversation=function(b,c){var d=a(b.target).closest(i.VIEWCONVERSATION),e=d.next();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectPreviousConversation=function(b,c){var d=a(b.target).closest(i.VIEWCONVERSATION),e=d.prev();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._setSearching=function(){a(i.SEARCHTEXTAREA).addClass("searching")},h.prototype._clearSearching=function(){a(i.SEARCHTEXTAREA).removeClass("searching")},h.prototype._showMessagingArea=function(){this.messageArea.find(i.MESSAGINGAREA).removeClass("hide-messages").addClass("show-messages")},h.prototype._hideMessagingArea=function(){this.messageArea.find(i.MESSAGINGAREA).removeClass("show-messages").addClass("hide-messages")},h});
define('core_message/message_area_messages', ["jquery","core/ajax","core/templates","core/notification","core/custom_interaction_events","core/auto_rows","core_message/message_area_actions","core/modal_factory","core/modal_events","core/str","core_message/message_area_events","core/backoff_timer"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){this.messageArea=a,this._init()}var n=500,o=50,p={BLOCKTIME:"[data-region='blocktime']",CANCELDELETEMESSAGES:"[data-action='cancel-delete-messages']",CONTACT:"[data-region='contact']",CONVERSATIONS:"[data-region='contacts'][data-region-content='conversations']",DELETEALLMESSAGES:"[data-action='delete-all-messages']",DELETEMESSAGES:"[data-action='delete-messages']",LOADINGICON:".loading-icon",MESSAGE:"[data-region='message']",MESSAGERESPONSE:"[data-region='response']",MESSAGES:"[data-region='messages']",MESSAGESAREA:"[data-region='messages-area']",MESSAGINGAREA:"[data-region='messaging-area']",SENDMESSAGE:"[data-action='send-message']",SENDMESSAGETEXT:"[data-region='send-message-txt']",SHOWCONTACTS:"[data-action='show-contacts']",STARTDELETEMESSAGES:"[data-action='start-delete-messages']"},q=1e3;return m.prototype._isSendingMessage=!1,m.prototype._isLoadingMessages=!1,m.prototype._numMessagesDisplayed=0,m.prototype._messageQueue=[],m.prototype._numMessagesToRetrieve=20,m.prototype._confirmationModal=null,m.prototype._latestMessageTimestamp=0,m.prototype._backoffTimer=null,m.prototype.messageArea=null,m.prototype._init=function(){e.define(this.messageArea.node,[e.events.activate,e.events.up,e.events.down,e.events.enter]),a(window).height()<=670&&(n=400),f.init(this.messageArea.node),this.messageArea.onCustomEvent(k.CONVERSATIONSELECTED,this._viewMessages.bind(this)),this.messageArea.onCustomEvent(k.SENDMESSAGE,this._viewMessages.bind(this)),this.messageArea.onCustomEvent(k.CHOOSEMESSAGESTODELETE,this._chooseMessagesToDelete.bind(this)),this.messageArea.onCustomEvent(k.CANCELDELETEMESSAGES,this._hideDeleteAction.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.SENDMESSAGE,this._sendMessage.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.STARTDELETEMESSAGES,this._startDeleting.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.DELETEMESSAGES,this._deleteMessages.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.DELETEALLMESSAGES,this._deleteAllMessages.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.CANCELDELETEMESSAGES,this._triggerCancelMessagesToDelete.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.MESSAGE,this._toggleMessage.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.SHOWCONTACTS,this._hideMessagingArea.bind(this)),this.messageArea.onDelegateEvent(e.events.up,p.MESSAGE,this._selectPreviousMessage.bind(this)),this.messageArea.onDelegateEvent(e.events.down,p.MESSAGE,this._selectNextMessage.bind(this)),this.messageArea.onDelegateEvent("focus",p.SENDMESSAGETEXT,this._setMessaging.bind(this)),this.messageArea.onDelegateEvent("blur",p.SENDMESSAGETEXT,this._clearMessaging.bind(this)),a(document).on(f.events.ROW_CHANGE,this._adjustMessagesAreaHeight.bind(this));var b=this.messageArea.find(p.MESSAGES);b.length&&(this._addScrollEventListener(b.find(p.MESSAGE).length),this._latestMessageTimestamp=b.find(p.MESSAGE+":last").data("timecreated")),this._backoffTimer=new l(this._loadNewMessages.bind(this),l.getIncrementalCallback(this.messageArea.pollmin*q,q,this.messageArea.pollmax*q,this.messageArea.polltimeout*q)),this._backoffTimer.start()},m.prototype._viewMessages=function(e,f){this._numMessagesDisplayed=0,this._backoffTimer.stop(),this._latestMessageTimestamp=0;var g=b.call([{methodname:"core_message_mark_all_messages_as_read",args:{useridto:this.messageArea.getCurrentUserId(),useridfrom:f}}]),h=0;return c.render("core/loading",{}).then(function(a,b){return c.replaceNodeContents(this.messageArea.find(p.MESSAGESAREA),a,b),g[0]}.bind(this)).then(function(){var b=this.messageArea.find(p.CONVERSATIONS+" "+p.CONTACT+"[data-userid='"+f+"']");return b.hasClass("unread")&&(b.removeClass("unread"),a(document).trigger("messagearea:conversationselected",f)),this._getMessages(f)}.bind(this)).then(function(a){return h=a.messages.length,c.render("core_message/message_area_messages_area",a)}).then(function(a,b){c.replaceNodeContents(this.messageArea.find(p.MESSAGESAREA),a,b),this._addScrollEventListener(h),this._backoffTimer.restart(),this.messageArea.find(p.SENDMESSAGETEXT).focus()}.bind(this)).fail(d.exception)},m.prototype._loadMessages=function(){if(this._isLoadingMessages)return!1;this._isLoadingMessages=!0;var b=0;return c.render("core/loading",{}).then(function(a,b){return c.prependNodeContents(this.messageArea.find(p.MESSAGES),"<div style='text-align:center'>"+a+"</div>",b),this._getMessages(this._getUserId())}.bind(this)).then(function(a){return b=a.messages.length,c.render("core_message/message_area_messages",a)}).then(function(d,e){if(this.messageArea.find(p.MESSAGES+" "+p.LOADINGICON).remove(),b>0){var f=a("<div>"+d+"</div>");this._hasMatchingBlockTime(this.messageArea.node,f,!0)&&this.messageArea.node.find(p.BLOCKTIME+":first").remove();var g=this.messageArea.find(p.MESSAGES)[0].scrollHeight;c.prependNodeContents(this.messageArea.find(p.MESSAGES),d,e);var h=this.messageArea.find(p.MESSAGES)[0].scrollHeight;this.messageArea.find(p.MESSAGES).scrollTop(h-g),this._numMessagesDisplayed+=b}this._isLoadingMessages=!1}.bind(this)).fail(d.exception)},m.prototype._loadNewMessages=function(){if(this._isLoadingMessages)return!1;if(!this._getUserId())return!1;this._isLoadingMessages=!0;var a=!1,b=this.messageArea.find(p.MESSAGES);if(0!==b.length){var c=b.scrollTop(),e=b.innerHeight(),f=b[0].scrollHeight;c+e>=f&&(a=!0)}return this._getMessages(this._getUserId(),!0).then(function(b){return this._addMessagesToDom(b.messages,a)}.bind(this)).always(function(){this._isLoadingMessages=!1}.bind(this)).fail(d.exception)},m.prototype._getMessages=function(a,c){var e={currentuserid:this.messageArea.getCurrentUserId(),otheruserid:a,limitfrom:this._numMessagesDisplayed,limitnum:this._numMessagesToRetrieve,newest:!0};c&&(e.timefrom=this._latestMessageTimestamp,e.limitfrom=0,e.limitnum=0);var f=b.call([{methodname:"core_message_data_for_messagearea_messages",args:e}]);return f[0].then(function(a){var b=a.messages;if(b&&b.length){var c=b[b.length-1];c.timecreated>this._latestMessageTimestamp&&(this._latestMessageTimestamp=c.timecreated+1)}return a}.bind(this)).fail(function(a){this._backoffTimer.stop(),d.exception(a)}.bind(this))},m.prototype._sendMessage=function(){var a=this.messageArea.find(p.SENDMESSAGETEXT),c=a.val().trim();if(""===c)return!1;if(this._isSendingMessage)return!1;this._isSendingMessage=!0;var e=b.call([{methodname:"core_message_send_instant_messages",args:{messages:[{touserid:this._getUserId(),text:c}]}}]);return a.prop("disabled",!0),e[0].then(function(a){if(a.length<0)throw new Error("Invalid response");if(a[0].errormessage)throw new Error(a[0].errormessage);return this.messageArea.trigger(k.MESSAGESENT,[this._getUserId(),c]),this._addLastMessageToDom()}.bind(this)).then(function(){this._isSendingMessage=!1}.bind(this)).always(function(){a.prop("disabled",!1),a.focus()}).fail(d.exception)},m.prototype._chooseMessagesToDelete=function(){this.messageArea.find(p.MESSAGESAREA).addClass("editing"),this.messageArea.find(p.MESSAGE).attr("role","checkbox").attr("aria-checked","false")},m.prototype._deleteMessages=function(){var c=this.messageArea.getCurrentUserId(),e=this.messageArea.find(p.MESSAGE+"[aria-checked='true']"),f=[],g=[];e.each(function(b,d){var e=a(d),h=e.data("messageid"),i=e.data("messageread")?1:0;g.push(e),f.push({methodname:"core_message_delete_message",args:{messageid:h,userid:c,read:i}})}),f.length>0?b.call(f)[f.length-1].then(function(){var b=null,c=this.messageArea.find(p.MESSAGE),d=c.last(),e=g[g.length-1];a.each(g,function(a,b){b.remove()}),d.data("id")===e.data("id")&&(b=this.messageArea.find(p.MESSAGE).last()),a.each(g,function(a,b){var c=b.data("blocktime");0===this.messageArea.find(p.MESSAGE+"[data-blocktime='"+c+"']").length&&this.messageArea.find(p.BLOCKTIME+"[data-blocktime='"+c+"']").remove()}.bind(this)),0===this.messageArea.find(p.MESSAGE).length&&this.messageArea.find(p.CONVERSATIONS+" "+p.CONTACT+"[data-userid='"+this._getUserId()+"']").remove(),this.messageArea.trigger(k.MESSAGESDELETED,[this._getUserId(),b])}.bind(this),d.exception):this.messageArea.trigger(k.MESSAGESDELETED,this._getUserId()),this._hideDeleteAction()},m.prototype._addScrollEventListener=function(a){this._scrollBottom(),this._numMessagesDisplayed=a,e.define(this.messageArea.find(p.MESSAGES),[e.events.scrollTop]),this.messageArea.onCustomEvent(e.events.scrollTop,this._loadMessages.bind(this))},m.prototype._deleteAllMessages=function(){this._confirmationModal?this._confirmationModal.show():j.get_strings([{key:"confirm"},{key:"deleteallconfirm",component:"message"}]).done(function(a){h.create({title:a[0],type:h.types.CONFIRM,body:a[1]},this.messageArea.find(p.DELETEALLMESSAGES)).done(function(a){this._confirmationModal=a,a.getRoot().on(i.yes,function(){var a=this._getUserId(),c={methodname:"core_message_delete_conversation",args:{userid:this.messageArea.getCurrentUserId(),otheruserid:a}};b.call([c])[0].then(function(){this.messageArea.find(p.MESSAGESAREA).empty(),this.messageArea.trigger(k.CONVERSATIONDELETED,a),this._hideDeleteAction()}.bind(this),d.exception)}.bind(this)),a.show()}.bind(this))}.bind(this))},m.prototype._hideDeleteAction=function(){this.messageArea.find(p.MESSAGE).removeAttr("role").removeAttr("aria-checked"),this.messageArea.find(p.MESSAGESAREA).removeClass("editing")},m.prototype._triggerCancelMessagesToDelete=function(){this.messageArea.trigger(k.CANCELDELETEMESSAGES)},m.prototype._addMessagesToDom=function(b,d){var e=0,f=this.messageArea.find(p.MESSAGES);return b=b.filter(function(a){var b=""+a.id+a.isread;if(this._messageQueue[b])return!1;var c=f.find(p.MESSAGE+'[data-id="'+b+'"]');return c.length||(this._messageQueue[b]=!0),!c.length}.bind(this)),e=b.length,c.render("core_message/message_area_messages",{messages:b}).then(function(b,f){if(e>0){var g=a("<div>"+b+"</div>");this._hasMatchingBlockTime(this.messageArea.node,g,!1)&&g.find(p.BLOCKTIME+":first").remove(),c.appendNodeContents(this.messageArea.find(p.MESSAGES),g,f),d&&this._scrollBottom(),this._numMessagesDisplayed+=e,this._backoffTimer.restart()}}.bind(this))},m.prototype._addLastMessageToDom=function(){var a=b.call([{methodname:"core_message_data_for_messagearea_get_most_recent_message",args:{currentuserid:this.messageArea.getCurrentUserId(),otheruserid:this._getUserId()}}]);return a[0].then(function(a){return this._addMessagesToDom([a],!0)}.bind(this)).always(function(){this.messageArea.find(p.SENDMESSAGETEXT).val("").trigger("input")}.bind(this)).fail(d.exception)},m.prototype._getUserId=function(){return this.messageArea.find(p.MESSAGES).data("userid")},m.prototype._scrollBottom=function(){var a=this.messageArea.find(p.MESSAGES);0!==a.length&&a.scrollTop(a[0].scrollHeight)},m.prototype._selectPreviousMessage=function(b,c){var d=a(b.target).closest(p.MESSAGE);do d=d.prev();while(d.length&&!d.is(p.MESSAGE));d.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},m.prototype._selectNextMessage=function(b,c){var d=a(b.target).closest(p.MESSAGE);do d=d.next();while(d.length&&!d.is(p.MESSAGE));d.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},m.prototype._setMessaging=function(b){a(b.target).closest(p.MESSAGERESPONSE).addClass("messaging")},m.prototype._clearMessaging=function(b){a(b.target).closest(p.MESSAGERESPONSE).removeClass("messaging")},m.prototype._startDeleting=function(a){var b=new g(this.messageArea);b.chooseMessagesToDelete(),a.preventDefault()},m.prototype._isEditing=function(){return this.messageArea.find(p.MESSAGESAREA).hasClass("editing")},m.prototype._toggleMessage=function(b){if(this._isEditing()){var c=a(b.target).closest(p.MESSAGE);"true"===c.attr("aria-checked")?c.attr("aria-checked","false"):c.attr("aria-checked","true")}},m.prototype._adjustMessagesAreaHeight=function(){var a=this.messageArea.find(p.MESSAGES),b=this.messageArea.find(p.MESSAGERESPONSE),c=b.outerHeight(),d=c-o,e=n-d;a.outerHeight(e)},m.prototype._sendMessageHandler=function(a,b){b.originalEvent.preventDefault(),this._sendMessage()},m.prototype._hideMessagingArea=function(){this.messageArea.find(p.MESSAGINGAREA).removeClass("show-messages").addClass("hide-messages")},m.prototype._hasMatchingBlockTime=function(a,b,c){var d,e,f,g;return c?(e=":first",g=":last"):(e=":last",g=":first"),d=a.find(p.BLOCKTIME+e),f=b.find(p.BLOCKTIME+g),!(!d.length||!f.length)&&d.data("blocktime")==f.data("blocktime")},m});
define('core_message/message_area_tabs', ["core/custom_interaction_events","core_message/message_area_events"],function(a,b){function c(a){this.messageArea=a,this._init()}var d={ACTIVECONTACTSTAB:"[data-region='contacts-area'] [role='tab'][aria-selected='true']",CONTACTSPANELS:"[data-region='contacts']",VIEWCONTACTS:"[data-action='contacts-view']",VIEWCONVERSATIONS:"[data-action='conversations-view']"};return c.prototype.messageArea=null,c.prototype._init=function(){a.define(this.messageArea.node,[a.events.activate,a.events.up,a.events.down,a.events.next,a.events.previous,a.events.ctrlPageUp,a.events.ctrlPageDown]),this.messageArea.onDelegateEvent(a.events.activate,d.VIEWCONVERSATIONS,this._viewConversations.bind(this)),this.messageArea.onDelegateEvent(a.events.activate,d.VIEWCONTACTS,this._viewContacts.bind(this)),this.messageArea.onDelegateEvent(a.events.up,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.down,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.next,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.previous,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.up,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.down,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.next,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.previous,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.ctrlPageUp,d.CONTACTSPANELS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.ctrlPageDown,d.CONTACTSPANELS,this._toggleTabs.bind(this)),this.messageArea.onCustomEvent(b.MESSAGESENT,function(){this._selectTab(d.VIEWCONVERSATIONS,d.VIEWCONTACTS)}.bind(this))},c.prototype._viewConversations=function(){this.messageArea.trigger(b.CONVERSATIONSSELECTED),this._selectTab(d.VIEWCONVERSATIONS,d.VIEWCONTACTS)},c.prototype._viewContacts=function(){this.messageArea.trigger(b.CONTACTSSELECTED),this._selectTab(d.VIEWCONTACTS,d.VIEWCONVERSATIONS)},c.prototype._selectTab=function(a,b){b=this.messageArea.find(b),b.removeClass("selected"),b.attr("aria-selected","false"),b.attr("tabindex","-1"),a=this.messageArea.find(a),a.addClass("selected"),a.attr("aria-selected","true"),a.attr("tabindex","0")},c.prototype._toggleTabs=function(a,b){var c=this.messageArea.find(d.ACTIVECONTACTSTAB);c.is(d.VIEWCONVERSATIONS)?this._viewContacts():this._viewConversations(),this.messageArea.find(d.ACTIVECONTACTSTAB).focus(),a.preventDefault(),a.stopPropagation(),b.originalEvent.preventDefault(),b.originalEvent.stopPropagation()},c});
define('core_message/message_area_search', ["jquery","core/ajax","core/templates","core/notification","core/str","core/custom_interaction_events","core_message/message_area_events"],function(a,b,c,d,e,f,g){function h(a){this.messageArea=a,this._init()}var i={CONTACTS:"[data-region='contacts'][data-region-content='contacts']",CONTACTSAREA:"[data-region='contacts-area']",CONVERSATIONS:"[data-region='contacts'][data-region-content='conversations']",DELETESEARCHFILTER:"[data-region='search-filter-area']",LOADINGICON:".loading-icon",SEARCHBOX:"[data-region='search-box']",SEARCHFILTER:"[data-region='search-filter']",SEARCHFILTERAREA:"[data-region='search-filter-area']",SEARCHRESULTSAREA:"[data-region='search-results-area']",SEARCHTEXTAREA:"[data-region='search-text-area']",SEARCHUSERSINCOURSE:"[data-action='search-users-in-course']"};return h.prototype.messageArea=null,h.prototype._searchArea=null,h.prototype._courseid=null,h.prototype._isLoading=!1,h.prototype._numMessagesDisplayed=0,h.prototype._numMessagesToRetrieve=20,h.prototype._numUsersDisplayed=0,h.prototype._numUsersToRetrieve=20,h.prototype._searchAreas={MESSAGES:"messages",USERS:"users",USERSINCOURSE:"usersincourse"},h.prototype._requestTimeout=null,h.prototype._init=function(){this.messageArea.find(i.SEARCHTEXTAREA).on("input",this._searchRequest.bind(this)),this.messageArea.onDelegateEvent(f.events.activate,i.SEARCHUSERSINCOURSE,function(b){this._setFilter(a(b.currentTarget).html()),this._setPlaceholderText("searchforuser"),this._clearSearchArea(),this._searchArea=this._searchAreas.USERSINCOURSE,this._courseid=a(b.currentTarget).data("courseid"),this._searchUsersInCourse(),this.messageArea.find(i.SEARCHBOX).focus()}.bind(this)),this.messageArea.onDelegateEvent(f.events.activate,i.DELETESEARCHFILTER,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.USERS,this._setPlaceholderText("searchforuserorcourse"),this.messageArea.trigger(g.USERSSEARCHCANCELED),this.messageArea.find(i.SEARCHBOX).focus()}.bind(this)),this.messageArea.onCustomEvent(g.CONVERSATIONSSELECTED,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.MESSAGES,this._setPlaceholderText("searchmessages")}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTSSELECTED,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.USERS,this._setPlaceholderText("searchforuserorcourse")}.bind(this)),this.messageArea.onCustomEvent(g.MESSAGESENT,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.MESSAGES,this._setPlaceholderText("searchmessages")}.bind(this)),f.define(this.messageArea.find(i.SEARCHRESULTSAREA),[f.events.scrollBottom]),this.messageArea.onDelegateEvent(f.events.scrollBottom,i.SEARCHRESULTSAREA,function(){this._searchArea==this._searchAreas.MESSAGES?this._searchMessages():this._searchArea==this._searchAreas.USERSINCOURSE&&this._searchUsersInCourse()}.bind(this)),this._searchArea=this.messageArea.showContactsFirst()?this._searchAreas.USERS:this._searchAreas.MESSAGES},h.prototype._searchRequest=function(){var a=this.messageArea.find(i.SEARCHTEXTAREA+" input").val();return this._requestTimeout&&clearTimeout(this._requestTimeout),""===a.trim()?void(this._searchArea==this._searchAreas.MESSAGES?(this._hideSearchResults(),this.messageArea.trigger(g.MESSAGESEARCHCANCELED)):this._searchArea==this._searchAreas.USERS?(this._hideSearchResults(),this.messageArea.trigger(g.USERSSEARCHCANCELED)):this._searchArea==this._searchAreas.USERSINCOURSE&&(this._clearSearchArea(),this._searchUsersInCourse())):(this.messageArea.find(i.CONVERSATIONS).hide(),this.messageArea.find(i.CONTACTS).hide(),this.messageArea.find(i.SEARCHRESULTSAREA).show(),void(this._searchArea==this._searchAreas.MESSAGES?this._requestTimeout=setTimeout(function(){this._clearSearchArea(),this._numMessagesDisplayed=0,this._searchMessages()}.bind(this),300):this._searchArea==this._searchAreas.USERSINCOURSE?this._requestTimeout=setTimeout(function(){this._clearSearchArea(),this._numUsersDisplayed=0,this._searchUsersInCourse()}.bind(this),300):this._requestTimeout=setTimeout(function(){this._clearSearchArea(),this._numUsersDisplayed=0,this._searchUsers()}.bind(this),300)))},h.prototype._searchMessages=function(){if(this._isLoading)return!1;var a=this.messageArea.find(i.SEARCHBOX).val();this._isLoading=!0;var e=b.call([{methodname:"core_message_data_for_messagearea_search_messages",args:{userid:this.messageArea.getCurrentUserId(),search:a,limitfrom:this._numMessagesDisplayed,limitnum:this._numMessagesToRetrieve}}]),f=0;return c.render("core/loading",{}).then(function(a,b){return c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),"<div style='text-align:center'>"+a+"</div>",b),e[0]}.bind(this)).then(function(a){return f=a.contacts.length,c.render("core_message/message_area_message_search_results",a)}).then(function(a,b){this.messageArea.find(i.SEARCHRESULTSAREA+" "+i.LOADINGICON).remove(),f>0?(c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._numMessagesDisplayed+=f):0==this._numMessagesDisplayed&&c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._isLoading=!1}.bind(this)).fail(d.exception)},h.prototype._searchUsers=function(){var a=this.messageArea.find(i.SEARCHBOX).val(),e=b.call([{methodname:"core_message_data_for_messagearea_search_users",args:{userid:this.messageArea.getCurrentUserId(),search:a,limitnum:this._numUsersToRetrieve}}]);return c.render("core/loading",{}).then(function(a,b){return c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),"<div style='text-align:center'>"+a+"</div>",b),e[0]}.bind(this)).then(function(a){return a.contacts.length>0&&(a.hascontacts=!0),a.courses.length>0&&(a.hascourses=!0),a.noncontacts.length>0&&(a.hasnoncontacts=!0),c.render("core_message/message_area_user_search_results",a)}).then(function(a,b){c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b)}.bind(this)).fail(d.exception)},h.prototype._searchUsersInCourse=function(){if(this._isLoading)return!1;var a=this.messageArea.find(i.SEARCHBOX).val();this._isLoading=!0;var e=b.call([{methodname:"core_message_data_for_messagearea_search_users_in_course",args:{userid:this.messageArea.getCurrentUserId(),courseid:this._courseid,search:a,limitfrom:this._numUsersDisplayed,limitnum:this._numUsersToRetrieve}}]),f=0;return c.render("core/loading",{}).then(function(a,b){return c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),"<div style='text-align:center'>"+a+"</div>",b),e[0]}.bind(this)).then(function(a){return f=a.contacts.length,f>0&&(a.hascontacts=!0),c.render("core_message/message_area_user_search_results",a)}).then(function(a,b){this.messageArea.find(i.SEARCHRESULTSAREA+" "+i.LOADINGICON).remove(),f>0?(c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._numUsersDisplayed+=f):0==this._numUsersDisplayed&&c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._isLoading=!1}.bind(this)).fail(d.exception)},h.prototype._setPlaceholderText=function(a){return e.get_string(a,"message").then(function(a){this.messageArea.find(i.SEARCHTEXTAREA+" input").attr("placeholder",a)}.bind(this))},h.prototype._setFilter=function(a){this.messageArea.find(i.SEARCHBOX).val(""),this.messageArea.find(i.CONTACTSAREA).addClass("searchfilter"),this.messageArea.find(i.SEARCHFILTERAREA).show(),this.messageArea.find(i.SEARCHFILTER).html(a),e.get_string("removecoursefilter","message",a).then(function(a){this.messageArea.find(i.SEARCHFILTERAREA).attr("aria-label",a)}.bind(this))},h.prototype._clearFilters=function(){this.messageArea.find(i.CONTACTSAREA).removeClass("searchfilter"),this.messageArea.find(i.SEARCHFILTER).empty(),this.messageArea.find(i.SEARCHFILTERAREA).hide(),this.messageArea.find(i.SEARCHFILTERAREA).removeAttr("aria-label")},h.prototype._clearSearchArea=function(){this.messageArea.find(i.SEARCHRESULTSAREA).empty()},h.prototype._hideSearchResults=function(){this._clearFilters(),this.messageArea.find(i.SEARCHTEXTAREA+" input").val(""),this._clearSearchArea(),this.messageArea.find(i.SEARCHRESULTSAREA).hide()},h});
define('core_message/message_notification_preference', ["jquery","core_message/notification_preference"],function(a,b){var c={PREFERENCE_KEY:"[data-preference-key]"},d=function(a,c){b.call(this,a,c)};return d.prototype=Object.create(b.prototype),d.prototype.constructor=d,d.prototype.getPreferenceKey=function(){return this.root.find(c.PREFERENCE_KEY).attr("data-preference-key")},d});
define('mod_assign/grading_navigation', ["jquery","core/notification","core/str","core/form-autocomplete","core/ajax","mod_assign/grading_form_change_checker"],function(a,b,c,d,e,f){var g=function(e){this._regionSelector=e,this._region=a(e),this._filters=[],this._users=[],this._filteredUsers=[],this._loadAllUsers(),this._region.find('[data-action="previous-user"]').on("click",this._handlePreviousUser.bind(this)),this._region.find('[data-action="next-user"]').on("click",this._handleNextUser.bind(this)),this._region.find('[data-action="change-user"]').on("change",this._handleChangeUser.bind(this)),this._region.find('[data-region="user-filters"]').on("click",this._toggleExpandFilters.bind(this)),a(document).on("user-changed",this._refreshSelector.bind(this));var f=this._region.find('[data-region="user-filters"]'),g=a(document.getElementById(f.attr("aria-controls")));g.on("change",'[type="checkbox"]',this._filterChanged.bind(this));var h=a('[data-region="grading-navigation-panel"]').data("first-userid");h&&this._selectUserById(h),c.get_string("changeuser","mod_assign").done(function(a){d.enhance("[data-action=change-user]",!1,"mod_assign/participant_selector",a)}).fail(b.exception),a(document).bind("start-loading-user",function(){this._isLoading=!0}.bind(this)),a(document).bind("finish-loading-user",function(){this._isLoading=!1}.bind(this))};return g.prototype._isLoading=!1,g.prototype._regionSelector=null,g.prototype._filters=null,g.prototype._users=null,g.prototype._region=null,g.prototype._loadAllUsers=function(){var a=this._region.find("[data-action=change-user]"),c=a.attr("data-assignmentid"),d=a.attr("data-groupid");e.call([{methodname:"mod_assign_list_participants",args:{assignid:c,groupid:d,filter:"",onlyids:!0},done:this._usersLoaded.bind(this),fail:b.exception}])},g.prototype._usersLoaded=function(b){if(this._filteredUsers=this._users=b,this._users.length){var c=this._region.find('[data-region="user-filters"]'),d=a(document.getElementById(c.attr("aria-controls")));d.find('[type="checkbox"]').trigger("change")}else this._selectNoUser()},g.prototype._checkClickOutsideConfigureFilters=function(b){var c=this._region.find('[data-region="configure-filters"]');if(!c.is(b.target)&&0===c.has(b.target).length){var d=this._region.find('[data-region="user-filters"]');c.hide(),c.attr("aria-hidden","true"),d.attr("aria-expanded","false"),a(document).unbind("click.mod_assign_grading_navigation")}},g.prototype._filterChanged=function(d){var e=a(d.target).attr("name"),f=e.split("_").pop(),g=a(d.target).prop("checked");if(g)this._filters.indexOf(f)==-1&&(this._filters[this._filters.length]=f);else{var h=this._filters.indexOf(f);h!=-1&&this._filters.splice(h,1)}var i=[];this._region.find('[data-region="configure-filters"]').find('[type="checkbox"]').each(function(b,c){a(c).prop("checked")&&(i[i.length]=a(c).closest("label").text())}),i.length?this._region.find('[data-region="user-filters"] span').text(i.join(", ")):c.get_string("nofilters","mod_assign").done(function(a){this._region.find('[data-region="user-filters"] span').text(a)}.bind(this)).fail(b.exception);var j=this._region.find("[data-action=change-user]"),k=j.attr("data-selected"),l=0;this._filteredUsers=[],a.each(this._users,function(b,c){var d=!0;a.each(this._filters,function(a,b){"submitted"==b?"0"==c.submitted&&(d=!1):"notsubmitted"==b?"1"==c.submitted&&(d=!1):"requiregrading"==b?"0"==c.requiregrading&&(d=!1):"grantedextension"==b&&"0"==c.grantedextension&&(d=!1)}),d&&(this._filteredUsers[this._filteredUsers.length]=c,k==c.id&&(l=this._filteredUsers.length-1))}.bind(this)),this._filteredUsers.length?this._selectUserById(this._filteredUsers[l].id):this._selectNoUser()},g.prototype._selectNoUser=function(){this._isLoading||(f.checkFormForChanges('[data-region="grade-panel"] .gradeform')?c.get_strings([{key:"unsavedchanges",component:"mod_assign"},{key:"unsavedchangesquestion",component:"mod_assign"},{key:"saveandcontinue",component:"mod_assign"},{key:"cancel",component:"core"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a(document).trigger("save-changes",-1)})}):a(document).trigger("user-changed",-1))},g.prototype._selectUserById=function(d){var e=this._region.find("[data-action=change-user]"),g=parseInt(d,10);this._isLoading||(f.checkFormForChanges('[data-region="grade-panel"] .gradeform')?c.get_strings([{key:"unsavedchanges",component:"mod_assign"},{key:"unsavedchangesquestion",component:"mod_assign"},{key:"saveandcontinue",component:"mod_assign"},{key:"cancel",component:"core"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a(document).trigger("save-changes",g)})}):(e.attr("data-selected",d),!isNaN(g)&&g>0&&a(document).trigger("user-changed",d)))},g.prototype._toggleExpandFilters=function(b){b.preventDefault();var c=a(b.target).closest('[data-region="user-filters"]'),d="true"==c.attr("aria-expanded"),e=a(document.getElementById(c.attr("aria-controls")));d?(e.hide(),e.attr("aria-hidden","true"),c.attr("aria-expanded","false"),a(document).unbind("click.mod_assign_grading_navigation")):(e.css("display","inline-block"),e.attr("aria-hidden","false"),c.attr("aria-expanded","true"),b.stopPropagation(),a(document).on("click.mod_assign_grading_navigation",this._checkClickOutsideConfigureFilters.bind(this)))},g.prototype._handlePreviousUser=function(a){a.preventDefault();var b=this._region.find("[data-action=change-user]"),c=b.attr("data-selected"),d=0,e=0;for(d=0;d<this._filteredUsers.length;d++)if(this._filteredUsers[d].id==c){e=d;break}var f=this._filteredUsers.length,g=e-1;g<0&&(g=f-1),f&&this._selectUserById(this._filteredUsers[g].id)},g.prototype._handleNextUser=function(a){a.preventDefault();var b=this._region.find("[data-action=change-user]"),c=b.attr("data-selected"),d=0,e=0;for(d=0;d<this._filteredUsers.length;d++)if(this._filteredUsers[d].id==c){e=d;break}var f=this._filteredUsers.length,g=(e+1)%f;f&&this._selectUserById(this._filteredUsers[g].id)},g.prototype._refreshCount=function(){var a=this._region.find("[data-action=change-user]"),d=a.attr("data-selected"),e=0,f=0;if(isNaN(d)||d<=0)this._region.find('[data-region="user-count"]').hide();else{for(this._region.find('[data-region="user-count"]').show(),e=0;e<this._filteredUsers.length;e++)if(this._filteredUsers[e].id==d){f=e;break}var g=this._filteredUsers.length;g&&(f+=1);var h={x:f,y:g};c.get_string("xofy","mod_assign",h).done(function(a){this._region.find('[data-region="user-count-summary"]').text(a)}.bind(this)).fail(b.exception)}},g.prototype._refreshSelector=function(a,b){var c=this._region.find("[data-action=change-user]");b=parseInt(b,10),!isNaN(b)&&b>0&&c.attr("data-selected",b),this._refreshCount()},g.prototype._handleChangeUser=function(){var d=this._region.find("[data-action=change-user]"),e=parseInt(d.val(),10);this._isLoading||(f.checkFormForChanges('[data-region="grade-panel"] .gradeform')?c.get_strings([{key:"unsavedchanges",component:"mod_assign"},{key:"unsavedchangesquestion",component:"mod_assign"},{key:"saveandcontinue",component:"mod_assign"},{key:"cancel",component:"core"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a(document).trigger("save-changes",e)})}):!isNaN(e)&&e>0&&(d.attr("data-selected",e),a(document).trigger("user-changed",e)))},g});
define('mod_assign/grading_review_panel', ["jquery","mod_assign/grading_events"],function(a,b){var c=function(){this._region=a('[data-region="review-panel-content"]'),this.registerEventListeners()};return c.prototype._region=null,c.prototype.getReviewPanel=function(a){var b=this._region.data("panel-owner");return"undefined"==typeof b&&this._region.data("review-panel-plugin",a),this._region.data("review-panel-plugin")==a&&this._region[0]},c.prototype.getTogglePanelButton=function(){return this.getPanelElement().find('[data-region="review-panel-toggle"]')},c.prototype.getPanelElement=function(){return a('[data-region="review-panel"]')},c.prototype.getPanelContentElement=function(){return a('[data-region="review-panel-content"]')},c.prototype.togglePanel=function(){this.getPanelElement().hasClass("collapsed")?a(document).trigger(b.EXPAND_REVIEW_PANEL):a(document).trigger(b.COLLAPSE_REVIEW_PANEL)},c.prototype.collapsePanel=function(){this.getPanelElement().addClass("collapsed").removeClass("grade-panel-collapsed"),this.getPanelContentElement().attr("aria-hidden",!0)},c.prototype.expandPanel=function(){this.getPanelElement().removeClass("collapsed"),this.getPanelContentElement().removeAttr("aria-hidden")},c.prototype.registerEventListeners=function(){var c=this.getTogglePanelButton();c.click(function(a){this.togglePanel(),a.preventDefault()}.bind(this)),c.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.togglePanel(),a.preventDefault())}.bind(this));var d=a(document);d.on(b.COLLAPSE_REVIEW_PANEL,function(){this.collapsePanel()}.bind(this)),d.on(b.COLLAPSE_GRADE_PANEL,function(){this.expandPanel(),this.getPanelElement().addClass("grade-panel-collapsed")}.bind(this)),d.on(b.EXPAND_REVIEW_PANEL,function(){this.expandPanel()}.bind(this)),d.on(b.EXPAND_GRADE_PANEL,function(){this.getPanelElement().removeClass("grade-panel-collapsed")}.bind(this))},c});
define('mod_assign/grading_events', function(){return{COLLAPSE_REVIEW_PANEL:"grading:collapse-review-panel",EXPAND_REVIEW_PANEL:"grading:expand-review-panel",COLLAPSE_GRADE_PANEL:"grading:collapse-grade-panel",EXPAND_GRADE_PANEL:"grading:expand-grade-panel"}});
define('mod_assign/grading_form_change_checker', ["jquery"],function(a){return{saveFormState:function(b){a(b).trigger("save-form-state");var c=a(b).serialize();a(b).data("saved-form-state",c)},checkFormForChanges:function(b){a(b).trigger("save-form-state");var c=a(b).serialize(),d=a(b).data("saved-form-state");return"undefined"!=typeof d&&d!=c}}});
define('mod_assign/participant_selector', ["core/ajax","jquery","core/templates"],function(a,b,c){return{processResults:function(a,b){return b},transport:function(d,e,f,g){var h=b(d).attr("data-assignmentid"),i=b(d).attr("data-groupid"),j=b('[data-region="configure-filters"] input[type="checkbox"]'),k=[];j.each(function(a,c){k[b(c).attr("name")]=b(c).prop("checked")}),a.call([{methodname:"mod_assign_list_participants",args:{assignid:h,groupid:i,filter:e,limit:30,includeenrolments:!1}}])[0].then(function(a){var d=[],e=b("[data-showuseridentity]").data("showuseridentity").split(",");return b.each(a,function(a,f){var g=f,h=[],i=!0;k.filter_submitted&&!f.submitted&&(i=!1),k.filter_notsubmitted&&f.submitted&&(i=!1),k.filter_requiregrading&&!f.requiregrading&&(i=!1),k.filter_grantedextension&&!f.grantedextension&&(i=!1),i&&(b.each(e,function(a,b){"undefined"!=typeof f[b]&&""!==f[b]&&(g.hasidentity=!0,h.push(f[b]))}),g.identity=h.join(", "),d.push(c.render("mod_assign/list_participant_user_summary",g).then(function(a){return{value:f.id,label:a}})))}),b.when.apply(b,d)}).then(function(){var a=[];arguments[0]&&(a=Array.prototype.slice.call(arguments)),f(a)})["catch"](g)}}});
define('mod_assign/grading_panel', ["jquery","core/yui","core/notification","core/templates","core/fragment","core/ajax","core/str","mod_assign/grading_form_change_checker","mod_assign/grading_events"],function(a,b,c,d,e,f,g,h,i){var j=function(b){this._regionSelector=b,this._region=a(b),this._userCache=[],this.registerEventListeners()};return j.prototype._regionSelector=null,j.prototype._lastUserId=0,j.prototype._lastAttemptNumber=-1,j.prototype._region=null,j.prototype._niceReplaceNodeContents=function(b,c,e){var f=a.Deferred();return b.fadeOut("fast",function(){d.replaceNodeContents(b,c,e),b.fadeIn("fast",function(){f.resolve()})}),f.promise()},j.prototype._saveFormState=function(){"undefined"!=typeof window.tinyMCE&&window.tinyMCE.triggerSave();var b=a('[data-region="grading-actions-form"] [name="sendstudentnotifications"]').prop("checked");a('.gradeform [name="sendstudentnotifications"]').val(b)},j.prototype._submitForm=function(b,d){var e=a(this._region.find("form.gradeform"));a('[data-region="overlay"]').show(),e.trigger("save-form-state");var g=e.serialize(),h=this._region.attr("data-assignmentid");f.call([{methodname:"mod_assign_submit_grading_form",args:{assignmentid:h,userid:this._lastUserId,jsonformdata:JSON.stringify(g)},done:this._handleFormSubmissionResponse.bind(this,g,d),fail:c.exception}])},j.prototype._handleFormSubmissionResponse=function(d,e,f){"undefined"==typeof e&&(e=this._lastUserId),f.length?a(document).trigger("reset",[this._lastUserId,d]):(g.get_strings([{key:"changessaved",component:"core"},{key:"gradechangessaveddetail",component:"mod_assign"}]).done(function(a){c.alert(a[0],a[1])}).fail(c.exception),b.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()}),e==this._lastUserId?a(document).trigger("reset",e):a(document).trigger("user-changed",e)),a('[data-region="overlay"]').hide()},j.prototype._resetForm=function(b,c,d){var e=a.Event("custom");"undefined"==typeof c&&(c=this._lastUserId),this._lastUserId=0,this._refreshGradingPanel(e,c,d)},j.prototype._chooseAttempt=function(b){var d=a(b.target),e=d.data("submissions"),f=a(document.getElementById(e)),h=f.clone(),i=h.wrap(a("<form/>")).html();g.get_strings([{key:"viewadifferentattempt",component:"mod_assign"},{key:"view",component:"core"},{key:"cancel",component:"core"}]).done(function(b){c.confirm(b[0],i,b[1],b[2],function(){var b=a("input:radio[name='select-attemptnumber']:checked").val();this._refreshGradingPanel(null,this._lastUserId,"",b)}.bind(this))}.bind(this)).fail(c.exception)},j.prototype._addPopoutButtons=function(b){var e=a(b);d.render("mod_assign/popout_button",{}).done(function(a){var b=e.find('[data-fieldtype="filemanager"],[data-fieldtype="editor"],[data-fieldtype="grading"]').closest(".fitem");b.addClass("has-popout").find("label").parent().append(a),e.on("click",'[data-region="popout-button"]',this._togglePopout.bind(this))}.bind(this)).fail(c.exception)},j.prototype._togglePopout=function(b){b.preventDefault();var c=a(b.target).closest(".fitem");c.hasClass("popout")?a(".popout").removeClass("popout"):(a(".popout").removeClass("popout"),c.addClass("popout"),c.addClass("moodle-has-zindex"))},j.prototype._refreshGradingPanel=function(b,f,g,i){var j=this._region.attr("data-contextid");"undefined"==typeof g&&(g=""),"undefined"==typeof i&&(i=-1),this._lastUserId==f&&this._lastAttemptNumber==i&&""===g||(this._lastUserId=f,this._lastAttemptNumber=i,a(document).trigger("start-loading-user"),window.M.util.js_pending("mod-assign-loading-user"),d.render("mod_assign/loading",{}).done(function(b,d){this._niceReplaceNodeContents(this._region,b,d).done(function(){if(f>0){this._region.show();var b={userid:f,attemptnumber:i,jsonformdata:JSON.stringify(g)};e.loadFragment("mod_assign","gradingpanel",j,b).done(function(b,d){this._niceReplaceNodeContents(this._region,b,d).done(function(){h.saveFormState('[data-region="grade-panel"] .gradeform'),a(document).on("editor-content-restored",function(){h.saveFormState('[data-region="grade-panel"] .gradeform')}),a('[data-region="attempt-chooser"]').on("click",this._chooseAttempt.bind(this)),this._addPopoutButtons('[data-region="grade-panel"] .gradeform'),a(document).trigger("finish-loading-user"),window.M.util.js_complete("mod-assign-loading-user")}.bind(this)).fail(c.exception)}.bind(this)).fail(c.exception),a('[data-region="review-panel"]').show()}else this._region.hide(),a('[data-region="review-panel"]').hide(),a(document).trigger("finish-loading-user"),window.M.util.js_complete("mod-assign-loading-user")}.bind(this))}.bind(this)).fail(c.exception))},j.prototype.getPanelElement=function(){return a('[data-region="grade-panel"]')},j.prototype.collapsePanel=function(){this.getPanelElement().addClass("collapsed")},j.prototype.expandPanel=function(){this.getPanelElement().removeClass("collapsed")},j.prototype.registerEventListeners=function(){var b=a(document),c=a(this._region);c.on("submit","form",function(a){a.preventDefault()}),b.on("user-changed",this._refreshGradingPanel.bind(this)),b.on("save-changes",this._submitForm.bind(this)),b.on("reset",this._resetForm.bind(this)),b.on("save-form-state",this._saveFormState.bind(this)),b.on(i.COLLAPSE_GRADE_PANEL,function(){this.collapsePanel()}.bind(this)),b.on(i.COLLAPSE_REVIEW_PANEL,function(){this.expandPanel()}.bind(this)),b.on(i.EXPAND_GRADE_PANEL,function(){this.expandPanel()}.bind(this))},j});
define('mod_assign/grading_navigation_user_info', ["jquery","core/notification","core/ajax","core/templates"],function(a,b,c,d){var e=function(b){this._regionSelector=b,this._region=a(b),this._userCache={},a(document).on("user-changed",this._refreshUserInfo.bind(this))};return e.prototype._regionSelector=null,e.prototype._userCache=null,e.prototype._region=null,e.prototype._lastUserId=0,e.prototype._getAssignmentId=function(){return this._region.attr("data-assignmentid")},e.prototype._refreshUserInfo=function(e,f){var g=a.Deferred();this._lastUserId!=f&&(this._lastUserId=f,d.render("mod_assign/loading",{}).done(function(e,h){if(this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,e,h),this._region.fadeIn("fast")}.bind(this)),f<0)return void d.render("mod_assign/grading_navigation_no_users",{}).done(function(a,b){this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,a,b),this._region.fadeIn("fast")}.bind(this))}.bind(this)).fail(b.exception);if("undefined"!=typeof this._userCache[f])g.resolve(this._userCache[f]);else{var i=this._getAssignmentId(),j=c.call([{methodname:"mod_assign_get_participant",args:{userid:f,assignid:i,embeduser:!0}}]);j[0].done(function(a){a.hasOwnProperty("id")?(this._userCache[f]=a,g.resolve(this._userCache[f])):g.reject("No users")}.bind(this)).fail(b.exception)}g.done(function(c){var e=a("[data-showuseridentity]").data("showuseridentity").split(","),f=[];c.courseid=a('[data-region="grading-navigation-panel"]').attr("data-courseid"),c.user&&(a.each(e,function(a,b){"undefined"!=typeof c.user[b]&&""!==c.user[b]&&(c.hasidentity=!0,f.push(c.user[b]))}),c.identity=f.join(", "),c.user.profileimageurl&&(c.profileimageurl=c.user.profileimageurl)),d.render("mod_assign/grading_navigation_user_summary",c).done(function(a,b){this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,a,b),this._region.fadeIn("fast")}.bind(this))}.bind(this)).fail(b.exception)}.bind(this)).fail(function(){d.render("mod_assign/grading_navigation_no_users",{}).done(function(a,b){this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,a,b),this._region.fadeIn("fast")}.bind(this))}.bind(this)).fail(b.exception)}.bind(this))}.bind(this)).fail(b.exception))},e});
define('mod_assign/grading_actions', ["jquery","mod_assign/grading_events"],function(a,b){var c=function(b){this._regionSelector=b,this._region=a(b),this.registerEventListeners()};return c.prototype._regionSelector=null,c.prototype._lastUserId=0,c.prototype._region=null,c.prototype._showActionsForm=function(a,b){var c=this._region.find("[data-region=grading-actions-form]");b!=this._lastUserId&&b>0&&(this._lastUserId=b),b>0?c.removeClass("hide"):c.addClass("hide")},c.prototype._trigger=function(b){a(document).trigger(b)},c.prototype.getReviewPanelElement=function(){return a('[data-region="review-panel"]')},c.prototype.hasReviewPanelElement=function(){return this.getReviewPanelElement().length>0},c.prototype.getCollapseGradePanelButton=function(){return a('[data-region="grade-actions"] .collapse-grade-panel')},c.prototype.getCollapseReviewPanelButton=function(){return a('[data-region="grade-actions"] .collapse-review-panel')},c.prototype.getExpandAllPanelsButton=function(){return a('[data-region="grade-actions"] .collapse-none')},c.prototype.resetLayoutButtons=function(){this.getCollapseGradePanelButton().removeClass("active"),this.getCollapseReviewPanelButton().removeClass("active"),this.getExpandAllPanelsButton().removeClass("active")},c.prototype.collapseReviewPanel=function(){a(document).trigger(b.COLLAPSE_REVIEW_PANEL),a(document).trigger(b.EXPAND_GRADE_PANEL),this.resetLayoutButtons(),this.getCollapseReviewPanelButton().addClass("active")},c.prototype.collapseGradePanel=function(){a(document).trigger(b.COLLAPSE_GRADE_PANEL),a(document).trigger(b.EXPAND_REVIEW_PANEL),this.resetLayoutButtons(),this.getCollapseGradePanelButton().addClass("active")},c.prototype.expandAllPanels=function(){a(document).trigger(b.EXPAND_GRADE_PANEL),a(document).trigger(b.EXPAND_REVIEW_PANEL),this.resetLayoutButtons(),this.getExpandAllPanelsButton().addClass("active")},c.prototype.registerEventListeners=function(){if(this.hasReviewPanelElement()){var b=this.getCollapseReviewPanelButton();b.click(function(a){this.collapseReviewPanel(),a.preventDefault()}.bind(this)),b.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.collapseReviewPanel(),a.preventDefault())}.bind(this));var c=this.getCollapseGradePanelButton();c.click(function(a){this.collapseGradePanel(),a.preventDefault()}.bind(this)),c.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.collapseGradePanel(),a.preventDefault())}.bind(this));var d=this.getExpandAllPanelsButton();d.click(function(a){this.expandAllPanels(),a.preventDefault()}.bind(this)),d.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.expandAllPanels(),a.preventDefault())}.bind(this))}a(document).on("user-changed",this._showActionsForm.bind(this)),this._region.find('[name="savechanges"]').on("click",this._trigger.bind(this,"save-changes")),this._region.find('[name="resetbutton"]').on("click",this._trigger.bind(this,"reset")),this._region.find("form").on("submit",function(a){a.preventDefault()})},c});
define('mod_feedback/edit', ["jquery","core/ajax","core/str","core/notification"],function(a,b,c,d){var e={deleteItem:function(b){b.preventDefault(),c.get_strings([{key:"confirmation",component:"admin"},{key:"confirmdeleteitem",component:"mod_feedback"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],a.proxy(function(){window.location=a(this).attr("href")},b.currentTarget))})},setup:function(){a("body").delegate('[data-action="delete"]',"click",e.deleteItem)}};return{setup:e.setup}});
define('mod_lti/events', [],function(){return{NEW_TOOL_TYPE:"lti.tool.type.new",START_EXTERNAL_REGISTRATION:"lti.registration.external.start",STOP_EXTERNAL_REGISTRATION:"lti.registration.external.stop",START_CARTRIDGE_REGISTRATION:"lti.registration.cartridge.start",STOP_CARTRIDGE_REGISTRATION:"lti.registration.cartridge.stop",REGISTRATION_FEEDBACK:"lti.registration.feedback",CAPABILITIES_AGREE:"lti.tool.type.capabilities.agree",CAPABILITIES_DECLINE:"lti.tool.type.capabilities.decline"}});
define('mod_lti/form-field', ["jquery"],function(a){var b=function(a,b,c,d){this.name=a,this.id="id_"+this.name,this.selector="#"+this.id,this.type=b,this.resetIfUndefined=c,this.defaultValue=d};return b.TYPES={TEXT:1,SELECT:2,CHECKBOX:3,EDITOR:4},b.prototype.setFieldValue=function(c){if(null===c){if(!this.resetIfUndefined)return;c=this.defaultValue}switch(this.type){case b.TYPES.CHECKBOX:c?a(this.selector).prop("checked",!0):a(this.selector).prop("checked",!1);break;case b.TYPES.EDITOR:if("undefined"!==a.type(c.text)){var d=a(this.selector+"editable");d.length?d.html(c.text):"undefined"!=typeof tinyMCE&&tinyMCE.execInstanceCommand(this.id,"mceInsertContent",!1,c.text),a(this.selector).val(c.text)}break;default:a(this.selector).val(c)}},b});
define('mod_lti/tool_card_controller', ["jquery","core/ajax","core/notification","core/templates","mod_lti/tool_type","mod_lti/events","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g,h){var i={DELETE_BUTTON:".delete",NAME_ELEMENT:".name",DESCRIPTION_ELEMENT:".description",CAPABILITIES_CONTAINER:".capabilities-container",ACTIVATE_BUTTON:".tool-card-footer a.activate"},j=2e3,k=function(a){return a.find(i.DELETE_BUTTON)},l=function(a){return a.find(i.NAME_ELEMENT)},m=function(a){return a.find(i.DESCRIPTION_ELEMENT)},n=function(a){return a.find(i.ACTIVATE_BUTTON)},o=function(a){return!!n(a).length},p=function(a){return a.find(i.CAPABILITIES_CONTAINER)},q=function(a){return!!p(a).length},r=function(a){return a.attr("data-type-id")},s=function(a){a.removeClass("announcement loading success fail capabilities")},t=function(a){s(a),a.addClass("announcement loading")},u=function(a){a.removeClass("announcement loading")},v=function(b){var c=a.Deferred();return s(b),b.addClass("announcement success"),setTimeout(function(){b.removeClass("announcement success"),c.resolve()},j),c},w=function(b){var c=a.Deferred();return s(b),b.addClass("announcement fail"),setTimeout(function(){b.removeClass("announcement fail"),c.resolve()},j),c},x=function(b){var d=a.Deferred(),f=r(b);return t(b),""===f?a.Deferred().resolve():(h.get_strings([{key:"delete",component:"mod_lti"},{key:"delete_confirmation",component:"mod_lti"},{key:"delete",component:"mod_lti"},{key:"cancel",component:"core"}]).done(function(a){c.confirm(a[0],a[1],a[2],a[3],function(){e["delete"](f).done(function(){u(b),v(b).done(function(){b.remove()}).fail(c.exception).always(function(){d.resolve()})}).fail(function(a){w(b),d.reject(a)})},function(){u(b),d.resolve()})}).fail(function(a){u(b),c.exception(a),d.reject(a)}),d)},y=function(a,b){a.attr("data-val-snapshot",b)},z=function(a){return a.attr("data-val-snapshot")},A=function(a){var b=m(a);if(!b.hasClass("loading")){var c=b.text().trim();y(b,c)}},B=function(b){var d=r(b);if(""===d)return a.Deferred().resolve();var f=m(b);if(f.hasClass("loading"))return a.Deferred().resolve();var g=f.text().trim(),h=z(f);if(h==g)return a.Deferred().resolve();f.addClass("loading");var i=e.update({id:d,description:g});return i.done(function(a){f.removeClass("loading"),f.text(a.description)}).fail(c.exception),i.fail(function(){f.removeClass("loading")}),i},C=function(a){var b=l(a);if(!b.hasClass("loading")){var c=b.text().trim();y(b,c)}},D=function(b){var c=r(b);if(""===c)return a.Deferred().resolve();var d=l(b);if(d.hasClass("loading"))return a.Deferred().resolve();var f=d.text().trim(),g=z(d);if(g==f)return a.Deferred().resolve();d.addClass("loading");var h=e.update({id:c,name:f});return h.done(function(a){d.removeClass("loading"),d.text(a.name)}),h.fail(function(){d.removeClass("loading")}),h},E=function(b){var c=r(b);if(""===c)return a.Deferred().resolve();t(b);var f=e.update({id:c,state:e.constants.state.configured});return f.done(function(c){u(b);var e=v(b),f=d.render("mod_lti/tool_card",c);a.when(f,e).then(function(a){var c=a[0],e=a[1];d.replaceNode(b,c,e)})}),f.fail(function(){u(b),w(b)}),f},F=function(a){a.addClass("announcement capabilities")},G=function(a){a.removeClass("announcement capabilities")},H=function(a){q(a)?F(a):E(a)},I=function(a){var b=k(a);b.click(function(b){b.preventDefault(),x(a)}),b.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),b.click())});var c=m(a);c.focus(function(b){b.preventDefault(),A(a)}),c.blur(function(b){b.preventDefault(),B(a)}),c.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode==g.ENTER&&(a.preventDefault(),c.blur())});var d=l(a);if(d.focus(function(b){b.preventDefault(),C(a)}),d.blur(function(b){b.preventDefault(),D(a)}),d.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode==g.ENTER&&(a.preventDefault(),d.blur())}),o(a)){var e=n(a);e.click(function(b){b.preventDefault(),H(a)}),e.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),e.click())})}if(q(a)){var h=p(a);h.on(f.CAPABILITIES_AGREE,function(){E(a)}),h.on(f.CAPABILITIES_DECLINE,function(){G(a)})}};return{init:function(a){I(a)}}});
define('mod_lti/tool_proxy_card_controller', ["jquery","core/ajax","core/notification","core/templates","mod_lti/tool_proxy","mod_lti/events","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g,h){var i={DELETE_BUTTON:".delete",CAPABILITIES_CONTAINER:".capabilities-container",ACTIVATE_BUTTON:".tool-card-footer a.activate"},j=2e3,k=function(a){return a.find(i.DELETE_BUTTON)},l=function(a){return a.find(i.ACTIVATE_BUTTON)},m=function(a){return a.attr("data-proxy-id")},n=function(a){a.removeClass("announcement loading success fail capabilities")},o=function(a){n(a),a.addClass("announcement loading")},p=function(a){a.removeClass("announcement loading")},q=function(b){var c=a.Deferred();return n(b),b.addClass("announcement success"),setTimeout(function(){b.removeClass("announcement success"),c.resolve()},j),c},r=function(b){var c=a.Deferred();return n(b),b.addClass("announcement fail"),setTimeout(function(){b.removeClass("announcement fail"),c.resolve()},j),c},s=function(b){var d=a.Deferred(),f=m(b);return o(b),""===f?a.Deferred().resolve():(h.get_strings([{key:"delete",component:"mod_lti"},{key:"delete_confirmation",component:"mod_lti"},{key:"delete",component:"mod_lti"},{key:"cancel",component:"core"}]).done(function(a){c.confirm(a[0],a[1],a[2],a[3],function(){e["delete"](f).done(function(){p(b),q(b).done(function(){b.remove(),d.resolve()}).fail(c.exception)}).fail(function(a){r(b),d.reject(a)})},function(){p(b),d.resolve()})}).fail(function(a){p(b),c.exception(a),d.reject(a)}),d)},t=function(b){var c={proxyid:m(b)};a(document).trigger(f.START_EXTERNAL_REGISTRATION,c)},u=function(a){var b=k(a);b.click(function(b){b.preventDefault(),s(a)}),b.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),b.click())});var c=l(a);c.click(function(b){b.preventDefault(),t(a)}),c.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),c.click())})};return{init:function(a){u(a)}}});
define('mod_lti/external_registration_return', [],function(){return{init:function(a,b,c,d){window.parent&&window.parent.triggerExternalRegistrationComplete({message:a,error:b,id:c,status:d})}}});
define('mod_lti/tool_type', ["core/ajax","core/notification"],function(a,b){return{query:function(c){var d={methodname:"mod_lti_get_tool_types",args:c||{}},e=a.call([d])[0];return e.fail(b.exception),e},create:function(b){var c={methodname:"mod_lti_create_tool_type",args:b},d=a.call([c])[0];return d},update:function(c){var d={methodname:"mod_lti_update_tool_type",args:c},e=a.call([d])[0];return e.fail(b.exception),e},"delete":function(c){var d={methodname:"mod_lti_delete_tool_type",args:{id:c}},e=a.call([d])[0];return e.fail(b.exception),e},getFromToolProxyId:function(a){return this.query({toolproxyid:a})},isCartridge:function(b){var c={methodname:"mod_lti_is_cartridge",args:{url:b}},d=a.call([c])[0];return d},constants:{state:{configured:1,pending:2,rejected:3}}}});
define('mod_lti/external_registration', ["jquery","core/ajax","core/notification","core/templates","mod_lti/events","mod_lti/tool_proxy","mod_lti/tool_type","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g,h,i){var j={EXTERNAL_REGISTRATION_CONTAINER:"#external-registration-page-container",EXTERNAL_REGISTRATION_TEMPLATE_CONTAINER:"#external-registration-template-container",EXTERNAL_REGISTRATION_CANCEL_BUTTON:"#cancel-external-registration",TOOL_TYPE_CAPABILITIES_CONTAINER:"#tool-type-capabilities-container",TOOL_TYPE_CAPABILITIES_TEMPLATE_CONTAINER:"#tool-type-capabilities-template-container",CAPABILITIES_AGREE_CONTAINER:".capabilities-container"},k=function(){return a(j.EXTERNAL_REGISTRATION_CANCEL_BUTTON)},l=function(){return a(j.EXTERNAL_REGISTRATION_CONTAINER)},m=function(){return a(j.EXTERNAL_REGISTRATION_TEMPLATE_CONTAINER)},n=function(){return a(j.TOOL_TYPE_CAPABILITIES_CONTAINER)},o=function(){return a(j.TOOL_TYPE_CAPABILITIES_TEMPLATE_CONTAINER)},p=function(){n().addClass("loading")},q=function(){n().removeClass("loading")},r=function(){k().addClass("loading")},s=function(){k().removeClass("loading")},t=function(){n().addClass("hidden")},u=function(){n().removeClass("hidden")},v=function(){l().addClass("hidden")},w=function(){l().removeClass("hidden")},x=function(a){var b=k();b.attr("data-tool-proxy-id",a)},y=function(){var a=k();return a.attr("data-tool-proxy-id")},z=function(){var a=k();a.removeAttr("data-tool-proxy-id")},A=function(){return!!y()},B=function(){var a=k();return a.attr("data-tool-proxy-new")&&A()},C=function(){var a=k();return a.attr("data-tool-proxy-new","new")},D=function(){var a=k();return a.removeAttr("data-tool-proxy-new")},E=function(a){var c={methodname:"mod_lti_get_tool_proxy_registration_request",args:{id:a}};return b.call([c])[0]},F=function(){r();var b=a.Deferred();if(B()){var d=y();f["delete"](d).done(function(){b.resolve()}).fail(function(a){b.reject(a)})}else b.resolve();return b.done(function(){L(),s()}).fail(function(b){c.exception(b),L(),s(),i.get_string("failedtodeletetoolproxy","mod_lti").done(function(b){var c={message:b,error:!0};a(document).trigger(e.REGISTRATION_FEEDBACK,c)}).fail(c.exception)}),b},G=function(a){var b=d.render("mod_lti/tool_proxy_registration_form",a);return b.done(function(a,b){var c=m();c.append(a),d.runTemplateJS(b),c.find("form").submit(),w()}).fail(c.exception),b},H=function(a){return g.update({id:a.id,state:g.constants.state.configured})},I=function(b){var f=a.Deferred();return d.render("mod_lti/tool_type_capabilities_agree",b).done(function(a,c){var g=o();v(),u(),d.replaceNodeContents(g,a,c);var h=g.find(j.CAPABILITIES_AGREE_CONTAINER);h.on(e.CAPABILITIES_AGREE,function(){p(),H(b).always(function(){q(),g.empty(),f.resolve()})}),h.on(e.CAPABILITIES_DECLINE,function(){g.empty(),f.resolve()})}).fail(f.reject),f.done(function(){t()}).fail(c.exception),f},J=function(b){var c=a.Deferred();return b&&""!==b?f.create({regurl:b}).done(function(a){C(),c=K(a.id)}).fail(function(b){F();var d={message:b.message,error:!0};a(document).trigger(e.REGISTRATION_FEEDBACK,d),c.reject(b)}):c.resolve(),c},K=function(b){var c=a.Deferred();return x(b),E(b).done(function(a){G(a).done(function(){c.resolve()}).fail(c.fail)}).fail(c.fail),c},L=function(){A()&&z(),D(!1),v();var b=m();b.empty(),a(document).trigger(e.STOP_EXTERNAL_REGISTRATION)},M=function(){a(document).on(e.START_EXTERNAL_REGISTRATION,function(a,b){b&&(b.url&&J(b.url),b.proxyid&&K(b.proxyid))});var b=k();b.click(function(a){a.preventDefault(),F()}),b.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=h.ENTER&&a.keyCode!=h.SPACE||(a.preventDefault(),F())}),window.triggerExternalRegistrationComplete=function(b){var d=a.Deferred(),f={message:"",error:!1};if("success"==b.status){if(i.get_string("successfullycreatedtooltype","mod_lti").done(function(a){f.message=a}).fail(c.exception),d.done(function(){L(),a(document).trigger(e.REGISTRATION_FEEDBACK,f),a(document).trigger(e.NEW_TOOL_TYPE)}).fail(c.exception),B()){var h=y();g.getFromToolProxyId(h).done(function(a){if(a&&a.length){var b=a[0];b.hascapabilitygroups?I(b).always(function(){d.resolve()}):d.resolve()}else d.resolve()}).fail(function(){d.resolve()})}}else f.message=b.error,f.error=!0,d.done(function(){F().always(function(){a(document).trigger(e.REGISTRATION_FEEDBACK,f)})}).fail(c.exception),d.resolve();return d}};return{init:function(){M()}}});
define('mod_lti/contentitem_return', ["jquery"],function(a){return{init:function(b){a(window).ready(function(){window!=top&&parent.processContentItemReturnData(b)})}}});
define('mod_lti/cartridge_registration_form', ["jquery","core/ajax","core/notification","mod_lti/tool_type","mod_lti/events","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g){var h={CARTRIDGE_URL:"#cartridge-url",CONSUMER_KEY:"#registration-key",SHARED_SECRET:"#registration-secret",REGISTRATION_FORM:"#cartridge-registration-form",REGISTRATION_SUBMIT_BUTTON:"#cartridge-registration-submit",REGISTRATION_CANCEL_BUTTON:"#cartridge-registration-cancel"},i=function(){return a(h.REGISTRATION_FORM).attr("data-cartridge-url")},j=function(){return a(h.REGISTRATION_SUBMIT_BUTTON)},k=function(){return a(h.REGISTRATION_CANCEL_BUTTON)},l=function(){return a(h.CONSUMER_KEY).val()},m=function(){return a(h.SHARED_SECRET).val()},n=function(){j().addClass("loading")},o=function(){j().removeClass("loading")},p=function(){return j().hasClass("loading")},q=function(){if(p())return!1;var b=i();if(""===b)return!1;n();var f=l(),h=m(),j=d.create({cartridgeurl:b,key:f,secret:h});return j.done(function(){g.get_string("successfullycreatedtooltype","mod_lti").done(function(b){a(document).trigger(e.NEW_TOOL_TYPE),a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION),a(document).trigger(e.REGISTRATION_FEEDBACK,{message:b})}).fail(c.exception)}).fail(function(){g.get_string("failedtocreatetooltype","mod_lti").done(function(b){a(document).trigger(e.NEW_TOOL_TYPE),a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION),a(document).trigger(e.REGISTRATION_FEEDBACK,{message:b,error:!0})}).fail(c.exception)}).always(function(){o()}),j},r=function(){var b=a(h.REGISTRATION_FORM);b.submit(function(a){a.preventDefault(),q()});var c=k();c.click(function(b){b.preventDefault(),a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION)}),c.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=f.ENTER&&a.keyCode!=f.SPACE||(a.preventDefault(),c.click())})};return{init:function(){r()}}});
define('mod_lti/contentitem', ["jquery","core/notification","core/str","core/templates","mod_lti/form-field","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f,g){var h,i={init:function(a,e){var i="";c.get_string("selectcontent","lti").then(function(c){i=c;var j={url:a,postData:e},k=d.render("mod_lti/contentitem",j);h?(h.setBody(k),h.show()):f.create({title:i,body:k,large:!0}).done(function(a){h=a,h.show(),a.getRoot().on(g.hidden,function(){a.setBody(""),b.fetchNotifications()})})})}},j=[new e("name",e.TYPES.TEXT,(!1),""),new e("introeditor",e.TYPES.EDITOR,(!1),""),new e("toolurl",e.TYPES.TEXT,(!0),""),new e("securetoolurl",e.TYPES.TEXT,(!0),""),new e("instructorchoiceacceptgrades",e.TYPES.CHECKBOX,(!0),(!0)),new e("instructorchoicesendname",e.TYPES.CHECKBOX,(!0),(!0)),new e("instructorchoicesendemailaddr",e.TYPES.CHECKBOX,(!0),(!0)),new e("instructorcustomparameters",e.TYPES.TEXT,(!0),""),new e("icon",e.TYPES.TEXT,(!0),""),new e("secureicon",e.TYPES.TEXT,(!0),""),new e("launchcontainer",e.TYPES.SELECT,(!0),0)];return window.processContentItemReturnData=function(b){h&&h.hide();var c;for(c in j){var d=j[c],e=null;"undefined"!==a.type(b[d.name])&&(e=b[d.name]),d.setFieldValue(e)}},i});
define('mod_lti/tool_configure_controller', ["jquery","core/ajax","core/notification","core/templates","mod_lti/events","mod_lti/keys","mod_lti/tool_type","mod_lti/tool_proxy","core/str"],function(a,b,c,d,e,f,g,h,i){var j={EXTERNAL_REGISTRATION_CONTAINER:"#external-registration-container",EXTERNAL_REGISTRATION_PAGE_CONTAINER:"#external-registration-page-container",CARTRIDGE_REGISTRATION_CONTAINER:"#cartridge-registration-container",CARTRIDGE_REGISTRATION_FORM:"#cartridge-registration-form",ADD_TOOL_FORM:"#add-tool-form",TOOL_LIST_CONTAINER:"#tool-list-container",TOOL_CREATE_BUTTON:"#tool-create-button",REGISTRATION_CHOICE_CONTAINER:"#registration-choice-container",TOOL_URL:"#tool-url"},k=function(){return a(j.TOOL_CREATE_BUTTON)},l=function(){return a(j.TOOL_LIST_CONTAINER)},m=function(){return a(j.EXTERNAL_REGISTRATION_CONTAINER)},n=function(){return a(j.CARTRIDGE_REGISTRATION_CONTAINER)},o=function(){return a(j.REGISTRATION_CHOICE_CONTAINER)},p=function(){return a(j.TOOL_URL).val()},q=function(){m().addClass("hidden")},r=function(){n().addClass("hidden")},s=function(){o().addClass("hidden")},t=function(){r(),s(),m().removeClass("hidden"),w(m())},u=function(a){q(),s(),n().removeClass("hidden"),n().find(j.CARTRIDGE_REGISTRATION_FORM).attr("data-cartridge-url",a),w(n())},v=function(){q(),r(),o().removeClass("hidden"),w(o())},w=function(a){var b=a.children().detach();b.appendTo(a)},x=function(){l().addClass("hidden")},y=function(){l().removeClass("hidden")},z=function(a){var b=a.error?"error":"success";c.addNotification({message:a.message,type:b})},A=function(a){a.addClass("loading")},B=function(a){a.removeClass("loading")},C=function(){var b=a.Deferred(),e=l();A(e),a.when(g.query(),h.query({orphanedonly:!0})).done(function(a,c){d.render("mod_lti/tool_list",{tools:a,proxies:c}).done(function(a,c){e.empty(),e.append(a),d.runTemplateJS(c),b.resolve()}).fail(b.reject)}).fail(b.reject),b.fail(c.exception).always(function(){B(e)})},D=function(){var b=a.trim(p());if(""===b)return a.Deferred().resolve();var d=k();A(d);var f=g.isCartridge(b);return f.always(function(){B(d)}),f.done(function(c){c.iscartridge?(a(j.TOOL_URL).val(""),a(document).trigger(e.START_CARTRIDGE_REGISTRATION,b)):a(document).trigger(e.START_EXTERNAL_REGISTRATION,{url:b})}),f.fail(function(){i.get_string("errorbadurl","mod_lti").done(function(b){a(document).trigger(e.REGISTRATION_FEEDBACK,{message:b,error:!0})}).fail(c.exception)}),f},E=function(){a(document).on(e.NEW_TOOL_TYPE,function(){C()}),a(document).on(e.START_EXTERNAL_REGISTRATION,function(){t(),a(j.TOOL_URL).val(""),x()}),a(document).on(e.STOP_EXTERNAL_REGISTRATION,function(){y(),v()}),a(document).on(e.START_CARTRIDGE_REGISTRATION,function(a,b){u(b)}),a(document).on(e.STOP_CARTRIDGE_REGISTRATION,function(){n().find(j.CARTRIDGE_REGISTRATION_FORM).removeAttr("data-cartridge-url"),v()}),a(document).on(e.REGISTRATION_FEEDBACK,function(a,b){z(b)});var b=a(j.ADD_TOOL_FORM);b.submit(function(a){a.preventDefault(),D()})};return{init:function(){E(),C()}}});
define('mod_lti/keys', [],function(){return{ENTER:13,SPACE:32}});
define('mod_lti/tool_proxy', ["core/ajax","core/notification"],function(a,b){return{query:function(c){var d={methodname:"mod_lti_get_tool_proxies",args:c||{}},e=a.call([d])[0];return e.fail(b.exception),e},"delete":function(c){var d={methodname:"mod_lti_delete_tool_proxy",args:{id:c}},e=a.call([d])[0];return e.fail(b.exception),e},create:function(b){var c={methodname:"mod_lti_create_tool_proxy",args:b},d=a.call([c])[0];return d}}});
define('mod_quiz/preflightcheck', ["jquery","core/yui"],function(a,b){var c={confirmDialogue:null,init:function(a,d,e,f){var g=a;b.use("moodle-core-notification",function(){b.one(e)&&(c.confirmDialogue=new M.core.dialogue({headerContent:d,bodyContent:b.one(e),draggable:!0,visible:!1,center:!0,modal:!0,width:null,extraClasses:["mod_quiz_preflight_popup"]}),b.one(a).on("click",c.displayDialogue),b.one("#id_cancel").on("click",c.hideDialogue),g=c.confirmDialogue.get("boundingBox").one('[name="submitbutton"]')),f&&b.one(g).on("click",c.launchQuizPopup,c,f)})},displayDialogue:function(a){a&&a.halt(),c.confirmDialogue.show()},hideDialogue:function(a){a&&a.halt(),c.confirmDialogue.hide(a)},launchQuizPopup:function(a,c){a.halt(),b.use("moodle-core-formchangechecker","io-form",function(){M.core_formchangechecker.reset_form_dirty_state();var d=a.target.ancestor("form");window.openpopup(a,{url:d.get("action")+"?"+b.IO.stringify(d).replace(/\bcancel=/,"x="),windowname:"quizpopup",options:c,fullscreen:!0})})}};return c});
define('mod_survey/validation', ["jquery","core/str","core/modal_factory","core/notification"],function(a,b,c,d){return{ensureRadiosChosen:function(e){var f=b.get_strings([{key:"error",component:"moodle"},{key:"questionsnotanswered",component:"survey"}]).then(function(a){return c.create({type:c.types.CANCEL,title:a[0],body:a[1]})})["catch"](d.exception),g=a("#"+e);g.submit(function(a){return 0===g.find('input:radio[data-survey-default="true"]:checked').length||(a.preventDefault(),f.then(function(a){a.show()}),!1)})}}});
define('mod_workshop/workshopview', ["jquery"],function(a){function b(b){var c=0;b.height("auto"),b.each(function(){var b=a(this).height();b>c&&(c=b)}),b.height(c)}return{init:function(){var c=a(".path-mod-workshop .userplan dt"),d=a(".path-mod-workshop .userplan dd");b(c),b(d),a(window).on("resize",function(){b(c),b(d)})}}});
define('message_popup/notification_popover_controller', ["jquery","core/ajax","core/templates","core/str","core/url","core/notification","core/custom_interaction_events","core/popover_region_controller","message_popup/notification_repository","message_popup/notification_area_events"],function(a,b,c,d,e,f,g,h,i,j){var k={MARK_ALL_READ_BUTTON:'[data-action="mark-all-read"]',ALL_NOTIFICATIONS_CONTAINER:'[data-region="all-notifications"]',NOTIFICATION:'[data-region="notification-content-item-container"]',UNREAD_NOTIFICATION:'[data-region="notification-content-item-container"].unread',NOTIFICATION_LINK:'[data-action="content-item-link"]',EMPTY_MESSAGE:'[data-region="empty-message"]',COUNT_CONTAINER:'[data-region="count-container"]'},l=function(a){h.call(this,a),this.markAllReadButton=this.root.find(k.MARK_ALL_READ_BUTTON),this.unreadCount=0,this.userId=this.root.attr("data-userid"),this.container=this.root.find(k.ALL_NOTIFICATIONS_CONTAINER),this.limit=20,this.offset=0,this.loadedAll=!1,this.initialLoad=!1,this.loadUnreadNotificationCount()};return l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.updateButtonAriaLabel=function(){this.isMenuOpen()?d.get_string("hidenotificationwindow","message").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):this.unreadCount?d.get_string("shownotificationwindowwithcount","message",this.unreadCount).done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):d.get_string("shownotificationwindownonew","message").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this))},l.prototype.getContent=function(){return this.container},l.prototype.getOffset=function(){return this.offset},l.prototype.incrementOffset=function(){this.offset+=this.limit},l.prototype.hasDoneInitialLoad=function(){return this.initialLoad},l.prototype.hasLoadedAllContent=function(){return this.loadedAll},l.prototype.setLoadedAllContent=function(a){this.loadedAll=a},l.prototype.renderUnreadCount=function(){var a=this.root.find(k.COUNT_CONTAINER);this.unreadCount?(a.text(this.unreadCount),a.removeClass("hidden")):a.addClass("hidden")},l.prototype.hideUnreadCount=function(){this.root.find(k.COUNT_CONTAINER).addClass("hidden")},l.prototype.loadUnreadNotificationCount=function(){i.countUnread({useridto:this.userId}).then(function(a){this.unreadCount=a,this.renderUnreadCount(),this.updateButtonAriaLabel()}.bind(this))},l.prototype.getNotificationElement=function(a){var b=this.root.find(k.NOTIFICATION+'[data-id="'+a+'"]');return 1==b.length?b:null},l.prototype.renderNotifications=function(b,d){var g=[],h=[],i=[];return b.length&&a.each(b,function(a,b){var d=this.getOffset()-this.limit;b.viewmoreurl=e.relativeUrl("/message/output/popup/notifications.php",{notificationid:b.id,offset:d});var j=c.render("message_popup/notification_content_item",b);g.push(j),j.then(function(b,c){h[a]=b,i[a]=c}).fail(f.exception)}.bind(this)),a.when.apply(a.when,g).then(function(){b.length&&a.each(b,function(a){d.append(h[a]),c.runTemplateJS(i[a])})})},l.prototype.loadMoreNotifications=function(){if(this.isLoading||this.hasLoadedAllContent())return a.Deferred().resolve();this.startLoading();var b={limit:this.limit,offset:this.getOffset(),useridto:this.userId},c=this.getContent();return i.query(b).then(function(a){var b=a.notifications;return this.unreadCount=a.unreadcount,this.setLoadedAllContent(!b.length||b.length<this.limit),this.initialLoad=!0,this.updateButtonAriaLabel(),!!b.length&&(this.incrementOffset(),this.renderNotifications(b,c))}.bind(this)).always(function(){this.stopLoading()}.bind(this))},l.prototype.markAllAsRead=function(){return this.markAllReadButton.addClass("loading"),i.markAllAsRead({useridto:this.userId}).then(function(){this.unreadCount=0,this.root.find(k.UNREAD_NOTIFICATION).removeClass("unread")}.bind(this)).always(function(){this.markAllReadButton.removeClass("loading")}.bind(this))},l.prototype.markNotificationAsRead=function(a){return!!a.hasClass("unread")&&i.markAsRead(a.attr("data-id")).then(function(){this.unreadCount--,a.removeClass("unread")}.bind(this))},l.prototype.registerEventListeners=function(){g.define(this.root,[g.events.activate]),this.root.on(g.events.activate,k.MARK_ALL_READ_BUTTON,function(a){this.markAllAsRead(),a.stopPropagation()}.bind(this)),this.root.on(g.events.activate,k.NOTIFICATION_LINK,function(b){var c=a(b.target).closest(k.NOTIFICATION);this.markNotificationAsRead(c),b.stopPropagation()}.bind(this)),this.root.on(this.events().menuOpened,function(){this.hideUnreadCount(),this.updateButtonAriaLabel(),this.hasDoneInitialLoad()||this.loadMoreNotifications()}.bind(this)),this.root.on(this.events().menuClosed,function(){this.renderUnreadCount(),this.updateButtonAriaLabel()}.bind(this)),this.root.on(this.events().startLoading,function(){this.getContent().attr("aria-busy","true")}.bind(this)),this.root.on(this.events().stopLoading,function(){this.getContent().attr("aria-busy","false")}.bind(this)),this.getContentContainer().on(g.events.scrollBottom,function(){this.isLoading||this.hasLoadedAllContent()||this.loadMoreNotifications()}.bind(this)),g.define(this.getContentContainer(),[g.events.scrollLock]),a(document).on(j.notificationShown,function(a,b){if(!b.read){var c=this.getNotificationElement(b.id);c&&c.removeClass("unread"),this.unreadCount--,this.renderUnreadCount()}}.bind(this))},l});
define('message_popup/notification_repository', ["core/ajax","core/notification"],function(a,b){var c=function(c){"undefined"==typeof c.limit&&(c.limit=20),"undefined"==typeof c.offset&&(c.offset=0);var d={methodname:"message_popup_get_popup_notifications",args:c},e=a.call([d])[0];return e.fail(b.exception),e},d=function(c){var d={methodname:"message_popup_get_unread_popup_notification_count",args:c},e=a.call([d])[0];return e.fail(b.exception),e},e=function(c){var d={methodname:"core_message_mark_all_notifications_as_read",args:c},e=a.call([d])[0];return e.fail(b.exception),e},f=function(c,d){var e={messageid:c};d&&(e.timeread=d);var f={methodname:"core_message_mark_message_read",args:e},g=a.call([f])[0];return g.fail(b.exception),g};return{query:c,countUnread:d,markAllAsRead:e,markAsRead:f}});
define('message_popup/notification_area_content_area', ["jquery","core/templates","core/notification","core/custom_interaction_events","message_popup/notification_repository","message_popup/notification_area_events"],function(a,b,c,d,e,f){var g={CONTAINER:'[data-region="notification-area"]',CONTENT:'[data-region="content"]',HEADER:'[data-region="header"]',FOOTER:'[data-region="footer"]',TOGGLE_MODE:'[data-action="toggle-mode"]'},h={HEADER:"message_popup/notification_area_content_area_header",CONTENT:"message_popup/notification_area_content_area_content",FOOTER:"message_popup/notification_area_content_area_footer"},i=function(b,c){this.root=a(b),this.container=this.root.closest(g.CONTAINER),this.userId=c,this.header=this.root.find(g.HEADER),this.content=this.root.find(g.CONTENT),this.footer=this.root.find(g.FOOTER),this.registerEventListeners()};return i.prototype.getRoot=function(){return this.root},i.prototype.getContainer=function(){return this.container},i.prototype.getUserId=function(){return this.userId},i.prototype.getHeader=function(){return this.header},i.prototype.getContent=function(){return this.content},i.prototype.getFooter=function(){return this.footer},i.prototype.show=function(){this.getContainer().addClass("show-content-area")},i.prototype.hide=function(){this.getContainer().removeClass("show-content-area")},i.prototype.setHeaderHTML=function(a){this.getHeader().empty().html(a)},i.prototype.setContentHTML=function(a){this.getContent().empty().html(a)},i.prototype.setFooterHTML=function(a){this.getFooter().empty().html(a)},i.prototype.showNotification=function(c){var d=b.render(h.HEADER,c).done(function(a){this.setHeaderHTML(a)}.bind(this)),e=b.render(h.CONTENT,c).done(function(a){this.setContentHTML(a)}.bind(this)),g=b.render(h.FOOTER,c).done(function(a){this.setFooterHTML(a)}.bind(this));return a.when(d,e,g).done(function(){this.show(),this.getContainer().trigger(f.notificationShown,[c])}.bind(this))},i.prototype.registerEventListeners=function(){d.define(this.getRoot(),[d.events.activate]),this.getRoot().on(d.events.activate,g.VIEW_TOGGLE,function(){this.hide()}.bind(this)),this.getContainer().on(f.showNotification,function(a,b){this.showNotification(b)}.bind(this))},i});
define('message_popup/notification_area_events', [],function(){return{showNotification:"notification-area-events:showNotification",notificationShown:"notification-area-events:notificationShown"}});
define('message_popup/message_popover_controller', ["jquery","core/ajax","core/templates","core/str","core/notification","core/custom_interaction_events","core/popover_region_controller","core_message/message_repository","core/url"],function(a,b,c,d,e,f,g,h,i){var j={MARK_ALL_READ_BUTTON:'[data-action="mark-all-read"]',CONTENT:'[data-region="messages"]',CONTENT_ITEM_CONTAINER:'[data-region="message-content-item-container"]',EMPTY_MESSAGE:'[data-region="empty-message"]',COUNT_CONTAINER:'[data-region="count-container"]'},k=function(a){g.call(this,a),this.markAllReadButton=this.root.find(j.MARK_ALL_READ_BUTTON),this.content=this.root.find(j.CONTENT),this.userId=this.root.attr("data-userid"),this.limit=20,this.offset=0,this.loadedAll=!1,this.initialLoad=!1,this.loadUnreadMessageCount()};return k.prototype=Object.create(g.prototype),k.prototype.constructor=k,k.prototype.getContent=function(){return this.content},k.prototype.incrementOffset=function(){this.offset+=this.limit},k.prototype.updateButtonAriaLabel=function(){this.isMenuOpen()?d.get_string("hidemessagewindow","message").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):this.unreadCount?d.get_string("showmessagewindowwithcount","message",this.unreadCount).done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):d.get_string("showmessagewindownonew","message").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this))},k.prototype.renderUnreadCount=function(){var a=this.root.find(j.COUNT_CONTAINER);this.unreadCount?(a.text(this.unreadCount),a.removeClass("hidden")):a.addClass("hidden")},k.prototype.hideUnreadCount=function(){this.root.find(j.COUNT_CONTAINER).addClass("hidden")},k.prototype.loadUnreadMessageCount=function(){h.countUnreadConversations({useridto:this.userId}).then(function(a){this.unreadCount=a,this.renderUnreadCount(),this.updateButtonAriaLabel()}.bind(this))},k.prototype.renderMessages=function(b,d){var e=[],f=[],g=[];return b.length&&a.each(b,function(a,b){b.contexturl=i.relativeUrl("/message/index.php",{user:this.userId,id:b.userid}),b.profileurl=i.relativeUrl("/user/profile.php",{id:b.userid});var d=c.render("message_popup/message_content_item",b);e.push(d),d.then(function(b,c){f[a]=b,g[a]=c})}.bind(this)),a.when.apply(a.when,e).then(function(){b.length&&a.each(b,function(a){d.append(f[a]),c.runTemplateJS(g[a])})})},k.prototype.loadMoreMessages=function(){if(this.isLoading||this.loadedAll)return a.Deferred().resolve();this.startLoading();var b={userid:this.userId,limit:this.limit,offset:this.offset},c=this.getContent();return h.query(b).then(function(a){var b=a.contacts;return this.loadedAll=!b.length||b.length<this.limit,this.initialLoad=!0,this.updateButtonAriaLabel(),!!b.length&&(this.incrementOffset(),this.renderMessages(b,c))}.bind(this)).always(function(){this.stopLoading()}.bind(this))},k.prototype.markAllAsRead=function(){return this.markAllReadButton.hasClass("loading")?a.Deferred().resolve():(this.markAllReadButton.addClass("loading"),h.markAllAsRead({useridto:this.userId}).then(function(){this.unreadCount=0,this.hideUnreadCount(),this.getContent().find(j.CONTENT_ITEM_CONTAINER).removeClass("unread")}.bind(this)).always(function(){this.markAllReadButton.removeClass("loading")}.bind(this)))},k.prototype.registerEventListeners=function(){f.define(this.root,[f.events.keyboardActivate]),this.root.on(this.events().menuOpened,function(){this.hideUnreadCount(),this.updateButtonAriaLabel(),this.initialLoad||this.loadMoreMessages()}.bind(this)),this.root.on(this.events().menuClosed,function(){this.renderUnreadCount(),this.updateButtonAriaLabel()}.bind(this)),this.root.on(f.events.scrollBottom,function(){this.loadMoreMessages()}.bind(this)),this.root.on(f.events.activate,j.MARK_ALL_READ_BUTTON,function(a,b){this.markAllAsRead(),a.stopPropagation(),b.originalEvent.preventDefault()}.bind(this)),f.define(this.getContentContainer(),[f.events.scrollLock]),a(document).on("messagearea:conversationselected",function(){this.unreadCount--,this.renderUnreadCount()}.bind(this))},k});
define('message_popup/notification_area_control_area', ["jquery","core/templates","core/notification","core/custom_interaction_events","message_popup/notification_repository","message_popup/notification_area_events"],function(a,b,c,d,e,f){var g={CONTAINER:'[data-region="notification-area"]',CONTENT:'[data-region="content"]',NOTIFICATION:'[data-region="notification-content-item-container"]',CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]'},h={NOTIFICATION:"message_popup/notification_content_item"},i=function(b,c){this.root=a(b),this.container=this.root.closest(g.CONTAINER),this.userId=c,this.content=this.root.find(g.CONTENT),this.offset=0,this.limit=20,this.initialLoad=!1,this.isLoading=!1,this.loadedAll=!1,this.notifications={},this.registerEventListeners()};return i.prototype.getRoot=function(){return this.root},i.prototype.getContainer=function(){return this.container},i.prototype.getUserId=function(){return this.userId},i.prototype.getContent=function(){return this.content},i.prototype.getOffset=function(){return this.offset},i.prototype.getLimit=function(){return this.limit},i.prototype.setOffset=function(a){this.offset=a},i.prototype.setLimit=function(a){this.limit=a},i.prototype.incrementOffset=function(){this.offset+=this.limit},i.prototype.startLoading=function(){this.isLoading=!0,this.getRoot().addClass("loading")},i.prototype.stopLoading=function(){this.isLoading=!1,this.getRoot().removeClass("loading")},i.prototype.hasDoneInitialLoad=function(){return this.initialLoad},i.prototype.hasLoadedAllContent=function(){return this.loadedAll},i.prototype.setLoadedAllContent=function(a){this.loadedAll=a},i.prototype.setCacheNotification=function(a){this.notifications[a.id]=a},i.prototype.getCacheNotification=function(a){return this.notifications[a]},i.prototype.getNotificationElement=function(a){var b=this.getRoot().find(g.NOTIFICATION+'[data-id="'+a+'"]');return 1==b.length?b:null},i.prototype.scrollNotificationIntoView=function(a){var b=a.position(),c=this.getRoot(),d=b.top-c.scrollTop();if(d>c.innerHeight()){var e=a.outerHeight();e=4*e;var f=b.top-e;c.scrollTop(f)}},i.prototype.showNotification=function(b){if("object"!=typeof b&&(b=this.getNotificationElement(b)),b&&b.length){this.getRoot().find(g.NOTIFICATION).removeClass("selected"),b.addClass("selected").find(g.CAN_RECEIVE_FOCUS).focus();var c=b.attr("data-id"),d=this.getCacheNotification(c);this.scrollNotificationIntoView(b),this.getContainer().trigger(f.showNotification,[a.extend({},d)])}},i.prototype.markNotificationAsRead=function(a){return e.markAsRead(a.attr("data-id")).done(function(){a.removeClass("unread")})},i.prototype.renderNotifications=function(d){var e=[],f=[],g=[],i=this.getContent();return d.length&&a.each(d,function(a,d){var i=d.contexturl;delete d.contexturl;var j=b.render(h.NOTIFICATION,d);e.push(j),j.then(function(b,c){f[a]=b,g[a]=c,d.contexturl=i,this.setCacheNotification(d)}.bind(this)).fail(c.exception)}.bind(this)),a.when.apply(a.when,e).then(function(){d.length&&a.each(d,function(a){i.append(f[a]),b.runTemplateJS(g[a])})})},i.prototype.loadMoreNotifications=function(){if(this.isLoading||this.hasLoadedAllContent())return a.Deferred().resolve();this.startLoading();var b={limit:this.getLimit(),offset:this.getOffset(),useridto:this.getUserId()};this.initialLoad||(b.limit=this.getOffset()+this.getLimit(),b.offset=0);var c=e.query(b).then(function(a){var b=a.notifications;return this.unreadCount=a.unreadcount,this.setLoadedAllContent(!b.length||b.length<this.getLimit()),this.initialLoad=!0,!!b.length&&(this.incrementOffset(),this.renderNotifications(b))}.bind(this)).always(function(){this.stopLoading()}.bind(this));return c},i.prototype.registerEventListeners=function(){d.define(this.getRoot(),[d.events.activate,d.events.scrollBottom,d.events.scrollLock,d.events.up,d.events.down]),this.getRoot().on(d.events.scrollBottom,function(){this.loadMoreNotifications()}.bind(this)),this.getRoot().on(d.events.activate,g.NOTIFICATION,function(b){var c=a(b.target).closest(g.NOTIFICATION);this.showNotification(c)}.bind(this)),this.getRoot().on(d.events.up,g.NOTIFICATION,function(b,c){var d=a(b.target).closest(g.NOTIFICATION);this.showNotification(d.prev()),c.originalEvent.preventDefault()}.bind(this)),this.getRoot().on(d.events.down,g.NOTIFICATION,function(b,c){var d=a(b.target).closest(g.NOTIFICATION);this.showNotification(d.next()),c.originalEvent.preventDefault()}.bind(this)),this.getContainer().on(f.notificationShown,function(a,b){if(!b.read){var c=this.getNotificationElement(b.id);c&&this.markNotificationAsRead(c);var d=this.getCacheNotification(b.id);d&&(d.read=!0)}}.bind(this))},i});
define('block_myoverview/event_list', ["jquery","core/notification","core/templates","core/custom_interaction_events","block_myoverview/calendar_events_repository"],function(a,b,c,d,e){var f=86400,g={EMPTY_MESSAGE:'[data-region="empty-message"]',ROOT:'[data-region="event-list-container"]',EVENT_LIST:'[data-region="event-list"]',EVENT_LIST_CONTENT:'[data-region="event-list-content"]',EVENT_LIST_GROUP_CONTAINER:'[data-region="event-list-group-container"]',LOADING_ICON_CONTAINER:'[data-region="loading-icon-container"]',VIEW_MORE_BUTTON:'[data-action="view-more"]'},h={EVENT_LIST_ITEMS:"block_myoverview/event-list-items",COURSE_EVENT_LIST_ITEMS:"block_myoverview/course-event-list-items"},i=function(a){a.attr("data-loaded-all",!0)},j=function(a){return!!a.attr("data-loaded-all")},k=function(a){var b=a.find(g.LOADING_ICON_CONTAINER),c=a.find(g.VIEW_MORE_BUTTON);a.addClass("loading"),b.removeClass("hidden"),c.prop("disabled",!0)},l=function(a){var b=a.find(g.LOADING_ICON_CONTAINER),c=a.find(g.VIEW_MORE_BUTTON);a.removeClass("loading"),b.addClass("hidden"),j(a)||c.prop("disabled",!1)},m=function(a){return a.hasClass("loading")},n=function(a){a.attr("data-has-events",!0)},o=function(a){return!!a.attr("data-has-events")},p=function(a,b){b?n(a):o(a)||q(a)},q=function(a){a.find(g.EVENT_LIST_CONTENT).addClass("hidden"),a.find(g.EMPTY_MESSAGE).removeClass("hidden")},r=function(a,b,d){return a.removeClass("hidden"),c.render(d,{events:b}).done(function(b,d){c.appendNodeContents(a.find(g.EVENT_LIST),b,d)})},s=function(a,b){var c=b.timesort||0;return c-a},t=function(a,b,c){var d=a.attr("data-midnight"),e=+c.attr("data-start-day")*f,g=+c.attr("data-end-day")*f,h=s(d,b);return""===c.attr("data-end-day")?e<=h:e<=h&&h<g},u=function(b,c){return function(d){return t(b,d,a(c))}},v=function(b,c){var d=0,e=h.EVENT_LIST_ITEMS;return b.attr("data-course-id")&&(e=h.COURSE_EVENT_LIST_ITEMS),a.when.apply(a,a.map(b.find(g.EVENT_LIST_GROUP_CONTAINER),function(f){var g=c.filter(u(b,f));return g.length?(d+=g.length,r(a(f),g,e)):null})).then(function(){return d})},w=function(c,d){c=a(c);var g=+c.attr("data-limit"),h=+c.attr("data-course-id"),j=c.attr("data-last-id"),n=c.attr("data-midnight"),o=n-14*f;if(m(c))return a.Deferred().resolve();if(k(c),"undefined"==typeof d){var q={starttime:o,limit:g};j&&(q.aftereventid=j),h?(q.courseid=h,d=e.queryByCourse(q)):d=e.queryByTime(q)}return d.then(function(a){return a.events}).then(function(a){return(!a.length||a.length<g)&&i(c),a.length?(c.attr("data-last-id",a[a.length-1].id),v(c,a).then(function(b){p(c,a.length),b<a.length&&i(c)})):void p(c,a.length)}).fail(b.exception).always(function(){l(c)})},x=function(a){d.define(a,[d.events.activate]),a.on(d.events.activate,g.VIEW_MORE_BUTTON,function(){w(a)})};return{init:function(b){b=a(b),w(b),x(b)},registerEventListeners:x,load:w,rootSelector:g.ROOT}});
define('block_myoverview/tab_preferences', ["jquery","core/ajax","core/custom_interaction_events","core/notification"],function(a,b,c,d){var e=function(e){c.define(e,[c.events.activate]),e.on(c.events.activate,"[data-toggle='tab']",function(c){var e=a(c.currentTarget).data("tabname");"function"==typeof window.history.pushState&&window.history.pushState(null,null,"?myoverviewtab="+e);var f={methodname:"core_user_update_user_preferences",args:{preferences:[{type:"block_myoverview_last_tab",value:e}]}};b.call([f])[0].fail(d.exception)})};return{registerEventListeners:e}});
define('block_myoverview/paging_bar', ["jquery","core/custom_interaction_events"],function(a,b){var c={ROOT:'[data-region="paging-bar"]',PAGE_ITEM:'[data-region="page-item"]',ACTIVE_PAGE_ITEM:'[data-region="page-item"].active'},d={PAGE_SELECTED:"block_myoverview-paging-bar-page-selected"},e=function(a,b){return a.find(c.PAGE_ITEM+'[data-page-number="'+b+'"]')},f=function(a,b){var c=b.attr("data-page-number");return"first"==c?c=1:"last"==c&&(c=a.attr("data-page-count")),c},g=function(g){g=a(g),b.define(g,[b.events.activate]),g.on(b.events.activate,c.PAGE_ITEM,function(b,h){var i=a(b.target).closest(c.PAGE_ITEM),j=g.find(c.ACTIVE_PAGE_ITEM),k=f(g,i),l=k==f(g,j);l||(g.find(c.PAGE_ITEM).removeClass("active"),e(g,k).addClass("active")),g.trigger(d.PAGE_SELECTED,[{pageNumber:k,isSamePage:l}]),h.originalEvent.preventDefault()})};return{registerEventListeners:g,events:d,rootSelector:c.ROOT}});
define('block_myoverview/paging_content', ["jquery","core/templates","block_myoverview/paging_bar"],function(a,b,c){var d={ROOT:'[data-region="paging-content"]',PAGE_REGION:'[data-region="paging-content-item"]'},e=function(b,c){this.root=a(b),this.pagingBar=a(c)};return e.rootSelector=d.ROOT,e.prototype.createPage=function(a){return this.loadContent(a).then(function(a,c){b.appendNodeContents(this.root,a,c)}.bind(this)).then(function(){return this.findPage(a)}.bind(this))},e.prototype.findPage=function(a){return this.root.find('[data-page="'+a+'"]')},e.prototype.showPage=function(a){var b=this.findPage(a);this.root.find(d.PAGE_REGION).addClass("hidden"),b.length?b.removeClass("hidden"):this.createPage(a).done(function(a){a.removeClass("hidden")})},e.prototype.registerEventListeners=function(){this.pagingBar.on(c.events.PAGE_SELECTED,function(a,b){b.isSamePage||this.showPage(b.pageNumber)}.bind(this))},e});
define('block_myoverview/event_list_by_course', ["jquery","block_myoverview/event_list","block_myoverview/calendar_events_repository"],function(a,b,c){var d=86400,e={EVENTS_BY_COURSE_CONTAINER:'[data-region="course-events-container"]',EVENT_LIST_CONTAINER:'[data-region="event-list-container"]'},f=function(f){var g=f.find(e.EVENTS_BY_COURSE_CONTAINER);if(g.length){var h=g.find(e.EVENT_LIST_CONTAINER).first(),i=h.attr("data-midnight"),j=i-14*d,k=h.attr("data-limit"),l=g.map(function(){return a(this).attr("data-course-id")}).get(),m=c.queryByCourses({courseids:l,starttime:j,limit:k});g.each(function(c,d){d=a(d);var e=d.attr("data-course-id"),f=d.find(b.rootSelector),g=a.Deferred();m.done(function(a){var b=[],c=a.groupedbycourse.filter(function(a){return a.courseid==e});c.length&&(b=c[0].events),g.resolve({events:b})}).fail(function(a){g.reject(a)}),b.load(f,g)})}};return{init:function(b){b=a(b),f(b)}}});
define('block_myoverview/calendar_events_repository', ["jquery","core/ajax","core/notification"],function(a,b,c){var d=20,e=function(a){a.hasOwnProperty("limit")||(a.limit=d),a.limitnum=a.limit,delete a.limit,a.hasOwnProperty("starttime")&&(a.timesortfrom=a.starttime,delete a.starttime),a.hasOwnProperty("endtime")&&(a.timesortto=a.endtime,delete a.endtime);var e={methodname:"core_calendar_get_action_events_by_course",args:a},f=b.call([e])[0];return f.fail(c.exception),f},f=function(a){a.hasOwnProperty("limit")||(a.limit=10),a.limitnum=a.limit,delete a.limit,a.hasOwnProperty("starttime")&&(a.timesortfrom=a.starttime,delete a.starttime),a.hasOwnProperty("endtime")&&(a.timesortto=a.endtime,delete a.endtime);var d={methodname:"core_calendar_get_action_events_by_courses",args:a},e=b.call([d])[0];return e.fail(c.exception),e},g=function(a){a.hasOwnProperty("limit")||(a.limit=d),a.limitnum=a.limit,delete a.limit,a.hasOwnProperty("starttime")&&(a.timesortfrom=a.starttime,delete a.starttime),a.hasOwnProperty("endtime")&&(a.timesortto=a.endtime,delete a.endtime);var e={methodname:"core_calendar_get_action_events_by_timesort",args:a},f=b.call([e])[0];return f.fail(c.exception),f};return{queryByTime:g,queryByCourse:e,queryByCourses:f}});
define('block_navigation/site_admin_loader', ["jquery","core/ajax","core/config","block_navigation/ajax_response_renderer"],function(a,b,c,d){var e=71,f=c.wwwroot+"/lib/ajax/getsiteadminbranch.php";return{load:function(b){b=a(b);var g=a.Deferred(),h={type:e,sesskey:c.sesskey},i={type:"POST",dataType:"json",data:h};return a.ajax(f,i).done(function(a){d.render(b,a),g.resolve()}),g}}});
define('block_navigation/navblock', ["jquery","core/tree"],function(a,b){return{init:function(a){var c=new b(".block_navigation .block_tree");c.finishExpandingGroup=function(c){b.prototype.finishExpandingGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})},c.collapseGroup=function(c){b.prototype.collapseGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})}}}});
define('block_navigation/ajax_response_renderer', ["jquery","core/templates","core/notification","core/url"],function(a,b,c,d){function e(g,h){var i=a("<ul></ul>");i.attr("role","group"),i.attr("aria-hidden",!0),a.each(h,function(g,h){if("object"==typeof h){var j=a("<li></li>"),k=a("<p></p>"),l=h.id||h.key+"_tree_item",m=null,n=!(!h.expandable&&!h.haschildren);k.addClass("tree_item"),k.attr("id",l),k.attr("role","treeitem"),k.attr("tabindex","-1"),h.requiresajaxloading&&(k.attr("data-requires-ajax",!0),k.attr("data-node-id",h.id),k.attr("data-node-key",h.key),k.attr("data-node-type",h.type)),n&&(j.addClass("collapsed contains_branch"),k.attr("aria-expanded",!1),k.addClass("branch"));var o=null;if(h.link){var p=a('<a title="'+h.title+'" href="'+h.link+'"></a>');o=p,p.append('<span class="item-content-wrap">'+h.name+"</span>"),h.hidden&&p.addClass("dimmed"),k.append(p)}else{var q=a("<span></span>");o=q,q.append('<span class="item-content-wrap">'+h.name+"</span>"),h.hidden&&q.addClass("dimmed"),k.append(q)}!h.icon||n&&h.type!==f.ACTIVITY&&h.type!==f.RESOURCE||(j.addClass("item_with_icon"),k.addClass("hasicon"),h.type===f.ACTIVITY||h.type===f.RESOURCE?(m=a("<img/>"),m.attr("alt",h.icon.alt),m.attr("title",h.icon.title),m.attr("src",d.imageUrl(h.icon.pix,h.icon.component)),a.each(h.icon.classes,function(a,b){m.addClass(b)}),o.prepend(m)):("moodle"==h.icon.component&&(h.icon.component="core"),b.renderPix(h.icon.pix,h.icon.component,h.icon.title).then(function(a){o.prepend(a)})["catch"](c.exception))),j.append(k),i.append(j),h.children&&h.children.length?e(k,h.children):n&&!h.requiresajaxloading&&(j.removeClass("contains_branch"),k.addClass("emptybranch"))}}),g.parent().append(i);var j=g.attr("id")+"_group";i.attr("id",j),g.attr("aria-owns",j),g.attr("role","treeitem")}var f={ACTIVITY:40,RESOURCE:50};return{render:function(a,b){if(b.children&&b.children.length){e(a,b.children);var c=a.children("[role='treeitem']").first(),d=a.find("#"+c.attr("aria-owns"));c.attr("aria-expanded",!0),d.attr("aria-hidden",!1)}else a.parent().hasClass("contains_branch")&&(a.parent().removeClass("contains_branch"),a.addClass("emptybranch"))}}});
define('block_navigation/nav_loader', ["jquery","core/ajax","core/config","block_navigation/ajax_response_renderer"],function(a,b,c,d){function e(a){return a.closest("[data-block]").attr("data-instanceid")}var f=c.wwwroot+"/lib/ajax/getnavbranch.php";return{load:function(b){b=a(b);var g=a.Deferred(),h={elementid:b.attr("data-node-id"),id:b.attr("data-node-key"),type:b.attr("data-node-type"),sesskey:c.sesskey,instance:e(b)},i={type:"POST",dataType:"json",data:h};return a.ajax(f,i).done(function(a){d.render(b,a),g.resolve()}),g}}});
define('block_settings/settingsblock', ["jquery","core/tree"],function(a,b){return{init:function(a,c){var d=new b(".block_settings .block_tree");if(c){var e=d.treeRoot.find("#"+c),f=e.children("a").first();f.replaceWith('<span tabindex="0">'+f.html()+"</span>")}d.finishExpandingGroup=function(c){b.prototype.finishExpandingGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})},d.collapseGroup=function(c){b.prototype.collapseGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})}}}});
define('media_videojs/loader', ["jquery","core/event"],function(a,b){var c,d=function(d){c=d,e(null,a("body")),b.getLegacyEvents().done(function(b){a(document).on(b.FILTER_CONTENT_UPDATED,e)})},e=function(b,d){var e=".mediaplugin_videojs";d.find(e).addBack(e).find("audio, video").each(function(){var b=a(this).attr("id"),d=a(this).data("setup-lazy"),e=["media_videojs/video-lazy"];d.techOrder&&d.techOrder.indexOf("youtube")!==-1&&e.push("media_videojs/Youtube-lazy"),require(e,function(a){c&&(c(a),c=null),a(b,d)})})};return{setUp:d}});
define('report_competency/user_course_navigation', ["jquery"],function(a){var b=function(b,c,d,e){this._baseUrl=c,this._userId=d+"",this._courseId=e,a(b).on("change",this._userChanged.bind(this))};return b.prototype._userChanged=function(b){var c=a(b.target).val(),d="?user="+c+"&id="+this._courseId;document.location=this._baseUrl+d},b.prototype._userId=null,b.prototype._courseId=null,b.prototype._baseUrl=null,b});
define('report_competency/grading_popup', ["jquery","core/notification","core/str","core/ajax","core/log","core/templates","tool_lp/dialogue"],function(a,b,c,d,e,f,g){var h=function(b,c){this._regionSelector=b,this._userCompetencySelector=c,a(this._regionSelector).on("click",this._userCompetencySelector,this._handleClick.bind(this))};return h.prototype._handleClick=function(c){var f=a(c.target).closest(this._userCompetencySelector),g=a(f).data("competencyid"),h=a(f).data("courseid"),i=a(f).data("userid");e.debug("Clicked on cell: competencyId="+g+", courseId="+h+", userId="+i);var j=d.call([{methodname:"tool_lp_data_for_user_competency_summary_in_course",args:{userid:i,competencyid:g,courseid:h},done:this._contextLoaded.bind(this),fail:b.exception}]);j[0].then(function(){d.call([{methodname:"core_competency_user_competency_viewed_in_course",args:{userid:i,competencyid:g,courseid:h},fail:b.exception}])})},h.prototype._contextLoaded=function(a){var d=this;a.displayuser=!0,f.render("tool_lp/user_competency_summary_in_course",a).done(function(a,e){c.get_string("usercompetencysummary","report_competency").done(function(b){new g(b,a,f.runTemplateJS.bind(f,e),d._refresh.bind(d),(!0))}).fail(b.exception)}).fail(b.exception)},h.prototype._refresh=function(){var c=a(this._regionSelector),e=c.data("courseid"),f=c.data("userid");d.call([{methodname:"report_competency_data_for_report",args:{courseid:e,userid:f},done:this._pageContextLoaded.bind(this),fail:b.exception}])},h.prototype._pageContextLoaded=function(a){var c=this;f.render("report_competency/report",a).done(function(a,b){f.replaceNode(c._regionSelector,a,b)}).fail(b.exception)},h.prototype._regionSelector=null,h.prototype._userCompetencySelector=null,h});
define('gradingform_guide/comment_chooser', ["jquery","core/templates","core/notification","core/yui"],function(a,b,c){return{initialise:function(d,e,f,g){function h(b,c){var e="<label>"+M.util.get_string("insertcomment","gradingform_guide")+"</label>",g="comment-chooser-"+d+"-cancel",h='<button id="'+g+'">'+M.util.get_string("cancel","moodle")+"</button>",i=new M.core.dialogue({modal:!0,headerContent:e,bodyContent:b,footerContent:h,focusAfterHide:"#"+f,id:"comments-chooser-dialog-"+d});a("#"+g).click(function(){i.hide()}),a.each(c,function(b,c){var e="#comment-option-"+d+"-"+c.id;a(e).click(function(){var b=a("#"+f),d=b.val();""!==a.trim(d)&&(d+="\n"),d+=c.description,b.val(d),i.hide()}),a(document).off("keypress",e).on("keypress",e,function(){var b=event.which||event.keyCode;13!=b&&32!=b||a(e).click()})}),i.after("visibleChange",function(a){a.prevVal&&!a.newVal&&this.destroy()},i),i.show()}function i(){var a={criterionId:d,comments:g};b.render("gradingform_guide/comment_chooser",a).done(function(a){h(a,g)}).fail(c.exception)}a("#"+e).click(function(a){a.preventDefault(),i()})}}});
define('tool_lp/dragdrop-reorder', ["core/str","core/yui"],function(a,b){var c=null,d=function(a){var b=a.drag.get("node"),c=a.drop.get("node");this.callback(b.getDOMNode(),c.getDOMNode())};return{dragdrop:function(e,f,g,h,i,j,k,l){a.get_strings([{key:"emptydragdropregion",component:"moodle"},{key:"movecontent",component:"moodle"},{key:"tocontent",component:"moodle"}]).done(function(){b.use("moodle-tool_lp-dragdrop-reorder",function(){var a={callback:l};c&&c.destroy(),c=M.tool_lp.dragdrop_reorder({group:e,dragHandleText:f,sameNodeText:g,parentNodeText:h,sameNodeClass:i,parentNodeClass:j,dragHandleInsertClass:k,callback:b.bind(d,a)})})})}}});
define('tool_lp/competencytree', ["core/ajax","core/notification","core/templates","tool_lp/tree","tool_lp/competency_outcomes","jquery"],function(a,b,c,d,e,f){var g={},h=0,i="",j="",k="",l=!1,m=function(a,b){var c=0,d=!1;for(a.haschildren=!1,a.children=[],c=0;c<b.length;c++)d=b[c],d.parentid==a.id&&(a.haschildren=!0,a.children.push(d),m(d,b))},n=function(b){var e=f.Deferred();return c.render("tool_lp/loading",{}).done(function(n,o){c.replaceNodeContents(f(j),n,o);var p=a.call([{methodname:"core_competency_search_competencies",args:{searchtext:b,competencyframeworkid:h}}]);p[0].done(function(a){g={};var b=0;for(b=0;b<a.length;b++)g[a[b].id]=a[b];var h=[],n=!1;for(b=0;b<a.length;b++)n=a[b],0===parseInt(n.parentid,10)&&(h.push(n),m(n,a));var o={shortname:i,canmanage:l,competencies:h};c.render("tool_lp/competencies_tree_root",o).done(function(a,b){c.replaceNodeContents(f(j),f(a).html(),b);var h=new d(j,(!1));if(k){var i=f(j).find("[data-id="+k+"]");i.length&&(h.selectItem(i),h.updateFocus(i))}e.resolve(g)}).fail(e.reject)}).fail(e.reject)}),e.promise()},o=function(a,b){var c=b.selected;k=c.attr("data-id")};return{init:function(a,c,d,e,f){h=a,i=c,l=f,j=e,n(d).fail(b.exception),this.on("selectionchanged",o)},on:function(a,b){f(j).on(a,b)},getChildren:function(a){var b=[];return f.each(g,function(c,d){d.parentid==a&&b.push(d)}),b},getCompetencyFrameworkId:function(){return h},getCompetency:function(a){return g[a]},getCompetencyLevel:function(a){var b=this.getCompetency(a),c=b.path.replace(/^\/|\/$/g,"").split("/").length;return c},hasChildren:function(a){return this.getChildren(a).length>0},hasRule:function(a){var b=this.getCompetency(a);return!!b&&(b.ruleoutcome!=e.OUTCOME_NONE&&b.ruletype)},reloadCompetencies:function(){return n("").fail(b.exception)},listCompetencies:function(){return g}}});
define('tool_lp/competency_rule_points', ["jquery","core/str","core/templates","tool_lp/competency_rule"],function(a,b,c,d){var e=function(){d.apply(this,arguments)};return e.prototype=Object.create(d.prototype),e.prototype._container=null,e.prototype._templateLoaded=!1,e.prototype.getConfig=function(){return JSON.stringify({base:{points:this._getRequiredPoints()},competencies:this._getCompetenciesConfig()})},e.prototype._getCompetenciesConfig=function(){var b=[];return this._container.find("[data-competency]").each(function(){var c=a(this),d=c.data("competency"),e=parseInt(c.find('[name="points"]').val(),10),f=c.find('[name="required"]').prop("checked");b.push({id:d,points:e,required:f?1:0})}),b},e.prototype._getRequiredPoints=function(){return parseInt(this._container.find('[name="requiredpoints"]').val()||1,10)},e.prototype.getType=function(){return"core_competency\\competency_rule_points"},e.prototype.injectTemplate=function(b){var d,e=this,f=this._tree.getChildren(this._competency.id),g={base:{points:2},competencies:[]};if(this._templateLoaded=!1,e._competency.ruletype==e.getType())try{g=JSON.parse(e._competency.ruleconfig)}catch(h){}return d={requiredpoints:g&&g.base?g.base.points:2,competency:e._competency,children:[]},a.each(f,function(b,c){var e={id:c.id,shortname:c.shortname,required:!1,points:0};g&&a.each(g.competencies,function(a,b){b.id==e.id&&(e.required=!!b.required,e.points=b.points)}),d.children.push(e)}),c.render("tool_lp/competency_rule_points",d).then(function(a){e._container=b,b.html(a),b.find("input").change(function(){e._triggerChange()}),e._templateLoaded=!0,e._triggerChange()})},e.prototype.isValid=function(){if(!this._templateLoaded)return!1;var b=this._getRequiredPoints(),c=0,d=!0;return a.each(this._getCompetenciesConfig(),function(a,b){b.points<0&&(d=!1),c+=b.points}),d=d&&c>=b},e});
define('tool_lp/competency_plan_navigation', ["jquery"],function(a){var b=function(b,c,d,e,f){this._baseUrl=c,this._userId=d+"",this._competencyId=e+"",this._planId=f,this._ignoreFirstCompetency=!0,a(b).on("change",this._competencyChanged.bind(this))};return b.prototype._competencyChanged=function(b){if(this._ignoreFirstCompetency)return void(this._ignoreFirstCompetency=!1);var c=a(b.target).val(),d="?userid="+this._userId+"&planid="+this._planId+"&competencyid="+c;document.location=this._baseUrl+d},b.prototype._competencyId=null,b.prototype._userId=null,b.prototype._planId=null,b.prototype._baseUrl=null,b.prototype._ignoreFirstCompetency=null,b});
define('tool_lp/user_competency_info', ["jquery","core/notification","core/ajax","core/templates"],function(a,b,c,d){var e=function(a,b,c,d,e,f){this._rootElement=a,this._competencyId=b,this._userId=c,this._planId=d,this._courseId=e,this._valid=!0,this._displayuser="undefined"!=typeof f&&f,this._planId?(this._methodName="tool_lp_data_for_user_competency_summary_in_plan",this._args={competencyid:this._competencyId,planid:this._planId},this._templateName="tool_lp/user_competency_summary_in_plan"):this._courseId?(this._methodName="tool_lp_data_for_user_competency_summary_in_course",this._args={userid:this._userId,competencyid:this._competencyId,courseid:this._courseId},this._templateName="tool_lp/user_competency_summary_in_course"):(this._methodName="tool_lp_data_for_user_competency_summary",this._args={userid:this._userId,competencyid:this._competencyId},this._templateName="tool_lp/user_competency_summary")};return e.prototype.reload=function(){var a=this,e=[];this._valid&&(e=c.call([{methodname:this._methodName,args:this._args}]),e[0].done(function(c){a._displayuser&&(c.displayuser=!0),d.render(a._templateName,c).done(function(b,c){d.replaceNode(a._rootElement,b,c)}).fail(b.exception)}).fail(b.exception))},e.prototype._rootElement=null,e.prototype._courseId=null,e.prototype._valid=null,e.prototype._planId=null,e.prototype._competencyId=null,e.prototype._userId=null,e.prototype._methodName=null,e.prototype._args=null,e.prototype._templateName=null,e.prototype._displayuser=!1,e});
define('tool_lp/competencyruleconfig', ["jquery","core/notification","core/templates","tool_lp/dialogue","tool_lp/competency_outcomes","core/str"],function(a,b,c,d,e,f){var g=function(b,c){this._eventNode=a("<div></div>"),this._tree=b,this._rulesModules=c,this._setUp()};return g.prototype._competency=null,g.prototype._eventNode=null,g.prototype._outcomesOption=null,g.prototype._popup=null,g.prototype._ready=null,g.prototype._rules=null,g.prototype._rulesModules=null,g.prototype._tree=null,g.prototype._afterChange=function(){this._isValid()?this._find('[data-action="save"]').prop("disabled",!1):this._find('[data-action="save"]').prop("disabled",!0)},g.prototype._afterRuleConfigChange=function(a,b){b==this._getRule()&&this._afterChange()},g.prototype._afterRender=function(){var a=this;a._find('[name="outcome"]').on("change",function(){a._switchedOutcome()}).trigger("change"),a._find('[name="rule"]').on("change",function(){a._switchedRule()}).trigger("change"),a._find('[data-action="save"]').on("click",function(){a._trigger("save",a._getConfig()),a.close()}),a._find('[data-action="cancel"]').on("click",function(){a.close()})},g.prototype.canBeConfigured=function(){var b=!1;return a.each(this._rules,function(a,c){if(c.canConfig())return void(b=!0)}),b},g.prototype.close=function(){this._popup.close(),this._popup=null},g.prototype.display=function(){var a=this;return!!a._competency&&a._render().then(function(b){return f.get_string("competencyrule","tool_lp").then(function(c){a._popup=new d(c,b,a._afterRender.bind(a))})}).fail(b.exception)},g.prototype._find=function(b){return a(this._popup.getContent()).find(b)},g.prototype._getApplicableOutcomesOptions=function(){var b=this,c=[];return a.each(b._outcomesOption,function(a,d){c.push({code:d.code,name:d.name,selected:d.code==b._competency.ruleoutcome})}),c},g.prototype._getApplicableRulesOptions=function(){var b=this,c=[];return a.each(b._rules,function(a,d){d.canConfig()&&c.push({name:b._getRuleName(d.getType()),type:d.getType(),selected:d.getType()==b._competency.ruletype})}),c},g.prototype._getConfig=function(){var a=this._getRule();return{ruletype:a?a.getType():null,ruleconfig:a?a.getConfig():null,ruleoutcome:this._getOutcome()}},g.prototype._getOutcome=function(){return this._find('[name="outcome"]').val()},g.prototype._getRule=function(){var b,c=this._find('[name="rule"]').val();return a.each(this._rules,function(a,d){if(d.getType()==c)return void(b=d)}),b},g.prototype._getRuleName=function(b){var c,d=this;return a.each(d._rulesModules,function(a,d){if(d.type==b)return void(c=d.name)}),c},g.prototype._initOutcomes=function(){var a=this;return e.getAll().then(function(b){a._outcomesOption=b})},g.prototype._initRules=function(){var b=this,c=[];return a.each(b._rules,function(d,e){var f=e.init().then(function(){e.setTargetCompetency(b._competency),e.on("change",b._afterRuleConfigChange.bind(b))},function(){return b._rules.splice(d,1),a.when()});c.push(f)}),a.when.apply(a.when,c)},g.prototype._isValid=function(){var a=this._getOutcome(),b=this._getRule();return a==e.NONE||!!b&&b.isValid()},g.prototype.on=function(a,b){this._eventNode.on(a,b)},g.prototype._preRender=function(){return this.ready()},g.prototype.ready=function(){return this._ready.promise()},g.prototype._render=function(){var a=this;return this._preRender().then(function(){var b;a.canBeConfigured()?(b={},b.outcomes=a._getApplicableOutcomesOptions(),b.rules=a._getApplicableRulesOptions()):b=!1;var d={competencyshortname:a._competency.shortname,config:b};return c.render("tool_lp/competency_rule_config",d)})},g.prototype.setTargetCompetencyId=function(b){var c=this;c._competency=c._tree.getCompetency(b),a.each(c._rules,function(a,b){b.setTargetCompetency(c._competency)})},g.prototype._setUp=function(){var b=this,c=[],d=[];b._ready=a.Deferred(),b._rules=[],a.each(b._rulesModules,function(a,b){d.push(b.amd)}),require(d,function(){a.each(arguments,function(a,c){var d=new c(b._tree);b._rules.push(d)}),c.push(b._initRules()),c.push(b._initOutcomes()),a.when.apply(a.when,c).always(function(){b._ready.resolve()})})},g.prototype._switchedOutcome=function(){var a=this,b=a._getOutcome();return b==e.NONE?(a._find('[data-region="rule-type"]').hide().find('[name="rule"]').val(-1),a._find('[data-region="rule-config"]').empty().hide(),void a._afterChange()):(a._find('[data-region="rule-type"]').show(),a._find('[data-region="rule-config"]').show(),void a._afterChange())},g.prototype._switchedRule=function(){var a=this,b=a._find('[data-region="rule-config"]'),c=a._getRule();return c?void c.injectTemplate(b).then(function(){b.show()},function(){b.empty().hide()}).always(function(){a._afterChange()}):(b.empty().hide(),void a._afterChange())},g.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},g});
define('tool_lp/competencydialogue', ["jquery","core/notification","core/ajax","core/templates","core/str","tool_lp/dialogue"],function(a,b,c,d,e,f){var g,h=function(){};return h.prototype.triggerCompetencyViewedEvent=function(a){c.call([{methodname:"core_competency_competency_viewed",args:{id:a}}])},h.prototype.showDialogue=function(a,c){var e=this.getCompetencyDataPromise(a,c),g=this;e.done(function(c){d.render("tool_lp/competency_summary",c).done(function(b){g.triggerCompetencyViewedEvent(a),new f(c.competency.shortname,b)}).fail(b.exception)}).fail(b.exception)},h.prototype.showDialogueFromData=function(a){var c=this;d.render("tool_lp/competency_summary",a).done(function(b){c.triggerCompetencyViewedEvent(a.id),new f(a.shortname,b,c.enhanceDialogue)}).fail(b.exception)},h.prototype.clickEventHandler=function(b){var c=b.data.compdialogue,d=a(b.currentTarget),e=d.data("id"),f=!d.data("excluderelated"),g=d.data("includecourses");c.showDialogue(e,{includerelated:f,includecourses:g}),b.preventDefault()},h.prototype.getCompetencyDataPromise=function(a,d){var e=c.call([{methodname:"tool_lp_data_for_competency_summary",args:{competencyid:a,includerelated:d.includerelated||!1,includecourses:d.includecourses||!1}}]);return e[0].then(function(a){return a}).fail(b.exception)},{init:function(){"undefined"==typeof g&&(g=new h,a("body").delegate('[data-action="competency-dialogue"]',"click",{compdialogue:g},g.clickEventHandler.bind(g)))}}});
define('tool_lp/parentcompetency_form', ["jquery","core/ajax","core/str","tool_lp/competencypicker","core/templates","core/notification"],function(a,b,c,d,e,f){var g=function(a,b,c,d,e){this.buttonSelector=a,this.inputHiddenSelector=b,this.staticElementSelector=c,this.frameworkId=d,this.pageContextId=e,this.registerEvents()};return g.prototype.buttonSelector=null,g.prototype.inputHiddenSelector=null,g.prototype.staticElementSelector=null,g.prototype.frameworkId=null,g.prototype.pageContextId=null,g.prototype.setParent=function(d){var e=this;0!==d.competencyId?b.call([{methodname:"core_competency_read_competency",args:{id:d.competencyId}}])[0].done(function(b){a(e.staticElementSelector).html(b.shortname),a(e.inputHiddenSelector).val(b.id)}).fail(f.exception):c.get_string("competencyframeworkroot","tool_lp").then(function(b){a(e.staticElementSelector).html(b),a(e.inputHiddenSelector).val(d.competencyId)}).fail(f.exception)},g.prototype.registerEvents=function(){var b=this;a(b.buttonSelector).on("click",function(a){a.preventDefault();var c=new d(b.pageContextId,b.frameworkId,"self",(!1));c._render=function(){var a=this;return a._preRender().then(function(){var b={competencies:a._competencies,framework:a._getFramework(a._frameworkId),frameworks:a._frameworks,search:a._searchText,singleFramework:a._singleFramework};return e.render("tool_lp/competency_picker_competencyform",b)})},c.on("save",function(a,c){b.setParent(c)}),c.display()})},{init:function(a,b,c,d,e){new g(a,b,c,d,e)}}});
define('tool_lp/competencypicker', ["jquery","core/notification","core/ajax","core/templates","tool_lp/dialogue","core/str","tool_lp/tree"],function(a,b,c,d,e,f,g){var h=function(b,c,d,e){var f=this;f._eventNode=a("<div></div>"),f._frameworks=[],f._reset(),f._pageContextId=b,f._pageContextIncludes=d||"children",f._multiSelect="undefined"==typeof e||e===!0,c&&(f._frameworkId=c,f._singleFramework=!0)};return h.prototype._competencies=null,h.prototype._disallowedCompetencyIDs=null,h.prototype._eventNode=null,h.prototype._frameworks=null,h.prototype._frameworkId=null,h.prototype._pageContextId=null,h.prototype._pageContextIncludes=null,h.prototype._popup=null,h.prototype._searchText="",h.prototype._selectedCompetencies=null,h.prototype._singleFramework=!1,h.prototype._multiSelect=!0,h.prototype._onlyVisible=!0,h.prototype._afterRender=function(){var b=this,c=new g(b._find("[data-enhance=linktree]"),b._multiSelect);b._find("[data-enhance=linktree]").show(),c.on("selectionchanged",function(c,d){var e=d.selected;c.preventDefault();var f=[];a.each(e,function(c,d){var e=a(d).data("id"),g=!0;"undefined"==typeof e?g=!1:a.each(b._disallowedCompetencyIDs,function(a,b){b==e&&(g=!1)}),g&&f.push(e)}),b._selectedCompetencies=f,b._selectedCompetencies.length?b._find('[data-region="competencylinktree"] [data-action="add"]').removeAttr("disabled"):b._find('[data-region="competencylinktree"] [data-action="add"]').attr("disabled","disabled")}),b._singleFramework||b._find('[data-action="chooseframework"]').change(function(c){b._frameworkId=a(c.target).val(),b._loadCompetencies().then(b._refresh.bind(b))}),b._find('[data-region="filtercompetencies"] button').click(function(c){return c.preventDefault(),a(c.target).attr("disabled","disabled"),b._searchText=b._find('[data-region="filtercompetencies"] input').val()||"",b._refresh().always(function(){a(c.target).removeAttr("disabled")})}),b._find('[data-region="competencylinktree"] [data-action="cancel"]').click(function(a){a.preventDefault(),b.close()}),b._find('[data-region="competencylinktree"] [data-action="add"]').click(function(a){a.preventDefault(),b._selectedCompetencies.length&&(b._multiSelect?b._trigger("save",{competencyIds:b._selectedCompetencies}):b._trigger("save",{competencyId:b._selectedCompetencies[0]}),b.close())});var d=b._selectedCompetencies.slice(0);a.each(d,function(a,d){var e=b._find("[data-id="+d+"]");e.length&&(c.toggleItem(e),c.updateFocus(e))})},h.prototype.close=function(){var a=this;a._popup.close(),a._reset()},h.prototype.display=function(){var a=this;return a._render().then(function(b){return f.get_string("competencypicker","tool_lp").then(function(c){a._popup=new e(c,b,a._afterRender.bind(a))})}).fail(b.exception)},h.prototype._fetchCompetencies=function(a,d){var e=this;return c.call([{methodname:"core_competency_search_competencies",args:{searchtext:d,competencyframeworkid:a}}])[0].done(function(a){function b(a,c){for(var d=0;d<c.length;d++)c[d].parentid==a.id&&(a.haschildren=!0,c[d].children=[],c[d].haschildren=!1,a.children[a.children.length]=c[d],b(c[d],c))}var c,d,f=[];for(c=0;c<a.length;c++)d=a[c],"0"==d.parentid&&(d.children=[],d.haschildren=0,f[f.length]=d,b(d,a));e._competencies=f}).fail(b.exception)},h.prototype._find=function(b){return a(this._popup.getContent()).find(b)},h.prototype._getFramework=function(b){var c;return a.each(this._frameworks,function(a,d){if(d.id==b)return void(c=d)}),c},h.prototype._loadCompetencies=function(){return this._fetchCompetencies(this._frameworkId,this._searchText)},h.prototype._loadFrameworks=function(){var d,e=this;return e._frameworks.length>0?a.when():(d=e._singleFramework?c.call([{methodname:"core_competency_read_competency_framework",args:{id:this._frameworkId}}])[0].then(function(a){return[a]}):c.call([{methodname:"core_competency_list_competency_frameworks",args:{sort:"shortname",context:{contextid:e._pageContextId},includes:e._pageContextIncludes,onlyvisible:e._onlyVisible}}])[0],d.done(function(a){e._frameworks=a}).fail(b.exception))},h.prototype.on=function(a,b){this._eventNode.on(a,b)},h.prototype._preRender=function(){var b=this;return b._loadFrameworks().then(function(){return!b._frameworkId&&b._frameworks.length>0&&(b._frameworkId=b._frameworks[0].id),b._frameworkId?b._loadCompetencies():(b._frameworks=[],a.when())})},h.prototype._refresh=function(){var a=this;return a._render().then(function(b){a._find('[data-region="competencylinktree"]').replaceWith(b),a._afterRender()})},h.prototype._render=function(){var b=this;return b._preRender().then(function(){b._singleFramework||a.each(b._frameworks,function(a,c){c.id==b._frameworkId?c.selected=!0:c.selected=!1});var c={competencies:b._competencies,framework:b._getFramework(b._frameworkId),frameworks:b._frameworks,search:b._searchText,singleFramework:b._singleFramework};return d.render("tool_lp/competency_picker",c)})},h.prototype._reset=function(){this._competencies=[],this._disallowedCompetencyIDs=[],this._popup=null,this._searchText="",this._selectedCompetencies=[]},h.prototype.setDisallowedCompetencyIDs=function(a){this._disallowedCompetencyIDs=a},h.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},h});
define('tool_lp/dialogue', ["core/yui"],function(a){var b=function(b,c,d,e,f){this.yuiDialogue=null;var g=this;"undefined"==typeof f&&(f=!1),a.use("moodle-core-notification","timers",function(){var h="480px";f&&(h="800px"),g.yuiDialogue=new M.core.dialogue({headerContent:b,bodyContent:c,draggable:!0,visible:!1,center:!0,modal:!0,width:h}),g.yuiDialogue.after("visibleChange",function(b){b.newVal?"undefined"!=typeof d&&a.soon(function(){d(g),g.yuiDialogue.centerDialogue()}):"undefined"!=typeof e&&a.soon(function(){e(g)})}),g.yuiDialogue.show()})};return b.prototype.close=function(){this.yuiDialogue.hide(),this.yuiDialogue.destroy()},b.prototype.getContent=function(){return this.yuiDialogue.bodyNode.getDOMNode()},b});
define('tool_lp/tree', ["jquery","core/url","core/log"],function(a,b,c){var d=a('<img alt="" src="'+b.imageUrl("t/expanded")+'"/>'),e=a('<img alt="" src="'+b.imageUrl("t/collapsed")+'"/>'),f=function(b,c){this.treeRoot=a(b),this.multiSelect="undefined"==typeof c||c===!0,this.items=this.treeRoot.find("li"),this.expandAll=this.items.length<20,this.parents=this.treeRoot.find("li:has(ul)"),c&&this.treeRoot.attr("aria-multiselectable","true"),this.items.attr("aria-selected","false"),this.visibleItems=null,this.activeItem=null,this.lastActiveItem=null,this.keys={tab:9,enter:13,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,eight:56,asterisk:106},this.init(),this.bindEventHandlers()};return f.prototype.init=function(){this.parents.attr("aria-expanded","true"),this.parents.prepend(d.clone()),this.items.attr("role","tree-item"),this.items.attr("tabindex","-1"),this.parents.attr("role","group"),this.treeRoot.attr("role","tree"),this.visibleItems=this.treeRoot.find("li");var b=this;this.expandAll||(this.parents.each(function(){b.collapseGroup(a(this))}),this.expandGroup(this.parents.first()))},f.prototype.expandGroup=function(a){var b=a.children("ul");b.show().attr("aria-hidden","false"),a.attr("aria-expanded","true"),a.children("img").attr("src",d.attr("src")),this.visibleItems=this.treeRoot.find("li:visible")},f.prototype.collapseGroup=function(a){var b=a.children("ul");b.hide().attr("aria-hidden","true"),a.attr("aria-expanded","false"),a.children("img").attr("src",e.attr("src")),this.visibleItems=this.treeRoot.find("li:visible")},f.prototype.toggleGroup=function(a){"true"==a.attr("aria-expanded")?this.collapseGroup(a):this.expandGroup(a)},f.prototype.triggerChange=function(){var a=this.items.filter("[aria-selected=true]");this.multiSelect||(a=a.first()),this.treeRoot.trigger("selectionchanged",{selected:a})},f.prototype.multiSelectItem=function(b){if(this.multiSelect){if(null!==this.lastActiveItem){for(var c=this.visibleItems.index(this.lastActiveItem),d=this.visibleItems.index(this.activeItem),e=null;c<d;)e=a(this.visibleItems.get(c)),e.attr("aria-selected","true"),c++;for(;c>d;)e=a(this.visibleItems.get(c)),e.attr("aria-selected","true"),c--}}else this.items.attr("aria-selected","false");b.attr("aria-selected","true"),this.triggerChange()},f.prototype.selectItem=function(a){for(var b=a.parent();"tree"!=b.attr("role");)b=b.parent(),"false"==b.attr("aria-expanded")&&this.expandGroup(b),b=b.parent();this.items.attr("aria-selected","false"),a.attr("aria-selected","true"),this.triggerChange()},f.prototype.toggleItem=function(a){if(!this.multiSelect)return void this.selectItem(a);var b=a.attr("aria-selected");b="true"===b?"false":"true",a.attr("aria-selected",b),this.triggerChange()},f.prototype.updateFocus=function(a){this.lastActiveItem=this.activeItem,this.activeItem=a;for(var b=a.parent();"tree"!=b.attr("role");)b=b.parent(),"false"==b.attr("aria-expanded")&&this.expandGroup(b),b=b.parent();this.items.attr("tabindex","-1"),a.attr("tabindex",0)},f.prototype.handleKeyDown=function(b,c){var d=this.visibleItems.index(b),e=null,f=c.shiftKey||c.ctrlKey||c.metaKey||c.altKey,g=this;switch(c.keyCode){case this.keys.home:return e=this.parents.first(),e.focus(),c.shiftKey?this.multiSelectItem(e):f||this.selectItem(e),c.stopPropagation(),!1;case this.keys.end:return e=this.visibleItems.last(),e.focus(),c.shiftKey?this.multiSelectItem(e):f||this.selectItem(e),c.stopPropagation(),!1;case this.keys.enter:case this.keys.space:return c.shiftKey?this.multiSelectItem(b):c.metaKey||c.ctrlKey?this.toggleItem(b):this.selectItem(b),c.stopPropagation(),!1;case this.keys.left:if(b.has("ul")&&"true"==b.attr("aria-expanded"))this.collapseGroup(b);else{var h=b.parent(),i=h.parent();i.is("li")&&(i.focus(),c.shiftKey?this.multiSelectItem(i):f||this.selectItem(i))}return c.stopPropagation(),!1;case this.keys.right:return b.has("ul")&&"false"==b.attr("aria-expanded")?this.expandGroup(b):(e=b.children("ul").children("li").first(),e.length>0&&(e.focus(),c.shiftKey?this.multiSelectItem(e):f||this.selectItem(e))),c.stopPropagation(),!1;case this.keys.up:if(d>0){var j=this.visibleItems.eq(d-1);j.focus(),c.shiftKey?this.multiSelectItem(j):f||this.selectItem(j)}return c.stopPropagation(),!1;case this.keys.down:if(d<this.visibleItems.length-1){var k=this.visibleItems.eq(d+1);k.focus(),c.shiftKey?this.multiSelectItem(k):f||this.selectItem(k)}return c.stopPropagation(),!1;case this.keys.asterisk:return this.parents.each(function(){g.expandGroup(a(this))}),c.stopPropagation(),!1;case this.keys.eight:return c.shiftKey&&(this.parents.each(function(){g.expandGroup(a(this))}),c.stopPropagation()),!1}return!0},f.prototype.handleKeyPress=function(a,b){if(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)return!0;switch(b.keyCode){case this.keys.tab:return!0;case this.keys.enter:case this.keys.home:case this.keys.end:case this.keys.left:case this.keys.right:case this.keys.up:case this.keys.down:return b.stopPropagation(),!1;default:var c=String.fromCharCode(b.which),d=!1,e=this.visibleItems.index(a),f=this.visibleItems.length,g=e+1;for(g==f&&(g=0);g!=e;){var h=this.visibleItems.eq(g),i=h.text().charAt(0);if(h.has("ul")&&(i=h.find("span").text().charAt(0)),i.toLowerCase()==c){d=!0;break}g+=1,g==f&&(g=0)}return d===!0&&this.updateFocus(this.visibleItems.eq(g)),b.stopPropagation(),!1}return!0},f.prototype.on=function(a,b){"selectionchanged"!==a?c.warning('Invalid custom event name for tree. Only "selectionchanged" is supported.'):this.treeRoot.on(a,b)},f.prototype.handleDblClick=function(a,b){return!!(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(this.updateFocus(a),this.toggleGroup(a),b.stopPropagation(),!1)},f.prototype.handleExpandCollapseClick=function(a,b){return this.toggleGroup(a),b.stopPropagation(),!1},f.prototype.handleClick=function(a,b){return b.shiftKey?this.multiSelectItem(a):b.metaKey||b.ctrlKey?this.toggleItem(a):this.selectItem(a),this.updateFocus(a),b.stopPropagation(),!1},f.prototype.handleBlur=function(){return!0},f.prototype.handleFocus=function(a){return this.updateFocus(a),!0},f.prototype.bindEventHandlers=function(){var b=this;this.parents.dblclick(function(c){return b.handleDblClick(a(this),c)}),this.items.click(function(c){return b.handleClick(a(this),c)}),this.items.children("img").click(function(c){return b.handleExpandCollapseClick(a(this).parent(),c)}),this.items.keydown(function(c){return b.handleKeyDown(a(this),c)}),this.items.keypress(function(c){return b.handleKeyPress(a(this),c)}),this.items.focus(function(c){return b.handleFocus(a(this),c)}),this.items.blur(function(c){return b.handleBlur(a(this),c)})},f});
define('tool_lp/scalevalues', ["jquery","core/ajax"],function(a,b){var c=[];return{get_values:function(d){var e=a.Deferred();return"undefined"==typeof c[d]?b.call([{methodname:"core_competency_get_scale_values",args:{scaleid:d},done:function(a){c[d]=a,e.resolve(a)},fail:e.reject}]):e.resolve(c[d]),e.promise()}}});
define('tool_lp/menubar', ["jquery"],function(a){var b=!1,c=!1,d=function(){a(".tool-lp-menu .tool-lp-sub-menu").attr("aria-hidden","true"),c=!1},e=function(a,b){this.menuRoot=a,this.handlers=b,this.rootMenus=this.menuRoot.children("li"),this.subMenus=this.rootMenus.children("ul"),this.subMenuItems=this.subMenus.children("li"),this.allItems=this.rootMenus.add(this.subMenuItems),this.activeItem=null,this.isChildOpen=!1,this.keys={tab:9,enter:13,esc:27,space:32,left:37,up:38,right:39,down:40},this.addAriaAttributes(),this.addEventListeners()};return e.prototype.openSubMenu=function(a){this.setOpenDirection(),d(),a.attr("aria-hidden","false"),c=!0},e.prototype.addEventListeners=function(){var e=this;b===!1&&(a(document).click(function(){c&&d()}),b=!0),this.subMenuItems.mouseenter(function(){return a(this).addClass("menu-hover"),!0}),this.subMenuItems.mouseout(function(){return a(this).removeClass("menu-hover"),!0}),this.allItems.click(function(b){return e.handleClick(a(this),b)}),this.allItems.keydown(function(b){return e.handleKeyDown(a(this),b)}),this.allItems.focus(function(){return e.handleFocus(a(this))}),this.allItems.blur(function(){return e.handleBlur(a(this))})},e.prototype.handleClick=function(b,c){c.stopPropagation();var d=b.parent();if(d.is(".tool-lp-menu"))"true"==b.children("ul").first().attr("aria-hidden")?this.openSubMenu(b.children("ul").first()):b.children("ul").first().attr("aria-hidden","true");else{this.allItems.removeClass("menu-hover menu-focus"),this.activeItem=null,this.menuRoot.find("ul").not(".root-level").attr("aria-hidden","true");var e=b.find("a").first(),f=new a.Event("click");f.target=e;var g=!1;this.handlers&&a.each(this.handlers,function(c,d){if(!g&&b.find(c).length>0){var h=a.proxy(d,e);g=h(f)===!1||f.isDefaultPrevented()}}),g||"#"===e.attr("href")||(window.location.href=e.attr("href"))}return!1},e.prototype.handleFocus=function(a){if(null===this.activeItem)this.activeItem=a;else if(a[0]!=this.activeItem[0])return!0;var b=this.activeItem.parentsUntil("ul.tool-lp-menu").filter("li");if(this.allItems.removeClass("menu-focus"),this.activeItem.addClass("menu-focus"),b.addClass("menu-focus"),this.isChildOpen===!0){var c=a.parent();c.is(".tool-lp-menu")&&"true"==a.attr("aria-haspopup")&&this.openSubMenu(a.children("ul").first())}return!0},e.prototype.handleBlur=function(a){return a.removeClass("menu-focus"),!0},e.prototype.setOpenDirection=function(){var b=this.menuRoot.offset(),c=a(document.body).hasClass("dir-rtl"),d=!0,e=this.rootMenus.outerHeight(),f=this.rootMenus.outerWidth(),g=this.rootMenus.find("ul.tool-lp-sub-menu");g.css("margin-right",""),g.css("margin-left",""),g.css("margin-top",""),g.attr("aria-hidden",!1);var h=g.outerWidth(),i=g.outerHeight(),j=null,k=null,l=null,m=b.top-a(window).scrollTop();m+i>a(window).height()&&(j=i+e,g.css("margin-top","-"+j+"px")),c?b.left-h<0&&(k=h-f,g.css("margin-right","-"+k+"px")):b.left+h>a(window).width()&&(l=h-f,g.css("margin-left","-"+l+"px")),d?this.menuRoot.addClass("tool-lp-menu-open-left"):this.menuRoot.removeClass("tool-lp-menu-open-left")},e.prototype.handleKeyDown=function(a,b){if(b.altKey||b.ctrlKey)return!0;switch(b.keyCode){case this.keys.tab:this.menuRoot.find("ul").attr("aria-hidden","true"),this.allItems.removeClass("menu-focus"),this.activeItem=null,this.isChildOpen=!1;break;case this.keys.esc:var c=a.parent();return c.is(".tool-lp-menu")?a.children("ul").first().attr("aria-hidden","true"):(this.activeItem=c.parent(),this.isChildOpen=!1,this.activeItem.focus(),c.attr("aria-hidden","true")),b.stopPropagation(),!1;case this.keys.enter:case this.keys.space:return this.handleClick(a,b);case this.keys.left:return this.activeItem=this.moveToPrevious(a),this.activeItem.focus(),b.stopPropagation(),!1;case this.keys.right:return this.activeItem=this.moveToNext(a),this.activeItem.focus(),b.stopPropagation(),!1;case this.keys.up:return this.activeItem=this.moveUp(a),this.activeItem.focus(),b.stopPropagation(),!1;case this.keys.down:return this.activeItem=this.moveDown(a),this.activeItem.focus(),b.stopPropagation(),!1}return!0},e.prototype.moveToNext=function(a){var b=a.parent(),c=b.children("li"),d=c.length,e=c.index(a),f=null,g=null;if(b.is(".tool-lp-menu"))f=e<d-1?a.next():c.first(),"true"==a.attr("aria-haspopup")&&(g=a.children("ul").first(),"false"==g.attr("aria-hidden")&&(g.attr("aria-hidden","true"),this.isChildOpen=!0)),a.removeClass("menu-focus"),"true"===f.attr("aria-haspopup")&&this.isChildOpen===!0&&(g=f.children("ul").first(),this.openSubMenu(g));else if("true"==a.attr("aria-haspopup"))g=a.children("ul").first(),f=g.children("li").first(),this.openSubMenu(g);else{var h=null,i=null;h=a.parentsUntil("ul.tool-lp-menu").filter("ul").not(".tool-lp-menu"),h.attr("aria-hidden","true"),h.find("li").removeClass("menu-focus"),h.last().parent().removeClass("menu-focus"),i=h.last().parent(),e=this.rootMenus.index(i),f=e<this.rootMenus.length-1?i.next():this.rootMenus.first(),f.addClass("menu-focus"),"true"==f.attr("aria-haspopup")&&(g=f.children("ul").first(),f=g.children("li").first(),this.openSubMenu(g),this.isChildOpen=!0)}return f},e.prototype.moveToPrevious=function(a){var b=a.parent(),c=b.children("li"),d=c.index(a),e=null,f=null;if(b.is(".tool-lp-menu"))e=d>0?a.prev():c.last(),"true"==a.attr("aria-haspopup")&&(f=a.children("ul").first(),"false"==f.attr("aria-hidden")&&(f.attr("aria-hidden","true"),this.isChildOpen=!0)),a.removeClass("menu-focus"),"true"===e.attr("aria-haspopup")&&this.isChildOpen===!0&&(f=e.children("ul").first(),this.openSubMenu(f));else{var g=b.parent(),h=g.parent();h.is(".tool-lp-menu")?(b.attr("aria-hidden","true"),a.removeClass("menu-focus"),g.removeClass("menu-focus"),d=this.rootMenus.index(g),e=d>0?g.prev():this.rootMenus.last(),e.addClass("menu-focus"),"true"==e.attr("aria-haspopup")&&(f=e.children("ul").first(),this.openSubMenu(f),this.isChildOpen=!0,e=f.children("li").first())):(e=b.parent(),b.attr("aria-hidden","true"),a.removeClass("menu-focus"))}return e},e.prototype.moveDown=function(a,b){var c=a.parent(),d=c.children("li").not(".separator"),e=d.length,f=d.index(a),g=null,h=null;if(c.is(".tool-lp-menu"))return"true"!=a.attr("aria-haspopup")?a:(h=a.children("ul").first(),g=h.children("li").first(),this.openSubMenu(h),g);if(b){var i=!1,j=f+1;for(j==e&&(j=0);j!=f;){var k=d.eq(j).html().charAt(0);if(k.toLowerCase()==b){i=!0;break}j+=1,j==e&&(j=0)}return i===!0?(g=d.eq(j),a.removeClass("menu-focus"),g):a}return g=f<e-1?d.eq(f+1):d.first(),a.removeClass("menu-focus"),g},e.prototype.moveUp=function(a){var b=a.parent(),c=b.children("li").not(".separator"),d=c.index(a),e=null;return b.is(".tool-lp-menu")?a:(e=d>0?c.eq(d-1):c.last(),a.removeClass("menu-focus"),e)},e.prototype.addAriaAttributes=function(){this.menuRoot.attr("role","menubar"),this.rootMenus.attr("role","menuitem"),this.rootMenus.attr("tabindex","0"),this.rootMenus.attr("aria-haspopup","true"),this.subMenus.attr("role","menu"),this.subMenus.attr("aria-hidden","true"),this.subMenuItems.attr("role","menuitem"),this.subMenuItems.attr("tabindex","-1"),this.menuRoot.addClass("tool-lp-menu"),this.allItems.addClass("tool-lp-menu-item"),this.rootMenus.addClass("tool-lp-root-menu"),this.subMenus.addClass("tool-lp-sub-menu"),this.subMenuItems.addClass("dropdown-item")},{enhance:function(b,c){a(b).each(function(b,d){var f=a(d);f.data("menubarEnhanced")!==!0&&(new e(f,c),f.data("menubarEnhanced",!0))})},closeAll:d}});
define('tool_lp/scaleconfig', ["jquery","core/notification","core/templates","core/ajax","tool_lp/dialogue","tool_lp/scalevalues"],function(a,b,c,d,e,f){var g=function(b,c,d){this.selectSelector=b,this.inputSelector=c,this.triggerSelector=d,this.originalscaleid=a(b).val(),a(b).on("change",this.scaleChangeHandler.bind(this)).change(),a(d).click(this.showConfig.bind(this))};return g.prototype.selectSelector=null,g.prototype.inputSelector=null,g.prototype.triggerSelector=null,g.prototype.scalevalues=null,g.prototype.originalscaleid=0,g.prototype.scaleid=0,g.prototype.popup=null,g.prototype.showConfig=function(){var d=this;if(this.scaleid=a(this.selectSelector).val(),!(this.scaleid<=0)){var f=a(this.selectSelector).find("option:selected").text();this.getScaleValues(this.scaleid).done(function(){var a={scalename:f,scales:d.scalevalues};c.render("tool_lp/scale_configuration_page",a).done(function(a){new e(f,a,d.initScaleConfig.bind(d))}).fail(b.exception)}).fail(b.exception)}},g.prototype.retrieveOriginalScaleConfig=function(){var b=a(this.inputSelector).val();if(""!==b){var c=a.parseJSON(b),d=c.shift();if(d.scaleid===this.originalscaleid)return c}return""},g.prototype.initScaleConfig=function(b){this.popup=b;var c=a(b.getContent());if(this.originalscaleid===this.scaleid){var d=this.retrieveOriginalScaleConfig();""!==d&&d.forEach(function(a){1===a.scaledefault&&c.find('[data-field="tool_lp_scale_default_'+a.id+'"]').attr("checked",!0),1===a.proficient&&c.find('[data-field="tool_lp_scale_proficient_'+a.id+'"]').attr("checked",!0)})}c.on("click",'[data-action="close"]',function(){this.setScaleConfig(),b.close()}.bind(this)),c.on("click",'[data-action="cancel"]',function(){b.close()})},g.prototype.setScaleConfig=function(){var b=a(this.popup.getContent()),c=[{scaleid:this.scaleid}];this.scalevalues.forEach(function(a){var d=0,e=0;b.find('[data-field="tool_lp_scale_default_'+a.id+'"]').is(":checked")&&(d=1),b.find('[data-field="tool_lp_scale_proficient_'+a.id+'"]').is(":checked")&&(e=1),(d||e)&&c.push({id:a.id,scaledefault:d,proficient:e})});var d=JSON.stringify(c);a(this.inputSelector).val(d),this.originalscaleid=this.scaleid},g.prototype.getScaleValues=function(a){return f.get_values(a).then(function(a){return this.scalevalues=a,a}.bind(this))},g.prototype.scaleChangeHandler=function(b){a(b.target).val()<=0?a(this.triggerSelector).prop("disabled",!0):a(this.triggerSelector).prop("disabled",!1)},{init:function(a,b,c){return new g(a,b,c)}}});
define('tool_lp/competency_rule', ["jquery"],function(a){var b=function(b){this._eventNode=a("<div>"),this._ready=a.Deferred(),this._tree=b};return b.prototype._competency=null,b.prototype._eventNode=null,b.prototype._ready=null,b.prototype._tree=null,b.prototype.canConfig=function(){return this._tree.hasChildren(this._competency.id)},b.prototype.getConfig=function(){return null},b.prototype.getType=function(){throw new Error("Not implemented")},b.prototype.init=function(){return this._load()},b.prototype.injectTemplate=function(){return a.Deferred().reject().promise()},b.prototype.isValid=function(){return!1},b.prototype._load=function(){return a.when()},b.prototype.on=function(a,b){this._eventNode.on(a,b)},b.prototype.setTargetCompetency=function(a){this._competency=a},b.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},b.prototype._triggerChange=function(){this._trigger("change",this)},b});
define('tool_lp/competency_outcomes', ["jquery","core/str"],function(a,b){var c=0,d=1,e=2,f=3;return{NONE:c,EVIDENCE:d,COMPLETE:e,RECOMMEND:f,getAll:function(){var a=this;return b.get_strings([{key:"competencyoutcome_none",component:"tool_lp"},{key:"competencyoutcome_evidence",component:"tool_lp"},{key:"competencyoutcome_recommend",component:"tool_lp"},{key:"competencyoutcome_complete",component:"tool_lp"}]).then(function(b){var c={};return c[a.NONE]={code:a.NONE,name:b[0]},c[a.EVIDENCE]={code:a.EVIDENCE,name:b[1]},c[a.RECOMMEND]={code:a.RECOMMEND,name:b[2]},c[a.COMPLETE]={code:a.COMPLETE,name:b[3]},c})},getString:function(b){var c=this,d=c.getAll();return d.then(function(c){return"undefined"==typeof c[b]?a.Deferred().reject().promise():c[b].name})}}});
define('tool_lp/user_competency_course_navigation', ["jquery"],function(a){var b=function(b,c,d,e,f,g){this._baseUrl=d,this._userId=e+"",this._competencyId=f+"",this._courseId=g,a(b).on("change",this._userChanged.bind(this)),a(c).on("change",this._competencyChanged.bind(this))};return b.prototype._userChanged=function(b){var c=a(b.target).val(),d="?userid="+c+"&courseid="+this._courseId+"&competencyid="+this._competencyId;document.location=this._baseUrl+d},b.prototype._competencyChanged=function(b){var c=a(b.target).val(),d="?userid="+this._userId+"&courseid="+this._courseId+"&competencyid="+c;document.location=this._baseUrl+d},b.prototype._competencyId=null,b.prototype._userId=null,b.prototype._courseId=null,b.prototype._baseUrl=null,b.prototype._ignoreFirstCompetency=null,b});
define('tool_lp/competencypicker_user_plans', ["jquery","core/notification","core/ajax","core/templates","core/str","tool_lp/tree","tool_lp/competencypicker"],function(a,b,c,d,e,f,g){var h=function(a,b,c){g.prototype.constructor.apply(this,[1,!1,"self",c]),this._userId=a,this._plans=[],b&&(this._planId=b,this._singlePlan=!0)};return h.prototype=Object.create(g.prototype),h.prototype._plans=null,h.prototype._planId=null,h.prototype._singlePlan=!1,h.prototype._userId=null,h.prototype._afterRender=function(){var b=this;g.prototype._afterRender.apply(b,arguments),b._singlePlan||b._find('[data-action="chooseplan"]').change(function(c){b._planId=a(c.target).val(),b._loadCompetencies().then(b._refresh.bind(b))})},h.prototype._fetchCompetencies=function(a,d){var e=this;return c.call([{methodname:"core_competency_list_plan_competencies",args:{id:a}}])[0].done(function(a){var b,c,f=[];for(b=0;b<a.length;b++)c=a[b].competency,c.shortname.toLowerCase().indexOf(d.toLowerCase())<0||(c.children=[],c.haschildren=0,f.push(c));e._competencies=f}).fail(b.exception)},h.prototype._getPlan=function(b){var c;return a.each(this._plans,function(a,d){if(d.id==b)return void(c=d)}),c},h.prototype._loadCompetencies=function(){return this._fetchCompetencies(this._planId,this._searchText)},h.prototype._loadPlans=function(){var d,e=this;return e._plans.length>0?a.when():(d=e._singlePlan?c.call([{methodname:"core_competency_read_plan",args:{id:this._planId}}])[0].then(function(a){return[a]}):c.call([{methodname:"core_competency_list_user_plans",args:{userid:e._userId}}])[0],d.done(function(a){e._plans=a}).fail(b.exception))},h.prototype._preRender=function(){var b=this;return b._loadPlans().then(function(){return!b._planId&&b._plans.length>0&&(b._planId=b._plans[0].id),b._planId?b._loadCompetencies():(b._plans=[],a.when())})},h.prototype._render=function(){var b=this;return b._preRender().then(function(){b._singlePlan||a.each(b._plans,function(a,c){c.id==b._planId?c.selected=!0:c.selected=!1});var c={competencies:b._competencies,plan:b._getPlan(b._planId),plans:b._plans,search:b._searchText,singlePlan:b._singlePlan};return d.render("tool_lp/competency_picker_user_plans",c)})},h});
define('tool_lp/course_competency_settings', ["jquery","core/notification","tool_lp/dialogue","core/str","core/ajax","core/templates"],function(a,b,c,d,e,f){var g=function(b){a(b).on("click",this.configureSettings.bind(this))};return g.prototype._dialogue=null,g.prototype.configureSettings=function(e){var g=a(e.target).closest("a").data("courseid"),h=a(e.target).closest("a").data("pushratingstouserplans"),i={courseid:g,settings:{pushratingstouserplans:h}};e.preventDefault(),f.render("tool_lp/course_competency_settings",i).done(function(a){d.get_string("configurecoursecompetencysettings","tool_lp").done(function(b){this._dialogue=new c(b,a,this.addListeners.bind(this))}.bind(this)).fail(b.exception)}.bind(this)).fail(b.exception)},g.prototype.addListeners=function(){var a=this._find('[data-action="save"]');a.on("click",this.saveSettings.bind(this));var b=this._find('[data-action="cancel"]');b.on("click",this.cancelChanges.bind(this))},g.prototype.cancelChanges=function(a){a.preventDefault(),this._dialogue.close()},g.prototype._find=function(b){return a('[data-region="coursecompetencysettings"]').find(b)},g.prototype.saveSettings=function(a){a.preventDefault();var c=this._find('input[name="pushratingstouserplans"]:checked').val(),d=this._find('input[name="courseid"]').val(),f={pushratingstouserplans:c};e.call([{methodname:"core_competency_update_course_competency_settings",args:{courseid:d,settings:f}}])[0].done(function(){this.refreshCourseCompetenciesPage()}.bind(this)).fail(b.exception)},g.prototype.refreshCourseCompetenciesPage=function(){var c=this._find('input[name="courseid"]').val();e.call([{methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:c}}])[0].done(function(c){f.render("tool_lp/course_competencies_page",c).done(function(b,c){a('[data-region="coursecompetenciespage"]').replaceWith(b),f.runTemplateJS(c),this._dialogue.close()}.bind(this)).fail(b.exception)}.bind(this)).fail(b.exception)},g});
define('tool_lp/form-cohort-selector', ["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d},transport:function(d,e,f,g){var h,i=parseInt(a(d).data("contextid"),10),j=a(d).data("includes");h=b.call([{methodname:"tool_lp_search_cohorts",args:{query:e,context:{contextid:i},includes:j}}]),h[0].then(function(b){var d=[],e=0;return a.each(b.cohorts,function(a,b){d.push(c.render("tool_lp/form-cohort-selector-suggestion",b))}),a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b.cohorts,function(a,b){b._label=c[e],e++}),f(b.cohorts)})},g)}}});
define('tool_lp/frameworkactions', ["jquery","core/templates","core/ajax","core/notification","core/str"],function(a,b,c,d,e){var f=0,g=0,h=function(c,d){a('[data-region="managecompetencies"]').replaceWith(c),b.runTemplateJS(d)},i=function(a){b.render("tool_lp/manage_competency_frameworks_page",a).done(h).fail(d.exception)},j=function(b){b.preventDefault(),g=a(this).attr("data-frameworkid");var e=c.call([{methodname:"core_competency_duplicate_competency_framework",args:{id:g}},{methodname:"tool_lp_data_for_competency_frameworks_manage_page",args:{pagecontext:{contextid:f}}}]);e[1].done(i).fail(d.exception)},k=function(){var a=c.call([{methodname:"core_competency_delete_competency_framework",args:{id:g}},{methodname:"tool_lp_data_for_competency_frameworks_manage_page",args:{pagecontext:{contextid:f}}}]);a[0].done(function(a){if(a===!1){var b=c.call([{methodname:"core_competency_read_competency_framework",args:{id:g}}]);b[0].done(function(a){e.get_strings([{key:"frameworkcannotbedeleted",component:"tool_lp",param:a.shortname},{key:"cancel",component:"moodle"}]).done(function(a){d.alert(null,a[0])}).fail(d.exception)})}}).fail(d.exception),a[1].done(i).fail(d.exception)},l=function(b){b.preventDefault();var f=a(this).attr("data-frameworkid");g=f;var h=c.call([{methodname:"core_competency_read_competency_framework",args:{id:g}}]);h[0].done(function(a){e.get_strings([{key:"confirm",component:"moodle"},{key:"deletecompetencyframework",component:"tool_lp",param:a.shortname},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],k)}).fail(d.exception)}).fail(d.exception)};return{deleteHandler:l,duplicateHandler:j,init:function(a){f=a}}});
define('tool_lp/frameworks_datasource', ["jquery","core/ajax","core/notification"],function(a,b,c){return{list:function(d,e){var f,g={context:{contextid:d}};return a.extend(g,"undefined"==typeof e?{}:e),f=b.call([{methodname:"core_competency_list_competency_frameworks",args:g}])[0],f.fail(c.exception)},processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b.shortname+" "+b.idnumber})}),d},transport:function(b,c,d){var e=a(b),f=e.data("contextid"),g=e.data("onlyvisible");if(!f)throw new Error("The attribute data-contextid is required on "+b);this.list(f,{query:c,onlyvisible:g}).then(d)}}});
define('tool_lp/grade_user_competency_inline', ["jquery","core/notification","core/ajax","core/log","tool_lp/grade_dialogue","tool_lp/event_base","tool_lp/scalevalues"],function(a,b,c,d,e,f,g){var h=function(b,c,d,e,g,h,i){f.prototype.constructor.apply(this,[]);var j=a(b);if(!j.length)throw new Error("Could not find the trigger");this._scaleId=c,this._competencyId=d,this._userId=e,this._planId=g,this._courseId=h,this._chooseStr=i,this._setUp(),j.click(function(a){a.preventDefault(),this._dialogue.display()}.bind(this)),this._planId?(this._methodName="core_competency_grade_competency_in_plan",this._args={competencyid:this._competencyId,planid:this._planId}):this._courseId?(this._methodName="core_competency_grade_competency_in_course",this._args={competencyid:this._competencyId,courseid:this._courseId,userid:this._userId}):(this._methodName="core_competency_grade_competency",this._args={userid:this._userId,competencyid:this._competencyId})};return h.prototype=Object.create(f.prototype),h.prototype._setUp=function(){var a=[],d=this,f=g.get_values(d._scaleId);f.done(function(f){a.push({value:"",name:d._chooseStr});for(var g=0;g<f.length;g++){var h=f[g];a.push({value:h.id,name:h.name})}d._dialogue=new e(a),d._dialogue.on("rated",function(a,e){var f=d._args;f.grade=e.rating,f.note=e.note,c.call([{methodname:d._methodName,args:f,done:function(a){d._trigger("competencyupdated",{args:f,evidence:a})},fail:b.exception}])})}).fail(b.exception)},h.prototype._scaleId=null,h.prototype._competencyId=null,h.prototype._userId=null,h.prototype._planId=null,h.prototype._courseId=null,h.prototype._chooseStr=null,h.prototype._dialogue=null,h});
define('tool_lp/competency_rule_all', ["jquery","core/str","tool_lp/competency_rule"],function(a,b,c){var d=function(){c.apply(this,arguments)};return d.prototype=Object.create(c.prototype),d.prototype.getType=function(){return"core_competency\\competency_rule_all"},d.prototype.isValid=function(){return!0},d});
define('tool_lp/event_base', ["jquery"],function(a){var b=function(){this._eventNode=a("<div></div>")};return b.prototype._eventNode=null,b.prototype.on=function(a,b){this._eventNode.on(a,b)},b.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},b});
define('tool_lp/user_competency_workflow', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/menubar","tool_lp/event_base"],function(a,b,c,d,e,f,g){var h=function(){g.prototype.constructor.apply(this,[])};return h.prototype=Object.create(g.prototype),h.prototype._nodeSelector='[data-node="user-competency"]',h.prototype._cancelReviewRequest=function(a){var b={methodname:"core_competency_user_competency_cancel_review_request",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-request-cancelled",a),this._trigger("status-changed",a)}.bind(this),function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.cancelReviewRequest=function(a){this._cancelReviewRequest(a)},h.prototype._cancelReviewRequestHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.cancelReviewRequest(c)},h.prototype._requestReview=function(a){var b={methodname:"core_competency_user_competency_request_review",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-requested",a),this._trigger("status-changed",a)}.bind(this),function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.requestReview=function(a){this._requestReview(a)},h.prototype._requestReviewHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.requestReview(c)},h.prototype._startReview=function(a){var b={methodname:"core_competency_user_competency_start_review",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-started",a),this._trigger("status-changed",a)}.bind(this),function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.startReview=function(a){this._startReview(a)},h.prototype._startReviewHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.startReview(c)},h.prototype._stopReview=function(a){var b={methodname:"core_competency_user_competency_stop_review",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-stopped",a),this._trigger("status-changed",a)}.bind(this),function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.stopReview=function(a){this._stopReview(a)},h.prototype._stopReviewHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.stopReview(c)},h.prototype.enhanceMenubar=function(a){f.enhance(a,{'[data-action="request-review"]':this._requestReviewHandler.bind(this),'[data-action="cancel-review-request"]':this._cancelReviewRequestHandler.bind(this)})},h.prototype._findUserCompetencyData=function(a){var b,c=a.parents(this._nodeSelector);if(1!=c.length)throw new Error("The evidence node was not located.");if(b=c.data(),"undefined"==typeof b||"undefined"==typeof b.userid||"undefined"==typeof b.competencyid)throw new Error("User competency data could not be found.");return b},h.prototype.enhanceMenubar=function(a){f.enhance(a,{'[data-action="request-review"]':this._requestReviewHandler.bind(this),'[data-action="cancel-review-request"]':this._cancelReviewRequestHandler.bind(this),'[data-action="start-review"]':this._startReviewHandler.bind(this),'[data-action="stop-review"]':this._stopReviewHandler.bind(this)})},h.prototype.registerEvents=function(b){var c=a(b);c.find('[data-action="request-review"]').click(this._requestReviewHandler.bind(this)),c.find('[data-action="cancel-review-request"]').click(this._cancelReviewRequestHandler.bind(this)),c.find('[data-action="start-review"]').click(this._startReviewHandler.bind(this)),c.find('[data-action="stop-review"]').click(this._stopReviewHandler.bind(this))},h});
define('tool_lp/form-user-selector', ["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d},transport:function(d,e,f,g){var h,i=a(d).data("capability");"undefined"==typeof i&&(i=""),h=b.call([{methodname:"tool_lp_search_users",args:{query:e,capability:i}}]),h[0].then(function(b){var d=[],e=0;return a.each(b.users,function(b,e){var f=e,g=[];a.each(["idnumber","email","phone1","phone2","department","institution"],function(a,b){"undefined"!=typeof e[b]&&""!==e[b]&&(f.hasidentity=!0,g.push(e[b]))}),f.identity=g.join(", "),d.push(c.render("tool_lp/form-user-selector-suggestion",f))}),a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b.users,function(a,b){b._label=c[e],e++}),f(b.users)})},g)}}});
define('tool_lp/competencies', ["jquery","core/notification","core/ajax","core/templates","core/str","tool_lp/competencypicker","tool_lp/dragdrop-reorder"],function(a,b,c,d,e,f,g){var h=function(b,c,d){this.itemid=b,this.itemtype=c,this.pageContextId=d,this.pickerInstance=null,a('[data-region="actions"] button').prop("disabled",!1),this.registerEvents(),this.registerDragDrop()};return h.prototype.registerDragDrop=function(){var a=this;e.get_string("movecompetency","tool_lp").done(function(b){g.dragdrop("movecompetency",b,{identifier:"movecompetency",component:"tool_lp"},{identifier:"movecompetencyafter",component:"tool_lp"},"drag-samenode","drag-parentnode","drag-handlecontainer",function(b,c){a.handleDrop(b,c)})}).fail(b.exception)},h.prototype.handleDrop=function(d,e){var f=a(d).data("id"),g=a(e).data("id"),h=this,i=[];if("course"==h.itemtype)i=c.call([{methodname:"core_competency_reorder_course_competency",args:{courseid:h.itemid,competencyidfrom:f,competencyidto:g}}]);else if("template"==h.itemtype)i=c.call([{methodname:"core_competency_reorder_template_competency",args:{templateid:h.itemid,competencyidfrom:f,competencyidto:g}}]);else{if("plan"!=h.itemtype)return;i=c.call([{methodname:"core_competency_reorder_plan_competency",args:{planid:h.itemid,competencyidfrom:f,competencyidto:g}}])}i[0].fail(b.exception)},h.prototype.pickCompetency=function(){var e,g,h,i,j=this;j.pickerInstance||("template"!==j.itemtype&&"course"!==j.itemtype||(i="parents"),j.pickerInstance=new f(j.pageContextId,(!1),i),j.pickerInstance.on("save",function(f,i){var k=i.competencyIds;"course"===j.itemtype?(e=[],a.each(k,function(a,b){e.push({methodname:"core_competency_add_competency_to_course",args:{courseid:j.itemid,competencyid:b}})}),e.push({methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:j.itemid}}),g="tool_lp/course_competencies_page",h="coursecompetenciespage"):"template"===j.itemtype?(e=[],a.each(k,function(a,b){e.push({methodname:"core_competency_add_competency_to_template",args:{templateid:j.itemid,competencyid:b}})}),e.push({methodname:"tool_lp_data_for_template_competencies_page",args:{templateid:j.itemid,pagecontext:{contextid:j.pageContextId}}}),g="tool_lp/template_competencies_page",h="templatecompetenciespage"):"plan"===j.itemtype&&(e=[],a.each(k,function(a,b){e.push({methodname:"core_competency_add_competency_to_plan",args:{planid:j.itemid,competencyid:b}})}),e.push({methodname:"tool_lp_data_for_plan_page",args:{planid:j.itemid}}),g="tool_lp/plan_page",h="plan-page"),c.call(e)[e.length-1].then(function(b){return d.render(g,b).done(function(b,c){a('[data-region="'+h+'"]').replaceWith(b),d.runTemplateJS(c)})},b.exception)})),j.pickerInstance.display()},h.prototype.doDelete=function(e){var f=this,g=[],h="",i="";"course"==f.itemtype?(g=c.call([{methodname:"core_competency_remove_competency_from_course",args:{courseid:f.itemid,competencyid:e}},{methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:f.itemid}}]),h="tool_lp/course_competencies_page",i="coursecompetenciespage"):"template"==f.itemtype?(g=c.call([{methodname:"core_competency_remove_competency_from_template",args:{templateid:f.itemid,competencyid:e}},{methodname:"tool_lp_data_for_template_competencies_page",args:{templateid:f.itemid,pagecontext:{contextid:f.pageContextId}}}]),h="tool_lp/template_competencies_page",i="templatecompetenciespage"):"plan"==f.itemtype&&(g=c.call([{methodname:"core_competency_remove_competency_from_plan",args:{planid:f.itemid,competencyid:e}},{methodname:"tool_lp_data_for_plan_page",args:{planid:f.itemid}}]),h="tool_lp/plan_page",i="plan-page"),g[1].done(function(c){d.render(h,c).done(function(b,c){a('[data-region="'+i+'"]').replaceWith(b),d.runTemplateJS(c)}).fail(b.exception)}).fail(b.exception)},h.prototype.deleteHandler=function(a){var d,f=this,g=[];if("course"==f.itemtype)d="unlinkcompetencycourse";else if("template"==f.itemtype)d="unlinkcompetencytemplate";else{if("plan"!=f.itemtype)return;d="unlinkcompetencyplan"}g=c.call([{methodname:"core_competency_read_competency",args:{id:a}}]),g[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:d,component:"tool_lp",param:c.shortname},{key:"confirm",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){f.doDelete(a)})}).fail(b.exception)}).fail(b.exception)},h.prototype.registerEvents=function(){var e=this;"course"==e.itemtype&&a('[data-region="coursecompetenciespage"]').on("change",'select[data-field="ruleoutcome"]',function(f){var g=[],h="tool_lp/course_competencies_page",i="coursecompetenciespage",j=a(f.target).data("id"),k=a(f.target).val();g=c.call([{methodname:"core_competency_set_course_competency_ruleoutcome",args:{coursecompetencyid:j,ruleoutcome:k}},{methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:e.itemid}}]),g[1].done(function(c){d.render(h,c).done(function(b,c){a('[data-region="'+i+'"]').replaceWith(b),d.runTemplateJS(c)}).fail(b.exception)}).fail(b.exception)}),a('[data-region="actions"] button').click(function(a){a.preventDefault(),e.pickCompetency()}),a('[data-action="delete-competency-link"]').click(function(b){b.preventDefault();var c=a(b.target).closest("[data-id]").data("id");e.deleteHandler(c)})},h});
define('tool_lp/user_evidence_actions', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/menubar","tool_lp/competencypicker_user_plans"],function(a,b,c,d,e,f,g){var h=function(a){if(this._type=a,"evidence"===a)this._region='[data-region="user-evidence-page"]',this._evidenceNode='[data-region="user-evidence-page"]',this._template="tool_lp/user_evidence_page",this._contextMethod="tool_lp_data_for_user_evidence_page";else{if("list"!==a)throw new TypeError("Unexpected type.");this._region='[data-region="user-evidence-list"]',this._evidenceNode='[data-region="user-evidence-node"]',this._template="tool_lp/user_evidence_list_page",this._contextMethod="tool_lp_data_for_user_evidence_list_page"}};return h.prototype._contextMethod=null,h.prototype._evidenceNode=null,h.prototype._region=null,h.prototype._template=null,h.prototype._type=null,h.prototype._getContextArgs=function(a){var b=this,c={};return"evidence"===b._type?c={id:a.id}:"list"===b._type&&(c={userid:a.userid}),c},h.prototype._renderView=function(c){var e=this;b.render(e._template,c).done(function(c,d){b.replaceNode(a(e._region),c,d)}).fail(d.exception)},h.prototype._callAndRefresh=function(b,e){var f=this;return b.push({methodname:f._contextMethod,args:f._getContextArgs(e)}),a.when.apply(a.when,c.call(b)).then(function(){f._renderView(arguments[arguments.length-1])}).fail(d.exception)},h.prototype._doDelete=function(a){var b=this,c=[{methodname:"core_competency_delete_user_evidence",args:{id:a.id}}];b._callAndRefresh(c,a)},h.prototype.deleteEvidence=function(a){var b,f=this;b=c.call([{methodname:"core_competency_read_user_evidence",args:{id:a.id}}]),b[0].done(function(b){e.get_strings([{key:"confirm",component:"moodle"},{key:"deleteuserevidence",component:"tool_lp",param:b.name},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(b){d.confirm(b[0],b[1],b[2],b[3],function(){f._doDelete(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._deleteEvidenceHandler=function(b){b.preventDefault();var c=this._findEvidenceData(a(b.target));this.deleteEvidence(c)},h.prototype._doCreateUserEvidenceCompetency=function(b,c){var d=this,e=[];a.each(c,function(a,c){e.push({methodname:"core_competency_create_user_evidence_competency",args:{userevidenceid:b.id,competencyid:c}})}),d._callAndRefresh(e,b)},h.prototype.createUserEvidenceCompetency=function(a){var b=this,c=new g(a.userid);c.on("save",function(c,d){var e=d.competencyIds;b._doCreateUserEvidenceCompetency(a,e,d.requestReview)}),c.display()},h.prototype._createUserEvidenceCompetencyHandler=function(b){b.preventDefault();var c=this._findEvidenceData(a(b.target));this.createUserEvidenceCompetency(c)},h.prototype._doDeleteUserEvidenceCompetency=function(a,b){var c=this,d=[];d.push({methodname:"core_competency_delete_user_evidence_competency",args:{userevidenceid:a.id,competencyid:b}}),c._callAndRefresh(d,a)},h.prototype.deleteUserEvidenceCompetency=function(a,b){this._doDeleteUserEvidenceCompetency(a,b)},h.prototype._deleteUserEvidenceCompetencyHandler=function(b){var c=this._findEvidenceData(a(b.currentTarget)),d=a(b.currentTarget).data("id");b.preventDefault(),this.deleteUserEvidenceCompetency(c,d)},h.prototype._doReviewUserEvidenceCompetencies=function(a){var b=this,c=[{methodname:"core_competency_request_review_of_user_evidence_linked_competencies",args:{id:a.id}}];b._callAndRefresh(c,a)},h.prototype.reviewUserEvidenceCompetencies=function(a){var b,f=this;b=c.call([{methodname:"core_competency_read_user_evidence",args:{id:a.id}}]),b[0].done(function(b){e.get_strings([{key:"confirm",component:"moodle"},{key:"sendallcompetenciestoreview",component:"tool_lp",param:b.name},{key:"confirm",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(b){d.confirm(b[0],b[1],b[2],b[3],function(){f._doReviewUserEvidenceCompetencies(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._reviewUserEvidenceCompetenciesHandler=function(b){b.preventDefault();var c=this._findEvidenceData(a(b.target));this.reviewUserEvidenceCompetencies(c)},h.prototype._findEvidenceData=function(b){var c,d=b.parentsUntil(a(this._region).parent(),this._evidenceNode);if(1!=d.length)throw new Error("The evidence node was not located.");if(c=d.data(),"undefined"==typeof c||"undefined"==typeof c.id)throw new Error("Evidence data could not be found.");return c},h.prototype.enhanceMenubar=function(a){var b=this;f.enhance(a,{'[data-action="user-evidence-delete"]':b._deleteEvidenceHandler.bind(b),'[data-action="link-competency"]':b._createUserEvidenceCompetencyHandler.bind(b),'[data-action="send-competencies-review"]':b._reviewUserEvidenceCompetenciesHandler.bind(b)})},h.prototype.registerEvents=function(){var b=a(this._region),c=this;b.find('[data-action="user-evidence-delete"]').click(c._deleteEvidenceHandler.bind(c)),b.find('[data-action="link-competency"]').click(c._createUserEvidenceCompetencyHandler.bind(c)),b.find('[data-action="delete-competency-link"]').click(c._deleteUserEvidenceCompetencyHandler.bind(c)),b.find('[data-action="send-competencies-review"]').click(c._reviewUserEvidenceCompetenciesHandler.bind(c))},h});
define('tool_lp/competencyactions', ["jquery","core/url","core/templates","core/notification","core/str","core/ajax","tool_lp/dragdrop-reorder","tool_lp/tree","tool_lp/dialogue","tool_lp/menubar","tool_lp/competencypicker","tool_lp/competency_outcomes","tool_lp/competencyruleconfig"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p,q,r,s,t=null,u=null,v=null,w=null,x=function(){var c=a('[data-region="competencyactions"]').data("competency"),f={competencyframeworkid:t.getCompetencyFrameworkId(),pagecontextid:n};null!==c&&(f.parentid=c.id);var g=function(){var c=a.param(f);window.location=b.relativeUrl("/admin/tool/lp/editcompetency.php?"+c)};null!==c&&t.hasRule(c.id)?e.get_strings([{key:"confirm",component:"moodle"},{key:"addingcompetencywillresetparentrule",component:"tool_lp",param:c.shortname},{key:"yes",component:"core"},{key:"no",component:"core"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],g)}).fail(d.exception):g()},y=function(){var b=a('[data-region="filtercompetencies"]').data("frameworkid"),c=f.call([{methodname:"core_competency_set_parent_competency",args:{competencyid:u,parentid:v}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b,search:a('[data-region="filtercompetencies"] input').val()}}]);c[1].done(E).fail(d.exception)},z=function(){if(v="undefined"==typeof v?0:v,v!=u){var a=t.getCompetency(v)||{},b=t.getCompetency(u)||{},c="movecompetencywillresetrules",f=!1;b.parentid!=v&&(a.path&&a.path.indexOf("/"+b.id+"/")>=0&&(c="movecompetencytochildofselfwillresetrules",f=f||t.hasRule(b.id)),f=f||t.hasRule(a.id)||t.hasRule(b.parentid),f?e.get_strings([{key:"confirm",component:"moodle"},{key:c,component:"tool_lp"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],y)}).fail(d.exception):y())}},A=function(b){var c=a(b.getContent()),d=c.find("[data-enhance=movetree]"),e=new h(d,(!1));e.on("selectionchanged",function(b,c){var d=c.selected;v=a(d).data("id")}),d.show(),c.on("click",'[data-action="move"]',function(){b.close(),z()}),c.on("click",'[data-action="cancel"]',function(){b.close()})},B=function(a,b){var c;for(c=0;c<b.length;c++)b[c].parentid==a.id&&(a.haschildren=!0,b[c].children=[],b[c].haschildren=!1,a.children[a.children.length]=b[c],B(b[c],b))},C=function(b){b.preventDefault();var g=a('[data-region="competencyactions"]').data("competency");u=g.id;var h=f.call([{methodname:"core_competency_search_competencies",args:{competencyframeworkid:g.competencyframeworkid,searchtext:""}},{methodname:"core_competency_read_competency_framework",args:{id:g.competencyframeworkid}}]);a.when.apply(null,h).done(function(a,b){var f,h=[];for(f=0;f<a.length;f++){var j=a[f];"0"==j.parentid&&(j.children=[],j.haschildren=0,h[h.length]=j,B(j,a))}e.get_strings([{key:"movecompetency",component:"tool_lp",param:g.shortname},{key:"move",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(a){var e={framework:b,competencies:h};c.render("tool_lp/competencies_move_tree",e).done(function(b){new i(a[0],b,A)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)},D=function(){var c=a('[data-region="competencyactions"]').data("competency"),d={competencyframeworkid:t.getCompetencyFrameworkId(),id:c.id,parentid:c.parentid,pagecontextid:n},e=a.param(d);window.location=b.relativeUrl("/admin/tool/lp/editcompetency.php?"+e)},E=function(b){c.render("tool_lp/manage_competencies_page",b).done(function(b,d){a('[data-region="managecompetencies"]').replaceWith(b),c.runTemplateJS(d)}).fail(d.exception)},F=function(b){b.preventDefault();var c=a('[data-region="filtercompetencies"]').data("frameworkid"),e=f.call([{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:c,search:a('[data-region="filtercompetencies"] input').val()}}]);e[0].done(E).fail(d.exception)},G=function(){var b=a('[data-region="competencyactions"]').data("competency"),c=f.call([{methodname:"core_competency_move_up_competency",args:{id:b.id}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b.competencyframeworkid,search:a('[data-region="filtercompetencies"] input').val()}}]);c[1].done(E).fail(d.exception)},H=function(){var b=a('[data-region="competencyactions"]').data("competency"),c=f.call([{methodname:"core_competency_move_down_competency",args:{id:b.id}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b.competencyframeworkid,search:a('[data-region="filtercompetencies"] input').val()}}]);c[1].done(E).fail(d.exception)},I=function(){var b=a('[data-region="competencyactions"]').data("competency"),g=f.call([{methodname:"tool_lp_list_courses_using_competency",args:{id:b.id}}]);g[0].done(function(a){var b={courses:a};c.render("tool_lp/linked_courses_summary",b).done(function(a){e.get_string("linkedcourses","tool_lp").done(function(b){new i(b,a,A)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)},J=function(){q=a('[data-region="competencyactions"]').data("competency"),o||(o=new k(n,q.competencyframeworkid),o.on("save",function(b,e){var g=e.competencyIds,h=[];a.each(g,function(a,b){h.push({methodname:"core_competency_add_related_competency",args:{competencyid:b,relatedcompetencyid:q.id}})}),h.push({methodname:"tool_lp_data_for_related_competencies_section",args:{competencyid:q.id}});var i=f.call(h);i[h.length-1].then(function(b){return c.render("tool_lp/related_competencies",b).done(function(b,d){a('[data-region="relatedcompetencies"]').replaceWith(b),c.runTemplateJS(d),U()})},d.exception)})),o.setDisallowedCompetencyIDs([q.id]),o.display()},K=function(b){b.preventDefault(),q=a('[data-region="competencyactions"]').data("competency"),p.setTargetCompetencyId(q.id),p.display()},L=function(a,b){var c={id:q.id,shortname:q.shortname,idnumber:q.idnumber,description:q.description,descriptionformat:q.descriptionformat,ruletype:b.ruletype,ruleoutcome:b.ruleoutcome,ruleconfig:b.ruleconfig},e=f.call([{methodname:"core_competency_update_competency",args:{competency:c}}]);e[0].then(function(a){a&&(q.ruletype=b.ruletype,q.ruleoutcome=b.ruleoutcome,q.ruleconfig=b.ruleconfig,X(q))},d.exception)},M=function(){var b=a('[data-region="competencyactions"]').data("competency"),c=f.call([{methodname:"core_competency_delete_competency",args:{id:b.id}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b.competencyframeworkid,search:a('[data-region="filtercompetencies"] input').val()}}]);c[0].done(function(a){a===!1&&e.get_strings([{key:"competencycannotbedeleted",component:"tool_lp",param:b.shortname},{key:"cancel",component:"moodle"}]).done(function(a){d.alert(null,a[0])}).fail(d.exception)}).fail(d.exception),c[1].done(E).fail(d.exception)},N=function(){var b=a('[data-region="competencyactions"]').data("competency"),c="deletecompetency";t.hasRule(b.parentid)&&(c="deletecompetencyparenthasrule"),e.get_strings([{key:"confirm",component:"moodle"},{key:c,component:"tool_lp",param:b.shortname},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],M)}).fail(d.exception)},O=function(b){b.originalEvent.dataTransfer.setData("text",a(b.target).parent().data("id"))},P=function(a){a.originalEvent.dataTransfer.dropEffect="move",a.preventDefault()},Q=function(b){b.preventDefault(),a(this).addClass("currentdragtarget")},R=function(b){b.preventDefault(),a(this).removeClass("currentdragtarget")},S=function(b){b.preventDefault(),u=b.originalEvent.dataTransfer.getData("text"),v=a(b.target).parent().data("id"),a(this).removeClass("currentdragtarget"),z()},T=function(b){b.preventDefault();var e=this.id.substr(11),g=a('[data-region="competencyactions"]').data("competency"),h=f.call([{methodname:"core_competency_remove_related_competency",args:{relatedcompetencyid:e,competencyid:g.id}},{methodname:"tool_lp_data_for_related_competencies_section",args:{competencyid:g.id}}]);h[1].done(function(b){c.render("tool_lp/related_competencies",b).done(function(b){a('[data-region="relatedcompetencies"]').replaceWith(b),U()}).fail(d.exception)}).fail(d.exception)},U=function(){a('[data-action="deleterelation"]').on("click",T)},V=function(a){a.id!==w&&(w=a.id,f.call([{methodname:"core_competency_competency_viewed",args:{id:a.id}}]))},W=function(a){var b=r[a];return b||(b="competency"),b},X=function(b){var e=a.Deferred().resolve().promise(),g={};g.competency=b,g.showdeleterelatedaction=!0,g.showrelatedcompetencies=!0,g.showrule=!1,b.ruleoutcome!=l.NONE&&(e=l.getString(b.ruleoutcome).then(function(c){var d;return a.each(s,function(a,c){c.type==b.ruletype&&(d=c.name)}),[c,d]})),e.then(function(a){"undefined"!=typeof a&&(g.showrule=!0,g.rule={outcome:a[0],type:a[1]})}).then(function(){return c.render("tool_lp/competency_summary",g).then(function(b){a('[data-region="competencyinfo"]').html(b),a('[data-action="deleterelation"]').on("click",T)})}).then(function(){return c.render("tool_lp/loading",{})}).then(function(a,b){c.replaceNodeContents('[data-region="relatedcompetencies"]',a,b)}).done(function(){f.call([{methodname:"tool_lp_data_for_related_competencies_section",args:{competencyid:b.id},done:function(b){return c.render("tool_lp/related_competencies",b).done(function(b,d){a('[data-region="relatedcompetencies"]').replaceWith(b),c.runTemplateJS(d),U()})}}])}).fail(d.exception)},Y=function(a){return e.get_string("taxonomy_add_"+W(a),"tool_lp")},Z=function(a){return e.get_string("taxonomy_selected_"+W(a),"tool_lp")},$=function(b,c){var d=c.selected,e=a(d).data("id"),f=a('[data-region="competencyactions"] [data-action="add"]'),g=a('[data-region="competencyactionsmenu"]'),h=a('[data-region="selected-competency"]'),i=0,k=1;if(j.closeAll(),"undefined"==typeof e)a('[data-region="competencyinfo"]').html(d.clone().children().remove().end().text()),a('[data-region="competencyactions"]').data("competency",null),g.hide();else{var l=t.getCompetency(e);i=t.getCompetencyLevel(e),k=i+1,g.show(),a('[data-region="competencyactions"]').data("competency",l),X(l),V(l)}return Z(i).then(function(a){h.text(a)}),Y(k).then(function(a){f.show().find('[data-region="term"]').text(a)}),b.preventDefault(),!1},_=function(a){var b=a.split(",");return b.unshift(""),delete b[0],b};return{init:function(b,c,d,e){t=b,n=c,r=_(d),s=e,a('[data-region="competencyactions"] [data-action="add"]').on("click",x),j.enhance(".competencyactionsmenu",{'[data-action="edit"]':D,'[data-action="delete"]':N,'[data-action="move"]':C,'[data-action="moveup"]':G,'[data-action="movedown"]':H,'[data-action="linkedcourses"]':I,'[data-action="relatedcompetencies"]':J.bind(this),'[data-action="competencyrules"]':K.bind(this)}),a('[data-region="competencyactionsmenu"]').hide(),a('[data-region="competencyactions"] [data-action="add"]').hide(),a('[data-region="filtercompetencies"]').on("submit",F);var f=a('[data-region="managecompetencies"] [data-enhance="tree"]');f.on("dragstart","li>span",O).on("dragover","li>span",P).on("dragenter","li>span",Q).on("dragleave","li>span",R).on("drop","li>span",S),b.on("selectionchanged",$),p=new m(t,s),p.on("save",L.bind(this))}}});
define('tool_lp/actionselector', ["jquery","core/notification","core/ajax","core/templates","tool_lp/dialogue","tool_lp/event_base"],function(a,b,c,d,e,f){var g=function(a,b,c,d,e){var g=this;f.prototype.constructor.apply(this,[]),g._title=a,g._message=b,g._actions=c,g._confirm=d,g._cancel=e,g._selectedValue=null,g._reset()};return g.prototype=Object.create(f.prototype),g.prototype._selectedValue=null,g.prototype._popup=null,g.prototype._title=null,g.prototype._message=null,g.prototype._actions=null,g.prototype._confirm=null,g.prototype._cancel=null,g.prototype._afterRender=function(){var b=this;b._find('[data-action="action-selector-confirm"]').attr("disabled","disabled"),b._find('[data-region="action-selector-radio-buttons"]').change(function(){b._selectedValue=a("input[type='radio']:checked").val(),b._find('[data-action="action-selector-confirm"]').removeAttr("disabled"),b._refresh.bind(b)}),b._find('[data-action="action-selector-cancel"]').click(function(a){a.preventDefault(),b.close()}),b._find('[data-action="action-selector-confirm"]').click(function(a){a.preventDefault(),b._selectedValue.length&&(b._trigger("save",{action:b._selectedValue}),b.close())})},g.prototype.close=function(){var a=this;a._popup.close(),a._reset()},g.prototype.display=function(){var a=this;return a._render().then(function(b){a._popup=new e(a._title,b,a._afterRender.bind(a))}).fail(b.exception)},g.prototype._find=function(b){return a(this._popup.getContent()).find(b)},g.prototype._refresh=function(){var a=this;return a._render().then(function(b){a._find('[data-region="action-selector"]').replaceWith(b),a._afterRender()})},g.prototype._render=function(){var a=this,b=[];for(var c in a._actions)b.push(a._actions[c]);var e={message:a._message,choices:b,confirm:a._confirm,cancel:a._cancel};return d.render("tool_lp/action_selector",e)},g.prototype._reset=function(){this._popup=null,this._selectedValue=""},g});
define('tool_lp/templateactions', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/actionselector"],function(a,b,c,d,e,f){var g=0,h=0,i=!0,j=function(c,d){a('[data-region="managetemplates"]').replaceWith(c),b.runTemplateJS(d)},k=function(a){b.render("tool_lp/manage_templates_page",a).done(j).fail(d.exception)},l=function(){var a=c.call([{methodname:"core_competency_delete_template",args:{id:h,deleteplans:i}},{methodname:"tool_lp_data_for_templates_manage_page",args:{pagecontext:{contextid:g}}}]);a[1].done(k).fail(d.exception)},m=function(b){b.preventDefault(),h=a(this).attr("data-templateid");var e=c.call([{methodname:"core_competency_duplicate_template",args:{id:h}},{methodname:"tool_lp_data_for_templates_manage_page",args:{pagecontext:{contextid:g}}}]);e[1].done(k).fail(d.exception)},n=function(b){b.preventDefault();var g=a(this).attr("data-templateid");h=g,i=!0;var j=c.call([{methodname:"core_competency_read_template",args:{id:h}},{methodname:"core_competency_template_has_related_data",args:{id:h}}]);j[0].done(function(a){j[1].done(function(b){b?e.get_strings([{key:"deletetemplate",component:"tool_lp",param:a.shortname},{key:"deletetemplatewithplans",component:"tool_lp"},{key:"deleteplans",component:"tool_lp"},{key:"unlinkplanstemplate",component:"tool_lp"},{key:"confirm",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){var b=[{text:a[2],value:"delete"},{text:a[3],value:"unlink"}],c=new f(a[0],a[1],b,a[4],a[5]);c.display(),c.on("save",function(a,b){"delete"!=b.action&&(i=!1),l()})}).fail(d.exception):e.get_strings([{key:"confirm",component:"moodle"},{key:"deletetemplate",component:"tool_lp",param:a.shortname},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],l)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)};return{deleteHandler:n,duplicateHandler:m,init:function(a){g=a}}});
define('tool_lp/user_competency_plan_popup', ["jquery","core/notification","core/str","core/ajax","core/templates","tool_lp/dialogue"],function(a,b,c,d,e,f){var g=function(b,c,d){this._regionSelector=b,this._userCompetencySelector=c,this._planId=d,a(this._regionSelector).on("click",this._userCompetencySelector,this._handleClick.bind(this))};return g.prototype._handleClick=function(c){c.preventDefault();var e=a(c.target).closest("tr"),f=a(e).data("competencyid"),g=a(e).data("userid"),h=this._planId,i=d.call([{methodname:"tool_lp_data_for_user_competency_summary_in_plan",args:{competencyid:f,planid:h},done:this._contextLoaded.bind(this),fail:b.exception}]);i[0].then(function(a){var c="core_competency_user_competency_viewed_in_plan";a.plan.iscompleted&&(c="core_competency_user_competency_plan_viewed"),d.call([{methodname:c,args:{competencyid:f,userid:g,planid:h},fail:b.exception}])})},g.prototype._contextLoaded=function(a){var d=this;e.render("tool_lp/user_competency_summary_in_plan",a).done(function(a,g){c.get_string("usercompetencysummary","report_competency").done(function(b){new f(b,a,e.runTemplateJS.bind(e,g),d._refresh.bind(d),(!0))}).fail(b.exception)}).fail(b.exception)},g.prototype._refresh=function(){var a=this._planId;d.call([{methodname:"tool_lp_data_for_plan_page",args:{planid:a},done:this._pageContextLoaded.bind(this),fail:b.exception}])},g.prototype._pageContextLoaded=function(a){var c=this;e.render("tool_lp/plan_page",a).done(function(a,b){e.replaceNode(c._regionSelector,a,b)}).fail(b.exception)},g.prototype._regionSelector=null,g.prototype._userCompetencySelector=null,g.prototype._planId=null,g});
define('tool_lp/evidence_delete', ["jquery","core/notification","core/ajax","core/str","core/log"],function(a,b,c,d,e){var f={},g=function(g,h){"undefined"==typeof f[g]&&(f[g]=a("body").delegate(g,"click",function(f){var g=a(f.currentTarget).parents(h);if(!g.length||g.length>1)return void e.error("None or too many evidence container were found.");var i=g.data("id");return i?(f.preventDefault(),f.stopPropagation(),void d.get_strings([{key:"confirm",component:"moodle"},{key:"areyousure",component:"moodle"},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){b.confirm(a[0],a[1],a[2],a[3],function(){var a=c.call([{methodname:"core_competency_delete_evidence",args:{id:i}}]);a[0].then(function(){g.remove()}).fail(b.exception)})}).fail(b.exception)):void e.error("Evidence ID was not found.")}))};return{register:g}});
define('tool_lp/grade_dialogue', ["jquery","core/notification","core/templates","tool_lp/dialogue","tool_lp/event_base","core/str"],function(a,b,c,d,e,f){var g=function(a){e.prototype.constructor.apply(this,[]),this._ratingOptions=a};return g.prototype=Object.create(e.prototype),g.prototype._popup=null,g.prototype._ratingOptions=null,g.prototype._afterRender=function(){var b=this._find('[data-action="rate"]'),c=this._find('[name="rating"]'),d=this._find('[name="comment"]');this._find('[data-action="cancel"]').click(function(a){a.preventDefault(),this._trigger("cancelled"),this.close()}.bind(this)),c.change(function(){var c=a(this);c.val()?b.prop("disabled",!1):b.prop("disabled",!0)}).change(),b.click(function(a){a.preventDefault();var b=c.val();b&&(this._trigger("rated",{rating:b,note:d.val()}),this.close())}.bind(this))},g.prototype.close=function(){this._popup.close(),this._popup=null},g.prototype.display=function(){return this._render().then(function(a){return f.get_string("rate","tool_lp").then(function(b){this._popup=new d(b,a,this._afterRender.bind(this))}.bind(this))}.bind(this)).fail(b.exception)},g.prototype._find=function(b){return a(this._popup.getContent()).find(b)},g.prototype._render=function(){var a={cangrade:this._canGrade,ratings:this._ratingOptions};return c.render("tool_lp/competency_grader",a)},g});
define('tool_lp/planactions', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/menubar","tool_lp/dialogue"],function(a,b,c,d,e,f,g){var h=function(a){if(this._type=a,"plan"===a)this._region='[data-region="plan-page"]',this._planNode='[data-region="plan-page"]',this._template="tool_lp/plan_page",this._contextMethod="tool_lp_data_for_plan_page";else{if("plans"!==a)throw new TypeError("Unexpected type.");this._region='[data-region="plans"]',this._planNode='[data-region="plan-node"]',this._template="tool_lp/plans_page",this._contextMethod="tool_lp_data_for_plans_page"}};return h.prototype._contextMethod=null,h.prototype._planNode=null,h.prototype._region=null,h.prototype._template=null,h.prototype._type=null,h.prototype._getContextArgs=function(a){var b=this,c={};return"plan"===b._type?c={planid:a.id}:"plans"===b._type&&(c={userid:a.userid}),c},h.prototype.refresh=function(b){var c=this._findPlanData(a(b));this._callAndRefresh([],c)},h.prototype._renderView=function(c){var e=this;b.render(e._template,c).done(function(c,d){a(e._region).replaceWith(c),b.runTemplateJS(d)}).fail(d.exception)},h.prototype._callAndRefresh=function(b,e){var f=this;return b.push({methodname:f._contextMethod,args:f._getContextArgs(e)}),a.when.apply(a.when,c.call(b)).then(function(){f._renderView(arguments[arguments.length-1])}).fail(d.exception)},h.prototype._doDelete=function(a){var b=this,c=[{methodname:"core_competency_delete_plan",args:{id:a.id}}];b._callAndRefresh(c,a)},h.prototype.deletePlan=function(a){var b,f=this;b=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]),b[0].done(function(b){e.get_strings([{key:"confirm",component:"moodle"},{key:"deleteplan",component:"tool_lp",param:b.name},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(b){d.confirm(b[0],b[1],b[2],b[3],function(){f._doDelete(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doReopenPlan=function(a){var b=this,c=[{methodname:"core_competency_reopen_plan",args:{planid:a.id}}];b._callAndRefresh(c,a)},h.prototype.reopenPlan=function(a){var b=this,f=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]);f[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:"reopenplanconfirm",component:"tool_lp",param:c.name},{key:"reopenplan",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){b._doReopenPlan(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doCompletePlan=function(a){var b=this,c=[{methodname:"core_competency_complete_plan",args:{planid:a.id}}];b._callAndRefresh(c,a)},h.prototype.completePlan=function(a){var b=this,f=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]);f[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:"completeplanconfirm",component:"tool_lp",param:c.name},{key:"completeplan",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){b._doCompletePlan(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doUnlinkPlan=function(a){var b=this,c=[{methodname:"core_competency_unlink_plan_from_template",args:{planid:a.id}}];b._callAndRefresh(c,a)},h.prototype.unlinkPlan=function(a){var b=this,f=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]);f[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:"unlinkplantemplateconfirm",component:"tool_lp",param:c.name},{key:"unlinkplantemplate",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){b._doUnlinkPlan(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doRequestReview=function(a){var b=[{methodname:"core_competency_plan_request_review",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.requestReview=function(a){this._doRequestReview(a)},h.prototype._doCancelReviewRequest=function(a){var b=[{methodname:"core_competency_plan_cancel_review_request",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.cancelReviewRequest=function(a){this._doCancelReviewRequest(a)},h.prototype._doStartReview=function(a){var b=[{methodname:"core_competency_plan_start_review",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.startReview=function(a){this._doStartReview(a)},h.prototype._doStopReview=function(a){var b=[{methodname:"core_competency_plan_stop_review",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.stopReview=function(a){this._doStopReview(a)},h.prototype._doApprove=function(a){var b=[{methodname:"core_competency_approve_plan",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.approve=function(a){this._doApprove(a)},h.prototype._doUnapprove=function(a){var b=[{methodname:"core_competency_unapprove_plan",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.unapprove=function(a){this._doUnapprove(a)},h.prototype._showLinkedCoursesHandler=function(f){f.preventDefault();var h=a(f.target).data("id"),i=c.call([{methodname:"tool_lp_list_courses_using_competency",args:{id:h}}]);i[0].done(function(a){var c={courses:a};b.render("tool_lp/linked_courses_summary",c).done(function(a){e.get_string("linkedcourses","tool_lp").done(function(b){new g(b,a)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)},h.prototype._eventHandler=function(b,c){c.preventDefault();var d=this._findPlanData(a(c.target));this[b](d)},h.prototype._findPlanData=function(b){var c,d=b.parentsUntil(a(this._region).parent(),this._planNode);if(1!=d.length)throw new Error("The plan node was not located.");if(c=d.data(),"undefined"==typeof c||"undefined"==typeof c.id)throw new Error("Plan data could not be found.");return c},h.prototype.enhanceMenubar=function(a){f.enhance(a,{'[data-action="plan-delete"]':this._eventHandler.bind(this,"deletePlan"),'[data-action="plan-complete"]':this._eventHandler.bind(this,"completePlan"),'[data-action="plan-reopen"]':this._eventHandler.bind(this,"reopenPlan"),'[data-action="plan-unlink"]':this._eventHandler.bind(this,"unlinkPlan"),'[data-action="plan-request-review"]':this._eventHandler.bind(this,"requestReview"),'[data-action="plan-cancel-review-request"]':this._eventHandler.bind(this,"cancelReviewRequest"),'[data-action="plan-start-review"]':this._eventHandler.bind(this,"startReview"),'[data-action="plan-stop-review"]':this._eventHandler.bind(this,"stopReview"),'[data-action="plan-approve"]':this._eventHandler.bind(this,"approve"),'[data-action="plan-unapprove"]':this._eventHandler.bind(this,"unapprove")})},h.prototype.registerEvents=function(){var b=a(this._region);b.find('[data-action="plan-delete"]').click(this._eventHandler.bind(this,"deletePlan")),b.find('[data-action="plan-complete"]').click(this._eventHandler.bind(this,"completePlan")),b.find('[data-action="plan-reopen"]').click(this._eventHandler.bind(this,"reopenPlan")),b.find('[data-action="plan-unlink"]').click(this._eventHandler.bind(this,"unlinkPlan")),b.find('[data-action="plan-request-review"]').click(this._eventHandler.bind(this,"requestReview")),b.find('[data-action="plan-cancel-review-request"]').click(this._eventHandler.bind(this,"cancelReviewRequest")),b.find('[data-action="plan-start-review"]').click(this._eventHandler.bind(this,"startReview")),b.find('[data-action="plan-stop-review"]').click(this._eventHandler.bind(this,"stopReview")),b.find('[data-action="plan-approve"]').click(this._eventHandler.bind(this,"approve")),b.find('[data-action="plan-unapprove"]').click(this._eventHandler.bind(this,"unapprove")),b.find('[data-action="find-courses-link"]').click(this._showLinkedCoursesHandler.bind(this))},h});
define('tool_templatelibrary/display', ["jquery","core/ajax","core/log","core/notification","core/templates","core/config","core/str"],function(a,b,c,d,e,f,g){var h=function(a,b){if(!a)return!1;var c="@template "+b,d=0,e=[];if(e=a.match(/{{!([\s\S]*?)}}/g),null!==e)for(d=0;d<e.length;d++){var f=e[d],g=f.indexOf(c);if(g!==-1){var h=g+c.length+1;return f=f.substr(h,f.length-2-h)}}return!1},i=function(b,f,i){g.get_string("templateselected","tool_templatelibrary",b).done(function(b){a('[data-region="displaytemplateheader"]').text(b)}).fail(d.exception);var j=h(f,b);j===!1&&(j=h(i,b)),j&&(f=j),a('[data-region="displaytemplatesource"]').text(f);var k=f.match(/Example context \(json\):([\s\S]*)/),l=!1;if(k){var m=k[1].trim();try{l=a.parseJSON(m)}catch(n){c.debug("Could not parse json example context for template."),c.debug(n)}}l?e.render(b,l).done(function(b,c){e.replaceNodeContents(a('[data-region="displaytemplateexample"]'),b,c)}).fail(d.exception):g.get_string("templatehasnoexample","tool_templatelibrary").done(function(b){a('[data-region="displaytemplateexample"]').text(b)}).fail(d.exception)},j=function(c){var e=c.split("/"),g=e.shift(),h=e.shift(),j=b.call([{methodname:"core_output_load_template",args:{component:g,template:h,themename:f.theme}},{methodname:"tool_templatelibrary_load_canonical_template",args:{component:g,template:h}}],!0,!1);a.when.apply(a,j).done(function(a,b){i(c,a,b)}).fail(d.exception)};return a('[data-region="list-templates"]').on("click","[data-templatename]",function(b){var c=a(this).data("templatename");b.preventDefault(),j(c)}),{}});
define('tool_templatelibrary/search', ["jquery","core/ajax","core/log","core/notification","core/templates","core/config"],function(a,b,c,d,e,f){var g=function(b){e.render("tool_templatelibrary/search_results",{templates:b}).done(function(b,c){e.replaceNode(a('[data-region="searchresults"]'),b,c)}).fail(d.exception)},h=function(c){var e=a('[data-field="component"]').val(),f=a('[data-field="search"]').val();document.location.hash=f,b.call([{methodname:"tool_templatelibrary_list_templates",args:{component:e,search:f,themename:c},done:g,fail:d.exception}],!0,!1)},i=null,j=function(a,b){null!==i&&window.clearTimeout(i),i=window.setTimeout(function(){a(),i=null},b)},k=function(){j(h.bind(this,f.theme),400)};return a('[data-region="list-templates"]').on("change",'[data-field="component"]',k),a('[data-region="list-templates"]').on("input",'[data-field="search"]',k),a('[data-field="search"]').val(document.location.hash.replace("#","")),h(f.theme),{}});
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define('tool_usertours/popper', b):a.Popper=b()}(this,function(){"use strict";function a(a){var b=a.offsetParent,c=b&&b.nodeName;return c&&"BODY"!==c&&"HTML"!==c?b:window.document.documentElement}function b(a,b){if(1!==a.nodeType)return[];var c=window.getComputedStyle(a,null);return b?c[b]:c}function c(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function d(a){if(!a||["HTML","BODY","#document"].indexOf(a.nodeName)!==-1)return window.document.body;var e=b(a),f=e.overflow,g=e.overflowX,h=e.overflowY;return/(auto|scroll)/.test(f+h+g)?a:d(c(a))}function e(a){var d=a.nodeName;return"BODY"!==d&&"HTML"!==d&&("fixed"===b(a,"position")||e(c(a)))}function f(b){var c=a(b),d=e(c);return d?"fixed":"absolute"}function g(a,b){var c="x"===b?"Left":"Top",d="Left"===c?"Right":"Bottom";return Number(a["border"+c+"Width"].split("px")[0])+Number(a["border"+d+"Width"].split("px")[0])}function h(a){var c=navigator.appVersion.indexOf("MSIE 10")!==-1,d=void 0;if(c)try{d=a.getBoundingClientRect()}catch(e){d={}}else d=a.getBoundingClientRect();var f={left:d.left,top:d.top,right:d.right,bottom:d.bottom,width:d.right-d.left,height:d.bottom-d.top};if("HTML"===a.nodeName&&c){var h=window.document.documentElement,i=h.scrollTop,j=h.scrollLeft;f.top-=i,f.bottom-=i,f.left-=j,f.right-=j}var k=d.width-(a.clientWidth||d.right-d.left),l=d.height-(a.clientHeight||d.bottom-d.top);if(k||l){var m=b(a);k-=g(m,"x"),l-=g(m,"y")}return f.right-=k,f.width-=k,f.bottom-=l,f.height-=l,f}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",c="top"===b?"scrollTop":"scrollLeft",d=a.nodeName;if("BODY"===d||"HTML"===d){var e=window.document.documentElement,f=window.document.scrollingElement||e;return f[c]}return a[c]}function j(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=i(b,"top"),e=i(b,"left"),f=c?-1:1;return a.top+=d*f,a.bottom+=d*f,a.left+=e*f,a.right+=e*f,a}function k(c,e){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=d(e),k=h(c),l=h(e),m={top:k.top-l.top,left:k.left-l.left,bottom:k.top-l.top+k.height,right:k.left-l.left+k.width,width:k.width,height:k.height};f&&!g?m=j(m,i,!0):a(c).contains(i)&&"BODY"!==i.nodeName&&(m=j(m,e));var n=b(e),o=Number(n.borderTopWidth.split("px")[0]),p=Number(n.borderLeftWidth.split("px")[0]);return m.top-=o,m.bottom-=o,m.left-=p,m.right-=p,m}function l(){var a=window.document.body,b=window.document.documentElement;return{height:Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight),width:Math.max(a.scrollWidth,a.offsetWidth,b.clientWidth,b.scrollWidth,b.offsetWidth)}}function m(a){var b=void 0;if("HTML"===a.nodeName){var c=l(),d=c.width,e=c.height;b={width:d,height:e,left:0,top:0}}else b={width:a.offsetWidth,height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop};return b.right=b.left+b.width,b.bottom=b.top+b.height,b}function n(b){var c=m(b);if("HTML"!==b.nodeName){var d=a(b),e=n(d),f={width:c.offsetWidth,height:c.offsetHeight,left:c.left+e.left,top:c.top+e.top,right:c.right-e.right,bottom:c.bottom-e.bottom};return f}return c}function o(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",e=d(a),f=i(e,b);return["BODY","HTML"].indexOf(e.nodeName)===-1?f+o(c(e),b):f}function p(b,g,h){var i={top:0,left:0},j=a(b);if("viewport"===h){var m=n(j),p=m.left,q=m.top,r=window.document.documentElement,s=r.clientWidth,t=r.clientHeight;if("fixed"===f(b))i.right=s,i.bottom=t;else{var u=o(b,"left"),v=o(b,"top");i={top:0-q,right:s-p+u,bottom:t-q+v,left:0-p}}}else{var w=void 0;if(w="scrollParent"===h?d(c(b)):"window"===h?window.document.body:h,"BODY"===w.nodeName){var x=l(),y=x.height,z=x.width;i.right=z,i.bottom=y}else i=k(w,j,e(b))}return i.left+=g,i.top+=g,i.right-=g,i.bottom-=g,i}function q(a,b,c){if(a.indexOf("auto")===-1)return a;var d=p(c,0,"scrollParent"),e={top:b.top-d.top,right:d.right-b.right,bottom:d.bottom-b.bottom,left:b.left-d.left},f=Object.keys(e).sort(function(a,b){return e[b]-e[a]})[0],g=a.split("-")[1];return f+(g?"-"+g:"")}function r(a){var b=!1,c=0,d=document.createElement("span"),e=new MutationObserver(function(){a(),b=!1});return e.observe(d,{attributes:!0}),function(){b||(b=!0,d.setAttribute("x-index",c),c+=1)}}function s(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},_))}}function t(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function u(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=t(a,function(a){return a[b]===c});return a.indexOf(d)}function v(a){return ga({},a,{right:a.left+a.width,bottom:a.top+a.height})}function w(a){var b=window.getComputedStyle(a),c=parseFloat(b.marginTop)+parseFloat(b.marginBottom),d=parseFloat(b.marginLeft)+parseFloat(b.marginRight),e={width:a.offsetWidth+d,height:a.offsetHeight+c};return e}function x(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function y(a,b,c,d){d=d.split("-")[0];var e=w(b),f={position:a,width:e.width,height:e.height},g=["right","left"].indexOf(d)!==-1,h=g?"top":"left",i=g?"left":"top",j=g?"height":"width",k=g?"width":"height";return f[h]=c[h]+c[j]/2-e[j]/2,d===i?f[i]=c[i]-e[k]:f[i]=c[x(i)],f}function z(b,c,d){var e="fixed"===b.position,f=b.isParentTransformed,g=a(e&&f?d:c);return k(d,g,e,f)}function A(a){for(var b=[!1,"ms","webkit","moz","o"],c=a.charAt(0).toUpperCase()+a.slice(1),d=0;d<b.length-1;d++){var e=b[d],f=e?""+e+c:a;if("undefined"!=typeof window.document.body.style[f])return f}return null}function B(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function C(a,b){return a.some(function(a){var c=a.name,d=a.enabled;return d&&c===b})}function D(a,b,c){var d=t(a,function(a){var c=a.name;return c===b});return!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order})}function E(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function F(a){return"BODY"!==a.nodeName&&("none"!==b(a,"transform")||(c(a)?F(c(a)):a))}function G(a,b){return window.removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b}function H(a,b,c){var d=void 0===c?a:a.slice(0,u(a,"name",c));return d.forEach(function(a){a.enabled&&B(a["function"])&&(b=a["function"](b,a))}),b}function I(a,b){Object.keys(b).forEach(function(c){var d=b[c];d!==!1?a.setAttribute(c,b[c]):a.removeAttribute(c)})}function J(a,b){Object.keys(b).forEach(function(c){var d="";["width","height","top","right","bottom","left"].indexOf(c)!==-1&&E(b[c])&&(d="px"),a.style[c]=b[c]+d})}function K(a,b,c,e){var f="BODY"===a.nodeName,g=f?window:a;g.addEventListener(b,c,{passive:!0}),f||K(d(g.parentNode),b,c,e),e.push(g)}function L(a,b,c,e){c.updateBound=e,window.addEventListener("resize",c.updateBound,{passive:!0});var f=d(a);return K(f,"scroll",c.updateBound,c.scrollParents),c.scrollElement=f,c.eventsEnabled=!0,c}function M(a,b){var c={position:a.offsets.popper.position},d={"x-placement":a.placement},e=Math.round(a.offsets.popper.left),f=Math.round(a.offsets.popper.top),g=A("transform");return b.gpuAcceleration&&g?(c[g]="translate3d("+e+"px, "+f+"px, 0)",c.top=0,c.left=0,c.willChange="transform"):(c.left=e,c.top=f,c.willChange="top, left"),J(a.instance.popper,ga({},c,a.styles)),I(a.instance.popper,ga({},d,a.attributes)),a.offsets.arrow&&J(a.arrowElement,a.offsets.arrow),a}function N(a,b,c,d,e){var f=z(e,b,a);return c.placement=q(c.placement,f,b),b.setAttribute("x-placement",c.placement),c}function O(a,b){if(!D(a.instance.modifiers,"arrow","keepTogether"))return console.warn("WARNING: `keepTogether` modifier is required by arrow modifier in order to work, be sure to include it before `arrow`!"),a;var c=b.element;if("string"==typeof c){if(c=a.instance.popper.querySelector(c),!c)return a}else if(!a.instance.popper.contains(c))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var d=a.placement.split("-")[0],e=v(a.offsets.popper),f=a.offsets.reference,g=["left","right"].indexOf(d)!==-1,h=g?"height":"width",i=g?"top":"left",j=g?"left":"top",k=g?"bottom":"right",l=w(c)[h];f[k]-l<e[i]&&(a.offsets.popper[i]-=e[i]-(f[k]-l)),f[i]+l>e[k]&&(a.offsets.popper[i]+=f[i]+l-e[k]);var m=f[i]+f[h]/2-l/2,n=m-v(a.offsets.popper)[i];return n=Math.max(Math.min(e[h]-l,n),0),a.arrowElement=c,a.offsets.arrow={},a.offsets.arrow[i]=n,a.offsets.arrow[j]="",a}function P(a){return"end"===a?"start":"start"===a?"end":a}function Q(a,b){if(C(a.instance.modifiers,"inner"))return a;if(a.flipped&&a.placement===a.originalPlacement)return a;var c=p(a.instance.popper,b.padding,b.boundariesElement),d=a.placement.split("-")[0],e=x(d),f=a.placement.split("-")[1]||"",g=[];return g="flip"===b.behavior?[d,e]:b.behavior,g.forEach(function(h,i){if(d!==h||g.length===i+1)return a;d=a.placement.split("-")[0],e=x(d);var j=v(a.offsets.popper),k=a.offsets.reference,l=Math.floor,m="left"===d&&l(j.right)>l(k.left)||"right"===d&&l(j.left)<l(k.right)||"top"===d&&l(j.bottom)>l(k.top)||"bottom"===d&&l(j.top)<l(k.bottom),n=l(j.left)<l(c.left),o=l(j.right)>l(c.right),p=l(j.top)<l(c.top),q=l(j.bottom)>l(c.bottom),r="left"===d&&n||"right"===d&&o||"top"===d&&p||"bottom"===d&&q,s=["top","bottom"].indexOf(d)!==-1,t=!!b.flipVariations&&(s&&"start"===f&&n||s&&"end"===f&&o||!s&&"start"===f&&p||!s&&"end"===f&&q);(m||r||t)&&(a.flipped=!0,(m||r)&&(d=g[i+1]),t&&(f=P(f)),a.placement=d+(f?"-"+f:""),a.offsets.popper=y(a.instance.state.position,a.instance.popper,a.offsets.reference,a.placement),a=H(a.instance.modifiers,a,"flip"))}),a}function R(a){var b=v(a.offsets.popper),c=a.offsets.reference,d=a.placement.split("-")[0],e=Math.floor,f=["top","bottom"].indexOf(d)!==-1,g=f?"right":"bottom",h=f?"left":"top",i=f?"width":"height";return b[g]<e(c[h])&&(a.offsets.popper[h]=e(c[h])-b[i]),b[h]>e(c[g])&&(a.offsets.popper[h]=e(c[g])),a}function S(a,b){var c=a.placement,d=a.offsets.popper,e=void 0;return E(b.offset)?e=[b.offset,0]:(e=b.offset.split(" "),e=e.map(function(b,d){var e=b.match(/(\d*\.?\d*)(.*)/),f=+e[1],g=e[2],h=c.indexOf("right")!==-1||c.indexOf("left")!==-1;1===d&&(h=!h);var i=h?"height":"width";if(0===g.indexOf("%")){var j=void 0;switch(g){case"%p":j=a.offsets.popper;break;case"%":case"$r":default:j=a.offsets.reference}var k=v(j),l=k[i];return l/100*f}if("vh"===g||"vw"===g){var m=void 0;return m="vh"===g?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),m/100*f}return"px"===g?+f:+b})),a.placement.indexOf("left")!==-1?(d.top+=e[0],d.left-=e[1]||0):a.placement.indexOf("right")!==-1?(d.top+=e[0],d.left+=e[1]||0):a.placement.indexOf("top")!==-1?(d.left+=e[0],d.top-=e[1]||0):a.placement.indexOf("bottom")!==-1&&(d.left+=e[0],d.top+=e[1]||0),a}function T(b,c){var d=c.boundariesElement||a(b.instance.popper),e=p(b.instance.popper,c.padding,d);c.boundaries=e;var f=c.priority,g=v(b.offsets.popper),h={primary:function(a){var b=g[a];return g[a]<e[a]&&!c.escapeWithReference&&(b=Math.max(g[a],e[a])),fa({},a,b)},secondary:function(a){var b="right"===a?"left":"top",d=g[b];return g[a]>e[a]&&!c.escapeWithReference&&(d=Math.min(g[b],e[a]-("right"===a?g.width:g.height))),fa({},b,d)}};return f.forEach(function(a){var b=["left","top"].indexOf(a)!==-1?"primary":"secondary";g=ga({},g,h[b](a))}),b.offsets.popper=g,b}function U(a){var b=a.placement,c=b.split("-")[0],d=b.split("-")[1];if(d){var e=a.offsets.reference,f=v(a.offsets.popper),g=["bottom","top"].indexOf(c)!==-1,h=g?"left":"top",i=g?"width":"height",j={start:fa({},h,e[h]),end:fa({},h,e[h]+e[i]-f[i])};a.offsets.popper=ga({},f,j[d])}return a}function V(a){if(!D(a.instance.modifiers,"hide","preventOverflow"))return console.warn("WARNING: preventOverflow modifier is required by hide modifier in order to work, be sure to include it before hide!"),a;var b=a.offsets.reference,c=t(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(a.hide===!0)return a;a.hide=!0,a.attributes["x-out-of-boundaries"]=""}else{if(a.hide===!1)return a;a.hide=!1,a.attributes["x-out-of-boundaries"]=!1}return a}function W(a){var b=a.placement,c=b.split("-")[0],d=v(a.offsets.popper),e=v(a.offsets.reference),f=["left","right"].indexOf(c)!==-1,g=["top","left"].indexOf(c)===-1;return d[f?"left":"top"]=e[b]-(g?d[f?"width":"height"]:0),a.placement=x(b),a.offsets.popper=v(d),a}for(var X=["native code","[object MutationObserverConstructor]"],Y=function(a){return X.some(function(b){return(a||"").toString().indexOf(b)>-1})},Z="undefined"!=typeof window,$=["Edge","Trident","Firefox"],_=0,aa=0;aa<$.length;aa+=1)if(Z&&navigator.userAgent.indexOf($[aa])>=0){_=1;break}var ba=Z&&Y(window.MutationObserver),ca=ba?r:s,da=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},ea=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),fa=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},ga=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ha={computeAutoPlacement:q,debounce:ca,findIndex:u,getBordersSize:g,getBoundaries:p,getBoundingClientRect:h,getClientRect:v,getOffsetParent:a,getOffsetRect:m,getOffsetRectRelativeToCustomParent:k,getOuterSizes:w,getParentNode:c,getPopperOffsets:y,getPosition:f,getReferenceOffsets:z,getScroll:i,getScrollParent:d,getStyleComputedProperty:b,getSupportedPropertyName:A,getTotalScroll:o,getWindowSizes:l,includeScroll:j,isFixed:e,isFunction:B,isModifierEnabled:C,isModifierRequired:D,isNative:Y,isNumeric:E,isTransformed:F,removeEventListeners:G,runModifiers:H,setAttributes:I,setStyles:J,setupEventListeners:L},ia={shift:{order:100,enabled:!0,"function":U},offset:{order:200,enabled:!0,"function":S,offset:0},preventOverflow:{order:300,enabled:!0,"function":T,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,"function":R},arrow:{order:500,enabled:!0,"function":O,element:"[x-arrow]"},flip:{order:600,enabled:!0,"function":Q,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,"function":W},hide:{order:800,enabled:!0,"function":V},applyStyle:{order:900,enabled:!0,gpuAcceleration:!0,"function":M,onLoad:N}},ja={placement:"bottom",eventsEnabled:!0,onCreate:function(){},onUpdate:function(){},modifiers:ia},ka=function(){function a(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};da(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(d.update)},this.update=ca(this.update.bind(this)),this.options=ga({},a.Defaults,e),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=b.jquery?b[0]:b,this.popper=c.jquery?c[0]:c,this.modifiers=Object.keys(a.Defaults.modifiers).map(function(b){return ga({name:b},a.Defaults.modifiers[b])}),this.modifiers=this.modifiers.map(function(a){var b=e.modifiers&&e.modifiers[a.name]||{};return ga({},a,b)}),e.modifiers&&(this.options.modifiers=ga({},a.Defaults.modifiers,e.modifiers),Object.keys(e.modifiers).forEach(function(b){if(void 0===a.Defaults.modifiers[b]){var c=e.modifiers[b];c.name=b,d.modifiers.push(c)}})),this.state.position=f(this.reference),this.modifiers=this.modifiers.sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(a){a.enabled&&B(a.onLoad)&&a.onLoad(d.reference,d.popper,d.options,a,d.state)}),this.state.isParentTransformed=F(this.popper.parentNode),this.update();var g=this.options.eventsEnabled;g&&this.enableEventListeners(),this.state.eventsEnabled=g}return ea(a,[{key:"update",value:function(){if(!this.state.isDestroyed){var a={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};this.state.position=f(this.reference),J(this.popper,{position:this.state.position}),a.offsets.reference=z(this.state,this.popper,this.reference),a.placement=q(this.options.placement,a.offsets.reference,this.popper),a.originalPlacement=this.options.placement,a.offsets.popper=y(this.state,this.popper,a.offsets.reference,a.placement),a=H(this.modifiers,a),this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}},{key:"destroy",value:function(){return this.state.isDestroyed=!0,C(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[A("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){this.state.eventsEnabled||(this.state=L(this.reference,this.options,this.state,this.scheduleUpdate))}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=G(this.reference,this.state))}}]),a}();return ka.Utils=ha,ka.placements=["auto","auto-start","auto-end","top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],ka.Defaults=ja,ka});
define('tool_usertours/managesteps', ["jquery","core/str","core/notification"],function(a,b,c){var d={removeStep:function(d){d.preventDefault(),b.get_strings([{key:"confirmstepremovaltitle",component:"tool_usertours"},{key:"confirmstepremovalquestion",component:"tool_usertours"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).done(function(b){c.confirm(b[0],b[1],b[2],b[3],a.proxy(function(){window.location=a(this).attr("href")},d.currentTarget))})},setup:function(){a("body").delegate('[data-action="delete"]',"click",d.removeStep)}};return{setup:d.setup}});
!function(a,b){"function"==typeof define&&define.amd?define('tool_usertours/tour', ["jquery","./popper"],function(c,d){return a.Tour=b(c,d)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery"),require("popper.js")):a.Tour=b(a.$,a.Popper)}(this,function(a,b){"use strict";function c(a){this.init(a)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return c.prototype.tourName,c.prototype.storageKey,c.prototype.storage,c.prototype.originalConfiguration,c.prototype.listeners,c.prototype.eventHandlers,c.prototype.steps,c.prototype.currentStepNode,c.prototype.currentStepNumber,c.prototype.currentStepPopper,c.prototype.currentStepConfig,c.prototype.templateContent,c.prototype.init=function(a){this.eventHandlers={},this.reset(),this.originalConfiguration=a||{},this.configure.apply(this,arguments);try{this.storage=window.sessionStorage,this.storageKey="tourstate_"+this.tourName}catch(b){this.storage=!1,this.storageKey=""}return this},c.prototype.reset=function(){return this.hide(),this.eventHandlers=[],this.resetStepListeners(),this.originalConfiguration={},this.steps=[],this.currentStepNumber=0,this},c.prototype.configure=function(a){var b=this;return"object"===("undefined"==typeof a?"undefined":d(a))&&("undefined"!=typeof a.tourName&&(this.tourName=a.tourName),a.eventHandlers&&!function(){var c=void 0;for(c in a.eventHandlers)a.eventHandlers[c].forEach(function(a){this.addEventHandler(c,a)},b)}(),this.resetStepDefaults(!0),"object"===d(a.steps)&&(this.steps=a.steps),"undefined"!=typeof a.template&&(this.templateContent=a.template)),this.checkMinimumRequirements(),this},c.prototype.checkMinimumRequirements=function(){if(!this.tourName)throw new Error("Tour Name required");if(!this.steps||!this.steps.length)throw new Error("Steps must be specified")},c.prototype.resetStepDefaults=function(a){return"undefined"==typeof a&&(a=!0),this.stepDefaults={},a&&"undefined"!=typeof this.originalConfiguration.stepDefaults?this.setStepDefaults(this.originalConfiguration.stepDefaults):this.setStepDefaults({}),this},c.prototype.setStepDefaults=function(b){return this.stepDefaults||(this.stepDefaults={}),a.extend(this.stepDefaults,{element:"",placement:"top",delay:0,moveOnClick:!1,moveAfterTime:0,orphan:!1,direction:1},b),this},c.prototype.getCurrentStepNumber=function(){return parseInt(this.currentStepNumber,10)},c.prototype.setCurrentStepNumber=function(a){if(this.currentStepNumber=a,this.storage)try{this.storage.setItem(this.storageKey,a)}catch(b){b.code===DOMException.QUOTA_EXCEEDED_ERR&&this.storage.removeItem(this.storageKey)}},c.prototype.getNextStepNumber=function(a){"undefined"==typeof a&&(a=this.getCurrentStepNumber());for(var b=a+1;b<=this.steps.length;){if(this.isStepPotentiallyVisible(this.getStepConfig(b)))return b;b++}return null},c.prototype.getPreviousStepNumber=function(a){"undefined"==typeof a&&(a=this.getCurrentStepNumber());for(var b=a-1;b>=0;){if(this.isStepPotentiallyVisible(this.getStepConfig(b)))return b;b--}return null},c.prototype.isLastStep=function(a){var b=this.getNextStepNumber(a);return null===b},c.prototype.isFirstStep=function(a){var b=this.getPreviousStepNumber(a);return null===b},c.prototype.isStepPotentiallyVisible=function(a){return!!a&&(!!this.isStepActuallyVisible(a)||(!("undefined"==typeof a.orphan||!a.orphan)||!("undefined"==typeof a.delay||!a.delay)))},c.prototype.isStepActuallyVisible=function(a){if(!a)return!1;var b=this.getStepTarget(a);return!!(b&&b.length&&b.is(":visible"))&&!!b.length},c.prototype.next=function(){return this.gotoStep(this.getNextStepNumber())},c.prototype.previous=function(){return this.gotoStep(this.getPreviousStepNumber(),-1)},c.prototype.gotoStep=function(a,b){if(a<0)return this.endTour();var c=this.getStepConfig(a);return null===c?this.endTour():this._gotoStep(c,b)},c.prototype._gotoStep=function(a,b){if(!a)return this.endTour();if("undefined"!=typeof a.delay&&a.delay&&!a.delayed)return a.delayed=!0,window.setTimeout(this._gotoStep.bind(this),a.delay,a,b),this;if(!a.orphan&&!this.isStepActuallyVisible(a)){var c=b==-1?"getPreviousStepNumber":"getNextStepNumber";return this.gotoStep(this[c](a.stepNumber),b)}return this.hide(),this.fireEventHandlers("beforeRender",a),this.renderStep(a),this.fireEventHandlers("afterRender",a),this},c.prototype.getStepConfig=function(b){if(null===b||b<0||b>=this.steps.length)return null;var c=this.normalizeStepConfig(this.steps[b]);return c=a.extend(c,{stepNumber:b})},c.prototype.normalizeStepConfig=function(b){return"undefined"!=typeof b.reflex&&"undefined"==typeof b.moveAfterClick&&(b.moveAfterClick=b.reflex),"undefined"!=typeof b.element&&"undefined"==typeof b.target&&(b.target=b.element),"undefined"!=typeof b.content&&"undefined"==typeof b.body&&(b.body=b.content),b=a.extend({},this.stepDefaults,b),b=a.extend({},{attachTo:b.target,attachPoint:"after"},b),b.attachTo&&(b.attachTo=a(b.attachTo).first()),b},c.prototype.getStepTarget=function(b){return b.target?a(b.target):null},c.prototype.fireEventHandlers=function(a,b){return"undefined"==typeof this.eventHandlers[a]?this:(this.eventHandlers[a].forEach(function(a){a.call(this,b)},this),this)},c.prototype.addEventHandler=function(a,b){return"undefined"==typeof this.eventHandlers[a]&&(this.eventHandlers[a]=[]),this.eventHandlers[a].push(b),this},c.prototype.processStepListeners=function(b){if(this.listeners.push({node:this.currentStepNode,args:["click",'[data-role="next"]',a.proxy(this.next,this)]},{node:this.currentStepNode,args:["click",'[data-role="previous"]',a.proxy(this.previous,this)]},{node:this.currentStepNode,args:["click",'[data-role="end"]',a.proxy(this.endTour,this)]},{node:a("body"),args:["keydown",a.proxy(this.handleKeyDown,this)]}),b.moveOnClick){var c=this.getStepTarget(b);this.listeners.push({node:c,args:["click",a.proxy(function(b){0===a(b.target).parents('[data-flexitour="container"]').length&&window.setTimeout(a.proxy(this.next,this),500)},this)]})}return this.listeners.forEach(function(a){a.node.on.apply(a.node,a.args)}),this},c.prototype.resetStepListeners=function(){return this.listeners&&this.listeners.forEach(function(a){a.node.off.apply(a.node,a.args)}),this.listeners=[],this},c.prototype.renderStep=function(b){this.currentStepConfig=b,this.setCurrentStepNumber(b.stepNumber);var c=a(this.getTemplateContent());return c.find('[data-placeholder="title"]').html(b.title),c.find('[data-placeholder="body"]').html(b.body),this.isFirstStep(b.stepNumber)?c.find('[data-role="previous"]').prop("disabled",!0):c.find('[data-role="previous"]').prop("disabled",!1),this.isLastStep(b.stepNumber)?c.find('[data-role="next"]').prop("disabled",!0):c.find('[data-role="next"]').prop("disabled",!1),c.find('[data-role="previous"]').attr("role","button"),c.find('[data-role="next"]').attr("role","button"),c.find('[data-role="end"]').attr("role","button"),b.template=c,this.addStepToPage(b),this.processStepListeners(b),this},c.prototype.getTemplateContent=function(){return a(this.templateContent).clone()},c.prototype.addStepToPage=function(c){var d=(c.template,a('<span data-flexitour="container"></span>').html(c.template).hide()),e=a("body, html").stop(!0,!0);if(this.isStepActuallyVisible(c)){var f=this.getStepTarget(c);f.data("flexitour","target");var g=this.calculateZIndex(f);g&&(c.zIndex=g+1),c.zIndex&&d.css("zIndex",c.zIndex+1),this.positionBackdrop(c),a(document.body).append(d),this.currentStepNode=d,this.currentStepNode.css({top:0,left:0}),e.animate({scrollTop:this.calculateScrollTop(c)}).promise().then(function(){this.positionStep(c),this.revealStep(c)}.bind(this))}else c.orphan&&(c.isOrphan=!0,c.attachTo=a("body").first(),c.attachPoint="append",this.positionBackdrop(c),d.addClass("orphan"),a(document.body).append(d),this.currentStepNode=d,this.currentStepNode.offset(this.calculateStepPositionInPage()),this.currentStepNode.css("position","fixed"),this.currentStepPopper=new b(a("body"),this.currentStepNode[0],{removeOnDestroy:!0,placement:c.placement+"-start",arrowElement:'[data-role="arrow"]',modifiers:{hide:{enabled:!1},applyStyle:{onLoad:null,enabled:!1}}}),this.revealStep(c));return this},c.prototype.revealStep=function(b){return this.currentStepNode.fadeIn("",a.proxy(function(){this.announceStep(b),this.currentStepNode.focus(),window.setTimeout(a.proxy(function(){this.currentStepNode&&this.currentStepNode.focus()},this),100)},this)),this},c.prototype.announceStep=function(a){var b="tour-step-"+this.tourName+"-"+a.stepNumber;this.currentStepNode.attr("id",b);var c=this.currentStepNode.find('[data-placeholder="body"]').first();c.attr("id",b+"-body"),c.attr("role","document");var d=this.currentStepNode.find('[data-placeholder="title"]').first();d.attr("id",b+"-title"),d.attr("aria-labelledby",b+"-body"),this.currentStepNode.attr("role","dialog"),this.currentStepNode.attr("tabindex",0),this.currentStepNode.attr("aria-labelledby",b+"-title"),this.currentStepNode.attr("aria-describedby",b+"-body");var e=this.getStepTarget(a);return e&&(e.attr("tabindex")||e.attr("tabindex",0),e.data("original-describedby",e.attr("aria-describedby")).attr("aria-describedby",b+"-body")),this.accessibilityShow(a),this},c.prototype.handleKeyDown=function(b){var c="a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex], button";switch(b.keyCode){case 27:this.endTour();break;case 9:(function(){if(this.currentStepConfig.hasBackdrop){var d=a(document.activeElement),e=this.getStepTarget(this.currentStepConfig),f=a(c),g=void 0;f.filter(function(a,b){if(d.is(b))return g=a,!1});var h=void 0,i=void 0,j=void 0;if(g){var k=1;b.shiftKey&&(k=-1),h=g;do h+=k,i=a(f[h]);while(i.length&&i.is(":disabled")||i.is(":hidden"));i.length?(j=i.closest(e).length,j=j||i.closest(this.currentStepNode).length):j=!1}j?i.focus():b.shiftKey?this.currentStepNode.find(c).last().focus():this.currentStepConfig.isOrphan?this.currentStepNode.focus():e.focus(),b.preventDefault()}}).call(this)}},c.prototype.startTour=function(a){if(this.storage&&"undefined"==typeof a){var b=this.storage.getItem(this.storageKey);if(b){var c=parseInt(b,10);c<=this.steps.length&&(a=c)}}return"undefined"==typeof a&&(a=this.getCurrentStepNumber()),this.fireEventHandlers("beforeStart",a),this.gotoStep(a),this.fireEventHandlers("afterStart",a),this},c.prototype.restartTour=function(){return this.startTour(0)},c.prototype.endTour=function(){if(this.fireEventHandlers("beforeEnd"),this.currentStepConfig){var a=this.getStepTarget(this.currentStepConfig);a&&(a.attr("tabindex")||a.attr("tabindex","-1"),a.focus())}return this.hide(!0),this.fireEventHandlers("afterEnd"),this},c.prototype.hide=function(b){if(this.fireEventHandlers("beforeHide"),this.currentStepNode&&this.currentStepNode.length&&(this.currentStepNode.hide(),this.currentStepPopper&&this.currentStepPopper.destroy()),this.currentStepConfig){var c=this.getStepTarget(this.currentStepConfig);c&&(c.data("original-labelledby")&&c.attr("aria-labelledby",c.data("original-labelledby")),c.data("original-describedby")&&c.attr("aria-describedby",c.data("original-describedby")),c.data("original-tabindex")&&c.attr("tabindex",c.data("tabindex"))),this.currentStepConfig=null}var d=0;return b&&(d=400),a('[data-flexitour="step-background"]').remove(),a('[data-flexitour="step-backdrop"]').removeAttr("data-flexitour"),a('[data-flexitour="backdrop"]').fadeOut(d,function(){a(this).remove()}),this.resetStepListeners(),this.accessibilityHide(),this.fireEventHandlers("afterHide"),this.currentStepNode=null,this.currentStepPopper=null,this},c.prototype.show=function(){var a=this.getCurrentStepNumber();return this.gotoStep(a)},c.prototype.getStepContainer=function(){return a(this.currentStepNode)},c.prototype.calculateScrollTop=function(b){var c=a(window).scrollTop(),d=a(window).height(),e=this.getStepTarget(b);return c="top"===b.placement?e.offset().top-d/2:"bottom"===b.placement?e.offset().top+e.height()-d/2:e.height()<=.8*d?e.offset().top-(d-e.height())/2:e.offset().top-.2*d,c=Math.max(0,c),c=Math.min(a(document).height()-d,c),Math.ceil(c)},c.prototype.calculateStepPositionInPage=function(){var b=a(window).height(),c=this.currentStepNode.height(),d=a(window).width(),e=this.currentStepNode.width();return{top:Math.ceil((b-c)/2),left:Math.ceil((d-e)/2)}},c.prototype.positionStep=function(c){var d=this.currentStepNode;if(!d||!d.length)return this;var e=void 0;switch(c.placement){case"left":e=["left","right","top","bottom"];break;case"right":e=["right","left","top","bottom"];break;case"top":e=["top","bottom","right","left"];break;case"bottom":e=["bottom","top","right","left"];break;default:e="flip"}var f=this.getStepTarget(c),g={placement:c.placement+"-start",removeOnDestroy:!0,modifiers:{flip:{behaviour:e},arrow:{element:'[data-role="arrow"]'}}},h=a('[data-flexitour="step-background"]');return h.length&&(f=h),this.currentStepPopper=new b(f,d[0],g),this},c.prototype.positionBackdrop=function(b){if(b.backdrop){this.currentStepConfig.hasBackdrop=!0;var c=a('<div data-flexitour="backdrop"></div>');if(b.zIndex?"append"===b.attachPoint?b.attachTo.append(c):c.insertAfter(b.attachTo):a("body").append(c),this.isStepActuallyVisible(b)){var d=a('<div data-flexitour="step-background"></div>'),e=this.getStepTarget(b),f=10,g=e;f&&(g=a("body")),d.css({width:e.outerWidth()+f+f,height:e.outerHeight()+f+f,left:e.offset().left-f,top:e.offset().top-f,backgroundColor:this.calculateInherittedBackgroundColor(g)}),e.offset().left<f&&d.css({width:e.outerWidth()+e.offset().left+f,left:e.offset().left}),e.offset().top<f&&d.css({height:e.outerHeight()+e.offset().top+f,top:e.offset().top});var h=e.css("borderRadius");h&&h!==a("body").css("borderRadius")&&d.css("borderRadius",h);var i=this.calculatePosition(e);"fixed"===i?d.css("top",0):"absolute"===i&&d.css("position","fixed");var j=d.clone();j.css({backgroundColor:c.css("backgroundColor"),opacity:c.css("opacity")}),j.attr("data-flexitour","step-background-fader"),b.zIndex?"append"===b.attachPoint?b.attachTo.append(d):(j.insertAfter(b.attachTo),d.insertAfter(b.attachTo)):(a("body").append(j),a("body").append(d)),e.attr("data-flexitour","step-backdrop"),b.zIndex&&(c.css("zIndex",b.zIndex),d.css("zIndex",b.zIndex+1),e.css("zIndex",b.zIndex+2)),j.fadeOut("2000",function(){a(this).remove()})}}return this},c.prototype.calculateZIndex=function(b){for(b=a(b);b.length&&b[0]!==document;){var c=b.css("position");if("absolute"===c||"relative"===c||"fixed"===c){var d=parseInt(b.css("zIndex"),10);if(!isNaN(d)&&0!==d)return d}b=b.parent()}return 0},c.prototype.calculateInherittedBackgroundColor=function(b){var c=a("<div>").hide();a("body").append(c);var d=c.css("backgroundColor");for(c.remove(),b=a(b);b.length&&b[0]!==document;){var e=b.css("backgroundColor");if(e!==d)return e;b=b.parent()}return null},c.prototype.calculatePosition=function(b){for(b=a(b);b.length&&b[0]!==document;){var c=b.css("position");if("static"!==c)return c;b=b.parent()}return null},c.prototype.accessibilityShow=function(){var b="data-has-hidden",c="aria-hidden",d=function(a){var d=a.data("flexitour");if(d)switch(d){case"container":case"target":return}var e=a.attr(c);e||(a.attr(b,!0),a.attr(c,!0))};this.currentStepNode.siblings().each(function(b,c){d(a(c))}),this.currentStepNode.parentsUntil("body").siblings().each(function(b,c){d(a(c))})},c.prototype.accessibilityHide=function(){var b="data-has-hidden",c="aria-hidden",d=function(a){var d=a.attr(b);"undefined"!=typeof d&&(a.removeAttr(b),a.removeAttr(c))};a("["+b+"]").each(function(b,c){d(a(c))})},"object"===("undefined"==typeof exports?"undefined":d(exports))&&(module.exports=c),c});
define('tool_usertours/managetours', ["jquery","core/ajax","core/str","core/notification"],function(a,b,c,d){var e={removeTour:function(b){b.preventDefault(),c.get_strings([{key:"confirmtourremovaltitle",component:"tool_usertours"},{key:"confirmtourremovalquestion",component:"tool_usertours"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],a.proxy(function(){window.location=a(this).attr("href")},b.currentTarget))})},setup:function(){a("body").delegate('[data-action="delete"]',"click",e.removeTour)}};return{setup:e.setup}});
define('tool_usertours/usertours', ["core/ajax","tool_usertours/tour","jquery","core/templates","core/str","core/log","core/notification"],function(a,b,c,d,e,f,g){var h={tourId:null,currentTour:null,context:null,init:function(a,b,d){h.tourId=a,h.context=d,"undefined"==typeof b&&(b=!0),b&&h.fetchTour(a),h.addResetLink(),c("body").on("click",'[data-action="tool_usertours/resetpagetour"]',function(a){a.preventDefault(),h.resetTourState(h.tourId)})},fetchTour:function(b){c.when(a.call([{methodname:"tool_usertours_fetch_and_start_tour",args:{tourid:b,context:h.context,pageurl:window.location.href}}])[0],d.render("tool_usertours/tourstep",{})).then(function(a,c){h.startBootstrapTour(b,c[0],a.tourconfig)}).fail(g.exception)},addResetLink:function(){e.get_string("resettouronpage","tool_usertours").done(function(a){c("footer, .logininfo").last().append('<div class="usertour"><a href="#" data-action="tool_usertours/resetpagetour">'+a+"</a></div>")})},startBootstrapTour:function(a,c,d){h.currentTour&&(d.onEnd=null,h.currentTour.endTour(),delete h.currentTour),d.eventHandlers={afterEnd:[h.markTourComplete],afterRender:[h.markStepShown]},d.tourName=d.name,delete d.name,d.template=c,d.steps=d.steps.map(function(a){return"undefined"!=typeof a.element&&(a.target=a.element,delete a.element),"undefined"!=typeof a.reflex&&(a.moveOnClick=!!a.reflex,delete a.reflex),"undefined"!=typeof a.content&&(a.body=a.content,delete a.content),a}),h.currentTour=new b(d),h.currentTour.startTour()},markStepShown:function(){var b=this.getStepConfig(this.getCurrentStepNumber());c.when(a.call([{methodname:"tool_usertours_step_shown",args:{tourid:h.tourId,context:h.context,pageurl:window.location.href,stepid:b.stepid,stepindex:this.getCurrentStepNumber()}}])[0]).fail(f.error)},markTourComplete:function(){var b=this.getStepConfig(this.getCurrentStepNumber());c.when(a.call([{methodname:"tool_usertours_complete_tour",args:{tourid:h.tourId,context:h.context,pageurl:window.location.href,stepid:b.stepid,stepindex:this.getCurrentStepNumber()}}])[0]).fail(f.error)},resetTourState:function(b){c.when(a.call([{methodname:"tool_usertours_reset_tour",args:{tourid:b,context:h.context,pageurl:window.location.href}}])[0]).then(function(a){a.startTour&&h.fetchTour(a.startTour)}).fail(g.exception)}};return{init:h.init,resetTourState:h.resetTourState}});
define('theme_boost/alert', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a){var b="alert",c="4.0.0-alpha.4",g="bs.alert",h="."+g,i=".data-api",j=a.fn[b],k=150,l={DISMISS:'[data-dismiss="alert"]'},m={CLOSE:"close"+h,CLOSED:"closed"+h,CLICK_DATA_API:"click"+h+i},n={ALERT:"alert",FADE:"fade",IN:"in"},o=function(){function b(a){d(this,b),this._element=a}return f(b,[{key:"close",value:function(a){a=a||this._element;var b=this._getRootElement(a),c=this._triggerCloseEvent(b);c.isDefaultPrevented()||this._removeElement(b)}},{key:"dispose",value:function(){a.removeData(this._element,g),this._element=null}},{key:"_getRootElement",value:function(b){var c=e["default"].getSelectorFromElement(b),d=!1;return c&&(d=a(c)[0]),d||(d=a(b).closest("."+n.ALERT)[0]),d}},{key:"_triggerCloseEvent",value:function(b){var c=a.Event(m.CLOSE);return a(b).trigger(c),c}},{key:"_removeElement",value:function(b){return a(b).removeClass(n.IN),e["default"].supportsTransitionEnd()&&a(b).hasClass(n.FADE)?void a(b).one(e["default"].TRANSITION_END,a.proxy(this._destroyElement,this,b)).emulateTransitionEnd(k):void this._destroyElement(b)}},{key:"_destroyElement",value:function(b){a(b).detach().trigger(m.CLOSED).remove()}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var d=a(this),e=d.data(g);e||(e=new b(this),d.data(g,e)),"close"===c&&e[c](this)})}},{key:"_handleDismiss",value:function(a){return function(b){b&&b.preventDefault(),a.close(this)}}},{key:"VERSION",get:function(){return c}}]),b}();return a(document).on(m.CLICK_DATA_API,l.DISMISS,o._handleDismiss(new o)),a.fn[b]=o._jQueryInterface,a.fn[b].Constructor=o,a.fn[b].noConflict=function(){return a.fn[b]=j,o._jQueryInterface},o}(jQuery);a["default"]=g});
define('theme_boost/tab', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a){var b="tab",c="4.0.0-alpha.4",g="bs.tab",h="."+g,i=".data-api",j=a.fn[b],k=150,l={HIDE:"hide"+h,HIDDEN:"hidden"+h,SHOW:"show"+h,SHOWN:"shown"+h,CLICK_DATA_API:"click"+h+i},m={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",FADE:"fade",IN:"in"},n={A:"a",LI:"li",DROPDOWN:".dropdown",UL:"ul:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},o=function(){function b(a){d(this,b),this._element=a}return f(b,[{key:"show",value:function(){var b=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!a(this._element).hasClass(m.ACTIVE)){var c=void 0,d=void 0,f=a(this._element).closest(n.UL)[0],g=e["default"].getSelectorFromElement(this._element);f&&(d=a.makeArray(a(f).find(n.ACTIVE)),d=d[d.length-1]);var h=a.Event(l.HIDE,{relatedTarget:this._element}),i=a.Event(l.SHOW,{relatedTarget:d});if(d&&a(d).trigger(h),a(this._element).trigger(i),!i.isDefaultPrevented()&&!h.isDefaultPrevented()){g&&(c=a(g)[0]),this._activate(this._element,f);var j=function(){var c=a.Event(l.HIDDEN,{relatedTarget:b._element}),e=a.Event(l.SHOWN,{relatedTarget:d});a(d).trigger(c),a(b._element).trigger(e)};c?this._activate(c,c.parentNode,j):j()}}}},{key:"dispose",value:function(){a.removeClass(this._element,g),this._element=null}},{key:"_activate",value:function(b,c,d){var f=a(c).find(n.ACTIVE_CHILD)[0],g=d&&e["default"].supportsTransitionEnd()&&(f&&a(f).hasClass(m.FADE)||Boolean(a(c).find(n.FADE_CHILD)[0])),h=a.proxy(this._transitionComplete,this,b,f,g,d);f&&g?a(f).one(e["default"].TRANSITION_END,h).emulateTransitionEnd(k):h(),f&&a(f).removeClass(m.IN)}},{key:"_transitionComplete",value:function(b,c,d,f){if(c){a(c).removeClass(m.ACTIVE);var g=a(c).find(n.DROPDOWN_ACTIVE_CHILD)[0];g&&a(g).removeClass(m.ACTIVE),c.setAttribute("aria-expanded",!1)}if(a(b).addClass(m.ACTIVE),b.setAttribute("aria-expanded",!0),d?(e["default"].reflow(b),a(b).addClass(m.IN)):a(b).removeClass(m.FADE),b.parentNode&&a(b.parentNode).hasClass(m.DROPDOWN_MENU)){var h=a(b).closest(n.DROPDOWN)[0];h&&a(h).find(n.DROPDOWN_TOGGLE).addClass(m.ACTIVE),b.setAttribute("aria-expanded",!0)}f&&f()}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var d=a(this),e=d.data(g);if(e||(e=e=new b(this),d.data(g,e)),"string"==typeof c){if(void 0===e[c])throw new Error('No method named "'+c+'"');e[c]()}})}},{key:"VERSION",get:function(){return c}}]),b}();return a(document).on(l.CLICK_DATA_API,n.DATA_TOGGLE,function(b){b.preventDefault(),o._jQueryInterface.call(a(this),"show")}),a.fn[b]=o._jQueryInterface,a.fn[b].Constructor=o,a.fn[b].noConflict=function(){return a.fn[b]=j,o._jQueryInterface},o}(jQuery);a["default"]=g});
define('theme_boost/loader', ["jquery","./tether","core/event"],function(a,b,c){return window.jQuery=a,window.Tether=b,require(["theme_boost/util","theme_boost/alert","theme_boost/button","theme_boost/carousel","theme_boost/collapse","theme_boost/dropdown","theme_boost/modal","theme_boost/scrollspy","theme_boost/tab","theme_boost/tooltip","theme_boost/popover"],function(){a("body").popover({trigger:"focus",selector:"[data-toggle=popover][data-trigger!=hover]"}),a("html").popover({container:"body",selector:"[data-toggle=popover][data-trigger=hover]",trigger:"hover",delay:{hide:500}}),c.getLegacyEvents().done(function(b){a(document).on(b.FILTER_CONTENT_UPDATED,function(){a("body").popover({selector:'[data-toggle="popover"]',trigger:"focus"})})})}),{}});
define('theme_boost/collapse', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a){var b="collapse",c="4.0.0-alpha.4",h="bs.collapse",i="."+h,j=".data-api",k=a.fn[b],l=600,m={toggle:!0,parent:""},n={toggle:"boolean",parent:"string"},o={SHOW:"show"+i,SHOWN:"shown"+i,HIDE:"hide"+i,HIDDEN:"hidden"+i,CLICK_DATA_API:"click"+i+j},p={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},q={WIDTH:"width",HEIGHT:"height"},r={ACTIVES:".panel > .in, .panel > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},s=function(){function i(b,c){d(this,i),this._isTransitioning=!1,this._element=b,this._config=this._getConfig(c),this._triggerArray=a.makeArray(a('[data-toggle="collapse"][href="#'+b.id+'"],'+('[data-toggle="collapse"][data-target="#'+b.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return g(i,[{key:"toggle",value:function(){a(this._element).hasClass(p.IN)?this.hide():this.show()}},{key:"show",value:function(){var b=this;if(!this._isTransitioning&&!a(this._element).hasClass(p.IN)){var c=void 0,d=void 0;if(this._parent&&(c=a.makeArray(a(r.ACTIVES)),c.length||(c=null)),!(c&&(d=a(c).data(h),d&&d._isTransitioning))){var f=a.Event(o.SHOW);if(a(this._element).trigger(f),!f.isDefaultPrevented()){c&&(i._jQueryInterface.call(a(c),"hide"),d||a(c).data(h,null));var g=this._getDimension();a(this._element).removeClass(p.COLLAPSE).addClass(p.COLLAPSING),this._element.style[g]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&a(this._triggerArray).removeClass(p.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var j=function(){a(b._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).addClass(p.IN),b._element.style[g]="",b.setTransitioning(!1),a(b._element).trigger(o.SHOWN)};if(!e["default"].supportsTransitionEnd())return void j();var k=g[0].toUpperCase()+g.slice(1),m="scroll"+k;a(this._element).one(e["default"].TRANSITION_END,j).emulateTransitionEnd(l),this._element.style[g]=this._element[m]+"px"}}}}},{key:"hide",value:function(){var b=this;if(!this._isTransitioning&&a(this._element).hasClass(p.IN)){var c=a.Event(o.HIDE);if(a(this._element).trigger(c),!c.isDefaultPrevented()){var d=this._getDimension(),f=d===q.WIDTH?"offsetWidth":"offsetHeight";this._element.style[d]=this._element[f]+"px",e["default"].reflow(this._element),a(this._element).addClass(p.COLLAPSING).removeClass(p.COLLAPSE).removeClass(p.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&a(this._triggerArray).addClass(p.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var g=function(){b.setTransitioning(!1),a(b._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).trigger(o.HIDDEN)};return this._element.style[d]=0,e["default"].supportsTransitionEnd()?void a(this._element).one(e["default"].TRANSITION_END,g).emulateTransitionEnd(l):void g()}}}},{key:"setTransitioning",value:function(a){this._isTransitioning=a}},{key:"dispose",value:function(){a.removeData(this._element,h),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function(c){return c=a.extend({},m,c),c.toggle=Boolean(c.toggle),e["default"].typeCheckConfig(b,c,n),c}},{key:"_getDimension",value:function(){var b=a(this._element).hasClass(q.WIDTH);return b?q.WIDTH:q.HEIGHT}},{key:"_getParent",value:function(){var b=this,c=a(this._config.parent)[0],d='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return a(c).find(d).each(function(a,c){b._addAriaAndCollapsedClass(i._getTargetFromElement(c),[c])}),c}},{key:"_addAriaAndCollapsedClass",value:function(b,c){if(b){var d=a(b).hasClass(p.IN);b.setAttribute("aria-expanded",d),c.length&&a(c).toggleClass(p.COLLAPSED,!d).attr("aria-expanded",d)}}}],[{key:"_getTargetFromElement",value:function(b){var c=e["default"].getSelectorFromElement(b);return c?a(c)[0]:null}},{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this),d=c.data(h),e=a.extend({},m,c.data(),"object"===("undefined"==typeof b?"undefined":f(b))&&b);if(!d&&e.toggle&&/show|hide/.test(b)&&(e.toggle=!1),d||(d=new i(this,e),c.data(h,d)),"string"==typeof b){if(void 0===d[b])throw new Error('No method named "'+b+'"');d[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return m}}]),i}();return a(document).on(o.CLICK_DATA_API,r.DATA_TOGGLE,function(b){b.preventDefault();var c=s._getTargetFromElement(this),d=a(c).data(h),e=d?"toggle":a(this).data();s._jQueryInterface.call(a(c),e)}),a.fn[b]=s._jQueryInterface,a.fn[b].Constructor=s,a.fn[b].noConflict=function(){return a.fn[b]=k,s._jQueryInterface},s}(jQuery);a["default"]=h});
define('theme_boost/drawer', ["jquery","core/custom_interaction_events","core/log"],function(a,b,c){var d={TOGGLE_REGION:'[data-region="drawer-toggle"]',TOGGLE_ACTION:'[data-action="toggle-drawer"]',TOGGLE_TARGET:"aria-controls",TOGGLE_SIDE:"left",BODY:"body"},e=function(){a(d.TOGGLE_REGION).length||c.debug("Page is missing a drawer region"),a(d.TOGGLE_ACTION).length||c.debug("Page is missing a drawer toggle link"),a(d.TOGGLE_REGION).each(function(b,c){var e=a(c).find(d.TOGGLE_ACTION),f=e.attr("aria-controls"),g=a(document.getElementById(f)),h="false"==e.attr("aria-expanded"),i=e.attr("data-side"),j=a(d.BODY);g.on("mousewheel DOMMouseScroll",this.preventPageScroll),h?e.attr("aria-expanded","false"):(j.addClass("drawer-open-"+i),e.attr("aria-expanded","true"))}.bind(this)),this.registerEventListeners();var b=a(document).width()<768;b&&this.closeAll()};return e.prototype.closeAll=function(){a(d.TOGGLE_REGION).each(function(b,c){var e=a(c).find(d.TOGGLE_ACTION),f=e.attr("data-side"),g=a(d.BODY),h=e.attr("aria-controls"),i=a(document.getElementById(h)),j=e.attr("data-preference");e.attr("aria-expanded","false"),g.removeClass("drawer-open-"+f),i.attr("aria-hidden","true"),i.addClass("closed"),M.util.set_user_preference(j,"false")})},e.prototype.toggleDrawer=function(b){var c=a(b.target).closest("[data-action=toggle-drawer]"),e=c.attr("aria-controls"),f=a(document.getElementById(e)),g=a(d.BODY),h=c.attr("data-side"),i=c.attr("data-preference");g.addClass("drawer-ease");var j="true"==c.attr("aria-expanded");if(j)g.removeClass("drawer-open-"+h),c.attr("aria-expanded","false"),f.attr("aria-hidden","true"),f.addClass("closed"),M.util.set_user_preference(i,"false");else{var k=a(document).width()<768;k&&this.closeAll(),c.attr("aria-expanded","true"),f.attr("aria-hidden","false"),f.focus(),g.addClass("drawer-open-"+h),f.removeClass("closed"),M.util.set_user_preference(i,"true")}},e.prototype.preventPageScroll=function(b){var c=b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.originalEvent.detail,d=this.scrollTop+a(this).outerHeight()-this.scrollHeight>=0,e=this.scrollTop<=0;(c<0&&d||c>0&&e)&&b.preventDefault()},e.prototype.registerEventListeners=function(){a(d.TOGGLE_ACTION).each(function(c,d){b.define(a(d),[b.events.activate]),a(d).on(b.events.activate,function(a,b){this.toggleDrawer(b.originalEvent),b.originalEvent.preventDefault()}.bind(this))}.bind(this))},{init:function(){return new e}}});
define('theme_boost/button', ["exports"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),d=function(a){var d="button",e="4.0.0-alpha.4",f="bs.button",g="."+f,h=".data-api",i=a.fn[d],j={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},k={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},l={CLICK_DATA_API:"click"+g+h,FOCUS_BLUR_DATA_API:"focus"+g+h+" "+("blur"+g+h)},m=function(){function d(a){b(this,d),this._element=a}return c(d,[{key:"toggle",value:function(){var b=!0,c=a(this._element).closest(k.DATA_TOGGLE)[0];if(c){var d=a(this._element).find(k.INPUT)[0];if(d){if("radio"===d.type)if(d.checked&&a(this._element).hasClass(j.ACTIVE))b=!1;else{var e=a(c).find(k.ACTIVE)[0];e&&a(e).removeClass(j.ACTIVE)}b&&(d.checked=!a(this._element).hasClass(j.ACTIVE),a(this._element).trigger("change")),d.focus()}}else this._element.setAttribute("aria-pressed",!a(this._element).hasClass(j.ACTIVE));b&&a(this._element).toggleClass(j.ACTIVE)}},{key:"dispose",value:function(){a.removeData(this._element,f),this._element=null}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(f);c||(c=new d(this),a(this).data(f,c)),"toggle"===b&&c[b]()})}},{key:"VERSION",get:function(){return e}}]),d}();return a(document).on(l.CLICK_DATA_API,k.DATA_TOGGLE_CARROT,function(b){b.preventDefault();var c=b.target;a(c).hasClass(j.BUTTON)||(c=a(c).closest(k.BUTTON)),m._jQueryInterface.call(a(c),"toggle")}).on(l.FOCUS_BLUR_DATA_API,k.DATA_TOGGLE_CARROT,function(b){var c=a(b.target).closest(k.BUTTON)[0];a(c).toggleClass(j.FOCUS,/^focus(in)?$/.test(b.type))}),a.fn[d]=m._jQueryInterface,a.fn[d].Constructor=m,a.fn[d].noConflict=function(){return a.fn[d]=i,m._jQueryInterface},m}(jQuery);a["default"]=d});
define('theme_boost/form-display-errors', ["jquery","core/event"],function(a,b){return{enhance:function(c){var d=document.getElementById(c);a(d).on(b.Events.FORM_FIELD_VALIDATION,function(b,c){b.preventDefault();var e=a(d).closest(".form-group"),f=e.find(".form-control-feedback");"TEXTAREA"==a(d).prop("tagName")&&e.find("[contenteditable]")&&(d=e.find("[contenteditable]")),""!==c?(e.addClass("has-danger"),e.data("client-validation-error",!0),a(d).addClass("form-control-danger"),a(d).attr("aria-describedby",f.attr("id")),a(d).attr("aria-invalid",!0),f.attr("tabindex",0),f.html(c),f.is(":visible")||(f.show(),f.focus())):e.data("client-validation-error")===!0&&(e.removeClass("has-danger"),e.data("client-validation-error",!1),a(d).removeClass("form-control-danger"),a(d).removeAttr("aria-describedby"),a(d).attr("aria-invalid",!1),f.hide())})}}});
define('theme_boost/scrollspy', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a){var b="scrollspy",c="4.0.0-alpha.4",h="bs.scrollspy",i="."+h,j=".data-api",k=a.fn[b],l={offset:10,method:"auto",target:""},m={offset:"number",method:"string",target:"(string|element)"},n={ACTIVATE:"activate"+i,SCROLL:"scroll"+i,LOAD_DATA_API:"load"+i+j},o={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},p={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},q={OFFSET:"offset",POSITION:"position"},r=function(){function j(b,c){d(this,j),this._element=b,this._scrollElement="BODY"===b.tagName?window:b,this._config=this._getConfig(c),this._selector=this._config.target+" "+p.NAV_LINKS+","+(this._config.target+" "+p.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,a(this._scrollElement).on(n.SCROLL,a.proxy(this._process,this)),this.refresh(),this._process()}return g(j,[{key:"refresh",value:function(){var b=this,c=this._scrollElement!==this._scrollElement.window?q.POSITION:q.OFFSET,d="auto"===this._config.method?c:this._config.method,f=d===q.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var g=a.makeArray(a(this._selector));g.map(function(b){var c=void 0,g=e["default"].getSelectorFromElement(b);return g&&(c=a(g)[0]),c&&(c.offsetWidth||c.offsetHeight)?[a(c)[d]().top+f,g]:null}).filter(function(a){return a}).sort(function(a,b){return a[0]-b[0]}).forEach(function(a){b._offsets.push(a[0]),b._targets.push(a[1])})}},{key:"dispose",value:function(){a.removeData(this._element,h),a(this._scrollElement).off(i),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}},{key:"_getConfig",value:function(c){if(c=a.extend({},l,c),"string"!=typeof c.target){var d=a(c.target).attr("id");d||(d=e["default"].getUID(b),a(c.target).attr("id",d)),c.target="#"+d}return e["default"].typeCheckConfig(b,c,m),c}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.scrollY:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_process",value:function(){var a=this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._scrollElement.offsetHeight;if(this._scrollHeight!==b&&this.refresh(),a>=c){var d=this._targets[this._targets.length-1];this._activeTarget!==d&&this._activate(d)}if(this._activeTarget&&a<this._offsets[0])return this._activeTarget=null,void this._clear();for(var e=this._offsets.length;e--;){var f=this._activeTarget!==this._targets[e]&&a>=this._offsets[e]&&(void 0===this._offsets[e+1]||a<this._offsets[e+1]);f&&this._activate(this._targets[e])}}},{key:"_activate",value:function(b){this._activeTarget=b,this._clear();var c=this._selector.split(",");c=c.map(function(a){return a+'[data-target="'+b+'"],'+(a+'[href="'+b+'"]')});var d=a(c.join(","));d.hasClass(o.DROPDOWN_ITEM)?(d.closest(p.DROPDOWN).find(p.DROPDOWN_TOGGLE).addClass(o.ACTIVE),d.addClass(o.ACTIVE)):d.parents(p.LI).find(p.NAV_LINKS).addClass(o.ACTIVE),a(this._scrollElement).trigger(n.ACTIVATE,{relatedTarget:b})}},{key:"_clear",value:function(){a(this._selector).filter(p.ACTIVE).removeClass(o.ACTIVE)}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(h),d="object"===("undefined"==typeof b?"undefined":f(b))&&b||null;if(c||(c=new j(this,d),a(this).data(h,c)),"string"==typeof b){if(void 0===c[b])throw new Error('No method named "'+b+'"');c[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return l}}]),j}();return a(window).on(n.LOAD_DATA_API,function(){for(var b=a.makeArray(a(p.DATA_SPY)),c=b.length;c--;){var d=a(b[c]);r._jQueryInterface.call(d,d.data())}}),a.fn[b]=r._jQueryInterface,a.fn[b].Constructor=r,a.fn[b].noConflict=function(){return a.fn[b]=k,r._jQueryInterface},r}(jQuery);a["default"]=h});
!function(a,b){"function"==typeof define&&define.amd?define('theme_boost/tether', b):"object"==typeof exports?module.exports=b(require,exports,module):a.Tether=b()}(this,function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){var b=a.getBoundingClientRect(),c={};for(var d in b)c[d]=b[d];if(a.ownerDocument!==document){var f=a.ownerDocument.defaultView.frameElement;if(f){var g=e(f);c.top+=g.top,c.bottom+=g.top,c.left+=g.left,c.right+=g.left}}return c}function f(a){var b=getComputedStyle(a)||{},c=b.position,d=[];if("fixed"===c)return[a];for(var e=a;(e=e.parentNode)&&e&&1===e.nodeType;){var f=void 0;try{f=getComputedStyle(e)}catch(g){}if("undefined"==typeof f||null===f)return d.push(e),d;var h=f,i=h.overflow,j=h.overflowX,k=h.overflowY;/(auto|scroll)/.test(i+k+j)&&("absolute"!==c||["relative","absolute","fixed"].indexOf(f.position)>=0)&&d.push(e)}return d.push(a.ownerDocument.body),a.ownerDocument!==document&&d.push(a.ownerDocument.defaultView),d}function g(){z&&document.body.removeChild(z),z=null}function h(a){var b=void 0;a===document?(b=document,a=document.documentElement):b=a.ownerDocument;var c=b.documentElement,d=e(a),f=C();return d.top-=f.top,d.left-=f.left,"undefined"==typeof d.width&&(d.width=document.body.scrollWidth-d.left-d.right),"undefined"==typeof d.height&&(d.height=document.body.scrollHeight-d.top-d.bottom),d.top=d.top-c.clientTop,d.left=d.left-c.clientLeft,d.right=b.body.clientWidth-d.width-d.left,d.bottom=b.body.clientHeight-d.height-d.top,d}function i(a){return a.offsetParent||document.documentElement}function j(){var a=document.createElement("div");a.style.width="100%",a.style.height="200px";var b=document.createElement("div");k(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),b.appendChild(a),document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;c===d&&(d=b.clientWidth),document.body.removeChild(b);var e=c-d;return{width:e,height:e}}function k(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=[];return Array.prototype.push.apply(b,arguments),b.slice(1).forEach(function(b){if(b)for(var c in b)({}).hasOwnProperty.call(b,c)&&(a[c]=b[c])}),a}function l(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.remove(b)});else{var c=new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi"),d=o(a).replace(c," ");p(a,d)}}function m(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.add(b)});else{l(a,b);var c=o(a)+(" "+b);p(a,c)}}function n(a,b){if("undefined"!=typeof a.classList)return a.classList.contains(b);var c=o(a);return new RegExp("(^| )"+b+"( |$)","gi").test(c)}function o(a){return a.className instanceof a.ownerDocument.defaultView.SVGAnimatedString?a.className.baseVal:a.className}function p(a,b){a.setAttribute("class",b)}function q(a,b,c){c.forEach(function(c){b.indexOf(c)===-1&&n(a,c)&&l(a,c)}),b.forEach(function(b){n(a,b)||m(a,b)})}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function s(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return a+c>=b&&b>=a-c}function t(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function u(){for(var a={top:0,left:0},b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){var c=b.top,d=b.left;"string"==typeof c&&(c=parseFloat(c,10)),"string"==typeof d&&(d=parseFloat(d,10)),a.top+=c,a.left+=d}),a}function v(a,b){return"string"==typeof a.left&&a.left.indexOf("%")!==-1&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&a.top.indexOf("%")!==-1&&(a.top=parseFloat(a.top,10)/100*b.height),a}function w(a,b){return"scrollParent"===b?b=a.scrollParents[0]:"window"===b&&(b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),b===document&&(b=b.documentElement),"undefined"!=typeof b.nodeType&&!function(){var a=b,c=h(b),d=c,e=getComputedStyle(b);if(b=[d.left,d.top,c.width+d.left,c.height+d.top],a.ownerDocument!==document){var f=a.ownerDocument.defaultView;b[0]+=f.pageXOffset,b[1]+=f.pageYOffset,b[2]+=f.pageXOffset,b[3]+=f.pageYOffset}W.forEach(function(a,c){a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?b[c]+=parseFloat(e["border"+a+"Width"]):b[c]-=parseFloat(e["border"+a+"Width"])})}(),b}var x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),y=void 0;"undefined"==typeof y&&(y={modules:[]});var z=null,A=function(){var a=0;return function(){return++a}}(),B={},C=function(){var a=z;a||(a=document.createElement("div"),a.setAttribute("data-tether-id",A()),k(a.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(a),z=a);var b=a.getAttribute("data-tether-id");return"undefined"==typeof B[b]&&(B[b]=e(a),E(function(){delete B[b]})),B[b]},D=[],E=function(a){D.push(a)},F=function(){for(var a=void 0;a=D.pop();)a()},G=function(){function a(){d(this,a)}return x(a,[{key:"on",value:function(a,b,c){var d=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[a]&&(this.bindings[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})}},{key:"once",value:function(a,b,c){this.on(a,b,c,!0)}},{key:"off",value:function(a,b){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[a])if("undefined"==typeof b)delete this.bindings[a];else for(var c=0;c<this.bindings[a].length;)this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):++c}},{key:"trigger",value:function(a){if("undefined"!=typeof this.bindings&&this.bindings[a]){for(var b=0,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];for(;b<this.bindings[a].length;){var f=this.bindings[a][b],g=f.handler,h=f.ctx,i=f.once,j=h;"undefined"==typeof j&&(j=this),g.apply(j,d),i?this.bindings[a].splice(b,1):++b}}}}]),a}();y.Utils={getActualBoundingClientRect:e,getScrollParents:f,getBounds:h,getOffsetParent:i,extend:k,addClass:m,removeClass:l,hasClass:n,updateClasses:q,defer:E,flush:F,uniqueId:A,Evented:G,getScrollBarSize:j,removeUtilElements:g};var H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),I=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}};if("undefined"==typeof y)throw new Error("You must include the utils.js file before tether.js");var J=y.Utils,f=J.getScrollParents,h=J.getBounds,i=J.getOffsetParent,k=J.extend,m=J.addClass,l=J.removeClass,q=J.updateClasses,E=J.defer,F=J.flush,j=J.getScrollBarSize,g=J.removeUtilElements,K=function(){if("undefined"==typeof document)return"";for(var a=document.createElement("div"),b=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],c=0;c<b.length;++c){var d=b[c];if(void 0!==a.style[d])return d}}(),L=[],M=function(){L.forEach(function(a){a.position(!1)}),F()};!function(){var a=null,b=null,c=null,d=function e(){return"undefined"!=typeof b&&b>16?(b=Math.min(b-16,250),void(c=setTimeout(e,250))):void("undefined"!=typeof a&&t()-a<10||(null!=c&&(clearTimeout(c),c=null),a=t(),M(),b=t()-a))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(a){window.addEventListener(a,d)})}();var N={center:"center",left:"right",right:"left"},O={middle:"middle",top:"bottom",bottom:"top"},P={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Q=function(a,b){var c=a.left,d=a.top;return"auto"===c&&(c=N[b.left]),"auto"===d&&(d=O[b.top]),{left:c,top:d}},R=function(a){var b=a.left,c=a.top;return"undefined"!=typeof P[a.left]&&(b=P[a.left]),"undefined"!=typeof P[a.top]&&(c=P[a.top]),{left:b,top:c}},S=function(a){var b=a.split(" "),c=H(b,2),d=c[0],e=c[1];return{top:d,left:e}},T=S,U=function(a){function b(a){var c=this;d(this,b),I(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.position=this.position.bind(this),L.push(this),this.history=[],this.setOptions(a,!1),y.modules.forEach(function(a){"undefined"!=typeof a.initialize&&a.initialize.call(c)}),this.position()}return r(b,a),x(b,[{key:"getClass",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=this.options.classes;return"undefined"!=typeof b&&b[a]?this.options.classes[a]:this.options.classPrefix?this.options.classPrefix+"-"+a:a}},{key:"setOptions",value:function(a){var b=this,c=arguments.length<=1||void 0===arguments[1]||arguments[1],d={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=k(d,a);var e=this.options,g=e.element,h=e.target,i=e.targetModifier;if(this.element=g,this.target=h,this.targetModifier=i,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(a){if("undefined"==typeof b[a])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof b[a].jquery?b[a]=b[a][0]:"string"==typeof b[a]&&(b[a]=document.querySelector(b[a]))}),m(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&m(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=T(this.options.targetAttachment),this.attachment=T(this.options.attachment),this.offset=S(this.options.offset),this.targetOffset=S(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=f(this.target),this.options.enabled!==!1&&this.enable(c)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return h(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var a=h(this.target),b={height:a.height,width:a.width,top:a.top,left:a.left};return b.height=Math.min(b.height,a.height-(pageYOffset-a.top)),b.height=Math.min(b.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),b.height=Math.min(innerHeight,b.height),b.height-=2,b.width=Math.min(b.width,a.width-(pageXOffset-a.left)),b.width=Math.min(b.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),b.width=Math.min(innerWidth,b.width),b.width-=2,b.top<pageYOffset&&(b.top=pageYOffset),b.left<pageXOffset&&(b.left=pageXOffset),b}if("scroll-handle"===this.targetModifier){var a=void 0,c=this.target;c===document.body?(c=document.documentElement,a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):a=h(c);var d=getComputedStyle(c),e=c.scrollWidth>c.clientWidth||[d.overflow,d.overflowX].indexOf("scroll")>=0||this.target!==document.body,f=0;e&&(f=15);var g=a.height-parseFloat(d.borderTopWidth)-parseFloat(d.borderBottomWidth)-f,b={width:15,height:.975*g*(g/c.scrollHeight),left:a.left+a.width-parseFloat(d.borderLeftWidth)-15},i=0;g<408&&this.target===document.body&&(i=-11e-5*Math.pow(g,2)-.00727*g+22.58),this.target!==document.body&&(b.height=Math.max(b.height,24));var j=this.target.scrollTop/(c.scrollHeight-g);return b.top=j*(g-b.height-i)+a.top+parseFloat(d.borderTopWidth),this.target===document.body&&(b.height=Math.max(b.height,24)),b}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(a,b){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[a]&&(this._cache[a]=b.call(this)),this._cache[a]}},{key:"enable",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&m(this.target,this.getClass("enabled")),m(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(b){b!==a.target.ownerDocument&&b.addEventListener("scroll",a.position)}),b&&this.position()}},{key:"disable",value:function(){var a=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(b){b.removeEventListener("scroll",a.position)})}},{key:"destroy",value:function(){var a=this;this.disable(),L.forEach(function(b,c){b===a&&L.splice(c,1)}),0===L.length&&g()}},{key:"updateAttachClasses",value:function(a,b){var c=this;a=a||this.attachment,b=b||this.targetAttachment;var d=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var e=this._addAttachClasses;a.top&&e.push(this.getClass("element-attached")+"-"+a.top),a.left&&e.push(this.getClass("element-attached")+"-"+a.left),b.top&&e.push(this.getClass("target-attached")+"-"+b.top),b.left&&e.push(this.getClass("target-attached")+"-"+b.left);var f=[];d.forEach(function(a){f.push(c.getClass("element-attached")+"-"+a),f.push(c.getClass("target-attached")+"-"+a)}),E(function(){"undefined"!=typeof c._addAttachClasses&&(q(c.element,c._addAttachClasses,f),c.options.addTargetClasses!==!1&&q(c.target,c._addAttachClasses,f),delete c._addAttachClasses)})}},{key:"position",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var c=Q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,c);var d=this.cache("element-bounds",function(){return h(a.element)}),e=d.width,f=d.height;if(0===e&&0===f&&"undefined"!=typeof this.lastSize){var g=this.lastSize;e=g.width,f=g.height}else this.lastSize={width:e,height:f};var k=this.cache("target-bounds",function(){return a.getTargetBounds()}),l=k,m=v(R(this.attachment),{width:e,height:f}),n=v(R(c),l),o=v(this.offset,{width:e,height:f}),p=v(this.targetOffset,l);m=u(m,o),n=u(n,p);for(var q=k.left+n.left-m.left,r=k.top+n.top-m.top,s=0;s<y.modules.length;++s){var t=y.modules[s],w=t.position.call(this,{left:q,top:r,targetAttachment:c,targetPos:k,elementPos:d,offset:m,targetOffset:n,manualOffset:o,manualTargetOffset:p,scrollbarSize:B,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(r=w.top,q=w.left)}var x={page:{top:r,left:q},viewport:{top:r-pageYOffset,bottom:pageYOffset-r-f+innerHeight,left:q-pageXOffset,right:pageXOffset-q-e+innerWidth}},z=this.target.ownerDocument,A=z.defaultView,B=void 0;return z.body.scrollWidth>A.innerWidth&&(B=this.cache("scrollbar-size",j),x.viewport.bottom-=B.height),z.body.scrollHeight>A.innerHeight&&(B=this.cache("scrollbar-size",j),x.viewport.right-=B.width),["","static"].indexOf(z.body.style.position)!==-1&&["","static"].indexOf(z.body.parentElement.style.position)!==-1||(x.page.bottom=z.body.scrollHeight-r-f,x.page.right=z.body.scrollWidth-q-e),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var b=a.cache("target-offsetparent",function(){return i(a.target)}),c=a.cache("target-offsetparent-bounds",function(){return h(b)}),d=getComputedStyle(b),e=c,f={};if(["Top","Left","Bottom","Right"].forEach(function(a){f[a.toLowerCase()]=parseFloat(d["border"+a+"Width"])}),c.right=z.body.scrollWidth-c.left-e.width+f.right,c.bottom=z.body.scrollHeight-c.top-e.height+f.bottom,x.page.top>=c.top+f.top&&x.page.bottom>=c.bottom&&x.page.left>=c.left+f.left&&x.page.right>=c.right){var g=b.scrollTop,j=b.scrollLeft;x.offset={top:x.page.top-c.top+g-f.top,left:x.page.left-c.left+j-f.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),b&&F(),!0}}},{key:"move",value:function(a){var b=this;if("undefined"!=typeof this.element.parentNode){var c={};for(var d in a){c[d]={};for(var e in a[d]){for(var f=!1,g=0;g<this.history.length;++g){var h=this.history[g];if("undefined"!=typeof h[d]&&!s(h[d][e],a[d][e])){f=!0;break}}f||(c[d][e]=!0)}}var j={top:"",left:"",right:"",bottom:""},l=function(a,c){var d="undefined"!=typeof b.options.optimizations,e=d?b.options.optimizations.gpu:null;if(e!==!1){var f=void 0,g=void 0;a.top?(j.top=0,f=c.top):(j.bottom=0,f=-c.bottom),a.left?(j.left=0,g=c.left):(j.right=0,g=-c.right),j[K]="translateX("+Math.round(g)+"px) translateY("+Math.round(f)+"px)","msTransform"!==K&&(j[K]+=" translateZ(0)")}else a.top?j.top=c.top+"px":j.bottom=c.bottom+"px",a.left?j.left=c.left+"px":j.right=c.right+"px"},m=!1;if((c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(j.position="absolute",l(c.page,a.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(j.position="fixed",l(c.viewport,a.viewport)):"undefined"!=typeof c.offset&&c.offset.top&&c.offset.left?!function(){j.position="absolute";var d=b.cache("target-offsetparent",function(){return i(b.target)});i(b.element)!==d&&E(function(){b.element.parentNode.removeChild(b.element),d.appendChild(b.element)}),l(c.offset,a.offset),m=!0}():(j.position="absolute",l({top:!0,left:!0},a.page)),!m){for(var n=!0,o=this.element.parentNode;o&&1===o.nodeType&&"BODY"!==o.tagName;){if("static"!==getComputedStyle(o).position){n=!1;break}o=o.parentNode}n||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var p={},q=!1;for(var e in j){var r=j[e],t=this.element.style[e];t!==r&&(q=!0,p[e]=r)}q&&E(function(){k(b.element.style,p)})}}}]),b}(G);U.modules=[],y.position=M;var V=k(U,y),H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),J=y.Utils,h=J.getBounds,k=J.extend,q=J.updateClasses,E=J.defer,W=["left","top","right","bottom"];y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=a.targetAttachment;if(!this.options.constraints)return!0;var f=this.cache("element-bounds",function(){return h(b.element)}),g=f.height,i=f.width;if(0===i&&0===g&&"undefined"!=typeof this.lastSize){var j=this.lastSize;i=j.width,g=j.height}var l=this.cache("target-bounds",function(){return b.getTargetBounds()}),m=l.height,n=l.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(a){var b=a.outOfBoundsClass,c=a.pinnedClass;b&&o.push(b),c&&o.push(c)}),o.forEach(function(a){["left","top","right","bottom"].forEach(function(b){o.push(a+"-"+b)})});var p=[],r=k({},e),s=k({},this.attachment);return this.options.constraints.forEach(function(a){var f=a.to,h=a.attachment,j=a.pin;"undefined"==typeof h&&(h="");var k=void 0,l=void 0;if(h.indexOf(" ")>=0){var o=h.split(" "),q=H(o,2);l=q[0],k=q[1]}else k=l=h;var t=w(b,f);"target"!==l&&"both"!==l||(c<t[1]&&"top"===r.top&&(c+=m,r.top="bottom"),c+g>t[3]&&"bottom"===r.top&&(c-=m,r.top="top")),"together"===l&&("top"===r.top&&("bottom"===s.top&&c<t[1]?(c+=m,r.top="bottom",c+=g,s.top="top"):"top"===s.top&&c+g>t[3]&&c-(g-m)>=t[1]&&(c-=g-m,r.top="bottom",s.top="bottom")),"bottom"===r.top&&("top"===s.top&&c+g>t[3]?(c-=m,r.top="top",c-=g,s.top="bottom"):"bottom"===s.top&&c<t[1]&&c+(2*g-m)<=t[3]&&(c+=g-m,r.top="top",s.top="top")),"middle"===r.top&&(c+g>t[3]&&"top"===s.top?(c-=g,s.top="bottom"):c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"))),"target"!==k&&"both"!==k||(d<t[0]&&"left"===r.left&&(d+=n,r.left="right"),d+i>t[2]&&"right"===r.left&&(d-=n,r.left="left")),"together"===k&&(d<t[0]&&"left"===r.left?"right"===s.left?(d+=n,r.left="right",d+=i,s.left="left"):"left"===s.left&&(d+=n,r.left="right",d-=i,s.left="right"):d+i>t[2]&&"right"===r.left?"left"===s.left?(d-=n,r.left="left",d-=i,s.left="right"):"right"===s.left&&(d-=n,r.left="left",d+=i,s.left="left"):"center"===r.left&&(d+i>t[2]&&"left"===s.left?(d-=i,s.left="right"):d<t[0]&&"right"===s.left&&(d+=i,s.left="left"))),"element"!==l&&"both"!==l||(c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"),c+g>t[3]&&"top"===s.top&&(c-=g,s.top="bottom")),"element"!==k&&"both"!==k||(d<t[0]&&("right"===s.left?(d+=i,s.left="left"):"center"===s.left&&(d+=i/2,s.left="left")),d+i>t[2]&&("left"===s.left?(d-=i,s.left="right"):"center"===s.left&&(d-=i/2,s.left="right"))),"string"==typeof j?j=j.split(",").map(function(a){return a.trim()}):j===!0&&(j=["top","left","right","bottom"]),j=j||[];var u=[],v=[];c<t[1]&&(j.indexOf("top")>=0?(c=t[1],u.push("top")):v.push("top")),c+g>t[3]&&(j.indexOf("bottom")>=0?(c=t[3]-g,u.push("bottom")):v.push("bottom")),d<t[0]&&(j.indexOf("left")>=0?(d=t[0],u.push("left")):v.push("left")),d+i>t[2]&&(j.indexOf("right")>=0?(d=t[2]-i,u.push("right")):v.push("right")),u.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.pinnedClass?b.options.pinnedClass:b.getClass("pinned"),p.push(a),u.forEach(function(b){p.push(a+"-"+b)})}(),v.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.outOfBoundsClass?b.options.outOfBoundsClass:b.getClass("out-of-bounds"),p.push(a),v.forEach(function(b){p.push(a+"-"+b)})}(),(u.indexOf("left")>=0||u.indexOf("right")>=0)&&(s.left=r.left=!1),(u.indexOf("top")>=0||u.indexOf("bottom")>=0)&&(s.top=r.top=!1),r.top===e.top&&r.left===e.left&&s.top===b.attachment.top&&s.left===b.attachment.left||(b.updateAttachClasses(s,r),b.trigger("update",{attachment:s,targetAttachment:r}))}),E(function(){b.options.addTargetClasses!==!1&&q(b.target,p,o),q(b.element,p,o)}),{top:c,left:d}}});var J=y.Utils,h=J.getBounds,q=J.updateClasses,E=J.defer;y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=this.cache("element-bounds",function(){return h(b.element)}),f=e.height,g=e.width,i=this.getTargetBounds(),j=c+f,k=d+g,l=[];c<=i.bottom&&j>=i.top&&["left","right"].forEach(function(a){var b=i[a];b!==d&&b!==k||l.push(a)}),d<=i.right&&k>=i.left&&["top","bottom"].forEach(function(a){var b=i[a];b!==c&&b!==j||l.push(a)});var m=[],n=[],o=["left","top","right","bottom"];return m.push(this.getClass("abutted")),o.forEach(function(a){m.push(b.getClass("abutted")+"-"+a)}),l.length&&n.push(this.getClass("abutted")),l.forEach(function(a){n.push(b.getClass("abutted")+"-"+a)}),E(function(){b.options.addTargetClasses!==!1&&q(b.target,n,m),q(b.element,n,m)}),!0}});var H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return y.modules.push({position:function(a){var b=a.top,c=a.left;if(this.options.shift){var d=this.options.shift;"function"==typeof this.options.shift&&(d=this.options.shift.call(this,{top:b,left:c}));var e=void 0,f=void 0;if("string"==typeof d){d=d.split(" "),d[1]=d[1]||d[0];var g=d,h=H(g,2);e=h[0],f=h[1],e=parseFloat(e,10),f=parseFloat(f,10)}else e=d.top,f=d.left;return b+=e,c+=f,{top:b,left:c}}}}),V});
define('theme_boost/modal', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a){var b="modal",c="4.0.0-alpha.4",h="bs.modal",i="."+h,j=".data-api",k=a.fn[b],l=300,m=150,n=27,o={backdrop:!0,keyboard:!0,focus:!0,show:!0},p={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},q={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,FOCUSIN:"focusin"+i,RESIZE:"resize"+i,CLICK_DISMISS:"click.dismiss"+i,KEYDOWN_DISMISS:"keydown.dismiss"+i,MOUSEUP_DISMISS:"mouseup.dismiss"+i,MOUSEDOWN_DISMISS:"mousedown.dismiss"+i,CLICK_DATA_API:"click"+i+j},r={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in"},s={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed"},t=function(){function j(b,c){d(this,j),this._config=this._getConfig(c),this._element=b,this._dialog=a(b).find(s.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return g(j,[{key:"toggle",value:function(a){return this._isShown?this.hide():this.show(a)}},{key:"show",value:function(b){var c=this,d=a.Event(q.SHOW,{relatedTarget:b});a(this._element).trigger(d),this._isShown||d.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),a(document.body).addClass(r.OPEN),this._setEscapeEvent(),this._setResizeEvent(),a(this._element).on(q.CLICK_DISMISS,s.DATA_DISMISS,a.proxy(this.hide,this)),a(this._dialog).on(q.MOUSEDOWN_DISMISS,function(){a(c._element).one(q.MOUSEUP_DISMISS,function(b){a(b.target).is(c._element)&&(c._ignoreBackdropClick=!0)})}),this._showBackdrop(a.proxy(this._showElement,this,b)))}},{key:"hide",value:function(b){b&&b.preventDefault();var c=a.Event(q.HIDE);a(this._element).trigger(c),this._isShown&&!c.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),a(document).off(q.FOCUSIN),a(this._element).removeClass(r.IN),a(this._element).off(q.CLICK_DISMISS),a(this._dialog).off(q.MOUSEDOWN_DISMISS),e["default"].supportsTransitionEnd()&&a(this._element).hasClass(r.FADE)?a(this._element).one(e["default"].TRANSITION_END,a.proxy(this._hideModal,this)).emulateTransitionEnd(l):this._hideModal())}},{key:"dispose",value:function(){a.removeData(this._element,h),a(window).off(i),a(document).off(i),a(this._element).off(i),a(this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null}},{key:"_getConfig",value:function(c){return c=a.extend({},o,c),e["default"].typeCheckConfig(b,c,p),c}},{key:"_showElement",value:function(b){var c=this,d=e["default"].supportsTransitionEnd()&&a(this._element).hasClass(r.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,d&&e["default"].reflow(this._element),a(this._element).addClass(r.IN),this._config.focus&&this._enforceFocus();var f=a.Event(q.SHOWN,{relatedTarget:b}),g=function(){c._config.focus&&c._element.focus(),a(c._element).trigger(f)};d?a(this._dialog).one(e["default"].TRANSITION_END,g).emulateTransitionEnd(l):g()}},{key:"_enforceFocus",value:function(){var b=this;a(document).off(q.FOCUSIN).on(q.FOCUSIN,function(c){document===c.target||b._element===c.target||a(b._element).has(c.target).length||b._element.focus()})}},{key:"_setEscapeEvent",value:function(){var b=this;this._isShown&&this._config.keyboard?a(this._element).on(q.KEYDOWN_DISMISS,function(a){a.which===n&&b.hide()}):this._isShown||a(this._element).off(q.KEYDOWN_DISMISS)}},{key:"_setResizeEvent",value:function(){this._isShown?a(window).on(q.RESIZE,a.proxy(this._handleUpdate,this)):a(window).off(q.RESIZE)}},{key:"_hideModal",value:function(){var b=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._showBackdrop(function(){a(document.body).removeClass(r.OPEN),b._resetAdjustments(),b._resetScrollbar(),a(b._element).trigger(q.HIDDEN)})}},{key:"_removeBackdrop",value:function(){this._backdrop&&(a(this._backdrop).remove(),this._backdrop=null)}},{key:"_showBackdrop",value:function(b){var c=this,d=a(this._element).hasClass(r.FADE)?r.FADE:"";if(this._isShown&&this._config.backdrop){var f=e["default"].supportsTransitionEnd()&&d;if(this._backdrop=document.createElement("div"),this._backdrop.className=r.BACKDROP,d&&a(this._backdrop).addClass(d),a(this._backdrop).appendTo(document.body),a(this._element).on(q.CLICK_DISMISS,function(a){return c._ignoreBackdropClick?void(c._ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"===c._config.backdrop?c._element.focus():c.hide()))}),f&&e["default"].reflow(this._backdrop),a(this._backdrop).addClass(r.IN),!b)return;if(!f)return void b();a(this._backdrop).one(e["default"].TRANSITION_END,b).emulateTransitionEnd(m)}else if(!this._isShown&&this._backdrop){a(this._backdrop).removeClass(r.IN);var g=function(){c._removeBackdrop(),b&&b()};e["default"].supportsTransitionEnd()&&a(this._element).hasClass(r.FADE)?a(this._backdrop).one(e["default"].TRANSITION_END,g).emulateTransitionEnd(m):g()}else b&&b()}},{key:"_handleUpdate",value:function(){this._adjustDialog()}},{key:"_adjustDialog",value:function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!a&&(this._element.style.paddingRight=this._scrollbarWidth+"px")}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function(){var b=parseInt(a(s.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=b+this._scrollbarWidth+"px")}},{key:"_resetScrollbar",value:function(){document.body.style.paddingRight=this._originalBodyPadding}},{key:"_getScrollbarWidth",value:function(){var a=document.createElement("div");a.className=r.SCROLLBAR_MEASURER,document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b}}],[{key:"_jQueryInterface",value:function(b,c){return this.each(function(){var d=a(this).data(h),e=a.extend({},j.Default,a(this).data(),"object"===("undefined"==typeof b?"undefined":f(b))&&b);if(d||(d=new j(this,e),a(this).data(h,d)),"string"==typeof b){if(void 0===d[b])throw new Error('No method named "'+b+'"');d[b](c)}else e.show&&d.show(c)})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return o}}]),j}();return a(document).on(q.CLICK_DATA_API,s.DATA_TOGGLE,function(b){var c=this,d=void 0,f=e["default"].getSelectorFromElement(this);f&&(d=a(f)[0]);var g=a(d).data(h)?"toggle":a.extend({},a(d).data(),a(this).data());"A"===this.tagName&&b.preventDefault();var i=a(d).one(q.SHOW,function(b){b.isDefaultPrevented()||i.one(q.HIDDEN,function(){a(c).is(":visible")&&c.focus()})});t._jQueryInterface.call(a(d),g,this)}),a.fn[b]=t._jQueryInterface,a.fn[b].Constructor=t,a.fn[b].noConflict=function(){return a.fn[b]=k,t._jQueryInterface},t}(jQuery);a["default"]=h});
define('theme_boost/tooltip', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://github.hubspot.com/tether/)");var b="tooltip",c="4.0.0-alpha.4",h="bs.tooltip",i="."+h,j=a.fn[b],k=150,l="bs-tether",m={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},n={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},o={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},p={IN:"in",OUT:"out"},q={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},r={FADE:"fade",IN:"in"},s={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},t={element:!1,enabled:!1},u={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},v=function(){function j(a,b){d(this,j),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=a,this.config=this._getConfig(b),this.tip=null,this._setListeners()}return g(j,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(b){if(b){var c=this.constructor.DATA_KEY,d=a(b.currentTarget).data(c);d||(d=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(c,d)),d._activeTrigger.click=!d._activeTrigger.click,d._isWithActiveTrigger()?d._enter(null,d):d._leave(null,d)}else{if(a(this.getTipElement()).hasClass(r.IN))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),this.cleanupTether(),a.removeData(this.element,this.constructor.DATA_KEY),a(this.element).off(this.constructor.EVENT_KEY),this.tip&&a(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null}},{key:"show",value:function(){var b=this,c=a.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){a(this.element).trigger(c);var d=a.contains(this.element.ownerDocument.documentElement,this.element);if(c.isDefaultPrevented()||!d)return;var f=this.getTipElement(),g=e["default"].getUID(this.constructor.NAME);f.setAttribute("id",g),this.element.setAttribute("aria-describedby",g),this.setContent(),this.config.animation&&a(f).addClass(r.FADE);var h="function"==typeof this.config.placement?this.config.placement.call(this,f,this.element):this.config.placement,i=this._getAttachment(h);a(f).data(this.constructor.DATA_KEY,this).appendTo(document.body),a(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:i,element:f,target:this.element,classes:t,classPrefix:l,offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),e["default"].reflow(f),this._tether.position(),a(f).addClass(r.IN);var k=function(){var c=b._hoverState;b._hoverState=null,a(b.element).trigger(b.constructor.Event.SHOWN),c===p.OUT&&b._leave(null,b)};if(e["default"].supportsTransitionEnd()&&a(this.tip).hasClass(r.FADE))return void a(this.tip).one(e["default"].TRANSITION_END,k).emulateTransitionEnd(j._TRANSITION_DURATION);k()}}},{key:"hide",value:function(b){var c=this,d=this.getTipElement(),f=a.Event(this.constructor.Event.HIDE),g=function(){c._hoverState!==p.IN&&d.parentNode&&d.parentNode.removeChild(d),c.element.removeAttribute("aria-describedby"),a(c.element).trigger(c.constructor.Event.HIDDEN),c.cleanupTether(),b&&b()};a(this.element).trigger(f),f.isDefaultPrevented()||(a(d).removeClass(r.IN),e["default"].supportsTransitionEnd()&&a(this.tip).hasClass(r.FADE)?a(d).one(e["default"].TRANSITION_END,g).emulateTransitionEnd(k):g(),this._hoverState="")}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){return this.tip=this.tip||a(this.config.template)[0]}},{key:"setContent",value:function(){var b=a(this.getTipElement());this.setElementContent(b.find(s.TOOLTIP_INNER),this.getTitle()),b.removeClass(r.FADE).removeClass(r.IN),this.cleanupTether()}},{key:"setElementContent",value:function(b,c){var d=this.config.html;"object"===("undefined"==typeof c?"undefined":f(c))&&(c.nodeType||c.jquery)?d?a(c).parent().is(b)||b.empty().append(c):b.text(a(c).text()):b[d?"html":"text"](c)}},{key:"getTitle",value:function(){var a=this.element.getAttribute("data-original-title");return a||(a="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),a}},{key:"cleanupTether",value:function(){this._tether&&this._tether.destroy()}},{key:"_getAttachment",value:function(a){return o[a.toUpperCase()]}},{key:"_setListeners",value:function(){var b=this,c=this.config.trigger.split(" ");c.forEach(function(c){if("click"===c)a(b.element).on(b.constructor.Event.CLICK,b.config.selector,a.proxy(b.toggle,b));else if(c!==u.MANUAL){var d=c===u.HOVER?b.constructor.Event.MOUSEENTER:b.constructor.Event.FOCUSIN,e=c===u.HOVER?b.constructor.Event.MOUSELEAVE:b.constructor.Event.FOCUSOUT;a(b.element).on(d,b.config.selector,a.proxy(b._enter,b)).on(e,b.config.selector,a.proxy(b._leave,b))}}),this.config.selector?this.config=a.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var a=f(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==a)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}},{key:"_enter",value:function(b,c){var d=this.constructor.DATA_KEY;return c=c||a(b.currentTarget).data(d),c||(c=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(d,c)),b&&(c._activeTrigger["focusin"===b.type?u.FOCUS:u.HOVER]=!0),a(c.getTipElement()).hasClass(r.IN)||c._hoverState===p.IN?void(c._hoverState=p.IN):(clearTimeout(c._timeout),c._hoverState=p.IN,c.config.delay&&c.config.delay.show?void(c._timeout=setTimeout(function(){c._hoverState===p.IN&&c.show()},c.config.delay.show)):void c.show())}},{key:"_leave",value:function(b,c){var d=this.constructor.DATA_KEY;if(c=c||a(b.currentTarget).data(d),c||(c=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(d,c)),b&&(c._activeTrigger["focusout"===b.type?u.FOCUS:u.HOVER]=!1),!c._isWithActiveTrigger())return clearTimeout(c._timeout),c._hoverState=p.OUT,c.config.delay&&c.config.delay.hide?void(c._timeout=setTimeout(function(){c._hoverState===p.OUT&&c.hide()},c.config.delay.hide)):void c.hide()}},{key:"_isWithActiveTrigger",value:function(){for(var a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1}},{key:"_getConfig",value:function(c){return c=a.extend({},this.constructor.Default,a(this.element).data(),c),c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),e["default"].typeCheckConfig(b,c,this.constructor.DefaultType),c}},{key:"_getDelegateConfig",value:function(){var a={};if(this.config)for(var b in this.config)this.constructor.Default[b]!==this.config[b]&&(a[b]=this.config[b]);return a}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(h),d="object"===("undefined"==typeof b?"undefined":f(b))?b:null;if((c||!/destroy|hide/.test(b))&&(c||(c=new j(this,d),a(this).data(h,c)),"string"==typeof b)){if(void 0===c[b])throw new Error('No method named "'+b+'"');c[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return m}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return h}},{key:"Event",get:function(){return q}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return n}}]),j}();return a.fn[b]=v._jQueryInterface,a.fn[b].Constructor=v,a.fn[b].noConflict=function(){return a.fn[b]=j,v._jQueryInterface},v}(jQuery);a["default"]=h});
define('theme_boost/util', ["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=function(a){function b(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function c(a){return(a[0]||a).nodeType}function d(){return{bindType:h.end,delegateType:h.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}}}function e(){if(window.QUnit)return!1;var a=document.createElement("bootstrap");for(var b in j)if(void 0!==a.style[b])return{end:j[b]};return!1}function f(b){var c=this,d=!1;return a(this).one(k.TRANSITION_END,function(){d=!0}),setTimeout(function(){d||k.triggerTransitionEnd(c)},b),this}function g(){h=e(),a.fn.emulateTransitionEnd=f,k.supportsTransitionEnd()&&(a.event.special[k.TRANSITION_END]=d())}var h=!1,i=1e6,j={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},k={TRANSITION_END:"bsTransitionEnd",getUID:function(a){do a+=~~(Math.random()*i);while(document.getElementById(a));return a},getSelectorFromElement:function(a){var b=a.getAttribute("data-target");return b||(b=a.getAttribute("href")||"",b=/^#[a-z]/i.test(b)?b:null),b},reflow:function(a){new Function("bs","return bs")(a.offsetHeight)},triggerTransitionEnd:function(b){a(b).trigger(h.end)},supportsTransitionEnd:function(){return Boolean(h)},typeCheckConfig:function(a,d,e){for(var f in e)if(e.hasOwnProperty(f)){var g=e[f],h=d[f],i=void 0;if(i=h&&c(h)?"element":b(h),!new RegExp(g).test(i))throw new Error(a.toUpperCase()+": "+('Option "'+f+'" provided type "'+i+'" ')+('but expected type "'+g+'".'))}}};return g(),k}(jQuery);a["default"]=b});
define('theme_boost/carousel', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a){var b="carousel",c="4.0.0-alpha.4",h="bs.carousel",i="."+h,j=".data-api",k=a.fn[b],l=600,m=37,n=39,o={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},p={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},q={NEXT:"next",PREVIOUS:"prev"},r={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,LOAD_DATA_API:"load"+i+j,CLICK_DATA_API:"click"+i+j},s={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"right",LEFT:"left",ITEM:"carousel-item"},t={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".next, .prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},u=function(){function j(b,c){d(this,j),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(c),this._element=a(b)[0],this._indicatorsElement=a(this._element).find(t.INDICATORS)[0],this._addEventListeners()}return g(j,[{key:"next",value:function(){this._isSliding||this._slide(q.NEXT)}},{key:"nextWhenVisible",value:function(){document.hidden||this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(q.PREVIOUS)}},{key:"pause",value:function(b){b||(this._isPaused=!0),a(this._element).find(t.NEXT_PREV)[0]&&e["default"].supportsTransitionEnd()&&(e["default"].triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(b){b||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval(a.proxy(document.visibilityState?this.nextWhenVisible:this.next,this),this._config.interval))}},{key:"to",value:function(b){var c=this;this._activeElement=a(this._element).find(t.ACTIVE_ITEM)[0];var d=this._getItemIndex(this._activeElement);if(!(b>this._items.length-1||b<0)){if(this._isSliding)return void a(this._element).one(r.SLID,function(){return c.to(b)});if(d===b)return this.pause(),void this.cycle();var e=b>d?q.NEXT:q.PREVIOUS;this._slide(e,this._items[b])}}},{key:"dispose",value:function(){a(this._element).off(i),a.removeData(this._element,h),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(c){return c=a.extend({},o,c),e["default"].typeCheckConfig(b,c,p),c}},{key:"_addEventListeners",value:function(){this._config.keyboard&&a(this._element).on(r.KEYDOWN,a.proxy(this._keydown,this)),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||a(this._element).on(r.MOUSEENTER,a.proxy(this.pause,this)).on(r.MOUSELEAVE,a.proxy(this.cycle,this))}},{key:"_keydown",value:function(a){if(a.preventDefault(),!/input|textarea/i.test(a.target.tagName))switch(a.which){case m:this.prev();break;case n:this.next();break;default:return}}},{key:"_getItemIndex",value:function(b){return this._items=a.makeArray(a(b).parent().find(t.ITEM)),this._items.indexOf(b)}},{key:"_getItemByDirection",value:function(a,b){var c=a===q.NEXT,d=a===q.PREVIOUS,e=this._getItemIndex(b),f=this._items.length-1,g=d&&0===e||c&&e===f;if(g&&!this._config.wrap)return b;var h=a===q.PREVIOUS?-1:1,i=(e+h)%this._items.length;return i===-1?this._items[this._items.length-1]:this._items[i]}},{key:"_triggerSlideEvent",value:function(b,c){var d=a.Event(r.SLIDE,{relatedTarget:b,direction:c});return a(this._element).trigger(d),d}},{key:"_setActiveIndicatorElement",value:function(b){if(this._indicatorsElement){a(this._indicatorsElement).find(t.ACTIVE).removeClass(s.ACTIVE);var c=this._indicatorsElement.children[this._getItemIndex(b)];c&&a(c).addClass(s.ACTIVE)}}},{key:"_slide",value:function(b,c){var d=this,f=a(this._element).find(t.ACTIVE_ITEM)[0],g=c||f&&this._getItemByDirection(b,f),h=Boolean(this._interval),i=b===q.NEXT?s.LEFT:s.RIGHT;if(g&&a(g).hasClass(s.ACTIVE))return void(this._isSliding=!1);var j=this._triggerSlideEvent(g,i);if(!j.isDefaultPrevented()&&f&&g){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(g);var k=a.Event(r.SLID,{relatedTarget:g,direction:i});e["default"].supportsTransitionEnd()&&a(this._element).hasClass(s.SLIDE)?(a(g).addClass(b),e["default"].reflow(g),a(f).addClass(i),a(g).addClass(i),a(f).one(e["default"].TRANSITION_END,function(){a(g).removeClass(i).removeClass(b),a(g).addClass(s.ACTIVE),a(f).removeClass(s.ACTIVE).removeClass(b).removeClass(i),d._isSliding=!1,setTimeout(function(){return a(d._element).trigger(k)},0)}).emulateTransitionEnd(l)):(a(f).removeClass(s.ACTIVE),a(g).addClass(s.ACTIVE),this._isSliding=!1,a(this._element).trigger(k)),h&&this.cycle()}}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(h),d=a.extend({},o,a(this).data());"object"===("undefined"==typeof b?"undefined":f(b))&&a.extend(d,b);var e="string"==typeof b?b:d.slide;if(c||(c=new j(this,d),a(this).data(h,c)),"number"==typeof b)c.to(b);else if("string"==typeof e){if(void 0===c[e])throw new Error('No method named "'+e+'"');c[e]()}else d.interval&&(c.pause(),c.cycle())})}},{key:"_dataApiClickHandler",value:function(b){var c=e["default"].getSelectorFromElement(this);if(c){var d=a(c)[0];if(d&&a(d).hasClass(s.CAROUSEL)){var f=a.extend({},a(d).data(),a(this).data()),g=this.getAttribute("data-slide-to");g&&(f.interval=!1),j._jQueryInterface.call(a(d),f),g&&a(d).data(h).to(g),b.preventDefault()}}}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return o}}]),j}();return a(document).on(r.CLICK_DATA_API,t.DATA_SLIDE,u._dataApiClickHandler),a(window).on(r.LOAD_DATA_API,function(){a(t.DATA_RIDE).each(function(){var b=a(this);u._jQueryInterface.call(b,b.data())})}),a.fn[b]=u._jQueryInterface,a.fn[b].Constructor=u,a.fn[b].noConflict=function(){return a.fn[b]=k,u._jQueryInterface},u}(jQuery);a["default"]=h});
define('theme_boost/popover', ["exports","./tooltip"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(a,"__esModule",{value:!0});var g=c(b),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a){var b="popover",c="4.0.0-alpha.4",j="bs.popover",k="."+j,l=a.fn[b],m=a.extend({},g["default"].Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n=a.extend({},g["default"].DefaultType,{content:"(string|element|function)"}),o={FADE:"fade",IN:"in"},p={TITLE:".popover-title",CONTENT:".popover-content",ARROW:".popover-arrow"},q={HIDE:"hide"+k,HIDDEN:"hidden"+k,SHOW:"show"+k,SHOWN:"shown"+k,INSERTED:"inserted"+k,CLICK:"click"+k,FOCUSIN:"focusin"+k,FOCUSOUT:"focusout"+k,MOUSEENTER:"mouseenter"+k,MOUSELEAVE:"mouseleave"+k},r=function(g){function l(){return d(this,l),e(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return f(l,g),i(l,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"getTipElement",value:function(){return this.tip=this.tip||a(this.config.template)[0]}},{key:"setContent",value:function(){var b=a(this.getTipElement());this.setElementContent(b.find(p.TITLE),this.getTitle()),this.setElementContent(b.find(p.CONTENT),this._getContent()),b.removeClass(o.FADE).removeClass(o.IN),this.cleanupTether()}},{key:"_getContent",value:function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(j),d="object"===("undefined"==typeof b?"undefined":h(b))?b:null;if((c||!/destroy|hide/.test(b))&&(c||(c=new l(this,d),a(this).data(j,c)),"string"==typeof b)){if(void 0===c[b])throw new Error('No method named "'+b+'"');c[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return m}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return j}},{key:"Event",get:function(){return q}},{key:"EVENT_KEY",get:function(){return k}},{key:"DefaultType",get:function(){return n}}]),l}(g["default"]);return a.fn[b]=r._jQueryInterface,a.fn[b].Constructor=r,a.fn[b].noConflict=function(){return a.fn[b]=l,r._jQueryInterface},r}(jQuery);a["default"]=j});
define('theme_boost/dropdown', ["exports","./util"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var e=c(b),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a){var b="dropdown",c="4.0.0-alpha.4",g="bs.dropdown",h="."+g,i=".data-api",j=a.fn[b],k=27,l=38,m=40,n=3,o={HIDE:"hide"+h,HIDDEN:"hidden"+h,SHOW:"show"+h,SHOWN:"shown"+h,CLICK:"click"+h,CLICK_DATA_API:"click"+h+i,KEYDOWN_DATA_API:"keydown"+h+i},p={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},q={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},r=function(){function b(a){d(this,b),this._element=a,this._addEventListeners()}return f(b,[{key:"toggle",value:function(){if(this.disabled||a(this).hasClass(p.DISABLED))return!1;var c=b._getParentFromElement(this),d=a(c).hasClass(p.OPEN);if(b._clearMenus(),d)return!1;if("ontouchstart"in document.documentElement&&!a(c).closest(q.NAVBAR_NAV).length){var e=document.createElement("div");e.className=p.BACKDROP,a(e).insertBefore(this),a(e).on("click",b._clearMenus)}var f={relatedTarget:this},g=a.Event(o.SHOW,f);return a(c).trigger(g),!g.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),a(c).toggleClass(p.OPEN),a(c).trigger(a.Event(o.SHOWN,f)),!1)}},{key:"dispose",value:function(){a.removeData(this._element,g),a(this._element).off(h),this._element=null}},{key:"_addEventListeners",value:function(){a(this._element).on(o.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var d=a(this).data(g);if(d||a(this).data(g,d=new b(this)),"string"==typeof c){if(void 0===d[c])throw new Error('No method named "'+c+'"');d[c].call(this)}})}},{key:"_clearMenus",value:function(c){if(!c||c.which!==n){var d=a(q.BACKDROP)[0];d&&d.parentNode.removeChild(d);for(var e=a.makeArray(a(q.DATA_TOGGLE)),f=0;f<e.length;f++){var g=b._getParentFromElement(e[f]),h={relatedTarget:e[f]};if(a(g).hasClass(p.OPEN)&&!(c&&"click"===c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(g,c.target))){var i=a.Event(o.HIDE,h);a(g).trigger(i),i.isDefaultPrevented()||(e[f].setAttribute("aria-expanded","false"),a(g).removeClass(p.OPEN).trigger(a.Event(o.HIDDEN,h)))}}}}},{key:"_getParentFromElement",value:function(b){var c=void 0,d=e["default"].getSelectorFromElement(b);return d&&(c=a(d)[0]),c||b.parentNode}},{key:"_dataApiKeydownHandler",value:function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)&&(c.preventDefault(),c.stopPropagation(),!this.disabled&&!a(this).hasClass(p.DISABLED))){var d=b._getParentFromElement(this),e=a(d).hasClass(p.OPEN);if(!e&&c.which!==k||e&&c.which===k){if(c.which===k){var f=a(d).find(q.DATA_TOGGLE)[0];a(f).trigger("focus")}return void a(this).trigger("click")}var g=a.makeArray(a(q.VISIBLE_ITEMS));if(g=g.filter(function(a){return a.offsetWidth||a.offsetHeight}),g.length){var h=g.indexOf(c.target);c.which===l&&h>0&&h--,c.which===m&&h<g.length-1&&h++,h<0&&(h=0),g[h].focus()}}}},{key:"VERSION",get:function(){return c}}]),b}();return a(document).on(o.KEYDOWN_DATA_API,q.DATA_TOGGLE,r._dataApiKeydownHandler).on(o.KEYDOWN_DATA_API,q.ROLE_MENU,r._dataApiKeydownHandler).on(o.KEYDOWN_DATA_API,q.ROLE_LISTBOX,r._dataApiKeydownHandler).on(o.CLICK_DATA_API,r._clearMenus).on(o.CLICK_DATA_API,q.DATA_TOGGLE,r.prototype.toggle).on(o.CLICK_DATA_API,q.FORM_CHILD,function(a){a.stopPropagation()}),a.fn[b]=r._jQueryInterface,a.fn[b].Constructor=r,a.fn[b].noConflict=function(){return a.fn[b]=j,r._jQueryInterface},r}(jQuery);a["default"]=g});
define('theme_bootstrapbase/bootstrap', ["jquery"],function(a){function b(b){a(".dropdown-backdrop").remove(),a(k).each(function(){var d=c(a(this));void 0!=b&&0!=d.find(b).length||d.removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}function d(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}a(".h1").hide(),a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()});var e='[data-dismiss="alert"]',f=function(b){a(b).on("click",e,this.close)};f.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var g=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var c=a(this),d=c.data("alert");d||c.data("alert",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.alert.Constructor=f,a.fn.alert.noConflict=function(){return a.fn.alert=g,this},a(document).on("click.alert.data-api",e,f.prototype.close);var h=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};h.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},h.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var g=a.fn.button;a.fn.button=function(b){return this.each(function(){var c=a(this),d=c.data("button"),e="object"==typeof b&&b;d||c.data("button",d=new h(this,e)),"toggle"==b?d.toggle():b&&d.setState(b)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=h,a.fn.button.noConflict=function(){return a.fn.button=g,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")});var i=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};i.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var g=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var c=a(this),d=c.data("carousel"),e=a.extend({},a.fn.carousel.defaults,"object"==typeof b&&b),f="string"==typeof b?b:e.slide;d||c.data("carousel",d=new i(this,e)),"number"==typeof b?d.to(b):f?d[f]():e.interval&&d.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=i,a.fn.carousel.noConflict=function(){return a.fn.carousel=g,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()});var j=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};j.prototype={constructor:j,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var g=a.fn.collapse;a.fn.collapse=function(b){return this.each(function(){var c=a(this),d=c.data("collapse"),e=a.extend({},a.fn.collapse.defaults,c.data(),"object"==typeof b&&b);d||c.data("collapse",d=new j(this,e)),"string"==typeof b&&d[b]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=j,a.fn.collapse.noConflict=function(){return a.fn.collapse=g,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)});var k="[data-toggle=dropdown]",l=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};l.prototype={constructor:l,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(g),f||"ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open"),g.focus(),!1},keydown:function(b){var d,e,f,g,h;if(/(38|40|27)/.test(b.keyCode)&&(d=a(this),b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled"))){if(f=c(d),g=f.hasClass("open"),!g||g&&27==b.keyCode)return 27==b.which&&f.find(k).focus(),d.click();e=a("[role=menu] li:not(.divider):visible a",f),e.length&&(h=e.index(e.filter(":focus")),38==b.keyCode&&h>0&&h--,40==b.keyCode&&h<e.length-1&&h++,~h||(h=0),e.eq(h).focus())}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new l(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=l,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",k,l.prototype.toggle).on("keydown.dropdown.data-api",k+", [role=menu]",l.prototype.keydown);var m=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};m.prototype={constructor:m,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var g=a.fn.modal;a.fn.modal=function(b){return this.each(function(){var c=a(this),d=c.data("modal"),e=a.extend({},a.fn.modal.defaults,c.data(),"object"==typeof b&&b);d||c.data("modal",d=new m(this,e)),"string"==typeof b?d[b]():e.show&&d.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=m,a.fn.modal.noConflict=function(){return a.fn.modal=g,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})});var n=function(a,b){this.init("tooltip",a,b)};n.prototype={constructor:n,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=a.left*-2,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");if(this.$element.trigger(d),!d.isDefaultPrevented())return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var g=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var c=a(this),d=c.data("tooltip"),e="object"==typeof b&&b;d||c.data("tooltip",d=new n(this,e)),"string"==typeof b&&d[b]()})},a.fn.tooltip.Constructor=n,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=g,this};var o=function(a,b){this.init("popover",a,b)};o.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:o,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var g=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var c=a(this),d=c.data("popover"),e="object"==typeof b&&b;d||c.data("popover",d=new o(this,e)),"string"==typeof b&&d[b]()})},a.fn.popover.Constructor=o,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=g,this},d.prototype={constructor:d,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var g=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var c=a(this),e=c.data("scrollspy"),f="object"==typeof b&&b;e||c.data("scrollspy",e=new d(this,f)),"string"==typeof b&&e[b]()})},a.fn.scrollspy.Constructor=d,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=g,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})});var p=function(b){this.element=a(b)};p.prototype={constructor:p,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var g=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var c=a(this),d=c.data("tab");d||c.data("tab",d=new p(this)),"string"==typeof b&&d[b]()})},a.fn.tab.Constructor=p,a.fn.tab.noConflict=function(){return a.fn.tab=g,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")});var q=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};q.prototype={constructor:q,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var g=a.fn.typeahead;a.fn.typeahead=function(b){return this.each(function(){var c=a(this),d=c.data("typeahead"),e="object"==typeof b&&b;d||c.data("typeahead",d=new q(this,e)),"string"==typeof b&&d[b]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=q,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=g,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||c.typeahead(c.data())});var r=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};r.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&d<=h&&"top"),this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var g=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var c=a(this),d=c.data("affix"),e="object"==typeof b&&b;d||c.data("affix",d=new r(this,e)),"string"==typeof b&&d[b]()})},a.fn.affix.Constructor=r,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=g,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})});
         20190315140653-         u      ]                 e            J     d e f i n e ( ' c o r e / t a g ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / y u i " ] , f u n c t i o n ( a , b , c , d , e , f ) { r e t u r n { i n i t T a g i n d e x P a g e : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( " . t a g a r e a [ d a t a - t a ]   a [ d a t a - q u i c k l o a d = 1 ] " , " c l i c k " , f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( t h i s ) , f = e [ 0 ] . s e a r c h . r e p l a c e ( / ^ \ ? / , " " ) , g = e . c l o s e s t ( " . t a g a r e a [ d a t a - t a ] " ) , h = f . s p l i t ( " & " ) . r e d u c e ( f u n c t i o n ( a , b ) { v a r   c = b . s p l i t ( " = " ) ; r e t u r n   a [ c [ 0 ] ] = d e c o d e U R I C o m p o n e n t ( c [ 1 ] ) , a } , { } ) , i = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ t a g _ g e t _ t a g i n d e x " , a r g s : { t a g i n d e x : h } } ] , ! 0 ) ; a . w h e n . a p p l y ( a , i ) . d o n e ( f u n c t i o n ( a ) { c . r e n d e r ( " c o r e _ t a g / i n d e x " , a ) . d o n e ( f u n c t i o n ( a ) { g . r e p l a c e W i t h ( a ) } ) } ) } ) } , i n i t M a n a g e P a g e : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " u p d a t e d " , " [ d a t a - i n p l a c e e d i t a b l e ] " , f u n c t i o n ( b ) { i f ( e . g e t _ s t r i n g ( " n o w " ) . d o n e ( f u n c t i o n ( c ) { a ( b . t a r g e t ) . c l o s e s t ( " t r " ) . f i n d ( " t d . c o l - t i m e m o d i f i e d " ) . h t m l ( c ) } ) , " t a g f l a g " = = = b . a j a x r e t u r n . i t e m t y p e ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " t r " ) ; " 0 " = = = b . a j a x r e t u r n . v a l u e ? c . r e m o v e C l a s s ( " f l a g g e d - t a g " ) : c . a d d C l a s s ( " f l a g g e d - t a g " ) } } ) , a ( " . t a g - m a n a g e m e n t - t a b l e " ) . d e l e g a t e ( " a . t a g d e l e t e " , " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . a t t r ( " h r e f " ) ; e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " } , { k e y : " c o n f i r m d e l e t e t a g " , c o m p o n e n t : " t a g " } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = c } ) } ) } ) , a ( " # t a g - m a n a g e m e n t - d e l e t e " ) . c l i c k ( f u n c t i o n ( b ) { v a r   c = a ( t h i s ) . c l o s e s t ( " f o r m " ) . g e t ( 0 ) , f = a ( c ) . f i n d ( " i n p u t [ t y p e = c h e c k b o x ] : c h e c k e d " ) . l e n g t h ; i f ( f ) { v a r   g = a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , t h i s . n a m e ) ; b . p r e v e n t D e f a u l t ( ) , e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " } , { k e y : " c o n f i r m d e l e t e t a g s " , c o m p o n e n t : " t a g " } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { g . a p p e n d T o ( c ) , c . s u b m i t ( ) } ) } ) } } ) , a ( " # t a g - m a n a g e m e n t - c o m b i n e " ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . c l o s e s t ( " f o r m " ) . g e t ( 0 ) , g = a ( c ) . f i n d ( " i n p u t [ t y p e = c h e c k b o x ] : c h e c k e d " ) ; i f ( g . l e n g t h < = 1 ) r e t u r n   v o i d   e . g e t _ s t r i n g s ( [ { k e y : " c o m b i n e s e l e c t e d " , c o m p o n e n t : " t a g " } , { k e y : " s e l e c t m u l t i p l e t a g s " , c o m p o n e n t : " t a g " } , { k e y : " o k " } ] ) . d o n e ( f u n c t i o n ( a ) { d . a l e r t ( a [ 0 ] , a [ 1 ] , a [ 2 ] ) } ) ; v a r   h = a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , t h i s . n a m e ) ; e . g e t _ s t r i n g s ( [ { k e y : " c o m b i n e s e l e c t e d " , c o m p o n e n t : " t a g " } , { k e y : " s e l e c t m a i n t a g " , c o m p o n e n t : " t a g " } , { k e y : " c o n t i n u e " } , { k e y : " c a n c e l " } ] ) . d o n e ( f u n c t i o n ( b ) { v a r   d = a ( ' < d i v > < f o r m   i d = " c o m b i n e t a g s _ f o r m "   c l a s s = " f o r m - i n l i n e " > < p   c l a s s = " d e s c r i p t i o n " > < / p > < p   c l a s s = " o p t i o n s " > < / p > < p   c l a s s = " m d l - a l i g n " > < i n p u t   t y p e = " s u b m i t "   i d = " c o m b i n e t a g s _ s u b m i t " / > < i n p u t   t y p e = " b u t t o n "   i d = " c o m b i n e t a g s _ c a n c e l " / > < / p > < / f o r m > < / d i v > ' ) ; d . f i n d ( " . d e s c r i p t i o n " ) . h t m l ( b [ 1 ] ) , d . f i n d ( " # c o m b i n e t a g s _ s u b m i t " ) . a t t r ( " v a l u e " , b [ 2 ] ) , d . f i n d ( " # c o m b i n e t a g s _ c a n c e l " ) . a t t r ( " v a l u e " , b [ 3 ] ) ; v a r   e = d . f i n d ( " . o p t i o n s " ) ; g . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . v a l ( ) , c = a ( " . i n p l a c e e d i t a b l e [ d a t a - i t e m t y p e = t a g n a m e ] [ d a t a - i t e m i d = " + b + " ] " ) . a t t r ( " d a t a - v a l u e " ) ; e . a p p e n d ( a ( ' < i n p u t   t y p e = " r a d i o "   n a m e = " m a i n t a g "   i d = " c o m b i n e t a g s _ m a i n t a g _ ' + b + ' "   v a l u e = " ' + b + ' " / > < l a b e l   f o r = " c o m b i n e t a g s _ m a i n t a g _ ' + b + ' " > ' + c + " < / l a b e l > < b r > " ) ) } ) , f . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - d i a l o g u e " , f u n c t i o n ( ) { v a r   e = n e w   M . c o r e . d i a l o g u e ( { d r a g g a b l e : ! 0 , m o d a l : ! 0 , c l o s e B u t t o n : ! 0 , h e a d e r C o n t e n t : b [ 0 ] , b o d y C o n t e n t : d . h t m l ( ) } ) ; e . s h o w ( ) , a ( " # c o m b i n e t a g s _ f o r m   i n p u t [ t y p e = r a d i o ] " ) . f i r s t ( ) . f o c u s ( ) . p r o p ( " c h e c k e d " , ! 0 ) , a ( " # c o m b i n e t a g s _ f o r m   # c o m b i n e t a g s _ c a n c e l " ) . o n ( " c l i c k " , f u n c t i o n ( ) { e . d e s t r o y ( ) } ) , a ( " # c o m b i n e t a g s _ f o r m " ) . o n ( " s u b m i t " , f u n c t i o n ( ) { h . a p p e n d T o ( c ) ; v a r   b = a ( " i n p u t [ n a m e = m a i n t a g ] : c h e c k e d " , " # c o m b i n e t a g s _ f o r m " ) . v a l ( ) ; r e t u r n   a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , " m a i n t a g " ) . a t t r ( " v a l u e " , b ) . a p p e n d T o ( c ) , c . s u b m i t ( ) , ! 1 } ) } ) } ) } ) , a ( " b o d y " ) . o n ( " u p d a t e f a i l e d " , " [ d a t a - i n p l a c e e d i t a b l e ] [ d a t a - i t e m t y p e = t a g n a m e ] " , f u n c t i o n ( b ) { v a r   c = b . e x c e p t i o n , f = b . n e w v a l u e , g = a ( b . t a r g e t ) . a t t r ( " d a t a - i t e m i d " ) ; " n a m e s a l r e a d y b e e i n g u s e d " = = = c . e r r o r c o d e & & ( b . p r e v e n t D e f a u l t ( ) , e . g e t _ s t r i n g s ( [ { k e y : " n a m e u s e d d o c o m b i n e " , c o m p o n e n t : " t a g " } , { k e y : " y e s " } , { k e y : " c a n c e l " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( b . m e s s a g e , a [ 0 ] , a [ 1 ] , a [ 2 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = w i n d o w . l o c a t i o n . h r e f + " & n e w n a m e = " + e n c o d e U R I C o m p o n e n t ( f ) + " & t a g i d = " + e n c o d e U R I C o m p o n e n t ( g ) + " & a c t i o n = r e n a m e c o m b i n e & s e s s k e y = " + M . c f g . s e s s k e y } ) } ) ) } ) , a ( " b o d y " ) . o n ( " c l i c k " , " a [ d a t a - a c t i o n = a d d s t a n d a r d t a g ] " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , e . g e t _ s t r i n g s ( [ { k e y : " a d d o t a g s " , c o m p o n e n t : " t a g " } , { k e y : " i n p u t s t a n d a r d t a g s " , c o m p o n e n t : " t a g " } , { k e y : " c o n t i n u e " } , { k e y : " c a n c e l " } ] ) . d o n e ( f u n c t i o n ( b ) { v a r   c = a ( ' < d i v > < f o r m   i d = " a d d t a g s _ f o r m "   c l a s s = " f o r m - i n l i n e "   m e t h o d = " P O S T " > < i n p u t   t y p e = " h i d d e n "   n a m e = " a c t i o n "   v a l u e = " a d d s t a n d a r d t a g " / > < i n p u t   t y p e = " h i d d e n "   n a m e = " s e s s k e y "   v a l u e = " ' + M . c f g . s e s s k e y + ' " / > < p > < l a b e l   f o r = " i d _ t a g s l i s t " > ' + b [ 1 ] + ' < / l a b e l > < i n p u t   t y p e = " t e x t "   i d = " i d _ t a g s l i s t "   n a m e = " t a g s l i s t " / > < / p > < p   c l a s s = " m d l - a l i g n " > < i n p u t   t y p e = " s u b m i t "   i d = " a d d t a g s _ s u b m i t " / > < i n p u t   t y p e = " b u t t o n "   i d = " a d d t a g s _ c a n c e l " / > < / p > < / f o r m > < / d i v > ' ) ; c . f i n d ( " # a d d t a g s _ f o r m " ) . a t t r ( " a c t i o n " , w i n d o w . l o c a t i o n . h r e f ) , c . f i n d ( " # a d d t a g s _ s u b m i t " ) . a t t r ( " v a l u e " , b [ 2 ] ) , c . f i n d ( " # a d d t a g s _ c a n c e l " ) . a t t r ( " v a l u e " , b [ 3 ] ) , f . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - d i a l o g u e " , f u n c t i o n ( ) { v a r   d = n e w   M . c o r e . d i a l o g u e ( { d r a g g a b l e : ! 0 , m o d a l : ! 0 , c l o s e B u t t o n : ! 0 , h e a d e r C o n t e n t : b [ 0 ] , b o d y C o n t e n t : c . h t m l ( ) } ) ; d . s h o w ( ) , a ( " # a d d t a g s _ f o r m   i n p u t [ t y p e = t e x t ] " ) . f o c u s ( ) , a ( " # a d d t a g s _ f o r m   # a d d t a g s _ c a n c e l " ) . o n ( " c l i c k " , f u n c t i o n ( ) { d . d e s t r o y ( ) } ) } ) } ) } ) } , i n i t M a n a g e C o l l e c t i o n s P a g e : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " u p d a t e d " , " [ d a t a - i n p l a c e e d i t a b l e ] " , f u n c t i o n ( b ) { v a r   c , d , e , f = b . a j a x r e t u r n ; " c o r e _ t a g " = = = f . c o m p o n e n t & & " t a g a r e a e n a b l e " = = = f . i t e m t y p e & & ( c = a ( t h i s ) . a t t r ( " d a t a - i t e m i d " ) , a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . h i d e ( ) , e = f . v a l u e , " 1 " = = = e ? ( a ( t h i s ) . c l o s e s t ( " t r " ) . r e m o v e C l a s s ( " d i m m e d _ t e x t " ) , d = a ( t h i s ) . c l o s e s t ( " t r " ) . f i n d ( ' [ d a t a - i t e m t y p e = " t a g a r e a c o l l e c t i o n " ] ' ) . a t t r ( " d a t a - v a l u e " ) , a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d = " + d + " ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . s h o w ( ) ) : a ( t h i s ) . c l o s e s t ( " t r " ) . a d d C l a s s ( " d i m m e d _ t e x t " ) ) , " c o r e _ t a g " = = = f . c o m p o n e n t & & " t a g a r e a c o l l e c t i o n " = = = f . i t e m t y p e & & ( c = a ( t h i s ) . a t t r ( " d a t a - i t e m i d " ) , a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . h i d e ( ) , d = a ( t h i s ) . a t t r ( " d a t a - v a l u e " ) , e = a ( t h i s ) . c l o s e s t ( " t r " ) . f i n d ( ' [ d a t a - i t e m t y p e = " t a g a r e a e n a b l e " ] ' ) . a t t r ( " d a t a - v a l u e " ) , " 1 " = = = e & & a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d = " + d + " ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . s h o w ( ) ) } ) , a ( " b o d y " ) . o n ( " c l i c k " , " . a d d t a g c o l l   >   a " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . a t t r ( " d a t a - u r l " ) + " & s e s s k e y = " + M . c f g . s e s s k e y ; e . g e t _ s t r i n g s ( [ { k e y : " a d d t a g c o l l " , c o m p o n e n t : " t a g " } , { k e y : " n a m e " } , { k e y : " s e a r c h a b l e " , c o m p o n e n t : " t a g " } , { k e y : " c r e a t e " } , { k e y : " c a n c e l " } ] ) . d o n e ( f u n c t i o n ( b ) { v a r   d = a ( ' < d i v > < f o r m   i d = " a d d t a g c o l l _ f o r m "   c l a s s = " f o r m - i n l i n e " > < p > < l a b e l   f o r = " a d d t a g c o l l _ n a m e " > < / l a b e l > :   < i n p u t   i d = " a d d t a g c o l l _ n a m e "   t y p e = " t e x t " / > < / p > < p > < l a b e l   f o r = " a d d t a g c o l l _ s e a r c h a b l e " > < / l a b e l > :   < i n p u t   i d = " a d d t a g c o l l _ s e a r c h a b l e "   t y p e = " c h e c k b o x "   v a l u e = " 1 "   c h e c k e d / > < / p > < p   c l a s s = " m d l - a l i g n " > < i n p u t   t y p e = " s u b m i t "   i d = " a d d t a g c o l l _ s u b m i t " / > < i n p u t   t y p e = " b u t t o n "   i d = " a d d t a g c o l l _ c a n c e l " / > < / p > < / f o r m > < / d i v > ' ) ; d . f i n d ( ' l a b e l [ f o r = " a d d t a g c o l l _ n a m e " ] ' ) . h t m l ( b [ 1 ] ) , d . f i n d ( ' l a b e l [ f o r = " a d d t a g c o l l _ s e a r c h a b l e " ] ' ) . h t m l ( b [ 2 ] ) , d . f i n d ( " # a d d t a g c o l l _ s u b m i t " ) . a t t r ( " v a l u e " , b [ 3 ] ) , d . f i n d ( " # a d d t a g c o l l _ c a n c e l " ) . a t t r ( " v a l u e " , b [ 4 ] ) , f . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - d i a l o g u e " , f u n c t i o n ( ) { v a r   e = n e w   M . c o r e . d i a l o g u e ( { d r a g g a b l e : ! 0 , m o d a l : ! 0 , c l o s e B u t t o n : ! 0 , h e a d e r C o n t e n t : b [ 0 ] , b o d y C o n t e n t : d . h t m l ( ) } ) ; e . s h o w ( ) , a ( " # a d d t a g c o l l _ f o r m   # a d d t a g c o l l _ n a m e " ) . f o c u s ( ) , a ( " # a d d t a g c o l l _ f o r m   # a d d t a g c o l l _ c a n c e l " ) . o n ( " c l i c k " , f u n c t i o n ( ) { e . d e s t r o y ( ) } ) , a ( " # a d d t a g c o l l _ f o r m " ) . o n ( " s u b m i t " , f u n c t i o n ( ) { v a r   b = a ( " # a d d t a g c o l l _ f o r m   # a d d t a g c o l l _ n a m e " ) . v a l ( ) , d = a ( " # a d d t a g c o l l _ f o r m   # a d d t a g c o l l _ s e a r c h a b l e " ) . p r o p ( " c h e c k e d " ) ? 1 : 0 ; r e t u r n   S t r i n g ( b ) . l e n g t h > 0 & & ( w i n d o w . l o c a t i o n . h r e f = c + " & n a m e = " + e n c o d e U R I C o m p o n e n t ( b ) + " & s e a r c h a b l e = " + d ) , ! 1 } ) } ) } ) } ) , a ( " b o d y " ) . o n ( " c l i c k " , " . t a g - c o l l e c t i o n s - t a b l e   . a c t i o n _ d e l e t e " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . a t t r ( " d a t a - u r l " ) + " & s e s s k e y = " + M . c f g . s e s s k e y ; e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " } , { k e y : " s u r e d e l e t e c o l l " , c o m p o n e n t : " t a g " , p a r a m : a ( t h i s ) . a t t r ( " d a t a - c o l l n a m e " ) } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = c } ) } ) } ) } } } ) ; 
 d e f i n e ( ' c o r e / l o g ' ,   [ " c o r e / l o g l e v e l " ] , f u n c t i o n ( a ) { v a r   b = a . m e t h o d F a c t o r y ; r e t u r n   a . m e t h o d F a c t o r y = f u n c t i o n ( a , c ) { v a r   d = b ( a , c ) ; r e t u r n   f u n c t i o n ( a , b ) { d ( b ? b + " :   " + a : a ) } } , a . s e t C o n f i g = f u n c t i o n ( b ) { " u n d e f i n e d " ! = t y p e o f   b . l e v e l & & a . s e t L e v e l ( b . l e v e l ) } , a } ) ; 
 d e f i n e ( ' c o r e / a u t o _ r o w s ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { E L E M E N T : " [ d a t a - a u t o - r o w s ] " } , c = { R O W _ C H A N G E : " a u t o r o w s : r o w c h a n g e " } , d = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " r o w s " ) , c = a . a t t r ( " d a t a - m a x - r o w s " ) , d = a . h e i g h t ( ) , e = a . i n n e r H e i g h t ( ) , f = e - d ; a . h e i g h t ( " 1 p x " ) ; v a r   g = a [ 0 ] . s c r o l l H e i g h t , h = ( g - f ) / ( d / b ) ; r e t u r n   a . c s s ( " h e i g h t " , " " ) , c & & h > = c ? c : h } , e = f u n c t i o n ( e ) { a ( e ) . o n ( " i n p u t   p r o p e r t y c h a n g e " , b . E L E M E N T , f u n c t i o n ( b ) { v a r   f = a ( b . t a r g e t ) , g = f . a t t r ( " r o w s " ) , h = d ( f ) ; h ! = g & & ( f . a t t r ( " r o w s " , h ) , a ( e ) . t r i g g e r ( c . R O W _ C H A N G E ) ) } ) } ; r e t u r n { i n i t : e , e v e n t s : c } } ) ; 
 d e f i n e ( ' c o r e / c o n f i g ' ,   f u n c t i o n ( ) { r e t u r n   M . c f g } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ b a s e ' ,   [ " c o r e / c h a r t _ s e r i e s " , " c o r e / c h a r t _ a x i s " ] , f u n c t i o n ( a , b ) { f u n c t i o n   c ( ) { t h i s . _ s e r i e s = [ ] , t h i s . _ l a b e l s = [ ] , t h i s . _ x a x e s = [ ] , t h i s . _ y a x e s = [ ] , t h i s . _ s e t D e f a u l t s ( ) } r e t u r n   c . p r o t o t y p e . _ s e r i e s = n u l l , c . p r o t o t y p e . _ l a b e l s = n u l l , c . p r o t o t y p e . _ t i t l e = n u l l , c . p r o t o t y p e . _ x a x e s = n u l l , c . p r o t o t y p e . _ y a x e s = n u l l , c . p r o t o t y p e . C O L O R S E T = [ " # f 3 c 3 0 0 " , " # 8 7 5 6 9 2 " , " # f 3 8 4 0 0 " , " # a 1 c a f 1 " , " # b e 0 0 3 2 " , " # c 2 b 2 8 0 " , " # 7 f 1 8 0 d " , " # 0 0 8 8 5 6 " , " # e 6 8 f a c " , " # 0 0 6 7 a 5 " ] , c . p r o t o t y p e . _ c o n f i g C o l o r S e t = n u l l , c . p r o t o t y p e . T Y P E = n u l l , c . p r o t o t y p e . a d d S e r i e s = f u n c t i o n ( a ) { i f ( t h i s . _ v a l i d a t e S e r i e s ( a ) , t h i s . _ s e r i e s . p u s h ( a ) , n u l l = = = a . g e t C o l o r ( ) ) { v a r   b = t h i s . g e t C o n f i g C o l o r S e t ( ) | | c . p r o t o t y p e . C O L O R S E T ; a . s e t C o l o r ( b [ t h i s . _ s e r i e s . l e n g t h % b . l e n g t h ] ) } } , c . p r o t o t y p e . c r e a t e = f u n c t i o n ( c , d ) { v a r   e = n e w   c ; r e t u r n   e . s e t C o n f i g C o l o r S e t ( d . c o n f i g _ c o l o r s e t ) , e . s e t L a b e l s ( d . l a b e l s ) , e . s e t T i t l e ( d . t i t l e ) , d . s e r i e s . f o r E a c h ( f u n c t i o n ( b ) { e . a d d S e r i e s ( a . p r o t o t y p e . c r e a t e ( b ) ) } ) , d . a x e s . x . f o r E a c h ( f u n c t i o n ( a , c ) { e . s e t X A x i s ( b . p r o t o t y p e . c r e a t e ( a ) , c ) } ) , d . a x e s . y . f o r E a c h ( f u n c t i o n ( a , c ) { e . s e t Y A x i s ( b . p r o t o t y p e . c r e a t e ( a ) , c ) } ) , e } , c . p r o t o t y p e . _ _ g e t A x i s = f u n c t i o n ( a , c , d ) { v a r   e , f = " x " = = = a ? t h i s . _ x a x e s : t h i s . _ y a x e s , g = ( " x " = = = a ? t h i s . s e t X A x i s : t h i s . s e t Y A x i s ) . b i n d ( t h i s ) ; i f ( c = " u n d e f i n e d " = = t y p e o f   c ? 0 : c , d = " u n d e f i n e d " ! = t y p e o f   d & & d , e = f [ c ] , " u n d e f i n e d " = = t y p e o f   e ) { i f ( ! d ) t h r o w   n e w   E r r o r ( " U n k n o w n   a x i s . " ) ; e = n e w   b , g ( e , c ) } r e t u r n   e } , c . p r o t o t y p e . g e t C o n f i g C o l o r S e t = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n f i g C o l o r S e t } , c . p r o t o t y p e . g e t L a b e l s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l s } , c . p r o t o t y p e . g e t S e r i e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ s e r i e s } , c . p r o t o t y p e . g e t T i t l e = f u n c t i o n ( ) { r e t u r n   t h i s . _ t i t l e } , c . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { i f ( ! t h i s . T Y P E ) t h r o w   n e w   E r r o r ( " T h e   T Y P E   p r o p e r t y   h a s   n o t   b e e n   s e t . " ) ; r e t u r n   t h i s . T Y P E } , c . p r o t o t y p e . g e t X A x e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ x a x e s } , c . p r o t o t y p e . g e t X A x i s = f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ _ g e t A x i s ( " x " , a , b ) } , c . p r o t o t y p e . g e t Y A x e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ y a x e s } , c . p r o t o t y p e . g e t Y A x i s = f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ _ g e t A x i s ( " y " , a , b ) } , c . p r o t o t y p e . s e t C o n f i g C o l o r S e t = f u n c t i o n ( a ) { t h i s . _ c o n f i g C o l o r S e t = a } , c . p r o t o t y p e . _ s e t D e f a u l t s = f u n c t i o n ( ) { } , c . p r o t o t y p e . s e t L a b e l s = f u n c t i o n ( a ) { i f ( a . l e n g t h & & t h i s . _ s e r i e s . l e n g t h & & t h i s . _ s e r i e s [ 0 ] . l e n g t h ! = a . l e n g t h ) t h r o w   n e w   E r r o r ( " S e r i e s   m u s t   m a t c h   l a b e l   v a l u e s . " ) ; t h i s . _ l a b e l s = a } , c . p r o t o t y p e . s e t T i t l e = f u n c t i o n ( a ) { t h i s . _ t i t l e = a } , c . p r o t o t y p e . s e t X A x i s = f u n c t i o n ( a , b ) { b = " u n d e f i n e d " = = t y p e o f   b ? 0 : b , t h i s . _ v a l i d a t e A x i s ( " x " , a , b ) , t h i s . _ x a x e s [ b ] = a } , c . p r o t o t y p e . s e t Y A x i s = f u n c t i o n ( a , b ) { b = " u n d e f i n e d " = = t y p e o f   b ? 0 : b , t h i s . _ v a l i d a t e A x i s ( " y " , a , b ) , t h i s . _ y a x e s [ b ] = a } , c . p r o t o t y p e . _ v a l i d a t e A x i s = f u n c t i o n ( a , b , c ) { i f ( c = " u n d e f i n e d " = = t y p e o f   c ? 0 : c , c > 0 ) { v a r   d = " x " = = a ? t h i s . _ x a x e s : t h i s . _ y a x e s ; i f ( " u n d e f i n e d " = = t y p e o f   d [ c - 1 ] ) t h r o w   n e w   E r r o r ( " M i s s i n g   " + a + "   a x i s   a t   i n d e x   l o w e r   t h a n   " + c ) } } , c . p r o t o t y p e . _ v a l i d a t e S e r i e s = f u n c t i o n ( a ) { i f ( t h i s . _ s e r i e s . l e n g t h & & t h i s . _ s e r i e s [ 0 ] . g e t C o u n t ( ) ! = a . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " S e r i e s   d o   n o t   h a v e   a n   e q u a l   n u m b e r   o f   v a l u e s . " ) ; i f ( t h i s . _ l a b e l s . l e n g t h & & t h i s . _ l a b e l s . l e n g t h ! = a . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " S e r i e s   m u s t   m a t c h   l a b e l   v a l u e s . " ) } , c } ) ; 
 d e f i n e ( ' c o r e / i n p l a c e _ e d i t a b l e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / c o n f i g " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { r e t u r n   a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , " [ d a t a - i n p l a c e e d i t a b l e ]   [ d a t a - i n p l a c e e d i t a b l e l i n k ] " , f u n c t i o n ( h ) { i f ( " k e y p r e s s " ! = = h . t y p e | | 1 3 = = = h . k e y C o d e ) { h . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , h . p r e v e n t D e f a u l t ( ) ; v a r   i = a ( t h i s ) , j = i . c l o s e s t ( " [ d a t a - i n p l a c e e d i t a b l e ] " ) , k = f u n c t i o n ( b ) { b . a d d C l a s s ( " u p d a t i n g " ) ; v a r   c = b . f i n d ( " i m g . s p i n n e r " ) ; c . l e n g t h ? c . s h o w ( ) : ( c = a ( " < i m g / > " ) . a t t r ( " s r c " , g . i m a g e U r l ( " i / l o a d i n g _ s m a l l " ) ) . a d d C l a s s ( " s p i n n e r " ) . a d d C l a s s ( " s m a l l i c o n " ) , b . a p p e n d ( c ) ) } , l = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " u p d a t i n g " ) , a . f i n d ( " i m g . s p i n n e r " ) . h i d e ( ) } , m = f u n c t i o n ( e , f ) { k ( e ) , b . c a l l ( [ { m e t h o d n a m e : " c o r e _ u p d a t e _ i n p l a c e _ e d i t a b l e " , a r g s : { i t e m i d : e . a t t r ( " d a t a - i t e m i d " ) , c o m p o n e n t : e . a t t r ( " d a t a - c o m p o n e n t " ) , i t e m t y p e : e . a t t r ( " d a t a - i t e m t y p e " ) , v a l u e : f } , d o n e : f u n c t i o n ( b ) { v a r   d = e . a t t r ( " d a t a - v a l u e " ) ; c . r e n d e r ( " c o r e / i n p l a c e _ e d i t a b l e " , b ) . d o n e ( f u n c t i o n ( f , g ) { v a r   h = a ( f ) ; c . r e p l a c e N o d e ( e , h , g ) , h . f i n d ( " [ d a t a - i n p l a c e e d i t a b l e l i n k ] " ) . f o c u s ( ) , h . t r i g g e r ( { t y p e : " u p d a t e d " , a j a x r e t u r n : b , o l d v a l u e : d } ) } ) } , f a i l : f u n c t i o n ( b ) { v a r   c = a . E v e n t ( " u p d a t e f a i l e d " , { e x c e p t i o n : b , n e w v a l u e : f } ) ; l ( e ) , e . t r i g g e r ( c ) , c . i s D e f a u l t P r e v e n t e d ( ) | | d . e x c e p t i o n ( b ) } } ] , ! 0 ) } , n = f u n c t i o n ( a ) { a . f i n d ( " i n p u t " ) . o f f ( ) , a . f i n d ( " s e l e c t " ) . o f f ( ) , a . h t m l ( a . a t t r ( " d a t a - o l d c o n t e n t " ) ) , a . r e m o v e A t t r ( " d a t a - o l d c o n t e n t " ) , a . r e m o v e C l a s s ( " i n p l a c e e d i t i n g o n " ) , a . f i n d ( " [ d a t a - i n p l a c e e d i t a b l e l i n k ] " ) . f o c u s ( ) } , o = f u n c t i o n ( ) { a ( " s p a n . i n p l a c e e d i t a b l e . i n p l a c e e d i t i n g o n " ) . e a c h ( f u n c t i o n ( ) { n ( a ( t h i s ) ) } ) } , p = f u n c t i o n ( b , c ) { v a r   d , e = b ; f o r ( d = 0 ; d < c ; d + + ) e + = S t r i n g ( M a t h . f l o o r ( 1 0 * M a t h . r a n d o m ( ) ) ) ; r e t u r n   0 = = = a ( " # " + e ) . l e n g t h ? e : p ( b , c ) } , q = f u n c t i o n ( b ) { e . g e t _ s t r i n g ( " e d i t t i t l e i n s t r u c t i o n s " ) . d o n e ( f u n c t i o n ( c ) { v a r   d = a ( ' < s p a n   c l a s s = " e d i t i n s t r u c t i o n s " > ' + c + " < / s p a n > " ) . a t t r ( " i d " , p ( " i d _ e d i t i n s t r u c t i o n s _ " , 2 0 ) ) , e = a ( ' < i n p u t   t y p e = " t e x t " / > ' ) . a t t r ( " i d " , p ( " i d _ i n p l a c e v a l u e _ " , 2 0 ) ) . a t t r ( " v a l u e " , b . a t t r ( " d a t a - v a l u e " ) ) . a t t r ( " a r i a - d e s c r i b e d b y " , d . a t t r ( " i d " ) ) . a d d C l a s s ( " i g n o r e d i r t y " ) . a d d C l a s s ( " f o r m - c o n t r o l " ) , g = a ( ' < l a b e l   c l a s s = " a c c e s s h i d e " > ' + j . a t t r ( " d a t a - e d i t l a b e l " ) + " < / l a b e l > " ) . a t t r ( " f o r " , e . a t t r ( " i d " ) ) ; b . h t m l ( " " ) . a p p e n d ( d ) . a p p e n d ( g ) . a p p e n d ( e ) , e . f o c u s ( ) , e . s e l e c t ( ) , e . o n ( " k e y u p   k e y p r e s s   f o c u s o u t " , f u n c t i o n ( a ) { i f ( ! f . b e h a t s i t e r u n n i n g | | " f o c u s o u t " ! = = a . t y p e ) { i f ( " k e y p r e s s " = = = a . t y p e & & 1 3 = = = a . k e y C o d e ) { v a r   c = e . v a l ( ) ; n ( b ) , m ( b , c ) } ( " k e y u p " = = = a . t y p e & & 2 7 = = = a . k e y C o d e | | " f o c u s o u t " = = = a . t y p e ) & & n ( b ) } } ) } ) } , r = f u n c t i o n ( a , b ) { n ( a ) , m ( a , b ) } , s = f u n c t i o n ( b , c ) { v a r   d , e = a ( " < s e l e c t > < / s e l e c t > " ) . a t t r ( " i d " , p ( " i d _ i n p l a c e v a l u e _ " , 2 0 ) ) . a d d C l a s s ( " c u s t o m - s e l e c t " ) , g = a ( ' < l a b e l   c l a s s = " a c c e s s h i d e " > ' + j . a t t r ( " d a t a - e d i t l a b e l " ) + " < / l a b e l > " ) . a t t r ( " f o r " , e . a t t r ( " i d " ) ) ; f o r ( d   i n   c ) e . a p p e n d ( a ( " < o p t i o n > " ) . a t t r ( " v a l u e " , c [ d ] . k e y ) . h t m l ( c [ d ] . v a l u e ) ) ; e . v a l ( b . a t t r ( " d a t a - v a l u e " ) ) , b . h t m l ( " " ) . a p p e n d ( g ) . a p p e n d ( e ) , e . f o c u s ( ) , e . s e l e c t ( ) , e . o n ( " k e y u p   c h a n g e   f o c u s o u t " , f u n c t i o n ( a ) { i f ( ! f . b e h a t s i t e r u n n i n g | | " f o c u s o u t " ! = = a . t y p e ) { i f ( " c h a n g e " = = = a . t y p e ) { v a r   c = e . v a l ( ) ; n ( b ) , m ( b , c ) } ( " k e y u p " = = = a . t y p e & & 2 7 = = = a . k e y C o d e | | " f o c u s o u t " = = = a . t y p e ) & & n ( b ) } } ) } , t = f u n c t i o n ( b ) { b . a d d C l a s s ( " i n p l a c e e d i t i n g o n " ) , b . a t t r ( " d a t a - o l d c o n t e n t " , b . h t m l ( ) ) ; v a r   c = b . a t t r ( " d a t a - t y p e " ) , d = b . a t t r ( " d a t a - o p t i o n s " ) ; " t o g g l e " = = = c ? r ( b , d ) : " s e l e c t " = = = c ? s ( b , a . p a r s e J S O N ( d ) ) : q ( b ) } ; o ( ) , t ( j ) } } ) , { } } ) ; 
 d e f i n e ( ' c o r e / n o t i f i c a t i o n ' ,   [ " c o r e / y u i " , " j q u e r y " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = { t y p e s : { s u c c e s s : " c o r e / n o t i f i c a t i o n _ s u c c e s s " , i n f o : " c o r e / n o t i f i c a t i o n _ i n f o " , w a r n i n g : " c o r e / n o t i f i c a t i o n _ w a r n i n g " , e r r o r : " c o r e / n o t i f i c a t i o n _ e r r o r " } , f i e l d N a m e : " u s e r - n o t i f i c a t i o n s " , f e t c h N o t i f i c a t i o n s : f u n c t i o n ( ) { r e q u i r e ( [ " c o r e / a j a x " ] , f u n c t i o n ( a ) { v a r   b = a . c a l l ( [ { m e t h o d n a m e : " c o r e _ f e t c h _ n o t i f i c a t i o n s " , a r g s : { c o n t e x t i d : d . c o n t e x t i d } } ] ) ; b [ 0 ] . d o n e ( d . a d d N o t i f i c a t i o n s ) } ) } , a d d N o t i f i c a t i o n s : f u n c t i o n ( a ) { a | | ( a = [ ] ) , b . e a c h ( a , f u n c t i o n ( a , b ) { d . r e n d e r N o t i f i c a t i o n ( b . t e m p l a t e , b . v a r i a b l e s ) } ) } , s e t u p T a r g e t R e g i o n : f u n c t i o n ( ) { v a r   a = b ( " # " + d . f i e l d N a m e ) ; i f ( a . l e n g t h ) r e t u r n ! 1 ; v a r   c = b ( " < s p a n > " ) . a t t r ( " i d " , d . f i e l d N a m e ) ; r e t u r n   a = b ( " # r e g i o n - m a i n " ) , a . l e n g t h ? a . p r e p e n d ( c ) : ( a = b ( ' [ r o l e = " m a i n " ] ' ) , a . l e n g t h ? a . p r e p e n d ( c ) : ( a = b ( " b o d y " ) , a . p r e p e n d ( c ) ) ) } , a d d N o t i f i c a t i o n : f u n c t i o n ( a ) { v a r   c = d . t y p e s . e r r o r ; r e t u r n   a = b . e x t e n d ( { c l o s e b u t t o n : ! 0 , a n n o u n c e : ! 0 , t y p e : " e r r o r " } , a ) , a . t e m p l a t e ? ( c = a . t e m p l a t e , d e l e t e   a . t e m p l a t e ) : a . t y p e & & ( " u n d e f i n e d " ! = t y p e o f   d . t y p e s [ a . t y p e ] & & ( c = d . t y p e s [ a . t y p e ] ) , d e l e t e   a . t y p e ) , d . r e n d e r N o t i f i c a t i o n ( c , a ) } , r e n d e r N o t i f i c a t i o n : f u n c t i o n ( a , e ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   e . m e s s a g e & & e . m e s s a g e ? v o i d   r e q u i r e ( [ " c o r e / t e m p l a t e s " ] , f u n c t i o n ( c ) { c . r e n d e r ( a , e ) . d o n e ( f u n c t i o n ( a , e ) { b ( " # " + d . f i e l d N a m e ) . p r e p e n d ( a ) , c . r u n T e m p l a t e J S ( e ) } ) . f a i l ( d . e x c e p t i o n ) } ) : v o i d   c . d e b u g ( " N o t i f i c a t i o n   r e c e i v e d   w i t h o u t   c o n t e n t .   S k i p p i n g . " ) } , a l e r t : f u n c t i o n ( b , c , d ) { a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - a l e r t " , f u n c t i o n ( ) { v a r   a = n e w   M . c o r e . a l e r t ( { t i t l e : b , m e s s a g e : c , y e s L a b e l : d } ) ; a . s h o w ( ) } ) } , c o n f i r m : f u n c t i o n ( b , c , d , e , f , g ) { a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - c o n f i r m " , f u n c t i o n ( ) { v a r   a = n e w   M . c o r e . c o n f i r m ( { t i t l e : b , q u e s t i o n : c , y e s L a b e l : d , n o L a b e l : e } ) ; a . o n ( " c o m p l e t e - y e s " , f u n c t i o n ( ) { f ( ) } ) , g & & a . o n ( " c o m p l e t e - n o " , f u n c t i o n ( ) { g ( ) } ) , a . s h o w ( ) } ) } , e x c e p t i o n : f u n c t i o n ( b ) { i f ( " u n d e f i n e d " = = t y p e o f   b . s t a c k & & ( b . s t a c k = " " ) , b . d e b u g i n f o & & ( b . s t a c k + = b . d e b u g i n f o + " \ n " ) , ! b . b a c k t r a c e & & b . s t a c k t r a c e & & ( b . b a c k t r a c e = b . s t a c k t r a c e ) , b . b a c k t r a c e ) { b . s t a c k + = b . b a c k t r a c e ; v a r   c = b . b a c k t r a c e . m a t c h ( / l i n e   ( [ ^   ] * )   o f / ) , d = b . b a c k t r a c e . m a t c h ( /   o f   ( [ ^ : ] * ) :   / ) ; c & & c [ 1 ] & & ( b . l i n e N u m b e r = c [ 1 ] ) , d & & d [ 1 ] & & ( b . f i l e N a m e = d [ 1 ] , b . f i l e N a m e . l e n g t h > 3 0 & & ( b . f i l e N a m e = " . . . " + b . f i l e N a m e . s u b s t r ( b . f i l e N a m e . l e n g t h - 2 7 ) ) ) } " u n d e f i n e d " = = t y p e o f   b . n a m e & & b . e r r o r c o d e & & ( b . n a m e = b . e r r o r c o d e ) , a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - e x c e p t i o n " , f u n c t i o n ( ) { v a r   a = n e w   M . c o r e . e x c e p t i o n ( b ) ; a . s h o w ( ) } ) } } ; r e t u r n { i n i t : f u n c t i o n ( a , b ) { d . c o n t e x t i d = a , d . s e t u p T a r g e t R e g i o n ( ) , d . a d d N o t i f i c a t i o n s ( b ) , d . f e t c h N o t i f i c a t i o n s ( ) } , f e t c h N o t i f i c a t i o n s : d . f e t c h N o t i f i c a t i o n s , a d d N o t i f i c a t i o n : d . a d d N o t i f i c a t i o n , a l e r t : d . a l e r t , c o n f i r m : d . c o n f i r m , e x c e p t i o n : d . e x c e p t i o n } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ b a r ' ,   [ " c o r e / c h a r t _ b a s e " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( ) { a . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) } r e t u r n   b . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , b . p r o t o t y p e . _ h o r i z o n t a l = ! 1 , b . p r o t o t y p e . _ s t a c k e d = ! 1 , b . p r o t o t y p e . T Y P E = " b a r " , b . p r o t o t y p e . c r e a t e = f u n c t i o n ( b , c ) { v a r   d = a . p r o t o t y p e . c r e a t e . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d . s e t H o r i z o n t a l ( c . h o r i z o n t a l ) , d . s e t S t a c k e d ( c . s t a c k e d ) , d } , b . p r o t o t y p e . _ s e t D e f a u l t s = f u n c t i o n ( ) { a . p r o t o t y p e . _ s e t D e f a u l t s . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   b = t h i s . g e t Y A x i s ( 0 , ! 0 ) ; b . s e t M i n ( 0 ) } , b . p r o t o t y p e . g e t H o r i z o n t a l = f u n c t i o n ( ) { r e t u r n   t h i s . _ h o r i z o n t a l } , b . p r o t o t y p e . g e t S t a c k e d = f u n c t i o n ( ) { r e t u r n   t h i s . _ s t a c k e d } , b . p r o t o t y p e . s e t H o r i z o n t a l = f u n c t i o n ( a ) { v a r   b = t h i s . g e t X A x i s ( 0 , ! 0 ) ; n u l l = = = b . g e t M i n ( ) & & b . s e t M i n ( 0 ) , t h i s . _ h o r i z o n t a l = B o o l e a n ( a ) } , b . p r o t o t y p e . s e t S t a c k e d = f u n c t i o n ( a ) { t h i s . _ s t a c k e d = B o o l e a n ( a ) } , b } ) ; 
 d e f i n e ( ' c o r e / y u i ' ,   f u n c t i o n ( ) { r e t u r n   Y } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t _ c h a r t j s ' ,   [ " j q u e r y " , " c o r e / c h a r t j s " , " c o r e / c h a r t _ a x i s " , " c o r e / c h a r t _ b a r " , " c o r e / c h a r t _ o u t p u t _ b a s e " , " c o r e / c h a r t _ l i n e " , " c o r e / c h a r t _ p i e " , " c o r e / c h a r t _ s e r i e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { f u n c t i o n   i ( ) { e . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ c a n v a s = t h i s . _ n o d e , " C A N V A S " ! = t h i s . _ c a n v a s . p r o p ( " t a g N a m e " ) & & ( t h i s . _ c a n v a s = a ( " < c a n v a s > " ) , t h i s . _ n o d e . a p p e n d ( t h i s . _ c a n v a s ) ) , t h i s . _ b u i l d ( ) } v a r   j = f u n c t i o n ( a , b ) { r e t u r n " a x i s - " + a + " - " + b } ; r e t u r n   i . p r o t o t y p e = O b j e c t . c r e a t e ( e . p r o t o t y p e ) , i . p r o t o t y p e . _ c o n f i g = n u l l , i . p r o t o t y p e . _ c h a r t j s = n u l l , i . p r o t o t y p e . _ c a n v a s = n u l l , i . p r o t o t y p e . _ b u i l d = f u n c t i o n ( ) { t h i s . _ c o n f i g = t h i s . _ m a k e C o n f i g ( ) , t h i s . _ c h a r t j s = n e w   b ( t h i s . _ c a n v a s [ 0 ] , t h i s . _ c o n f i g ) } , i . p r o t o t y p e . _ c l e a n D a t a = f u n c t i o n ( b ) { r e t u r n   b   i n s t a n c e o f   A r r a y ? b . m a p ( f u n c t i o n ( b ) { r e t u r n   a ( " < s p a n > " ) . h t m l ( b ) . t e x t ( ) } ) : a ( " < s p a n > " ) . h t m l ( b ) . t e x t ( ) } , i . p r o t o t y p e . _ g e t C h a r t T y p e = f u n c t i o n ( ) { v a r   a = t h i s . _ c h a r t . g e t T y p e ( ) ; r e t u r n   t h i s . _ c h a r t . g e t T y p e ( ) = = = d . p r o t o t y p e . T Y P E & & t h i s . _ c h a r t . g e t H o r i z o n t a l ( ) = = = ! 0 ? a = " h o r i z o n t a l B a r " : t h i s . _ c h a r t . g e t T y p e ( ) = = = g . p r o t o t y p e . T Y P E & & t h i s . _ c h a r t . g e t D o u g h n u t ( ) = = = ! 0 & & ( a = " d o u g h n u t " ) , a } , i . p r o t o t y p e . _ m a k e A x i s C o n f i g = f u n c t i o n ( a , b , d ) { v a r   e = { i d : j ( b , d ) } ; r e t u r n   a . g e t P o s i t i o n ( ) ! = = c . p r o t o t y p e . P O S _ D E F A U L T & & ( e . p o s i t i o n = a . g e t P o s i t i o n ( ) ) , n u l l ! = = a . g e t L a b e l ( ) & & ( e . s c a l e L a b e l = { d i s p l a y : ! 0 , l a b e l S t r i n g : t h i s . _ c l e a n D a t a ( a . g e t L a b e l ( ) ) } ) , n u l l ! = = a . g e t S t e p S i z e ( ) & & ( e . t i c k s = e . t i c k s | | { } , e . t i c k s . s t e p S i z e = a . g e t S t e p S i z e ( ) ) , n u l l ! = = a . g e t M a x ( ) & & ( e . t i c k s = e . t i c k s | | { } , e . t i c k s . m a x = a . g e t M a x ( ) ) , n u l l ! = = a . g e t M i n ( ) & & ( e . t i c k s = e . t i c k s | | { } , e . t i c k s . m i n = a . g e t M i n ( ) ) , e } , i . p r o t o t y p e . _ m a k e C o n f i g = f u n c t i o n ( ) { v a r   a = { t y p e : t h i s . _ g e t C h a r t T y p e ( ) , d a t a : { l a b e l s : t h i s . _ c l e a n D a t a ( t h i s . _ c h a r t . g e t L a b e l s ( ) ) , d a t a s e t s : t h i s . _ m a k e D a t a s e t s C o n f i g ( ) } , o p t i o n s : { t i t l e : { d i s p l a y : n u l l ! = = t h i s . _ c h a r t . g e t T i t l e ( ) , t e x t : t h i s . _ c l e a n D a t a ( t h i s . _ c h a r t . g e t T i t l e ( ) ) } } } ; r e t u r n   t h i s . _ c h a r t . g e t X A x e s ( ) . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = b . g e t L a b e l s ( ) ; a . o p t i o n s . s c a l e s = a . o p t i o n s . s c a l e s | | { } , a . o p t i o n s . s c a l e s . x A x e s = a . o p t i o n s . s c a l e s . x A x e s | | [ ] , a . o p t i o n s . s c a l e s . x A x e s [ c ] = t h i s . _ m a k e A x i s C o n f i g ( b , " x " , c ) , n u l l ! = = d & & ( a . o p t i o n s . s c a l e s . x A x e s [ c ] . t i c k s . c a l l b a c k = f u n c t i o n ( a , b ) { r e t u r n   d [ b ] | | " " } ) , a . o p t i o n s . s c a l e s . x A x e s [ c ] . s t a c k e d = t h i s . _ i s S t a c k e d ( ) } . b i n d ( t h i s ) ) , t h i s . _ c h a r t . g e t Y A x e s ( ) . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = b . g e t L a b e l s ( ) ; a . o p t i o n s . s c a l e s = a . o p t i o n s . s c a l e s | | { } , a . o p t i o n s . s c a l e s . y A x e s = a . o p t i o n s . s c a l e s . y A x e s | | [ ] , a . o p t i o n s . s c a l e s . y A x e s [ c ] = t h i s . _ m a k e A x i s C o n f i g ( b , " y " , c ) , n u l l ! = = d & & ( a . o p t i o n s . s c a l e s . y A x e s [ c ] . t i c k s . c a l l b a c k = f u n c t i o n ( a ) { r e t u r n   d [ p a r s e I n t ( a , 1 0 ) ] | | " " } ) , a . o p t i o n s . s c a l e s . y A x e s [ c ] . s t a c k e d = t h i s . _ i s S t a c k e d ( ) } . b i n d ( t h i s ) ) , a . o p t i o n s . t o o l t i p s = { c a l l b a c k s : { l a b e l : t h i s . _ m a k e T o o l t i p . b i n d ( t h i s ) } } , a } , i . p r o t o t y p e . _ m a k e D a t a s e t s C o n f i g = f u n c t i o n ( ) { v a r   a = t h i s . _ c h a r t . g e t S e r i e s ( ) . m a p ( f u n c t i o n ( a ) { v a r   b = a . h a s C o l o r e d V a l u e s ( ) ? a . g e t C o l o r s ( ) : a . g e t C o l o r ( ) , c = { l a b e l : t h i s . _ c l e a n D a t a ( a . g e t L a b e l ( ) ) , d a t a : a . g e t V a l u e s ( ) , t y p e : a . g e t T y p e ( ) , f i l l : ! 1 , b a c k g r o u n d C o l o r : b , b o r d e r C o l o r : t h i s . _ c h a r t . g e t T y p e ( ) = = g . p r o t o t y p e . T Y P E ? n u l l : b , l i n e T e n s i o n : t h i s . _ i s S m o o t h ( a ) ? . 3 : 0 } ; r e t u r n   n u l l ! = = a . g e t X A x i s ( ) & & ( c . x A x i s I D = j ( " x " , a . g e t X A x i s ( ) ) ) , n u l l ! = = a . g e t Y A x i s ( ) & & ( c . y A x i s I D = j ( " y " , a . g e t Y A x i s ( ) ) ) , c } . b i n d ( t h i s ) ) ; r e t u r n   a } , i . p r o t o t y p e . _ m a k e T o o l t i p = f u n c t i o n ( a , b ) { v a r   c = t h i s . _ c h a r t . g e t S e r i e s ( ) [ a . d a t a s e t I n d e x ] , d = c . g e t L a b e l ( ) , e = c . g e t L a b e l s ( ) , f = b . d a t a s e t s [ a . d a t a s e t I n d e x ] . d a t a , g = f [ a . i n d e x ] , h = [ ] ; i f ( " " = = a . x L a b e l & & " " = = a . y L a b e l ) { v a r   i = t h i s . _ c l e a n D a t a ( t h i s . _ c h a r t . g e t L a b e l s ( ) ) ; h . p u s h ( i [ a . i n d e x ] ) } r e t u r n   n u l l ! = = e ? h . p u s h ( t h i s . _ c l e a n D a t a ( e [ a . i n d e x ] ) ) : h . p u s h ( t h i s . _ c l e a n D a t a ( d ) + " :   " + g ) , h } , i . p r o t o t y p e . _ i s S m o o t h = f u n c t i o n ( a ) { v a r   b = ! 1 ; r e t u r n   t h i s . _ c h a r t . g e t T y p e ( ) = = = f . p r o t o t y p e . T Y P E ? ( b = a . g e t S m o o t h ( ) , n u l l = = = b & & ( b = t h i s . _ c h a r t . g e t S m o o t h ( ) ) ) : a . g e t T y p e ( ) = = = h . p r o t o t y p e . T Y P E _ L I N E & & ( b = a . g e t S m o o t h ( ) ) , b } , i . p r o t o t y p e . _ i s S t a c k e d = f u n c t i o n ( ) { v a r   a = ! 1 ; r e t u r n   t h i s . _ c h a r t . g e t T y p e ( ) = = = d . p r o t o t y p e . T Y P E & & ( a = t h i s . _ c h a r t . g e t S t a c k e d ( ) ) , a } , i . p r o t o t y p e . u p d a t e = f u n c t i o n ( ) { a . e x t e n d ( ! 0 , t h i s . _ c o n f i g , t h i s . _ m a k e C o n f i g ( ) ) , t h i s . _ c h a r t j s . u p d a t e ( ) } , i } ) ; 
 d e f i n e ( ' c o r e / t r e e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { I T E M : " [ r o l e = t r e e i t e m ] " , G R O U P : " [ r o l e = t r e e i t e m ] : h a s ( [ r o l e = g r o u p ] ) ,   [ r o l e = t r e e i t e m ] [ a r i a - o w n s ] ,   [ r o l e = t r e e i t e m ] [ d a t a - r e q u i r e s - a j a x = t r u e ] " , C L O S E D _ G R O U P : " [ r o l e = t r e e i t e m ] : h a s ( [ r o l e = g r o u p ] ) [ a r i a - e x p a n d e d = f a l s e ] ,   [ r o l e = t r e e i t e m ] [ a r i a - o w n s ] [ a r i a - e x p a n d e d = f a l s e ] ,   [ r o l e = t r e e i t e m ] [ d a t a - r e q u i r e s - a j a x = t r u e ] [ a r i a - e x p a n d e d = f a l s e ] " , F I R S T _ I T E M : " [ r o l e = t r e e i t e m ] : f i r s t " , V I S I B L E _ I T E M : " [ r o l e = t r e e i t e m ] : v i s i b l e " , U N L O A D E D _ A J A X _ I T E M : " [ r o l e = t r e e i t e m ] [ d a t a - r e q u i r e s - a j a x = t r u e ] [ d a t a - l o a d e d = f a l s e ] [ a r i a - e x p a n d e d = t r u e ] " } , c = f u n c t i o n ( c , d ) { t h i s . t r e e R o o t = a ( c ) , t h i s . t r e e R o o t . d a t a ( " a c t i v e I t e m " , n u l l ) , t h i s . s e l e c t C a l l b a c k = d , t h i s . k e y s = { t a b : 9 , e n t e r : 1 3 , s p a c e : 3 2 , p a g e u p : 3 3 , p a g e d o w n : 3 4 , e n d : 3 5 , h o m e : 3 6 , l e f t : 3 7 , u p : 3 8 , r i g h t : 3 9 , d o w n : 4 0 , a s t e r i s k : 1 0 6 } , t h i s . i n i t i a l i s e N o d e s ( t h i s . t r e e R o o t ) , t h i s . s e t A c t i v e I t e m ( t h i s . t r e e R o o t . f i n d ( b . F I R S T _ I T E M ) ) , t h i s . r e f r e s h V i s i b l e I t e m s C a c h e ( ) , t h i s . b i n d E v e n t H a n d l e r s ( ) } ; r e t u r n   c . p r o t o t y p e . r e f r e s h V i s i b l e I t e m s C a c h e = f u n c t i o n ( ) { t h i s . t r e e R o o t . d a t a ( " v i s i b l e I t e m s " , t h i s . t r e e R o o t . f i n d ( b . V I S I B L E _ I T E M ) ) } , c . p r o t o t y p e . g e t V i s i b l e I t e m s = f u n c t i o n ( ) { r e t u r n   t h i s . t r e e R o o t . d a t a ( " v i s i b l e I t e m s " ) } , c . p r o t o t y p e . s e t A c t i v e I t e m = f u n c t i o n ( a ) { v a r   b = t h i s . t r e e R o o t . d a t a ( " a c t i v e I t e m " ) ; a ! = = b & & ( b & & ( b . a t t r ( " t a b i n d e x " , " - 1 " ) , b . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) ) , a . a t t r ( " t a b i n d e x " , " 0 " ) , a . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , t h i s . t r e e R o o t . d a t a ( " a c t i v e I t e m " , a ) , " f u n c t i o n " = = t y p e o f   t h i s . s e l e c t C a l l b a c k & & t h i s . s e l e c t C a l l b a c k ( a ) ) } , c . p r o t o t y p e . i s G r o u p I t e m = f u n c t i o n ( a ) { r e t u r n   a . i s ( b . G R O U P ) } , c . p r o t o t y p e . g e t G r o u p F r o m I t e m = f u n c t i o n ( a ) { r e t u r n   t h i s . t r e e R o o t . f i n d ( " # " + a . a t t r ( " a r i a - o w n s " ) ) | | a . c h i l d r e n ( " [ r o l e = g r o u p ] " ) } , c . p r o t o t y p e . i s G r o u p C o l l a p s e d = f u n c t i o n ( a ) { r e t u r n " f a l s e " = = = a . a t t r ( " a r i a - e x p a n d e d " ) } , c . p r o t o t y p e . i s G r o u p C o l l a p s i b l e = f u n c t i o n ( a ) { r e t u r n " f a l s e " ! = = a . a t t r ( " d a t a - c o l l a p s i b l e " ) } , c . p r o t o t y p e . i n i t i a l i s e N o d e s = f u n c t i o n ( c ) { t h i s . r e m o v e A l l F r o m T a b O r d e r ( c ) , t h i s . s e t A r i a S e l e c t e d F a l s e O n I t e m s ( c ) ; v a r   d = t h i s ; c . f i n d ( b . U N L O A D E D _ A J A X _ I T E M ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; d . c o l l a p s e G r o u p ( b ) , d . e x p a n d G r o u p ( b ) } ) } , c . p r o t o t y p e . r e m o v e A l l F r o m T a b O r d e r = f u n c t i o n ( b ) { b . f i n d ( " * " ) . a t t r ( " t a b i n d e x " , " - 1 " ) , t h i s . g e t G r o u p F r o m I t e m ( a ( b ) ) . f i n d ( " * " ) . a t t r ( " t a b i n d e x " , " - 1 " ) } , c . p r o t o t y p e . s e t A r i a S e l e c t e d F a l s e O n I t e m s = f u n c t i o n ( a ) { a . f i n d ( b . I T E M ) . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) } , c . p r o t o t y p e . e x p a n d A l l G r o u p s = f u n c t i o n ( ) { v a r   c = t h i s ; t h i s . t r e e R o o t . f i n d ( b . C L O S E D _ G R O U P ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; c . e x p a n d G r o u p ( a ( t h i s ) ) . d o n e ( f u n c t i o n ( ) { c . e x p a n d A l l C h i l d G r o u p s ( b ) } ) } ) } , c . p r o t o t y p e . e x p a n d A l l C h i l d G r o u p s = f u n c t i o n ( c ) { v a r   d = t h i s ; t h i s . g e t G r o u p F r o m I t e m ( c ) . f i n d ( b . C L O S E D _ G R O U P ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; d . e x p a n d G r o u p ( a ( t h i s ) ) . d o n e ( f u n c t i o n ( ) { d . e x p a n d A l l C h i l d G r o u p s ( b ) } ) } ) } , c . p r o t o t y p e . e x p a n d G r o u p = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; i f ( " f a l s e " ! = = b . a t t r ( " d a t a - e x p a n d a b l e " ) & & t h i s . i s G r o u p C o l l a p s e d ( b ) ) i f ( " t r u e " = = = b . a t t r ( " d a t a - r e q u i r e s - a j a x " ) & & " t r u e " ! = = b . a t t r ( " d a t a - l o a d e d " ) ) { b . a t t r ( " d a t a - l o a d e d " , ! 1 ) ; v a r   d = b . c l o s e s t ( " [ d a t a - a j a x - l o a d e r ] " ) . a t t r ( " d a t a - a j a x - l o a d e r " ) , e = t h i s ; b . a d d C l a s s ( " l o a d i n g " ) , r e q u i r e ( [ d ] , f u n c t i o n ( a ) { a . l o a d ( b ) . d o n e ( f u n c t i o n ( ) { b . a t t r ( " d a t a - l o a d e d " , ! 0 ) , e . i n i t i a l i s e N o d e s ( b ) , e . f i n i s h E x p a n d i n g G r o u p ( b ) , b . r e m o v e C l a s s ( " l o a d i n g " ) , c . r e s o l v e ( ) } ) } ) } e l s e   t h i s . f i n i s h E x p a n d i n g G r o u p ( b ) , c . r e s o l v e ( ) ; e l s e   c . r e s o l v e ( ) ; r e t u r n   c } , c . p r o t o t y p e . f i n i s h E x p a n d i n g G r o u p = f u n c t i o n ( a ) { v a r   b = t h i s . g e t G r o u p F r o m I t e m ( a ) ; b . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , t h i s . r e f r e s h V i s i b l e I t e m s C a c h e ( ) } , c . p r o t o t y p e . c o l l a p s e G r o u p = f u n c t i o n ( a ) { i f ( t h i s . i s G r o u p C o l l a p s i b l e ( a ) & & ! t h i s . i s G r o u p C o l l a p s e d ( a ) ) { v a r   b = t h i s . g e t G r o u p F r o m I t e m ( a ) ; b . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , t h i s . r e f r e s h V i s i b l e I t e m s C a c h e ( ) } } , c . p r o t o t y p e . t o g g l e G r o u p = f u n c t i o n ( a ) { " t r u e " = = = a . a t t r ( " a r i a - e x p a n d e d " ) ? t h i s . c o l l a p s e G r o u p ( a ) : t h i s . e x p a n d G r o u p ( a ) } , c . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( c , d ) { v a r   e = t h i s . g e t V i s i b l e I t e m s ( ) . i n d e x ( c ) ; i f ( d . a l t K e y | | d . c t r l K e y | | d . m e t a K e y | | d . s h i f t K e y & & d . k e y C o d e ! = t h i s . k e y s . t a b ) r e t u r n ! 0 ; s w i t c h ( d . k e y C o d e ) { c a s e   t h i s . k e y s . h o m e : r e t u r n   t h i s . g e t V i s i b l e I t e m s ( ) . f i r s t ( ) . f o c u s ( ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n d : r e t u r n   t h i s . g e t V i s i b l e I t e m s ( ) . l a s t ( ) . f o c u s ( ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n t e r : v a r   f = c . c h i l d r e n ( " a " ) . l e n g t h ? c . c h i l d r e n ( " a " ) : c . c h i l d r e n ( ) . n o t ( b . G R O U P ) . f i n d ( " a " ) ; r e t u r n   f . l e n g t h ? w i n d o w . l o c a t i o n . h r e f = f . f i r s t ( ) . a t t r ( " h r e f " ) : t h i s . i s G r o u p I t e m ( c ) & & t h i s . t o g g l e G r o u p ( c , ! 0 ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . s p a c e : r e t u r n   t h i s . i s G r o u p I t e m ( c ) & & t h i s . t o g g l e G r o u p ( c , ! 0 ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . l e f t : v a r   g = f u n c t i o n ( b ) { b . g e t V i s i b l e I t e m s ( ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   b . g e t G r o u p F r o m I t e m ( a ( t h i s ) ) . h a s ( c ) . l e n g t h } ) . f o c u s ( ) } ; r e t u r n   t h i s . i s G r o u p I t e m ( c ) ? t h i s . i s G r o u p C o l l a p s e d ( c ) ? g ( t h i s ) : t h i s . c o l l a p s e G r o u p ( c ) : g ( t h i s ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . r i g h t : r e t u r n   t h i s . i s G r o u p I t e m ( c ) & & ( t h i s . i s G r o u p C o l l a p s e d ( c ) ? t h i s . e x p a n d G r o u p ( c ) : t h i s . g e t G r o u p F r o m I t e m ( c ) . f i n d ( b . I T E M ) . f i r s t ( ) . f o c u s ( ) ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . u p : i f ( e > 0 ) { v a r   h = t h i s . g e t V i s i b l e I t e m s ( ) . e q ( e - 1 ) ; h . f o c u s ( ) } r e t u r n   d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . d o w n : i f ( e < t h i s . g e t V i s i b l e I t e m s ( ) . l e n g t h - 1 ) { v a r   i = t h i s . g e t V i s i b l e I t e m s ( ) . e q ( e + 1 ) ; i . f o c u s ( ) } r e t u r n   d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . a s t e r i s k : r e t u r n   t h i s . e x p a n d A l l G r o u p s ( ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 } r e t u r n ! 0 } , c . p r o t o t y p e . h a n d l e C l i c k = f u n c t i o n ( a , b ) { r e t u r n ! ! ( b . a l t K e y | | b . c t r l K e y | | b . s h i f t K e y | | b . m e t a K e y ) | | ( a . f o c u s ( ) , t h i s . i s G r o u p I t e m ( a ) & & t h i s . t o g g l e G r o u p ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 0 ) } , c . p r o t o t y p e . h a n d l e F o c u s = f u n c t i o n ( a , b ) { r e t u r n   t h i s . s e t A c t i v e I t e m ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 0 } , c . p r o t o t y p e . b i n d E v e n t H a n d l e r s = f u n c t i o n ( ) { v a r   c = t h i s ; t h i s . t r e e R o o t . o n ( { c l i c k : f u n c t i o n ( b ) { r e t u r n   c . h a n d l e C l i c k ( a ( t h i s ) , b ) } , k e y d o w n : f u n c t i o n ( b ) { r e t u r n   c . h a n d l e K e y D o w n ( a ( t h i s ) , b ) } , f o c u s : f u n c t i o n ( b ) { r e t u r n   c . h a n d l e F o c u s ( a ( t h i s ) , b ) } } , b . I T E M ) } , c } ) ; 
 d e f i n e ( ' c o r e / b a c k o f f _ t i m e r ' ,   f u n c t i o n ( ) { v a r   a = f u n c t i o n ( a , b ) { t h i s . c a l l b a c k = a , t h i s . b a c k O f f F u n c t i o n = b } ; r e t u r n   a . p r o t o t y p e . c a l l b a c k = n u l l , a . p r o t o t y p e . b a c k O f f F u n c t i o n = n u l l , a . p r o t o t y p e . t i m e = n u l l , a . p r o t o t y p e . t i m e o u t = n u l l , a . p r o t o t y p e . g e n e r a t e N e x t T i m e = f u n c t i o n ( ) { v a r   a = t h i s . b a c k O f f F u n c t i o n ( t h i s . t i m e ) ; r e t u r n   t h i s . t i m e = a , a } , a . p r o t o t y p e . r e s e t = f u n c t i o n ( ) { r e t u r n   t h i s . t i m e = n u l l , t h i s . s t o p ( ) , t h i s } , a . p r o t o t y p e . s t o p = f u n c t i o n ( ) { r e t u r n   t h i s . t i m e o u t & & ( w i n d o w . c l e a r T i m e o u t ( t h i s . t i m e o u t ) , t h i s . t i m e o u t = n u l l ) , t h i s } , a . p r o t o t y p e . s t a r t = f u n c t i o n ( ) { i f ( ! t h i s . t i m e o u t ) { v a r   a = t h i s . g e n e r a t e N e x t T i m e ( ) ; t h i s . t i m e o u t = w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . c a l l b a c k ( ) , t h i s . s t o p ( ) , t h i s . s t a r t ( ) } . b i n d ( t h i s ) , a ) } r e t u r n   t h i s } , a . p r o t o t y p e . r e s t a r t = f u n c t i o n ( ) { r e t u r n   t h i s . r e s e t ( ) . s t a r t ( ) } , a . g e t I n c r e m e n t a l C a l l b a c k = f u n c t i o n ( a , b , c , d ) { r e t u r n   f u n c t i o n ( e ) { r e t u r n   e ? e + b > c ? d : e + b : a } } , a } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ p i e ' ,   [ " c o r e / c h a r t _ b a s e " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( ) { a . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) } r e t u r n   b . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , b . p r o t o t y p e . T Y P E = " p i e " , b . p r o t o t y p e . _ d o u g h n u t = n u l l , b . p r o t o t y p e . c r e a t e = f u n c t i o n ( b , c ) { v a r   d = a . p r o t o t y p e . c r e a t e . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d . s e t D o u g h n u t ( c . d o u g h n u t ) , d } , b . p r o t o t y p e . a d d S e r i e s = f u n c t i o n ( b ) { i f ( n u l l = = = b . g e t C o l o r ( ) ) { f o r ( v a r   c = [ ] , d = t h i s . g e t C o n f i g C o l o r S e t ( ) | | a . p r o t o t y p e . C O L O R S E T , e = 0 ; e < b . g e t C o u n t ( ) ; e + + ) c . p u s h ( d [ e % d . l e n g t h ] ) ; b . s e t C o l o r s ( c ) } r e t u r n   a . p r o t o t y p e . a d d S e r i e s . a p p l y ( t h i s , a r g u m e n t s ) } , b . p r o t o t y p e . g e t D o u g h n u t = f u n c t i o n ( ) { r e t u r n   t h i s . _ d o u g h n u t } , b . p r o t o t y p e . s e t D o u g h n u t = f u n c t i o n ( a ) { t h i s . _ d o u g h n u t = B o o l e a n ( a ) } , b . p r o t o t y p e . _ v a l i d a t e S e r i e s = f u n c t i o n ( ) { i f ( t h i s . _ s e r i e s . l e n g t h > = 1 ) t h r o w   n e w   E r r o r ( " P i e   c h a r t s   o n l y   s u p p o r t   o n e   s e r i e . " ) ; r e t u r n   a . p r o t o t y p e . _ v a l i d a t e S e r i e s . a p p l y ( t h i s , a r g u m e n t s ) } , b } ) ; 
 ! f u n c t i o n ( a , b ) { " o b j e c t " = = t y p e o f   e x p o r t s & & e x p o r t s & & " s t r i n g " ! = t y p e o f   e x p o r t s . n o d e N a m e ? b ( e x p o r t s ) : " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' c o r e / m u s t a c h e ' ,   [ " e x p o r t s " ] , b ) : ( a . M u s t a c h e = { } , b ( a . M u s t a c h e ) ) } ( t h i s , f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { r e t u r n " f u n c t i o n " = = t y p e o f   a } f u n c t i o n   c ( a ) { r e t u r n   p ( a ) ? " a r r a y " : t y p e o f   a } f u n c t i o n   d ( a ) { r e t u r n   a . r e p l a c e ( / [ \ - \ [ \ ] { } ( ) * + ? . , \ \ \ ^ $ | # \ s ] / g , " \ \ $ & " ) } f u n c t i o n   e ( a , b ) { r e t u r n   n u l l ! = a & & " o b j e c t " = = t y p e o f   a & & b   i n   a } f u n c t i o n   f ( a , b ) { r e t u r n   q . c a l l ( a , b ) } f u n c t i o n   g ( a ) { r e t u r n ! f ( r , a ) } f u n c t i o n   h ( a ) { r e t u r n   S t r i n g ( a ) . r e p l a c e ( / [ & < > " ' ` = \ / ] / g , f u n c t i o n ( a ) { r e t u r n   s [ a ] } ) } f u n c t i o n   i ( b , c ) { f u n c t i o n   e ( ) { i f ( r & & ! s ) f o r ( ; q . l e n g t h ; ) d e l e t e   o [ q . p o p ( ) ] ; e l s e   q = [ ] ; r = ! 1 , s = ! 1 } f u n c t i o n   f ( a ) { i f ( " s t r i n g " = = t y p e o f   a & & ( a = a . s p l i t ( u , 2 ) ) , ! p ( a ) | | 2 ! = = a . l e n g t h ) t h r o w   n e w   E r r o r ( " I n v a l i d   t a g s :   " + a ) ; h = n e w   R e g E x p ( d ( a [ 0 ] ) + " \ \ s * " ) , i = n e w   R e g E x p ( " \ \ s * " + d ( a [ 1 ] ) ) , m = n e w   R e g E x p ( " \ \ s * " + d ( " } " + a [ 1 ] ) ) } i f ( ! b ) r e t u r n [ ] ; v a r   h , i , m , n = [ ] , o = [ ] , q = [ ] , r = ! 1 , s = ! 1 ; f ( c | | a . t a g s ) ; f o r ( v a r   y , z , A , B , C , D , E = n e w   l ( b ) ; ! E . e o s ( ) ; ) { i f ( y = E . p o s , A = E . s c a n U n t i l ( h ) ) f o r ( v a r   F = 0 , G = A . l e n g t h ; F < G ; + + F ) B = A . c h a r A t ( F ) , g ( B ) ? q . p u s h ( o . l e n g t h ) : s = ! 0 , o . p u s h ( [ " t e x t " , B , y , y + 1 ] ) , y + = 1 , " \ n " = = = B & & e ( ) ; i f ( ! E . s c a n ( h ) ) b r e a k ; i f ( r = ! 0 , z = E . s c a n ( x ) | | " n a m e " , E . s c a n ( t ) , " = " = = = z ? ( A = E . s c a n U n t i l ( v ) , E . s c a n ( v ) , E . s c a n U n t i l ( i ) ) : " { " = = = z ? ( A = E . s c a n U n t i l ( m ) , E . s c a n ( w ) , E . s c a n U n t i l ( i ) , z = " & " ) : A = E . s c a n U n t i l ( i ) , ! E . s c a n ( i ) ) t h r o w   n e w   E r r o r ( " U n c l o s e d   t a g   a t   " + E . p o s ) ; i f ( C = [ z , A , y , E . p o s ] , o . p u s h ( C ) , " # " = = = z | | " ^ " = = = z | | " $ " = = = z | | " < " = = = z ) n . p u s h ( C ) ; e l s e   i f ( " / " = = = z ) { i f ( D = n . p o p ( ) , ! D ) t h r o w   n e w   E r r o r ( ' U n o p e n e d   s e c t i o n   " ' + A + ' "   a t   ' + y ) ; i f ( D [ 1 ] ! = = A ) t h r o w   n e w   E r r o r ( ' U n c l o s e d   s e c t i o n   " ' + D [ 1 ] + ' "   a t   ' + y ) } e l s e " n a m e " = = = z | | " { " = = = z | | " & " = = = z ? s = ! 0 : " = " = = = z & & f ( A ) } i f ( D = n . p o p ( ) ) t h r o w   n e w   E r r o r ( ' U n c l o s e d   s e c t i o n   " ' + D [ 1 ] + ' "   a t   ' + E . p o s ) ; r e t u r n   k ( j ( o ) ) } f u n c t i o n   j ( a ) { f o r ( v a r   b , c , d = [ ] , e = 0 , f = a . l e n g t h ; e < f ; + + e ) b = a [ e ] , b & & ( " t e x t " = = = b [ 0 ] & & c & & " t e x t " = = = c [ 0 ] ? ( c [ 1 ] + = b [ 1 ] , c [ 3 ] = b [ 3 ] ) : ( d . p u s h ( b ) , c = b ) ) ; r e t u r n   d } f u n c t i o n   k ( a ) { f o r ( v a r   b , c , d = [ ] , e = d , f = [ ] , g = 0 , h = a . l e n g t h ; g < h ; + + g ) s w i t c h ( b = a [ g ] , b [ 0 ] ) { c a s e " $ " : c a s e " < " : c a s e " # " : c a s e " ^ " : e . p u s h ( b ) , f . p u s h ( b ) , e = b [ 4 ] = [ ] ; b r e a k ; c a s e " / " : c = f . p o p ( ) , c [ 5 ] = b [ 2 ] , e = f . l e n g t h > 0 ? f [ f . l e n g t h - 1 ] [ 4 ] : d ; b r e a k ; d e f a u l t : e . p u s h ( b ) } r e t u r n   d } f u n c t i o n   l ( a ) { t h i s . s t r i n g = a , t h i s . t a i l = a , t h i s . p o s = 0 } f u n c t i o n   m ( a , b ) { t h i s . v i e w = a , t h i s . b l o c k s = { } , t h i s . c a c h e = { " . " : t h i s . v i e w } , t h i s . p a r e n t = b } f u n c t i o n   n ( ) { t h i s . c a c h e = { } } v a r   o = O b j e c t . p r o t o t y p e . t o S t r i n g , p = A r r a y . i s A r r a y | | f u n c t i o n ( a ) { r e t u r n " [ o b j e c t   A r r a y ] " = = = o . c a l l ( a ) } , q = R e g E x p . p r o t o t y p e . t e s t , r = / \ S / , s = { " & " : " & a m p ; " , " < " : " & l t ; " , " > " : " & g t ; " , ' " ' : " & q u o t ; " , " ' " : " & # 3 9 ; " , " / " : " & # x 2 F ; " , " ` " : " & # x 6 0 ; " , " = " : " & # x 3 D ; " } , t = / \ s * / , u = / \ s + / , v = / \ s * = / , w = / \ s * \ } / , x = / # | \ ^ | \ / | > | \ { | & | = | ! | \ $ | < / ; l . p r o t o t y p e . e o s = f u n c t i o n ( ) { r e t u r n " " = = = t h i s . t a i l } , l . p r o t o t y p e . s c a n = f u n c t i o n ( a ) { v a r   b = t h i s . t a i l . m a t c h ( a ) ; i f ( ! b | | 0 ! = = b . i n d e x ) r e t u r n " " ; v a r   c = b [ 0 ] ; r e t u r n   t h i s . t a i l = t h i s . t a i l . s u b s t r i n g ( c . l e n g t h ) , t h i s . p o s + = c . l e n g t h , c } , l . p r o t o t y p e . s c a n U n t i l = f u n c t i o n ( a ) { v a r   b , c = t h i s . t a i l . s e a r c h ( a ) ; s w i t c h ( c ) { c a s e - 1 : b = t h i s . t a i l , t h i s . t a i l = " " ; b r e a k ; c a s e   0 : b = " " ; b r e a k ; d e f a u l t : b = t h i s . t a i l . s u b s t r i n g ( 0 , c ) , t h i s . t a i l = t h i s . t a i l . s u b s t r i n g ( c ) } r e t u r n   t h i s . p o s + = b . l e n g t h , b } , m . p r o t o t y p e . p u s h = f u n c t i o n ( a ) { r e t u r n   n e w   m ( a , t h i s ) } , m . p r o t o t y p e . s e t B l o c k V a r = f u n c t i o n ( a , b ) { v a r   c = t h i s . b l o c k s ; r e t u r n   c [ a ] = b , b } , m . p r o t o t y p e . c l e a r B l o c k V a r s = f u n c t i o n ( ) { t h i s . b l o c k s = { } } , m . p r o t o t y p e . g e t B l o c k V a r = f u n c t i o n ( a ) { v a r   b , c = t h i s . b l o c k s ; r e t u r n   c . h a s O w n P r o p e r t y ( a ) ? b = c [ a ] : t h i s . p a r e n t & & ( b = t h i s . p a r e n t . g e t B l o c k V a r ( a ) ) , b } , m . p r o t o t y p e . l o o k u p = f u n c t i o n ( a ) { v a r   c , d = t h i s . c a c h e ; i f ( d . h a s O w n P r o p e r t y ( a ) ) c = d [ a ] ; e l s e { f o r ( v a r   f , g , h = t h i s , i = ! 1 ; h ; ) { i f ( a . i n d e x O f ( " . " ) > 0 ) f o r ( c = h . v i e w , f = a . s p l i t ( " . " ) , g = 0 ; n u l l ! = c & & g < f . l e n g t h ; ) g = = = f . l e n g t h - 1 & & ( i = e ( c , f [ g ] ) ) , c = c [ f [ g + + ] ] ; e l s e   c = h . v i e w [ a ] , i = e ( h . v i e w , a ) ; i f ( i ) b r e a k ; h = h . p a r e n t } d [ a ] = c } r e t u r n   b ( c ) & & ( c = c . c a l l ( t h i s . v i e w ) ) , c } , n . p r o t o t y p e . c l e a r C a c h e = f u n c t i o n ( ) { t h i s . c a c h e = { } } , n . p r o t o t y p e . p a r s e = f u n c t i o n ( a , b ) { v a r   c = t h i s . c a c h e , d = c [ a ] ; r e t u r n   n u l l = = d & & ( d = c [ a ] = i ( a , b ) ) , d } , n . p r o t o t y p e . r e n d e r = f u n c t i o n ( a , b , c ) { v a r   d = t h i s . p a r s e ( a ) , e = b   i n s t a n c e o f   m ? b : n e w   m ( b ) ; r e t u r n   t h i s . r e n d e r T o k e n s ( d , e , c , a ) } , n . p r o t o t y p e . r e n d e r T o k e n s = f u n c t i o n ( a , b , c , d ) { f o r ( v a r   e , f , g , h = " " , i = 0 , j = a . l e n g t h ; i < j ; + + i ) g = v o i d   0 , e = a [ i ] , f = e [ 0 ] , " # " = = = f ? g = t h i s . r e n d e r S e c t i o n ( e , b , c , d ) : " ^ " = = = f ? g = t h i s . r e n d e r I n v e r t e d ( e , b , c , d ) : " > " = = = f ? g = t h i s . r e n d e r P a r t i a l ( e , b , c , d ) : " < " = = = f ? g = t h i s . r e n d e r B l o c k ( e , b , c , d ) : " $ " = = = f ? g = t h i s . r e n d e r B l o c k V a r i a b l e ( e , b , c , d ) : " & " = = = f ? g = t h i s . u n e s c a p e d V a l u e ( e , b ) : " n a m e " = = = f ? g = t h i s . e s c a p e d V a l u e ( e , b ) : " t e x t " = = = f & & ( g = t h i s . r a w V a l u e ( e ) ) , v o i d   0 ! = = g & & ( h + = g ) ; r e t u r n   h } , n . p r o t o t y p e . r e n d e r S e c t i o n = f u n c t i o n ( a , c , d , e ) { f u n c t i o n   f ( a ) { r e t u r n   g . r e n d e r ( a , c , d ) } v a r   g = t h i s , h = " " , i = c . l o o k u p ( a [ 1 ] ) ; i f ( i ) { i f ( p ( i ) ) f o r ( v a r   j = 0 , k = i . l e n g t h ; j < k ; + + j ) h + = t h i s . r e n d e r T o k e n s ( a [ 4 ] , c . p u s h ( i [ j ] ) , d , e ) ; e l s e   i f ( " o b j e c t " = = t y p e o f   i | | " s t r i n g " = = t y p e o f   i | | " n u m b e r " = = t y p e o f   i ) h + = t h i s . r e n d e r T o k e n s ( a [ 4 ] , c . p u s h ( i ) , d , e ) ; e l s e   i f ( b ( i ) ) { i f ( " s t r i n g " ! = t y p e o f   e ) t h r o w   n e w   E r r o r ( " C a n n o t   u s e   h i g h e r - o r d e r   s e c t i o n s   w i t h o u t   t h e   o r i g i n a l   t e m p l a t e " ) ; i = i . c a l l ( c . v i e w , e . s l i c e ( a [ 3 ] , a [ 5 ] ) , f ) , n u l l ! = i & & ( h + = i ) } e l s e   h + = t h i s . r e n d e r T o k e n s ( a [ 4 ] , c , d , e ) ; r e t u r n   h } } , n . p r o t o t y p e . r e n d e r I n v e r t e d = f u n c t i o n ( a , b , c , d ) { v a r   e = b . l o o k u p ( a [ 1 ] ) ; i f ( ! e | | p ( e ) & & 0 = = = e . l e n g t h ) r e t u r n   t h i s . r e n d e r T o k e n s ( a [ 4 ] , b , c , d ) } , n . p r o t o t y p e . r e n d e r P a r t i a l = f u n c t i o n ( a , c , d ) { i f ( d ) { v a r   e = b ( d ) ? d ( a [ 1 ] ) : d [ a [ 1 ] ] ; r e t u r n   n u l l ! = e ? t h i s . r e n d e r T o k e n s ( t h i s . p a r s e ( e ) , c , d , e ) : v o i d   0 } } , n . p r o t o t y p e . r e n d e r B l o c k = f u n c t i o n ( a , c , d , e ) { i f ( d ) { v a r   f = b ( d ) ? d ( a [ 1 ] ) : d [ a [ 1 ] ] ; n u l l ! = f & & c . c l e a r B l o c k V a r s ( ) , t h i s . r e n d e r T o k e n s ( a [ 4 ] , c , d , e ) ; v a r   g = t h i s . r e n d e r T o k e n s ( t h i s . p a r s e ( f ) , c , d , f ) ; r e t u r n   c . c l e a r B l o c k V a r s ( ) , g } } , n . p r o t o t y p e . r e n d e r B l o c k V a r i a b l e = f u n c t i o n ( a , b , c , d ) { v a r   e = a [ 1 ] , f = b . g e t B l o c k V a r ( e ) ; r e t u r n   f ? t h i s . r e n d e r T o k e n s ( t h i s . p a r s e ( f ) , b , c , f ) : ( b . s e t B l o c k V a r ( e , d . s l i c e ( a [ 3 ] , a [ 5 ] ) ) , t h i s . r e n d e r T o k e n s ( a [ 4 ] , b , c , d ) ) } , n . p r o t o t y p e . u n e s c a p e d V a l u e = f u n c t i o n ( a , b ) { v a r   c = b . l o o k u p ( a [ 1 ] ) ; i f ( n u l l ! = c ) r e t u r n   c } , n . p r o t o t y p e . e s c a p e d V a l u e = f u n c t i o n ( b , c ) { v a r   d = c . l o o k u p ( b [ 1 ] ) ; i f ( n u l l ! = d ) r e t u r n   a . e s c a p e ( d ) } , n . p r o t o t y p e . r a w V a l u e = f u n c t i o n ( a ) { r e t u r n   a [ 1 ] } , a . n a m e = " m u s t a c h e . j s " , a . v e r s i o n = " 2 . 2 . 1 " , a . t a g s = [ " { { " , " } } " ] ; v a r   y = n e w   n ; a . c l e a r C a c h e = f u n c t i o n ( ) { r e t u r n   y . c l e a r C a c h e ( ) } , a . p a r s e = f u n c t i o n ( a , b ) { r e t u r n   y . p a r s e ( a , b ) } , a . r e n d e r = f u n c t i o n ( a , b , d ) { i f ( " s t r i n g " ! = t y p e o f   a ) t h r o w   n e w   T y p e E r r o r ( ' I n v a l i d   t e m p l a t e !   T e m p l a t e   s h o u l d   b e   a   " s t r i n g "   b u t   " ' + c ( a ) + ' "   w a s   g i v e n   a s   t h e   f i r s t   a r g u m e n t   f o r   m u s t a c h e # r e n d e r ( t e m p l a t e ,   v i e w ,   p a r t i a l s ) ' ) ; r e t u r n   y . r e n d e r ( a , b , d ) } , a . t o _ h t m l = f u n c t i o n ( c , d , e , f ) { v a r   g = a . r e n d e r ( c , d , e ) ; r e t u r n   b ( f ) ? v o i d   f ( g ) : g } , a . e s c a p e = h , a . S c a n n e r = l , a . C o n t e x t = m , a . W r i t e r = n } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ c a n c e l ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { C A N C E L _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l " ] ' } , g = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . C A N C E L _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : " N o   c a n c e l   b u t t o n   f o u n d " } ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , g . p r o t o t y p e . c o n s t r u c t o r = g , g . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( ) { b . e x c e p t i o n ( { m e s s a g e : " C a n   n o t   c h a n g e   t h e   f o o t e r   o f   a   c a n c e l   m o d a l " } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . C A N C E L _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . c a n c e l ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , g } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t _ b a s e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( b , c ) { t h i s . _ n o d e = a ( b ) , t h i s . _ c h a r t = c } r e t u r n   b . p r o t o t y p e . u p d a t e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   s u p p o r t e d . " ) } , b } ) ; 
 d e f i n e ( ' c o r e / f o r m - c o u r s e - s e l e c t o r ' ,   [ " c o r e / a j a x " , " j q u e r y " ] , f u n c t i o n ( a , b ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( a , c ) { v a r   d = [ ] , e = 0 , f = S t r i n g ( b ( a ) . d a t a ( " e x c l u d e " ) ) . s p l i t ( " , " ) ; f o r ( e = 0 ; e < c . c o u r s e s . l e n g t h ; e + + ) f . i n d e x O f ( S t r i n g ( c . c o u r s e s [ e ] . i d ) ) = = = - 1 & & d . p u s h ( { v a l u e : c . c o u r s e s [ e ] . i d , l a b e l : c . c o u r s e s [ e ] . d i s p l a y n a m e } ) ; r e t u r n   d } , t r a n s p o r t : f u n c t i o n ( c , d , e , f ) { v a r   g = b ( c ) , h = g . d a t a ( " r e q u i r e d c a p a b i l i t i e s " ) ; h = " " ! = = h . t r i m ( ) ? h . s p l i t ( " , " ) : [ ] ; v a r   i = g . d a t a ( " l i m i t t o e n r o l l e d " ) , j = g . d a t a ( " i n c l u d e f r o n t p a g e " ) , k = n u l l ; " u n d e f i n e d " = = t y p e o f   d & & ( d = " " ) ; v a r   l = { c r i t e r i a n a m e : " s e a r c h " , c r i t e r i a v a l u e : d , p a g e : 0 , p e r p a g e : 1 0 0 , r e q u i r e d c a p a b i l i t i e s : h , l i m i t t o e n r o l l e d : i } , m = [ { m e t h o d n a m e : " c o r e _ c o u r s e _ s e a r c h _ c o u r s e s " , a r g s : l } ] ; j & & m . p u s h ( { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ c o u r s e s " , a r g s : { o p t i o n s : { i d s : [ j ] } } } ) , k = a . c a l l ( m ) , b . w h e n . a p p l y ( b . w h e n , k ) . d o n e ( f u n c t i o n ( a , b ) { i f ( b & & 1 = = b . l e n g t h ) { v a r   c = b . p o p ( ) , f = " " = = = d | | c . f u l l n a m e . t o U p p e r C a s e ( ) . i n d e x O f ( d . t o U p p e r C a s e ( ) ) > - 1 | | c . s h o r t n a m e . t o U p p e r C a s e ( ) . i n d e x O f ( d . t o U p p e r C a s e ( ) ) > - 1 ; f & & a . c o u r s e s . s p l i c e ( 0 , 0 , c ) } e ( a ) } ) . f a i l ( f ) } } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t ' ,   [ " c o r e / c h a r t _ o u t p u t _ c h a r t j s " ] , f u n c t i o n ( a ) { v a r   b = a ; r e t u r n   b } ) ; 
 d e f i n e ( ' c o r e / s t o r a g e w r a p p e r ' ,   [ " c o r e / c o n f i g " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { t h i s . s t o r a g e = b , t h i s . s u p p o r t e d = t h i s . d e t e c t S u p p o r t ( ) , t h i s . h a s h S o u r c e = a . w w w r o o t + " / " + a . j s r e v , t h i s . h a s h = t h i s . h a s h S t r i n g ( t h i s . h a s h S o u r c e ) , t h i s . p r e f i x = t h i s . h a s h + " / " , t h i s . j s r e v P r e f i x = t h i s . h a s h + " / j s r e v " } ; r e t u r n   b . p r o t o t y p e . d e t e c t S u p p o r t = f u n c t i o n ( ) { i f ( a . j s r e v = = - 1 ) r e t u r n ! 1 ; i f ( " u n d e f i n e d " = = t y p e o f   t h i s . s t o r a g e ) r e t u r n ! 1 ; v a r   b = " t e s t " ; t r y { r e t u r n   n u l l ! = = t h i s . s t o r a g e & & ( t h i s . s t o r a g e . s e t I t e m ( b , " 1 " ) , t h i s . s t o r a g e . r e m o v e I t e m ( b ) , ! 0 ) } c a t c h ( c ) { r e t u r n ! 1 } } , b . p r o t o t y p e . p r e f i x K e y = f u n c t i o n ( a ) { r e t u r n   t h i s . p r e f i x + a } , b . p r o t o t y p e . v a l i d a t e C a c h e = f u n c t i o n ( ) { v a r   b = t h i s . s t o r a g e . g e t I t e m ( t h i s . j s r e v P r e f i x ) ; i f ( n u l l = = = b ) r e t u r n   v o i d   t h i s . s t o r a g e . s e t I t e m ( t h i s . j s r e v P r e f i x , a . j s r e v ) ; v a r   c = a . j s r e v ; c ! = b & & ( t h i s . s t o r a g e . c l e a r ( ) , t h i s . s t o r a g e . s e t I t e m ( t h i s . j s r e v P r e f i x , a . j s r e v ) ) } , b . p r o t o t y p e . h a s h S t r i n g = f u n c t i o n ( a ) { v a r   b , c , d , e = 0 ; i f ( 0 = = = a . l e n g t h ) r e t u r n   e ; f o r ( b = 0 , d = a . l e n g t h ; b < d ; b + + ) c = a . c h a r C o d e A t ( b ) , e = ( e < < 5 ) - e + c , e | = 0 ; r e t u r n   e } , b . p r o t o t y p e . g e t = f u n c t i o n ( a ) { r e t u r n ! ! t h i s . s u p p o r t e d & & ( t h i s . v a l i d a t e C a c h e ( ) , a = t h i s . p r e f i x K e y ( a ) , t h i s . s t o r a g e . g e t I t e m ( a ) ) } , b . p r o t o t y p e . s e t = f u n c t i o n ( a , b ) { i f ( ! t h i s . s u p p o r t e d ) r e t u r n ! 1 ; t h i s . v a l i d a t e C a c h e ( ) , a = t h i s . p r e f i x K e y ( a ) ; t r y { t h i s . s t o r a g e . s e t I t e m ( a , b ) } c a t c h ( c ) { r e t u r n ! 1 } r e t u r n ! 0 } , b } ) ; 
 d e f i n e ( ' c o r e / c h a r t j s ' ,   [ " c o r e / c h a r t j s - l a z y " ] , f u n c t i o n ( a ) { r e t u r n   a } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ c o n f i r m ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { Y E S _ B U T T O N : ' [ d a t a - a c t i o n = " y e s " ] ' , N O _ B U T T O N : ' [ d a t a - a c t i o n = " n o " ] ' } , g = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . Y E S _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : ' N o   " y e s "   b u t t o n   f o u n d ' } ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . N O _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : ' N o   " n o "   b u t t o n   f o u n d ' } ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , g . p r o t o t y p e . c o n s t r u c t o r = g , g . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( ) { b . e x c e p t i o n ( { m e s s a g e : " C a n   n o t   c h a n g e   t h e   f o o t e r   o f   a   c o n f i r m   m o d a l " } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . Y E S _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . y e s ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . N O _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . n o ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , g } ) ; 
 d e f i n e ( ' c o r e / p e r m i s s i o n m a n a g e r ' ,   [ " j q u e r y " , " c o r e / c o n f i g " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / y u i " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f , g , h , i , j = { A D D R O L E : " a . a l l o w l i n k ,   a . p r o h i b i t l i n k " , R E M O V E R O L E : " a . p r e v e n t l i n k ,   a . u n p r o h i b i t l i n k " , U N P R O H I B I T : " a . u n p r o h i b i t l i n k " } , k = a . E v e n t ( " r o l e s l o a d e d " ) , l = n u l l , m = f u n c t i o n ( ) { v a r   d = { c o n t e x t i d : f , g e t r o l e s : 1 , s e s s k e y : b . s e s s k e y } ; a . p o s t ( h + " r o l e s / a j a x . p h p " , d , n u l l , " j s o n " ) . d o n e ( f u n c t i o n ( b ) { t r y { i = b , m = f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( k ) } , m ( ) } c a t c h ( d ) { c . e x c e p t i o n ( d ) } } ) . f a i l ( f u n c t i o n ( a , b , d ) { c . e x c e p t i o n ( d ) } ) } , n = f u n c t i o n ( b , e , g ) { v a r   j = { c o n t e x t i d : f , r o l e i d : e , s e s s k e y : M . c f g . s e s s k e y , a c t i o n : g , c a p a b i l i t y : b . d a t a ( " n a m e " ) } ; a . p o s t ( h + " r o l e s / a j a x . p h p " , j , n u l l , " j s o n " ) . d o n e ( f u n c t i o n ( f ) { v a r   g = f ; t r y { v a r   j = { r o l e n a m e : i [ e ] , r o l e i d : e , a d m i n u r l : h , i m a g e u r l : M . u t i l . i m a g e _ u r l ( " t / d e l e t e " , " m o o d l e " ) } ; s w i t c h ( g ) { c a s e " a l l o w " : j . s p a n c l a s s = " a l l o w e d " , j . l i n k c l a s s = " p r e v e n t l i n k " , j . a c t i o n = " p r e v e n t " , j . i c o n = " t / d e l e t e " ; b r e a k ; c a s e " p r o h i b i t " : j . s p a n c l a s s = " f o r b i d d e n " , j . l i n k c l a s s = " u n p r o h i b i t l i n k " , j . a c t i o n = " u n p r o h i b i t " , j . i c o n = " t / d e l e t e " ; b r e a k ; c a s e " p r e v e n t " : r e t u r n   v o i d   b . f i n d ( ' a [ d a t a - r o l e - i d = " ' + e + ' " ] ' ) . f i r s t ( ) . c l o s e s t ( " . a l l o w e d " ) . r e m o v e ( ) ; c a s e " u n p r o h i b i t " : r e t u r n   v o i d   b . f i n d ( ' a [ d a t a - r o l e - i d = " ' + e + ' " ] ' ) . f i r s t ( ) . c l o s e s t ( " . f o r b i d d e n " ) . r e m o v e ( ) ; d e f a u l t : r e t u r n } d . r e n d e r ( " c o r e / p e r m i s s i o n m a n a g e r _ r o l e " , j ) . d o n e ( f u n c t i o n ( c ) { i f ( " a l l o w " = = g ) a ( c ) . i n s e r t B e f o r e ( b . f i n d ( " . a l l o w m o r e : f i r s t " ) ) ; e l s e   i f ( " p r o h i b i t " = = g ) { a ( c ) . i n s e r t B e f o r e ( b . f i n d ( " . p r o h i b i t m o r e : f i r s t " ) ) ; v a r   d = b . f i n d ( " . a l l o w e d r o l e s " ) . f i r s t ( ) . f i n d ( ' a [ d a t a - r o l e - i d = " ' + e + ' " ] ' ) ; d & & d . f i r s t ( ) . c l o s e s t ( " . a l l o w e d " ) . r e m o v e ( ) } l . h i d e ( ) } ) . f a i l ( c . e x c e p t i o n ) } c a t c h ( k ) { c . e x c e p t i o n ( k ) } } ) . f a i l ( f u n c t i o n ( a , b , d ) { c . e x c e p t i o n ( d ) } ) } , o = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , e . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - d i a l o g u e " , f u n c t i o n ( ) { a ( " b o d y " ) . o n e ( " r o l e s l o a d e d " , f u n c t i o n ( ) { v a r   e = a ( b . c u r r e n t T a r g e t ) , f = e . d a t a ( " a c t i o n " ) , h = e . c l o s e s t ( " t r . r o l e c a p " ) , k = { c a p : h . d a t a ( " h u m a n n a m e " ) , c o n t e x t : g } , m = M . u t i l . g e t _ s t r i n g ( " r o l e " + f + " i n f o " , " c o r e _ r o l e " , k ) ; n u l l = = = l & & ( l = n e w   M . c o r e . d i a l o g u e ( { d r a g g a b l e : ! 0 , m o d a l : ! 0 , c l o s e B u t t o n : ! 0 , w i d t h : " 4 5 0 p x " } ) ) , l . s e t ( " h e a d e r C o n t e n t " , M . u t i l . g e t _ s t r i n g ( " r o l e " + f + " h e a d e r " , " c o r e _ r o l e " ) ) ; v a r   o , p , q = [ ] ; s w i t c h ( f ) { c a s e " a l l o w " : p = h . f i n d ( j . R E M O V E R O L E ) ; b r e a k ; c a s e " p r o h i b i t " : p = h . f i n d ( j . U N P R O H I B I T ) } f o r ( o   i n   i ) { v a r   r = " " , s = p . f i l t e r ( " [ d a t a - r o l e - i d = ' " + o + " ' ] " ) . l e n g t h ; s & & ( r = " d i s a b l e d " ) ; v a r   t = { r o l e i d : o , r o l e n a m e : i [ o ] , d i s a b l e d : r } ; q . p u s h ( t ) } d . r e n d e r ( " c o r e / p e r m i s s i o n m a n a g e r _ p a n e l c o n t e n t " , { m e s s a g e : m , r o l e s : q } ) . d o n e ( f u n c t i o n ( b ) { l . s e t ( " b o d y C o n t e n t " , b ) , l . s h o w ( ) , a ( " d i v . r o l e _ b u t t o n s " ) . d e l e g a t e ( " i n p u t " , " c l i c k " , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " r o l e - i d " ) ; n ( h , c , f ) } ) } ) . f a i l ( c . e x c e p t i o n ) } ) } ) , m ( ) } , p = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( " b o d y " ) . o n e ( " r o l e s l o a d e d " , f u n c t i o n ( ) { v a r   d = a ( b . c u r r e n t T a r g e t ) , e = d . d a t a ( " a c t i o n " ) , f = d . d a t a ( " r o l e - i d " ) , h = d . c l o s e s t ( " t r . r o l e c a p " ) , j = { r o l e : i [ f ] , c a p : h . d a t a ( " h u m a n n a m e " ) , c o n t e x t : g } ; c . c o n f i r m ( M . u t i l . g e t _ s t r i n g ( " c o n f i r m u n a s s i g n t i t l e " , " c o r e _ r o l e " ) , M . u t i l . g e t _ s t r i n g ( " c o n f i r m r o l e " + e , " c o r e _ r o l e " , j ) , M . u t i l . g e t _ s t r i n g ( " c o n f i r m u n a s s i g n y e s " , " c o r e _ r o l e " ) , M . u t i l . g e t _ s t r i n g ( " c o n f i r m u n a s s i g n n o " , " c o r e _ r o l e " ) , f u n c t i o n ( ) { n ( h , f , e ) } ) } ) , m ( ) } ; r e t u r n { i n i t i a l i z e : f u n c t i o n ( b ) { f = b . c o n t e x t i d , g = b . c o n t e x t n a m e , h = b . a d m i n u r l ; v a r   c = a ( " b o d y " ) ; c . d e l e g a t e ( j . A D D R O L E , " c l i c k " , o ) , c . d e l e g a t e ( j . R E M O V E R O L E , " c l i c k " , p ) } } } ) ; 
 ! f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' c o r e / l o g l e v e l ' ,   b ) : " o b j e c t " = = t y p e o f   m o d u l e & & m o d u l e . e x p o r t s ? m o d u l e . e x p o r t s = b ( ) : a . l o g = b ( ) } ( t h i s , f u n c t i o n ( ) { " u s e   s t r i c t " ; f u n c t i o n   a ( a ) { r e t u r n   t y p e o f   c o n s o l e ! = = h & & ( v o i d   0 ! = = c o n s o l e [ a ] ? b ( c o n s o l e , a ) : v o i d   0 ! = = c o n s o l e . l o g ? b ( c o n s o l e , " l o g " ) : g ) } f u n c t i o n   b ( a , b ) { v a r   c = a [ b ] ; i f ( " f u n c t i o n " = = t y p e o f   c . b i n d ) r e t u r n   c . b i n d ( a ) ; t r y { r e t u r n   F u n c t i o n . p r o t o t y p e . b i n d . c a l l ( c , a ) } c a t c h ( d ) { r e t u r n   f u n c t i o n ( ) { r e t u r n   F u n c t i o n . p r o t o t y p e . a p p l y . a p p l y ( c , [ a , a r g u m e n t s ] ) } } } f u n c t i o n   c ( a , b , c ) { r e t u r n   f u n c t i o n ( ) { t y p e o f   c o n s o l e ! = = h & & ( d . c a l l ( t h i s , b , c ) , t h i s [ a ] . a p p l y ( t h i s , a r g u m e n t s ) ) } } f u n c t i o n   d ( a , b ) { f o r ( v a r   c = 0 ; c < i . l e n g t h ; c + + ) { v a r   d = i [ c ] ; t h i s [ d ] = c < a ? g : t h i s . m e t h o d F a c t o r y ( d , a , b ) } } f u n c t i o n   e ( b , d , e ) { r e t u r n   a ( b ) | | c . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   f ( a , b , c ) { f u n c t i o n   f ( a ) { v a r   b = ( i [ a ] | | " s i l e n t " ) . t o U p p e r C a s e ( ) ; t r y { r e t u r n   v o i d ( w i n d o w . l o c a l S t o r a g e [ l ] = b ) } c a t c h ( c ) { } t r y { w i n d o w . d o c u m e n t . c o o k i e = e n c o d e U R I C o m p o n e n t ( l ) + " = " + b + " ; " } c a t c h ( c ) { } } f u n c t i o n   g ( ) { v a r   a ; t r y { a = w i n d o w . l o c a l S t o r a g e [ l ] } c a t c h ( b ) { } i f ( t y p e o f   a = = = h ) t r y { v a r   c = w i n d o w . d o c u m e n t . c o o k i e , d = c . i n d e x O f ( e n c o d e U R I C o m p o n e n t ( l ) + " = " ) ; d & & ( a = / ^ ( [ ^ ; ] + ) / . e x e c ( c . s l i c e ( d ) ) [ 1 ] ) } c a t c h ( b ) { } r e t u r n   v o i d   0 = = = k . l e v e l s [ a ] & & ( a = v o i d   0 ) , a } v a r   j , k = t h i s , l = " l o g l e v e l " ; a & & ( l + = " : " + a ) , k . l e v e l s = { T R A C E : 0 , D E B U G : 1 , I N F O : 2 , W A R N : 3 , E R R O R : 4 , S I L E N T : 5 } , k . m e t h o d F a c t o r y = c | | e , k . g e t L e v e l = f u n c t i o n ( ) { r e t u r n   j } , k . s e t L e v e l = f u n c t i o n ( b , c ) { i f ( " s t r i n g " = = t y p e o f   b & & v o i d   0 ! = = k . l e v e l s [ b . t o U p p e r C a s e ( ) ] & & ( b = k . l e v e l s [ b . t o U p p e r C a s e ( ) ] ) , ! ( " n u m b e r " = = t y p e o f   b & & b > = 0 & & b < = k . l e v e l s . S I L E N T ) ) t h r o w " l o g . s e t L e v e l ( )   c a l l e d   w i t h   i n v a l i d   l e v e l :   " + b ; i f ( j = b , c ! = = ! 1 & & f ( b ) , d . c a l l ( k , b , a ) , t y p e o f   c o n s o l e = = = h & & b < k . l e v e l s . S I L E N T ) r e t u r n " N o   c o n s o l e   a v a i l a b l e   f o r   l o g g i n g " } , k . s e t D e f a u l t L e v e l = f u n c t i o n ( a ) { g ( ) | | k . s e t L e v e l ( a , ! 1 ) } , k . e n a b l e A l l = f u n c t i o n ( a ) { k . s e t L e v e l ( k . l e v e l s . T R A C E , a ) } , k . d i s a b l e A l l = f u n c t i o n ( a ) { k . s e t L e v e l ( k . l e v e l s . S I L E N T , a ) } ; v a r   m = g ( ) ; n u l l = = m & & ( m = n u l l = = b ? " W A R N " : b ) , k . s e t L e v e l ( m , ! 1 ) } v a r   g = f u n c t i o n ( ) { } , h = " u n d e f i n e d " , i = [ " t r a c e " , " d e b u g " , " i n f o " , " w a r n " , " e r r o r " ] , j = n e w   f , k = { } ; j . g e t L o g g e r = f u n c t i o n ( a ) { i f ( " s t r i n g " ! = t y p e o f   a | | " " = = = a ) t h r o w   n e w   T y p e E r r o r ( " Y o u   m u s t   s u p p l y   a   n a m e   w h e n   c r e a t i n g   a   l o g g e r . " ) ; v a r   b = k [ a ] ; r e t u r n   b | | ( b = k [ a ] = n e w   f ( a , j . g e t L e v e l ( ) , j . m e t h o d F a c t o r y ) ) , b } ; v a r   l = t y p e o f   w i n d o w ! = = h ? w i n d o w . l o g : v o i d   0 ; r e t u r n   j . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   t y p e o f   w i n d o w ! = = h & & w i n d o w . l o g = = = j & & ( w i n d o w . l o g = l ) , j } , j } ) ; 
 d e f i n e ( ' c o r e / m o d a l ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / k e y _ c o d e s " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l _ b a c k d r o p " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h , i = { C O N T A I N E R : ' [ d a t a - r e g i o n = " m o d a l - c o n t a i n e r " ] ' , M O D A L : ' [ d a t a - r e g i o n = " m o d a l " ] ' , H E A D E R : ' [ d a t a - r e g i o n = " h e a d e r " ] ' , T I T L E : ' [ d a t a - r e g i o n = " t i t l e " ] ' , B O D Y : ' [ d a t a - r e g i o n = " b o d y " ] ' , F O O T E R : ' [ d a t a - r e g i o n = " f o o t e r " ] ' , H I D E : ' [ d a t a - a c t i o n = " h i d e " ] ' , D I A L O G : " [ r o l e = d i a l o g ] " , M E N U _ B A R : " [ r o l e = m e n u b a r ] " , H A S _ Z _ I N D E X : " . m o o d l e - h a s - z i n d e x " , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' } , j = { L O A D I N G : " c o r e / l o a d i n g " , B A C K D R O P : " c o r e / m o d a l _ b a c k d r o p " } , k = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . m o d a l = t h i s . r o o t . f i n d ( i . M O D A L ) , t h i s . h e a d e r = t h i s . m o d a l . f i n d ( i . H E A D E R ) , t h i s . t i t l e = t h i s . h e a d e r . f i n d ( i . T I T L E ) , t h i s . b o d y = t h i s . m o d a l . f i n d ( i . B O D Y ) , t h i s . f o o t e r = t h i s . m o d a l . f i n d ( i . F O O T E R ) , t h i s . h i d d e n S i b l i n g s = [ ] , t h i s . i s A t t a c h e d = ! 1 , t h i s . b o d y J S = n u l l , t h i s . f o o t e r J S = n u l l , t h i s . r o o t . i s ( i . C O N T A I N E R ) | | c . e x c e p t i o n ( { m e s s a g e : " E l e m e n t   i s   n o t   a   m o d a l   c o n t a i n e r " } ) , t h i s . m o d a l . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " C o n t a i n e r   d o e s   n o t   c o n t a i n   a   m o d a l " } ) , t h i s . h e a d e r . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   i s   m i s s i n g   a   h e a d e r   r e g i o n " } ) , t h i s . t i t l e . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   h e a d e r   i s   m i s s i n g   a   t i t l e   r e g i o n " } ) , t h i s . b o d y . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   i s   m i s s i n g   a   b o d y   r e g i o n " } ) , t h i s . f o o t e r . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   i s   m i s s i n g   a   f o o t e r   r e g i o n " } ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   k . p r o t o t y p e . a t t a c h T o D O M = f u n c t i o n ( ) { t h i s . i s A t t a c h e d | | ( a ( " b o d y " ) . a p p e n d ( t h i s . r o o t ) , t h i s . b o d y J S & & ( b . r u n T e m p l a t e J S ( t h i s . b o d y J S ) , t h i s . b o d y J S = n u l l ) , t h i s . f o o t e r J S & & ( b . r u n T e m p l a t e J S ( t h i s . f o o t e r J S ) , t h i s . f o o t e r J S = n u l l ) , t h i s . i s A t t a c h e d = ! 0 ) } , k . p r o t o t y p e . c o u n t O t h e r V i s i b l e M o d a l s = f u n c t i o n ( ) { v a r   b = 0 ; r e t u r n   a ( " b o d y " ) . f i n d ( i . C O N T A I N E R ) . e a c h ( f u n c t i o n ( c , d ) { d = a ( d ) , ! t h i s . r o o t . i s ( d ) & & d . h a s C l a s s ( " s h o w " ) & & b + + } . b i n d ( t h i s ) ) , b } , k . p r o t o t y p e . g e t B a c k d r o p = f u n c t i o n ( ) { r e t u r n   h | | ( h = b . r e n d e r ( j . B A C K D R O P , { } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a ( b ) ; r e t u r n   n e w   f ( c ) } ) . f a i l ( c . e x c e p t i o n ) ) , h } , k . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , k . p r o t o t y p e . g e t M o d a l = f u n c t i o n ( ) { r e t u r n   t h i s . m o d a l } , k . p r o t o t y p e . g e t T i t l e = f u n c t i o n ( ) { r e t u r n   t h i s . t i t l e } , k . p r o t o t y p e . g e t B o d y = f u n c t i o n ( ) { r e t u r n   t h i s . b o d y } , k . p r o t o t y p e . g e t F o o t e r = f u n c t i o n ( ) { r e t u r n   t h i s . f o o t e r } , k . p r o t o t y p e . s e t T i t l e = f u n c t i o n ( b ) { v a r   c = t h i s . g e t T i t l e ( ) , d = b ; " o b j e c t " = = t y p e o f   b & & b . h a s O w n P r o p e r t y ( " t h e n " ) | | ( d = a . D e f e r r e d ( ) , d . r e s o l v e ( b ) ) , d . t h e n ( f u n c t i o n ( a ) { c . h t m l ( a ) } ) } , k . p r o t o t y p e . s e t B o d y = f u n c t i o n ( a ) { v a r   c = t h i s . g e t B o d y ( ) ; " s t r i n g " = = t y p e o f   a ? c . h t m l ( a ) : b . r e n d e r ( j . L O A D I N G , { } ) . d o n e ( f u n c t i o n ( d ) { c . h t m l ( d ) , a . d o n e ( f u n c t i o n ( a , d ) { c . h t m l ( a ) , d & & ( t h i s . i s A t t a c h e d ? b . r u n T e m p l a t e J S ( d ) : t h i s . b o d y J S = d ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , k . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( a ) { v a r   c = t h i s . g e t F o o t e r ( ) ; " s t r i n g " = = t y p e o f   a ? c . h t m l ( a ) : b . r e n d e r ( j . L O A D I N G , { } ) . d o n e ( f u n c t i o n ( d ) { c . h t m l ( d ) , a . d o n e ( f u n c t i o n ( a , d ) { c . h t m l ( a ) , d & & ( t h i s . i s A t t a c h e d ? b . r u n T e m p l a t e J S ( d ) : t h i s . f o o t e r J S = d ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , k . p r o t o t y p e . s e t L a r g e = f u n c t i o n ( ) { t h i s . i s L a r g e ( ) | | t h i s . g e t M o d a l ( ) . a d d C l a s s ( " m o d a l - l g " ) } , k . p r o t o t y p e . i s L a r g e = f u n c t i o n ( ) { r e t u r n   t h i s . g e t M o d a l ( ) . h a s C l a s s ( " m o d a l - l g " ) } , k . p r o t o t y p e . s e t S m a l l = f u n c t i o n ( ) { t h i s . i s S m a l l ( ) | | t h i s . g e t M o d a l ( ) . r e m o v e C l a s s ( " m o d a l - l g " ) } , k . p r o t o t y p e . i s S m a l l = f u n c t i o n ( ) { r e t u r n ! t h i s . g e t M o d a l ( ) . h a s C l a s s ( " m o d a l - l g " ) } , k . p r o t o t y p e . c a l c u l a t e Z I n d e x = f u n c t i o n ( ) { v a r   b = a ( i . D I A L O G + " ,   " + i . M E N U _ B A R + " ,   " + i . H A S _ Z _ I N D E X ) , c = p a r s e I n t ( t h i s . r o o t . c s s ( " z - i n d e x " ) ) ; r e t u r n   b . e a c h ( f u n c t i o n ( b , d ) { d = a ( d ) ; v a r   e = d . c s s ( " z - i n d e x " ) ? p a r s e I n t ( d . c s s ( " z - i n d e x " ) ) : 0 ; e > c & & ( c = e ) } ) , c } , k . p r o t o t y p e . i s V i s i b l e = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " s h o w " ) } , k . p r o t o t y p e . h a s F o c u s = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t . a c t i v e E l e m e n t ) ; r e t u r n   t h i s . r o o t . i s ( b ) | | t h i s . r o o t . h a s ( b ) . l e n g t h } , k . p r o t o t y p e . h a s T r a n s i t i o n s = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R o o t ( ) . h a s C l a s s ( " f a d e " ) } , k . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) | | ( t h i s . i s A t t a c h e d | | t h i s . a t t a c h T o D O M ( ) , t h i s . g e t B a c k d r o p ( ) . d o n e ( f u n c t i o n ( b ) { v a r   c = t h i s . c a l c u l a t e Z I n d e x ( ) , d = c + 2 , e = d - 1 ; t h i s . r o o t . c s s ( " z - i n d e x " , d ) , b . s e t Z I n d e x ( e ) , b . s h o w ( ) , t h i s . r o o t . r e m o v e C l a s s ( " h i d e " ) . a d d C l a s s ( " s h o w " ) , t h i s . a c c e s s i b i l i t y S h o w ( ) , t h i s . g e t T i t l e ( ) . f o c u s ( ) , a ( " b o d y " ) . a d d C l a s s ( " m o d a l - o p e n " ) , t h i s . r o o t . t r i g g e r ( g . s h o w n , t h i s ) } . b i n d ( t h i s ) ) ) } , k . p r o t o t y p e . h i d e = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) & & t h i s . g e t B a c k d r o p ( ) . d o n e ( f u n c t i o n ( b ) { t h i s . c o u n t O t h e r V i s i b l e M o d a l s ( ) | | ( b . h i d e ( ) , a ( " b o d y " ) . r e m o v e C l a s s ( " m o d a l - o p e n " ) ) ; v a r   c = p a r s e I n t ( t h i s . r o o t . c s s ( " z - i n d e x " ) ) ; t h i s . r o o t . c s s ( " z - i n d e x " , " " ) , b . s e t Z I n d e x ( c - 3 ) , t h i s . a c c e s s i b i l i t y H i d e ( ) , t h i s . h a s T r a n s i t i o n s ( ) ? t h i s . g e t R o o t ( ) . o n e ( " t r a n s i t i o n e n d   w e b k i t T r a n s i t i o n E n d   o T r a n s i t i o n E n d " , f u n c t i o n ( ) { t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) } . b i n d ( t h i s ) ) : t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) , t h i s . r o o t . t r i g g e r ( g . h i d d e n , t h i s ) } . b i n d ( t h i s ) ) } , k . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e ( ) , t h i s . r o o t . t r i g g e r ( g . d e s t r o y e d , t h i s ) } , k . p r o t o t y p e . a c c e s s i b i l i t y S h o w = f u n c t i o n ( ) { a ( " b o d y " ) . c h i l d r e n ( ) . e a c h ( f u n c t i o n ( b , c ) { i f ( ! t h i s . r o o t . i s ( c ) ) { c = a ( c ) ; v a r   d = c . a t t r ( " a r i a - h i d d e n " ) ; " t r u e " ! = = d & & ( c . d a t a ( " p r e v i o u s - a r i a - h i d d e n " , d ) , t h i s . h i d d e n S i b l i n g s . p u s h ( c ) , c . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ) } } . b i n d ( t h i s ) ) , t h i s . r o o t . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) } , k . p r o t o t y p e . a c c e s s i b i l i t y H i d e = f u n c t i o n ( ) { t h i s . r o o t . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . e a c h ( t h i s . h i d d e n S i b l i n g s , f u n c t i o n ( b , c ) { c = a ( c ) ; v a r   d = c . d a t a ( " p r e v i o u s - a r i a - h i d d e n " ) ; " u n d e f i n e d " = = t y p e o f   d ? c . r e m o v e A t t r ( " a r i a - h i d d e n " ) : c . a t t r ( " a r i a - h i d d e n " , d ) } ) , t h i s . h i d d e n S i b l i n g s = [ ] } , k . p r o t o t y p e . h a n d l e T a b L o c k = f u n c t i o n ( b ) { i f ( t h i s . h a s F o c u s ( ) ) { v a r   c = a ( d o c u m e n t . a c t i v e E l e m e n t ) , d = t h i s . m o d a l . f i n d ( i . C A N _ R E C E I V E _ F O C U S ) , e = d . f i r s t ( ) , f = d . l a s t ( ) ; c . i s ( e ) & & b . s h i f t K e y ? ( f . f o c u s ( ) , b . p r e v e n t D e f a u l t ( ) ) : c . i s ( f ) & & ! b . s h i f t K e y & & ( e . f o c u s ( ) , b . p r e v e n t D e f a u l t ( ) ) } } , k . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { t h i s . g e t R o o t ( ) . o n ( " k e y d o w n " , f u n c t i o n ( a ) { t h i s . i s V i s i b l e ( ) & & ( a . k e y C o d e = = d . t a b ? t h i s . h a n d l e T a b L o c k ( a ) : a . k e y C o d e = = d . e s c a p e & & t h i s . h i d e ( ) ) } . b i n d ( t h i s ) ) , e . d e f i n e ( t h i s . g e t M o d a l ( ) , [ e . e v e n t s . a c t i v a t e ] ) , t h i s . g e t M o d a l ( ) . o n ( e . e v e n t s . a c t i v a t e , i . H I D E , f u n c t i o n ( a , b ) { t h i s . h i d e ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) } , k } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ s e r i e s ' ,   [ ] , f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { i f ( " s t r i n g " ! = t y p e o f   a ) t h r o w   n e w   E r r o r ( " I n v a l i d   l a b e l   f o r   s e r i e s . " ) ; i f ( " o b j e c t " ! = t y p e o f   b ) t h r o w   n e w   E r r o r ( " V a l u e s   f o r   a   s e r i e s   m u s t   b e   a n   a r r a y . " ) ; i f ( b . l e n g t h < 1 ) t h r o w   n e w   E r r o r ( " I n v a l i d   v a l u e s   r e c e i v e d   f o r   s e r i e s . " ) ; t h i s . _ c o l o r s = [ ] , t h i s . _ l a b e l = a , t h i s . _ v a l u e s = b } r e t u r n   a . p r o t o t y p e . T Y P E _ D E F A U L T = n u l l , a . p r o t o t y p e . T Y P E _ L I N E = " l i n e " , a . p r o t o t y p e . _ c o l o r s = n u l l , a . p r o t o t y p e . _ l a b e l = n u l l , a . p r o t o t y p e . _ l a b e l s = n u l l , a . p r o t o t y p e . _ s m o o t h = ! 1 , a . p r o t o t y p e . _ t y p e = a . p r o t o t y p e . T Y P E _ D E F A U L T , a . p r o t o t y p e . _ v a l u e s = n u l l , a . p r o t o t y p e . _ x a x i s = n u l l , a . p r o t o t y p e . _ y a x i s = n u l l , a . p r o t o t y p e . c r e a t e = f u n c t i o n ( b ) { v a r   c = n e w   a ( b . l a b e l , b . v a l u e s ) ; r e t u r n   c . s e t T y p e ( b . t y p e ) , c . s e t X A x i s ( b . a x e s . x ) , c . s e t Y A x i s ( b . a x e s . y ) , c . s e t L a b e l s ( b . l a b e l s ) , b . c o l o r s & & b . c o l o r s . l e n g t h > 1 ? c . s e t C o l o r s ( b . c o l o r s ) : c . s e t C o l o r ( b . c o l o r s [ 0 ] ) , c . s e t S m o o t h ( b . s m o o t h ) , c } , a . p r o t o t y p e . g e t C o l o r = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r s [ 0 ] | | n u l l } , a . p r o t o t y p e . g e t C o l o r s = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r s } , a . p r o t o t y p e . g e t C o u n t = f u n c t i o n ( ) { r e t u r n   t h i s . _ v a l u e s . l e n g t h } , a . p r o t o t y p e . g e t L a b e l = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l } , a . p r o t o t y p e . g e t L a b e l s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l s } , a . p r o t o t y p e . g e t S m o o t h = f u n c t i o n ( ) { r e t u r n   t h i s . _ s m o o t h } , a . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n   t h i s . _ t y p e } , a . p r o t o t y p e . g e t V a l u e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ v a l u e s } , a . p r o t o t y p e . g e t X A x i s = f u n c t i o n ( ) { r e t u r n   t h i s . _ x a x i s } , a . p r o t o t y p e . g e t Y A x i s = f u n c t i o n ( ) { r e t u r n   t h i s . _ y a x i s } , a . p r o t o t y p e . h a s C o l o r e d V a l u e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r s . l e n g t h = = t h i s . g e t C o u n t ( ) } , a . p r o t o t y p e . s e t C o l o r = f u n c t i o n ( a ) { t h i s . _ c o l o r s = [ a ] } , a . p r o t o t y p e . s e t C o l o r s = f u n c t i o n ( a ) { i f ( a & & a . l e n g t h ! = t h i s . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " W h e n   s e t t i n g   m u l t i p l e   c o l o r s   t h e r e   m u s t   b e   o n e   p e r   v a l u e . " ) ; t h i s . _ c o l o r s = a | | [ ] } , a . p r o t o t y p e . s e t L a b e l s = f u n c t i o n ( a ) { t h i s . _ v a l i d a t e L a b e l s ( a ) , a = " u n d e f i n e d " = = t y p e o f   a ? n u l l : a , t h i s . _ l a b e l s = a } , a . p r o t o t y p e . s e t S m o o t h = f u n c t i o n ( a ) { a = " u n d e f i n e d " = = t y p e o f   a ? n u l l : a , t h i s . _ s m o o t h = a } , a . p r o t o t y p e . s e t T y p e = f u n c t i o n ( a ) { i f ( a ! = t h i s . T Y P E _ D E F A U L T & & a ! = t h i s . T Y P E _ L I N E ) t h r o w   n e w   E r r o r ( " I n v a l i d   s e r i e   t y p e . " ) ; t h i s . _ t y p e = a | | n u l l } , a . p r o t o t y p e . s e t X A x i s = f u n c t i o n ( a ) { t h i s . _ x a x i s = a | | n u l l } , a . p r o t o t y p e . s e t Y A x i s = f u n c t i o n ( a ) { t h i s . _ y a x i s = a | | n u l l } , a . p r o t o t y p e . _ v a l i d a t e L a b e l s = f u n c t i o n ( a ) { i f ( a & & a . l e n g t h > 0 & & a . l e n g t h ! = t h i s . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " S e r i e s   l a b e l s   m u s t   m a t c h   s e r i e s   v a l u e s . " ) } , a } ) ; 
 d e f i n e ( ' c o r e / u s e r _ d a t e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s e s s i o n s t o r a g e " , " c o r e / c o n f i g " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { } , f = f u n c t i o n ( b ) { v a r   c = a ( " h t m l " ) . a t t r ( " l a n g " ) . r e p l a c e ( / - / g , " _ " ) ; r e t u r n " c o r e _ u s e r _ d a t e / " + c + " / " + d . u s e r t i m e z o n e + " / " + b . t i m e s t a m p + " / " + b . f o r m a t } , g = f u n c t i o n ( a ) { r e t u r n   c . g e t ( a ) } , h = f u n c t i o n ( a , b ) { c . s e t ( a , b ) } , i = f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   e [ a ] } , j = f u n c t i o n ( a ) { r e t u r n   e [ a ] } , k = f u n c t i o n ( a , b ) { e [ a ] = b } , l = f u n c t i o n ( a ) { v a r   c = a . m a p ( f u n c t i o n ( a ) { r e t u r n { t i m e s t a m p : a . t i m e s t a m p , f o r m a t : a . f o r m a t } } ) , e = { m e t h o d n a m e : " c o r e _ g e t _ u s e r _ d a t e s " , a r g s : { c o n t e x t i d : d . c o n t e x t i d , t i m e s t a m p s : c } } ; r e t u r n   b . c a l l ( [ e ] , ! 0 , ! 0 ) [ 0 ] . t h e n ( f u n c t i o n ( b ) { b . d a t e s . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = a [ c ] , e = f ( d ) ; h ( e , b ) , d . d e f e r r e d . r e s o l v e ( b ) } ) } ) . f a i l ( f u n c t i o n ( b ) { a . f o r E a c h ( f u n c t i o n ( a ) { a . d e f e r r e d . r e j e c t ( b ) } ) } ) } , m = f u n c t i o n ( b ) { v a r   c = [ ] , d = [ ] ; r e t u r n   b . f o r E a c h ( f u n c t i o n ( b ) { v a r   e = f ( b ) ; i f ( i ( e ) ) d . p u s h ( j ( e ) ) ; e l s e { v a r   h = a . D e f e r r e d ( ) , l = g ( e ) ; l ? h . r e s o l v e ( l ) : ( b . d e f e r r e d = h , c . p u s h ( b ) ) , k ( e , h . p r o m i s e ( ) ) , d . p u s h ( h . p r o m i s e ( ) ) } } ) , c . l e n g t h & & l ( c ) , a . w h e n . a p p l y ( a , d ) . t h e n ( f u n c t i o n ( ) { r e t u r n   1 = = = a r g u m e n t s . l e n g t h ? [ a r g u m e n t s [ 0 ] ] : A r r a y . a p p l y ( n u l l , a r g u m e n t s ) } ) } ; r e t u r n { g e t : m } } ) ; 
 d e f i n e ( ' c o r e / t o o l t i p ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , a ( t h i s . _ r e g i o n S e l e c t o r ) . e a c h ( f u n c t i o n ( b , c ) { v a r   d = a ( c ) . a t t r ( " a r i a - d e s c r i b e d b y " ) ; i f ( d ) { v a r   e = d o c u m e n t . g e t E l e m e n t B y I d ( d ) ; i f ( e ) { v a r   f = " t o o l t i p " = = a ( e ) . a t t r ( " r o l e " ) ; f & & ( a ( e ) . h i d e ( ) , a ( c ) . a t t r ( " t a b i n d e x " , " 0 " ) ) , a ( c ) . o n ( " f o c u s " , t h i s . _ h a n d l e F o c u s . b i n d ( t h i s ) ) , a ( c ) . o n ( " m o u s e o v e r " , t h i s . _ h a n d l e M o u s e O v e r . b i n d ( t h i s ) ) , a ( c ) . o n ( " m o u s e o u t " , t h i s . _ h a n d l e M o u s e O u t . b i n d ( t h i s ) ) , a ( c ) . o n ( " b l u r " , t h i s . _ h a n d l e B l u r . b i n d ( t h i s ) ) , a ( c ) . o n ( " k e y d o w n " , t h i s . _ h a n d l e K e y D o w n . b i n d ( t h i s ) ) } } } . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , b . p r o t o t y p e . _ s h o w T o o l t i p = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = c . a t t r ( " a r i a - d e s c r i b e d b y " ) ; i f ( d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( d ) ) ; i f ( e . s h o w ( ) , e . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , ! e . i s ( " . t o o l t i p " ) ) { v a r   f = a ( ' < d i v   c l a s s = " t o o l t i p - i n n e r " > < / d i v > ' ) ; f . a p p e n d ( e . c o n t e n t s ( ) ) , e . a p p e n d ( f ) , e . a d d C l a s s ( " t o o l t i p " ) , e . a d d C l a s s ( " b o t t o m " ) , e . a p p e n d ( ' < d i v   c l a s s = " t o o l t i p - a r r o w " > < / d i v > ' ) } v a r   g = c . o f f s e t ( ) ; g . t o p + = c . h e i g h t ( ) + 1 0 , a ( e ) . o f f s e t ( g ) } } , b . p r o t o t y p e . _ h i d e T o o l t i p = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = c . a t t r ( " a r i a - d e s c r i b e d b y " ) ; i f ( d ) { v a r   e = d o c u m e n t . g e t E l e m e n t B y I d ( d ) ; a ( e ) . h i d e ( ) , a ( e ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) } } , b . p r o t o t y p e . _ h a n d l e F o c u s = f u n c t i o n ( a ) { t h i s . _ s h o w T o o l t i p ( a ) } , b . p r o t o t y p e . _ h a n d l e K e y D o w n = f u n c t i o n ( a ) { 2 7 = = a . w h i c h & & t h i s . _ h i d e T o o l t i p ( a ) } , b . p r o t o t y p e . _ h a n d l e M o u s e O v e r = f u n c t i o n ( a ) { t h i s . _ s h o w T o o l t i p ( a ) } , b . p r o t o t y p e . _ h a n d l e M o u s e O u t = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; c . i s ( " : f o c u s " ) | | t h i s . _ h i d e T o o l t i p ( b ) } , b . p r o t o t y p e . _ h a n d l e B l u r = f u n c t i o n ( a ) { t h i s . _ h i d e T o o l t i p ( a ) } , b } ) ; 
 d e f i n e ( ' c o r e / t e m p l a t e s ' ,   [ " c o r e / m u s t a c h e " , " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / u r l " , " c o r e / c o n f i g " , " c o r e / l o c a l s t o r a g e " , " c o r e / i c o n _ s y s t e m " , " c o r e / e v e n t " , " c o r e / y u i " , " c o r e / l o g " , " c o r e / t r u n c a t e " , " c o r e / u s e r _ d a t e " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m , n ) { v a r   o = 0 , p = { } , q = { } , r = { } , s = f u n c t i o n ( ) { t h i s . r e q u i r e d S t r i n g s = [ ] , t h i s . r e q u i r e d J S = [ ] , t h i s . r e q u i r e d D a t e s = [ ] , t h i s . c u r r e n t T h e m e N a m e = " " } ; s . p r o t o t y p e . r e q u i r e d S t r i n g s = n u l l , s . p r o t o t y p e . r e q u i r e d D a t e s = [ ] , s . p r o t o t y p e . r e q u i r e d J S = n u l l , s . p r o t o t y p e . c u r r e n t T h e m e N a m e = " " , s . p r o t o t y p e . g e t T e m p l a t e = f u n c t i o n ( a ) { v a r   d = a . s p l i t ( " / " ) , e = d . s h i f t ( ) , f = d . s h i f t ( ) , g = t h i s . c u r r e n t T h e m e N a m e + " / " + a ; i f ( g   i n   q ) r e t u r n   q [ g ] ; v a r   i = h . g e t ( " c o r e _ t e m p l a t e / " + g ) ; i f ( i ) r e t u r n   p [ g ] = i , q [ g ] = b . D e f e r r e d ( ) . r e s o l v e ( i ) . p r o m i s e ( ) , q [ g ] ; v a r   j = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ o u t p u t _ l o a d _ t e m p l a t e " , a r g s : { c o m p o n e n t : e , t e m p l a t e : f , t h e m e n a m e : t h i s . c u r r e n t T h e m e N a m e } } ] , ! 0 , ! 1 ) ; r e t u r n   q [ g ] = j [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   p [ g ] = a , h . s e t ( " c o r e _ t e m p l a t e / " + g , a ) , a } ) , q [ g ] } , s . p r o t o t y p e . p a r t i a l H e l p e r = f u n c t i o n ( a ) { v a r   b = t h i s . c u r r e n t T h e m e N a m e + " / " + a ; r e t u r n   b   i n   p | | e . e x c e p t i o n ( n e w   E r r o r ( " F a i l e d   t o   p r e - f e t c h   t h e   t e m p l a t e :   " + a ) ) , p [ b ] } , s . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , c , d ) { v a r   e = g . i c o n s y s t e m m o d u l e , f = b . D e f e r r e d ( ) ; r e t u r n   r e q u i r e ( [ e ] , f u n c t i o n ( a ) { v a r   b = n e w   a ; b   i n s t a n c e o f   i ? ( r = b , b . i n i t ( ) . t h e n ( f . r e s o l v e ) ) : f . r e j e c t ( " I n v a l i d   i c o n   s y s t e m   s p e c i f i e d " + g . i c o n s y s t e m m o d u l e ) } ) , f . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . g e t T e m p l a t e ( a . g e t T e m p l a t e N a m e ( ) ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   r . r e n d e r I c o n ( a , c , d , b ) } ) } , s . p r o t o t y p e . p i x H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = b . s p l i t ( " , " ) , e = " " , f = " " , g = " " ; d . l e n g t h > 0 & & ( e = c ( d . s h i f t ( ) . t r i m ( ) , a ) ) , d . l e n g t h > 0 & & ( f = c ( d . s h i f t ( ) . t r i m ( ) , a ) ) , d . l e n g t h > 0 & & ( g = c ( d . j o i n ( " , " ) . t r i m ( ) , a ) ) ; v a r   h = r . g e t T e m p l a t e N a m e ( ) , i = t h i s . c u r r e n t T h e m e N a m e + " / " + h , j = p [ i ] ; r e t u r n   e = e . r e p l a c e ( / & # x 2 F ; / g i , " / " ) , r . r e n d e r I c o n ( e , f , g , j ) } , s . p r o t o t y p e . j s H e l p e r = f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . r e q u i r e d J S . p u s h ( c ( b , a ) ) , " " } , s . p r o t o t y p e . s t r i n g H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = b . s p l i t ( " , " ) , e = " " , f = " " , g = " " ; d . l e n g t h > 0 & & ( e = d . s h i f t ( ) . t r i m ( ) ) , d . l e n g t h > 0 & & ( f = d . s h i f t ( ) . t r i m ( ) ) , d . l e n g t h > 0 & & ( g = d . j o i n ( " , " ) . t r i m ( ) ) , " " ! = = g & & ( g = c ( g , a ) ) , 0 = = = g . i n d e x O f ( " { " ) & & 0 ! = = g . i n d e x O f ( " { { " ) & & ( g = J S O N . p a r s e ( g ) ) ; v a r   h = t h i s . r e q u i r e d S t r i n g s . l e n g t h ; r e t u r n   t h i s . r e q u i r e d S t r i n g s . p u s h ( { k e y : e , c o m p o n e n t : f , p a r a m : g } ) , " [ [ _ s " + h + " ] ] " } , s . p r o t o t y p e . q u o t e H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = c ( b . t r i m ( ) , a ) ; r e t u r n   d = d . r e p l a c e ( ' " ' , ' \ \ " ' ) . r e p l a c e ( / ( [ \ { \ } ] { 2 , 3 } ) / g , " { { = < %   % > = } } $ 1 < % = { {   } } = % > " ) , ' " ' + d + ' " ' } , s . p r o t o t y p e . s h o r t e n T e x t H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = / ( . * ? ) , ( . * ) / , e = b . m a t c h ( d ) , f = e [ 1 ] . t r i m ( ) , g = e [ 2 ] . t r i m ( ) , h = c ( g , a ) ; r e t u r n   m . t r u n c a t e ( h , { l e n g t h : f , w o r d s : ! 0 , e l l i p s i s : " . . . " } ) } , s . p r o t o t y p e . u s e r D a t e H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = / ( . * ? ) , ( . * ) / , e = b . m a t c h ( d ) , f = c ( e [ 1 ] . t r i m ( ) , a ) , g = c ( e [ 2 ] . t r i m ( ) , a ) , h = t h i s . r e q u i r e d D a t e s . l e n g t h ; r e t u r n   t h i s . r e q u i r e d D a t e s . p u s h ( { t i m e s t a m p : f , f o r m a t : g } ) , " [ [ _ t _ " + h + " ] ] " } , s . p r o t o t y p e . a d d H e l p e r s = f u n c t i o n ( a , b ) { t h i s . c u r r e n t T h e m e N a m e = b , t h i s . r e q u i r e d S t r i n g s = [ ] , t h i s . r e q u i r e d J S = [ ] , a . u n i q i d = o + + , a . s t r = f u n c t i o n ( ) { r e t u r n   t h i s . s t r i n g H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . p i x = f u n c t i o n ( ) { r e t u r n   t h i s . p i x H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . j s = f u n c t i o n ( ) { r e t u r n   t h i s . j s H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . q u o t e = f u n c t i o n ( ) { r e t u r n   t h i s . q u o t e H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . s h o r t e n t e x t = f u n c t i o n ( ) { r e t u r n   t h i s . s h o r t e n T e x t H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . u s e r d a t e = f u n c t i o n ( ) { r e t u r n   t h i s . u s e r D a t e H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . g l o b a l s = { c o n f i g : g } , a . c u r r e n t T h e m e = b } , s . p r o t o t y p e . g e t J S = f u n c t i o n ( ) { v a r   a = " " ; r e t u r n   t h i s . r e q u i r e d J S . l e n g t h > 0 & & ( a = t h i s . r e q u i r e d J S . j o i n ( " ; \ n " ) ) , a } , s . p r o t o t y p e . t r e a t S t r i n g s I n C o n t e n t = f u n c t i o n ( a , b ) { v a r   c , d , e , f , g , h , i = / \ [ \ [ _ s \ d + \ ] \ ] / ; d o { f o r ( c = " " , d = a . s e a r c h ( i ) ; d > - 1 ; ) { c + = a . s u b s t r i n g ( 0 , d ) , a = a . s u b s t r ( d ) , e = " " , f = 4 , g = a . s u b s t r ( f , 1 ) ; d o   e + = g , f + + , g = a . s u b s t r ( f , 1 ) ; w h i l e ( " ] " ! = g ) ; h = b [ p a r s e I n t ( e , 1 0 ) ] , " u n d e f i n e d " = = t y p e o f   h & & ( l . d e b u g ( " C o u l d   n o t   f i n d   s t r i n g   f o r   p a t t e r n   [ [ _ s " + e + " ] ] . " ) , h = " " ) , c + = h , a = a . s u b s t r ( 6 + e . l e n g t h ) , d = a . s e a r c h ( i ) } a = c + a , d = a . s e a r c h ( i ) } w h i l e ( d > - 1 ) ; r e t u r n   a } , s . p r o t o t y p e . t r e a t D a t e s I n C o n t e n t = f u n c t i o n ( a , b ) { r e t u r n   b . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = " \ \ [ \ \ [ _ t _ " + c + " \ \ ] \ \ ] " , e = n e w   R e g E x p ( d , " g " ) ; a = a . r e p l a c e ( e , b ) } ) , a } , s . p r o t o t y p e . d o R e n d e r = f u n c t i o n ( c , e , f ) { t h i s . c u r r e n t T h e m e N a m e = f ; v a r   g = r . g e t T e m p l a t e N a m e ( ) ; r e t u r n   t h i s . g e t T e m p l a t e ( g ) . t h e n ( f u n c t i o n ( ) { t h i s . a d d H e l p e r s ( e , f ) ; v a r   d = a . r e n d e r ( c , e , t h i s . p a r t i a l H e l p e r . b i n d ( t h i s ) ) ; r e t u r n   b . D e f e r r e d ( ) . r e s o l v e ( d . t r i m ( ) , t h i s . g e t J S ( ) ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   t h i s . r e q u i r e d S t r i n g s . l e n g t h > 0 ? d . g e t _ s t r i n g s ( t h i s . r e q u i r e d S t r i n g s ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   t h i s . r e q u i r e d D a t e s = t h i s . r e q u i r e d D a t e s . m a p ( f u n c t i o n ( a ) { r e t u r n { t i m e s t a m p : t h i s . t r e a t S t r i n g s I n C o n t e n t ( a . t i m e s t a m p , d ) , f o r m a t : t h i s . t r e a t S t r i n g s I n C o n t e n t ( a . f o r m a t , d ) } } . b i n d ( t h i s ) ) , a = t h i s . t r e a t S t r i n g s I n C o n t e n t ( a , d ) , c = t h i s . t r e a t S t r i n g s I n C o n t e n t ( c , d ) , b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) : b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   t h i s . r e q u i r e d D a t e s . l e n g t h > 0 ? n . g e t ( t h i s . r e q u i r e d D a t e s ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   a = t h i s . t r e a t D a t e s I n C o n t e n t ( a , d ) , c = t h i s . t r e a t D a t e s I n C o n t e n t ( c , d ) , b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) : b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) } ; v a r   t = f u n c t i o n ( a ) { i f ( " " ! = = a . t r i m ( ) ) { v a r   c = b ( " < s c r i p t > " ) . a t t r ( " t y p e " , " t e x t / j a v a s c r i p t " ) . h t m l ( a ) ; b ( " h e a d " ) . a p p e n d ( c ) } } , u = f u n c t i o n ( a , c , d , e ) { v a r   f = b ( a ) ; i f ( f . l e n g t h ) { v a r   g = b ( c ) , h = n u l l ; e ? ( h = n e w   k . N o d e L i s t ( f . c h i l d r e n ( ) . g e t ( ) ) , h . d e s t r o y ( ! 0 ) , f . e m p t y ( ) , f . a p p e n d ( g ) ) : ( h = n e w   k . N o d e L i s t ( f . g e t ( ) ) , h . d e s t r o y ( ! 0 ) , f . r e p l a c e W i t h ( g ) ) , t ( d ) , j . n o t i f y F i l t e r C o n t e n t U p d a t e d ( g ) } } ; s . p r o t o t y p e . s c a n F o r P a r t i a l s = f u n c t i o n ( b ) { v a r   c = a . p a r s e ( b ) , d = [ ] , e = f u n c t i o n ( a , b ) { v a r   c , d ; f o r ( c = 0 ; c < a . l e n g t h ; c + + ) d = a [ c ] , " > " ! = d [ 0 ] & & " < " ! = d [ 0 ] | | b . p u s h ( d [ 1 ] ) , d . l e n g t h > 4 & & e ( d [ 4 ] , b ) } ; r e t u r n   e ( c , d ) , d } , s . p r o t o t y p e . c a c h e P a r t i a l s = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t T e m p l a t e ( a ) . t h e n ( f u n c t i o n ( a ) { v a r   c , d = t h i s . s c a n F o r P a r t i a l s ( a ) , e = [ ] ; f o r ( c = 0 ; c < d . l e n g t h ; c + + ) { v a r   f = t h i s . c u r r e n t T h e m e N a m e + " / " + d [ c ] ; f   i n   q ? e . p u s h ( q [ f ] ) : e . p u s h ( t h i s . c a c h e P a r t i a l s ( d [ c ] ) ) } r e t u r n   b . w h e n . a p p l y ( b , e ) . t h e n ( f u n c t i o n ( ) { r e t u r n   a } ) } . b i n d ( t h i s ) ) } , s . p r o t o t y p e . r e n d e r = f u n c t i o n ( a , c , d ) { " u n d e f i n e d " = = t y p e o f   d & & ( d = g . t h e m e ) , t h i s . c u r r e n t T h e m e N a m e = d ; v a r   e = g . i c o n s y s t e m m o d u l e , f = b . D e f e r r e d ( ) ; r e t u r n   r e q u i r e ( [ e ] , f u n c t i o n ( a ) { v a r   b = n e w   a ; b   i n s t a n c e o f   i ? ( r = b , b . i n i t ( ) . t h e n ( f . r e s o l v e ) ) : f . r e j e c t ( " I n v a l i d   i c o n   s y s t e m   s p e c i f i e d " + g . i c o n s y s t e m ) } ) , f . t h e n ( f u n c t i o n ( ) { r e t u r n   t h i s . c a c h e P a r t i a l s ( a ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . d o R e n d e r ( a , c , d ) } . b i n d ( t h i s ) ) } ; v a r   v = f u n c t i o n ( a , c , d ) { v a r   e = b ( a ) ; e . l e n g t h & & ( e . p r e p e n d ( c ) , t ( d ) , j . n o t i f y F i l t e r C o n t e n t U p d a t e d ( e ) ) } , w = f u n c t i o n ( a , c , d ) { v a r   e = b ( a ) ; e . l e n g t h & & ( e . a p p e n d ( c ) , t ( d ) , j . n o t i f y F i l t e r C o n t e n t U p d a t e d ( e ) ) } ; r e t u r n { r e n d e r : f u n c t i o n ( a , b , c ) { v a r   d = n e w   s ; r e t u r n   d . r e n d e r ( a , b , c ) } , r e n d e r P i x : f u n c t i o n ( a , b , c ) { v a r   d = n e w   s ; r e t u r n   d . r e n d e r I c o n ( a , b , c ) } , r u n T e m p l a t e J S : t , r e p l a c e N o d e C o n t e n t s : f u n c t i o n ( a , b , c ) { u ( a , b , c , ! 0 ) } , r e p l a c e N o d e : f u n c t i o n ( a , b , c ) { u ( a , b , c , ! 1 ) } , p r e p e n d N o d e C o n t e n t s : f u n c t i o n ( a , b , c ) { v ( a , b , c ) } , a p p e n d N o d e C o n t e n t s : f u n c t i o n ( a , b , c ) { w ( a , b , c ) } } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ f a c t o r y ' ,   [ " j q u e r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / m o d a l " , " c o r e / m o d a l _ s a v e _ c a n c e l " , " c o r e / m o d a l _ c o n f i r m " , " c o r e / m o d a l _ c a n c e l " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { D E F A U L T : " c o r e / m o d a l " , S A V E _ C A N C E L : " c o r e / m o d a l _ s a v e _ c a n c e l " , C O N F I R M : " c o r e / m o d a l _ c o n f i r m " , C A N C E L : " c o r e / m o d a l _ c a n c e l " } , l = { D E F A U L T : " D E F A U L T " , S A V E _ C A N C E L : " S A V E _ C A N C E L " , C O N F I R M : " C O N F I R M " , C A N C E L : " C A N C E L " } ; c . r e g i s t e r ( l . D E F A U L T , d , k . D E F A U L T ) , c . r e g i s t e r ( l . S A V E _ C A N C E L , e , k . S A V E _ C A N C E L ) , c . r e g i s t e r ( l . C O N F I R M , f , k . C O N F I R M ) , c . r e g i s t e r ( l . C A N C E L , g , k . C A N C E L ) ; v a r   m = f u n c t i o n ( a , c ) { " u n d e f i n e d " ! = t y p e o f   c & & ( j . d e f i n e ( c , [ j . e v e n t s . a c t i v a t e ] ) , c . o n ( j . e v e n t s . a c t i v a t e , f u n c t i o n ( b , c ) { a . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . s h o w ( ) , a } ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , a . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . g e t R o o t ( ) . o n ( b . h i d d e n , f u n c t i o n ( ) { c . f o c u s ( ) } ) , a } ) ) } , n = f u n c t i o n ( b , c ) { c = a ( c ) ; v a r   d = b . m o d u l e , e = n e w   d ( c ) ; r e t u r n   e } , o = f u n c t i o n ( b , c ) { v a r   d = b . t e m p l a t e , e = h . r e n d e r ( d , { } ) . t h e n ( f u n c t i o n ( c ) { v a r   d = a ( c ) ; r e t u r n   n ( b , d ) } ) . f a i l ( i . e x c e p t i o n ) ; r e t u r n   m ( e , c ) , e } , p = f u n c t i o n ( a , b ) { v a r   d = a . t y p e | | l . D E F A U L T , e = ! ! a . l a r g e , f = n u l l ; r e t u r n   f = c . g e t ( d ) , f | | i . e x c e p t i o n ( { m e s s a g e : " U n a b l e   t o   f i n d   m o d a l   o f   t y p e :   " + d } ) , o ( f , b ) . t h e n ( f u n c t i o n ( b ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   a . t i t l e & & b . s e t T i t l e ( a . t i t l e ) , " u n d e f i n e d " ! = t y p e o f   a . b o d y & & b . s e t B o d y ( a . b o d y ) , " u n d e f i n e d " ! = t y p e o f   a . f o o t e r & & b . s e t F o o t e r ( a . f o o t e r ) , e & & b . s e t L a r g e ( ) , b } ) } ; r e t u r n { c r e a t e : p , t y p e s : l } } ) ; 
 d e f i n e ( ' c o r e / i c o n _ s y s t e m _ s t a n d a r d ' ,   [ " c o r e / i c o n _ s y s t e m " , " c o r e / u r l " , " c o r e / m u s t a c h e " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( ) { a . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   d . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , d . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , d , e , f ) { v a r   g = b . i m a g e U r l ( a , d ) , h = { a t t r i b u t e s : [ { n a m e : " s r c " , v a l u e : g } , { n a m e : " a l t " , v a l u e : e } , { n a m e : " t i t l e " , v a l u e : e } ] } , i = c . r e n d e r ( f , h ) ; r e t u r n   i . t r i m ( ) } , d . p r o t o t y p e . g e t T e m p l a t e N a m e = f u n c t i o n ( ) { r e t u r n " c o r e / p i x _ i c o n " } , d } ) ; 
 d e f i n e ( ' c o r e / e v e n t ' ,   [ " j q u e r y " , " c o r e / y u i " ] , f u n c t i o n ( a , b ) { r e t u r n { E v e n t s : { F O R M _ F I E L D _ V A L I D A T I O N : " c o r e _ f o r m - f i e l d - v a l i d a t i o n " } , g e t L e g a c y E v e n t s : f u n c t i o n ( ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   b . u s e ( " e v e n t " , " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { c . r e s o l v e ( w i n d o w . M . c o r e . e v e n t ) } ) , c . p r o m i s e ( ) } , n o t i f y F i l t e r C o n t e n t U p d a t e d : f u n c t i o n ( c ) { c = a ( c ) , b . u s e ( " e v e n t " , " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( M . c o r e . e v e n t . F I L T E R _ C O N T E N T _ U P D A T E D , [ c ] ) ; v a r   d = n e w   b . N o d e L i s t ( c . g e t ( ) ) ; b . f i r e ( M . c o r e . e v e n t . F I L T E R _ C O N T E N T _ U P D A T E D , { n o d e s : d } ) } ) } , n o t i f y E d i t o r C o n t e n t R e s t o r e d : f u n c t i o n ( ) { b . u s e ( " e v e n t " , " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( M . c o r e . e v e n t . E D I T O R _ C O N T E N T _ R E S T O R E D ) , b . f i r e ( M . c o r e . e v e n t . E D I T O R _ C O N T E N T _ R E S T O R E D ) } ) } } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ s a v e _ c a n c e l ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { S A V E _ B U T T O N : ' [ d a t a - a c t i o n = " s a v e " ] ' , C A N C E L _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l " ] ' } , g = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . S A V E _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : " N o   s a v e   b u t t o n   f o u n d " } ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . C A N C E L _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : " N o   c a n c e l   b u t t o n   f o u n d " } ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , g . p r o t o t y p e . c o n s t r u c t o r = g , g . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( ) { b . e x c e p t i o n ( { m e s s a g e : " C a n   n o t   c h a n g e   t h e   f o o t e r   o f   a   s a v e   c a n c e l   m o d a l " } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . S A V E _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . s a v e ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . C A N C E L _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . c a n c e l ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , g . p r o t o t y p e . s e t S a v e B u t t o n T e x t = f u n c t i o n ( a ) { t h i s . g e t F o o t e r ( ) . f i n d ( f . S A V E _ B U T T O N ) . t e x t ( a ) } , g } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ b u i l d e r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { m a k e : f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   r e q u i r e ( [ " c o r e / c h a r t _ " + b . t y p e ] , f u n c t i o n ( a ) { v a r   d = a . p r o t o t y p e . c r e a t e ( a , b ) ; c . r e s o l v e ( d ) } ) , c . p r o m i s e ( ) } } ; r e t u r n   b } ) ; 
 d e f i n e ( ' c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s ' ,   [ " j q u e r y " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b ) { v a r   c = { a c t i v a t e : " c i e : a c t i v a t e " , k e y b o a r d A c t i v a t e : " c i e : k e y b o a r d a c t i v a t e " , e s c a p e : " c i e : e s c a p e " , d o w n : " c i e : d o w n " , u p : " c i e : u p " , h o m e : " c i e : h o m e " , e n d : " c i e : e n d " , n e x t : " c i e : n e x t " , p r e v i o u s : " c i e : p r e v i o u s " , a s t e r i x : " c i e : a s t e r i x " , s c r o l l L o c k : " c i e : s c r o l l L o c k " , s c r o l l T o p : " c i e : s c r o l l T o p " , s c r o l l B o t t o m : " c i e : s c r o l l B o t t o m " , c t r l P a g e U p : " c i e : c t r l P a g e U p " , c t r l P a g e D o w n : " c i e : c t r l P a g e D o w n " , e n t e r : " c i e : e n t e r " } , d = f u n c t i o n ( a , b ) { r e t u r n   b = b | | [ ] , ! ( ! b . l e n g t h | | b . i n d e x O f ( a ) = = = - 1 ) } , e = f u n c t i o n ( a ) { r e t u r n   a . s h i f t K e y | | a . m e t a K e y | | a . a l t K e y | | a . c t r l K e y } , f = f u n c t i o n ( b , c , d ) { b . o f f ( " k e y d o w n . " + c ) . o n ( " k e y d o w n . " + c , f u n c t i o n ( b ) { e ( b ) | | b . k e y C o d e = = d & & a ( b . t a r g e t ) . t r i g g e r ( c , [ { o r i g i n a l E v e n t : b } ] ) } ) } , g = f u n c t i o n ( d ) { d . o f f ( " c l i c k . c i e . a c t i v a t e " ) . o n ( " c l i c k . c i e . a c t i v a t e " , f u n c t i o n ( b ) { a ( b . t a r g e t ) . t r i g g e r ( c . a c t i v a t e , [ { o r i g i n a l E v e n t : b } ] ) } ) , d . o f f ( " k e y d o w n . c i e . a c t i v a t e " ) . o n ( " k e y d o w n . c i e . a c t i v a t e " , f u n c t i o n ( d ) { e ( d ) | | d . k e y C o d e ! = b . e n t e r & & d . k e y C o d e ! = b . s p a c e | | a ( d . t a r g e t ) . t r i g g e r ( c . a c t i v a t e , [ { o r i g i n a l E v e n t : d } ] ) } ) } , h = f u n c t i o n ( d ) { d . o f f ( " k e y d o w n . c i e . k e y b o a r d a c t i v a t e " ) . o n ( " k e y d o w n . c i e . k e y b o a r d a c t i v a t e " , f u n c t i o n ( d ) { e ( d ) | | d . k e y C o d e ! = b . e n t e r & & d . k e y C o d e ! = b . s p a c e | | a ( d . t a r g e t ) . t r i g g e r ( c . k e y b o a r d A c t i v a t e , [ { o r i g i n a l E v e n t : d } ] ) } ) } , i = f u n c t i o n ( a ) { f ( a , c . e s c a p e , b . e s c a p e ) } , j = f u n c t i o n ( a ) { f ( a , c . d o w n , b . a r r o w D o w n ) } , k = f u n c t i o n ( a ) { f ( a , c . u p , b . a r r o w U p ) } , l = f u n c t i o n ( a ) { f ( a , c . h o m e , b . h o m e ) } , m = f u n c t i o n ( a ) { f ( a , c . e n d , b . e n d ) } , n = f u n c t i o n ( d ) { v a r   e = " r t l " = = a ( " h t m l " ) . a t t r ( " d i r " ) ? b . a r r o w L e f t : b . a r r o w R i g h t ; f ( d , c . n e x t , e ) } , o = f u n c t i o n ( d ) { v a r   e = " r t l " = = a ( " h t m l " ) . a t t r ( " d i r " ) ? b . a r r o w R i g h t : b . a r r o w L e f t ; f ( d , c . p r e v i o u s , e ) } , p = f u n c t i o n ( a ) { f ( a , c . a s t e r i x , b . a s t e r i x ) } , q = f u n c t i o n ( a ) { a . o f f ( " s c r o l l . c i e . s c r o l l T o p " ) . o n ( " s c r o l l . c i e . s c r o l l T o p " , f u n c t i o n ( b ) { v a r   d = a . s c r o l l T o p ( ) ; 0 = = = d & & a . t r i g g e r ( c . s c r o l l T o p , [ { o r i g i n a l E v e n t : b } ] ) } ) } , r = f u n c t i o n ( a ) { a . o f f ( " s c r o l l . c i e . s c r o l l B o t t o m " ) . o n ( " s c r o l l . c i e . s c r o l l B o t t o m " , f u n c t i o n ( b ) { v a r   d = a . s c r o l l T o p ( ) , e = a . i n n e r H e i g h t ( ) , f = a [ 0 ] . s c r o l l H e i g h t ; d + e > = f & & a . t r i g g e r ( c . s c r o l l B o t t o m , [ { o r i g i n a l E v e n t : b } ] ) } ) } , s = f u n c t i o n ( a ) { a . o f f ( " D O M M o u s e S c r o l l . c i e . D O M M o u s e S c r o l l L o c k   m o u s e w h e e l . c i e . m o u s e w h e e l L o c k " ) . o n ( " D O M M o u s e S c r o l l . c i e . D O M M o u s e S c r o l l L o c k   m o u s e w h e e l . c i e . m o u s e w h e e l L o c k " , f u n c t i o n ( b ) { v a r   d = a . s c r o l l T o p ( ) , e = a [ 0 ] . s c r o l l H e i g h t , f = a . h e i g h t ( ) , g = " D O M M o u s e S c r o l l " = = b . t y p e ? b . o r i g i n a l E v e n t . d e t a i l * - 4 0 : b . o r i g i n a l E v e n t . w h e e l D e l t a , h = g > 0 ; r e t u r n ! h & & - g > e - f - d ? ( a . s c r o l l T o p ( e ) , b . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , b . r e t u r n V a l u e = ! 1 , a . t r i g g e r ( c . s c r o l l L o c k , [ { o r i g i n a l E v e n t : b } ] ) , ! 1 ) : ! ( h & & g > d ) | | ( a . s c r o l l T o p ( 0 ) , b . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , b . r e t u r n V a l u e = ! 1 , a . t r i g g e r ( c . s c r o l l L o c k , [ { o r i g i n a l E v e n t : b } ] ) , ! 1 ) } ) } , t = f u n c t i o n ( d ) { d . o f f ( " k e y d o w n . c i e . c t r l p a g e u p " ) . o n ( " k e y d o w n . c i e . c t r l p a g e u p " , f u n c t i o n ( d ) { d . c t r l K e y & & d . k e y C o d e = = b . p a g e U p & & a ( d . t a r g e t ) . t r i g g e r ( c . c t r l P a g e U p , [ { o r i g i n a l E v e n t : d } ] ) } ) } , u = f u n c t i o n ( d ) { d . o f f ( " k e y d o w n . c i e . c t r l p a g e d o w n " ) . o n ( " k e y d o w n . c i e . c t r l p a g e d o w n " , f u n c t i o n ( d ) { d . c t r l K e y & & d . k e y C o d e = = b . p a g e D o w n & & a ( d . t a r g e t ) . t r i g g e r ( c . c t r l P a g e D o w n , [ { o r i g i n a l E v e n t : d } ] ) } ) } , v = f u n c t i o n ( a ) { f ( a , c . e n t e r , b . e n t e r ) } , w = f u n c t i o n ( ) { v a r   a = { } ; r e t u r n   a [ c . a c t i v a t e ] = g , a [ c . k e y b o a r d A c t i v a t e ] = h , a [ c . e s c a p e ] = i , a [ c . d o w n ] = j , a [ c . u p ] = k , a [ c . h o m e ] = l , a [ c . e n d ] = m , a [ c . n e x t ] = n , a [ c . p r e v i o u s ] = o , a [ c . a s t e r i x ] = p , a [ c . s c r o l l L o c k ] = s , a [ c . s c r o l l T o p ] = q , a [ c . s c r o l l B o t t o m ] = r , a [ c . c t r l P a g e U p ] = t , a [ c . c t r l P a g e D o w n ] = u , a [ c . e n t e r ] = v , a } , x = f u n c t i o n ( b , c ) { b = a ( b ) , c = c | | [ ] , b . l e n g t h & & c . l e n g t h & & a . e a c h ( w ( ) , f u n c t i o n ( a , e ) { d ( a , c ) & & e ( b ) } ) } ; r e t u r n { d e f i n e : x , e v e n t s : c } } ) ; 
 d e f i n e ( ' c o r e / l o c a l s t o r a g e ' ,   [ " c o r e / c o n f i g " , " c o r e / s t o r a g e w r a p p e r " ] , f u n c t i o n ( a , b ) { v a r   c = n e w   b ( w i n d o w . l o c a l S t o r a g e ) ; r e t u r n { g e t : f u n c t i o n ( a ) { r e t u r n   c . g e t ( a ) } , s e t : f u n c t i o n ( a , b ) { r e t u r n   c . s e t ( a , b ) } } } ) ; 
 d e f i n e ( ' c o r e / p o p o v e r _ r e g i o n _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c ) { v a r   d = { C O N T E N T : " . p o p o v e r - r e g i o n - c o n t e n t " , C O N T E N T _ C O N T A I N E R : " . p o p o v e r - r e g i o n - c o n t e n t - c o n t a i n e r " , M E N U _ C O N T A I N E R : " . p o p o v e r - r e g i o n - c o n t a i n e r " , M E N U _ T O G G L E : " . p o p o v e r - r e g i o n - t o g g l e " , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' } , e = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( d . C O N T E N T ) , t h i s . c o n t e n t C o n t a i n e r = t h i s . r o o t . f i n d ( d . C O N T E N T _ C O N T A I N E R ) , t h i s . m e n u C o n t a i n e r = t h i s . r o o t . f i n d ( d . M E N U _ C O N T A I N E R ) , t h i s . m e n u T o g g l e = t h i s . r o o t . f i n d ( d . M E N U _ T O G G L E ) , t h i s . i s L o a d i n g = ! 1 , t h i s . p r o m i s e s = { c l o s e H a n d l e r s : a . D e f e r r e d ( ) , n a v i g a t i o n H a n d l e r s : a . D e f e r r e d ( ) } , t h i s . r e g i s t e r B a s e E v e n t L i s t e n e r s ( ) } ; r e t u r n   e . p r o t o t y p e . e v e n t s = f u n c t i o n ( ) { r e t u r n { m e n u O p e n e d : " p o p o v e r r e g i o n : m e n u o p e n e d " , m e n u C l o s e d : " p o p o v e r r e g i o n : m e n u c l o s e d " , s t a r t L o a d i n g : " p o p o v e r r e g i o n : s t a r t L o a d i n g " , s t o p L o a d i n g : " p o p o v e r r e g i o n : s t o p L o a d i n g " } } , e . p r o t o t y p e . g e t C o n t e n t C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t C o n t a i n e r } , e . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , e . p r o t o t y p e . i s M e n u O p e n = f u n c t i o n ( ) { r e t u r n ! t h i s . r o o t . h a s C l a s s ( " c o l l a p s e d " ) } , e . p r o t o t y p e . t o g g l e M e n u = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? t h i s . c l o s e M e n u ( ) : t h i s . o p e n M e n u ( ) } , e . p r o t o t y p e . c l o s e M e n u = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) & & ( t h i s . r o o t . a d d C l a s s ( " c o l l a p s e d " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . m e n u C l o s e d ) ) } , e . p r o t o t y p e . o p e n M e n u = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) | | ( t h i s . r o o t . r e m o v e C l a s s ( " c o l l a p s e d " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . p r o m i s e s . c l o s e H a n d l e r s . r e s o l v e ( ) , t h i s . p r o m i s e s . n a v i g a t i o n H a n d l e r s . r e s o l v e ( ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . m e n u O p e n e d ) ) } , e . p r o t o t y p e . u p d a t e B u t t o n A r i a L a b e l = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? b . g e t _ s t r i n g ( " h i d e p o p o v e r w i n d o w " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : b . g e t _ s t r i n g ( " s h o w p o p o v e r w i n d o w " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) } , e . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 0 , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . a d d C l a s s ( " l o a d i n g " ) , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . a t t r ( " a r i a - b u s y " , " t r u e " ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . s t a r t L o a d i n g ) } , e . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 1 , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . r e m o v e C l a s s ( " l o a d i n g " ) , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . a t t r ( " a r i a - b u s y " , " f a l s e " ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . s t o p L o a d i n g ) } , e . p r o t o t y p e . f o c u s M e n u T o g g l e = f u n c t i o n ( ) { t h i s . m e n u T o g g l e . f o c u s ( ) } , e . p r o t o t y p e . c o n t e n t I t e m H a s F o c u s = f u n c t i o n ( ) { r e t u r n   t h i s . g e t C o n t e n t I t e m W i t h F o c u s ( ) . l e n g t h > 0 } , e . p r o t o t y p e . g e t C o n t e n t I t e m W i t h F o c u s = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t . a c t i v e E l e m e n t ) , c = t h i s . g e t C o n t e n t ( ) . c h i l d r e n ( ) , d = c . f i l t e r ( b ) ; r e t u r n   d . l e n g t h | | ( d = c . h a s ( b ) ) , d } , e . p r o t o t y p e . f o c u s C o n t e n t I t e m = f u n c t i o n ( a ) { a . i s ( d . C A N _ R E C E I V E _ F O C U S ) ? a . f o c u s ( ) : a . f i n d ( d . C A N _ R E C E I V E _ F O C U S ) . f i r s t ( ) . f o c u s ( ) } , e . p r o t o t y p e . f o c u s F i r s t C o n t e n t I t e m = f u n c t i o n ( ) { t h i s . f o c u s C o n t e n t I t e m ( t h i s . g e t C o n t e n t ( ) . c h i l d r e n ( ) . f i r s t ( ) ) } , e . p r o t o t y p e . f o c u s L a s t C o n t e n t I t e m = f u n c t i o n ( ) { t h i s . f o c u s C o n t e n t I t e m ( t h i s . g e t C o n t e n t ( ) . c h i l d r e n ( ) . l a s t ( ) ) } , e . p r o t o t y p e . f o c u s N e x t C o n t e n t I t e m = f u n c t i o n ( ) { v a r   a = t h i s . g e t C o n t e n t I t e m W i t h F o c u s ( ) ; a . l e n g t h & & a . n e x t ( ) & & t h i s . f o c u s C o n t e n t I t e m ( a . n e x t ( ) ) } , e . p r o t o t y p e . f o c u s P r e v i o u s C o n t e n t I t e m = f u n c t i o n ( ) { v a r   a = t h i s . g e t C o n t e n t I t e m W i t h F o c u s ( ) ; a . l e n g t h & & a . p r e v ( ) & & t h i s . f o c u s C o n t e n t I t e m ( a . p r e v ( ) ) } , e . p r o t o t y p e . r e g i s t e r B a s e E v e n t L i s t e n e r s = f u n c t i o n ( ) { c . d e f i n e ( t h i s . r o o t , [ c . e v e n t s . a c t i v a t e , c . e v e n t s . e s c a p e ] ) , t h i s . r o o t . o n ( c . e v e n t s . a c t i v a t e , d . M E N U _ T O G G L E , f u n c t i o n ( ) { t h i s . t o g g l e M e n u ( ) } . b i n d ( t h i s ) ) , t h i s . p r o m i s e s . c l o s e H a n d l e r s . d o n e ( f u n c t i o n ( ) { t h i s . r o o t . o n ( c . e v e n t s . e s c a p e , f u n c t i o n ( ) { t h i s . c l o s e M e n u ( ) , t h i s . f o c u s M e n u T o g g l e ( ) } . b i n d ( t h i s ) ) , a ( " h t m l " ) . c l i c k ( f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; t h i s . r o o t . i s ( c ) | | t h i s . r o o t . h a s ( c ) . l e n g t h | | t h i s . c l o s e M e n u ( ) } . b i n d ( t h i s ) ) , c . d e f i n e ( t h i s . g e t C o n t e n t C o n t a i n e r ( ) , [ c . e v e n t s . s c r o l l B o t t o m ] ) } . b i n d ( t h i s ) ) } , e . p r o t o t y p e . r e g i s t e r L i s t N a v i g a t i o n E v e n t L i s t e n e r s = f u n c t i o n ( ) { c . d e f i n e ( t h i s . r o o t , [ c . e v e n t s . d o w n ] ) , t h i s . r o o t . o n ( c . e v e n t s . d o w n , f u n c t i o n ( a , b ) { t h i s . i s M e n u O p e n ( ) ? t h i s . c o n t e n t I t e m H a s F o c u s ( ) ? t h i s . f o c u s N e x t C o n t e n t I t e m ( ) : t h i s . f o c u s F i r s t C o n t e n t I t e m ( ) : ( t h i s . o p e n M e n u ( ) , t h i s . f o c u s F i r s t C o n t e n t I t e m ( ) ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . p r o m i s e s . n a v i g a t i o n H a n d l e r s . d o n e ( f u n c t i o n ( ) { c . d e f i n e ( t h i s . r o o t , [ c . e v e n t s . u p , c . e v e n t s . h o m e , c . e v e n t s . e n d ] ) , t h i s . r o o t . o n ( c . e v e n t s . u p , f u n c t i o n ( a , b ) { t h i s . f o c u s P r e v i o u s C o n t e n t I t e m ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( c . e v e n t s . h o m e , f u n c t i o n ( a , b ) { t h i s . f o c u s F i r s t C o n t e n t I t e m ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( c . e v e n t s . e n d , f u n c t i o n ( a , b ) { t h i s . f o c u s L a s t C o n t e n t I t e m ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , e } ) ; 
 d e f i n e ( ' c o r e / s e s s i o n s t o r a g e ' ,   [ " c o r e / c o n f i g " , " c o r e / s t o r a g e w r a p p e r " ] , f u n c t i o n ( a , b ) { v a r   c = n e w   b ( w i n d o w . s e s s i o n S t o r a g e ) ; r e t u r n { g e t : f u n c t i o n ( a ) { r e t u r n   c . g e t ( a ) } , s e t : f u n c t i o n ( a , b ) { r e t u r n   c . s e t ( a , b ) } } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ b a c k d r o p ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = { R O O T : ' [ d a t a - r e g i o n = " m o d a l - b a c k d r o p " ] ' } , e = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . i s A t t a c h e d = ! 1 , t h i s . r o o t . i s ( d . R O O T ) | | c . e x c e p t i o n ( { m e s s a g e : " E l e m e n t   i s   n o t   a   m o d a l   b a c k d r o p " } ) } ; r e t u r n   e . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , e . p r o t o t y p e . a t t a c h T o D O M = f u n c t i o n ( ) { t h i s . i s A t t a c h e d | | ( a ( " b o d y " ) . a p p e n d ( t h i s . r o o t ) , t h i s . i s A t t a c h e d = ! 0 ) } , e . p r o t o t y p e . s e t Z I n d e x = f u n c t i o n ( a ) { t h i s . r o o t . c s s ( " z - i n d e x " , a ) } , e . p r o t o t y p e . i s V i s i b l e = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " s h o w " ) } , e . p r o t o t y p e . h a s T r a n s i t i o n s = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R o o t ( ) . h a s C l a s s ( " f a d e " ) } , e . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) | | ( t h i s . i s A t t a c h e d | | t h i s . a t t a c h T o D O M ( ) , t h i s . r o o t . r e m o v e C l a s s ( " h i d e " ) . a d d C l a s s ( " s h o w " ) ) } , e . p r o t o t y p e . h i d e = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) & & ( t h i s . h a s T r a n s i t i o n s ( ) ? t h i s . g e t R o o t ( ) . o n e ( " t r a n s i t i o n e n d   w e b k i t T r a n s i t i o n E n d   o T r a n s i t i o n E n d " , f u n c t i o n ( ) { t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) } . b i n d ( t h i s ) ) : t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) ) } , e . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e ( ) } , e } ) ; 
 d e f i n e ( ' c o r e / u r l ' ,   [ " j q u e r y " , " c o r e / c o n f i g " ] , f u n c t i o n ( a , b ) { r e t u r n { f i l e U r l : f u n c t i o n ( a , c ) { v a r   d = b . w w w r o o t + a ; r e t u r n " / " ! = c . c h a r A t ( 0 ) & & ( c = " / " + c ) , d + = b . s l a s h a r g u m e n t s ? c : " ? f i l e = " + e n c o d e U R I C o m p o n e n t ( c ) } , r e l a t i v e U r l : f u n c t i o n ( c , d , e ) { i f ( 0 = = = c . i n d e x O f ( " h t t p : " ) | | 0 = = = c . i n d e x O f ( " h t t p s : " ) | | c . i n d e x O f ( " : / / " ) > = 0 ) t h r o w   n e w   E r r o r ( " r e l a t i v e U r l   f u n c t i o n   d o e s   n o t   a c c e p t   a b s o l u t e   u r l s " ) ; " / " ! = c . c h a r A t ( 0 ) & & ( c = " / " + c ) , " a d m i n " ! = = b . a d m i n & & ( c = c . r e p l a c e ( / ^ \ / a d m i n \ / / , " / " + b . a d m i n + " / " ) ) , d = d | | { } , e & & ( d . s e s s k e y = b . s e s s k e y ) ; v a r   f = " " ; r e t u r n   O b j e c t . k e y s ( d ) . l e n g t h & & ( f = a . m a p ( d , f u n c t i o n ( a , b ) { r e t u r n   b + " = " + a } ) . j o i n ( " & " ) ) , " " ! = = f ? b . w w w r o o t + c + " ? " + f : b . w w w r o o t + c } , i m a g e U r l : f u n c t i o n ( a , b ) { r e t u r n   M . u t i l . i m a g e _ u r l ( a , b ) } } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { s h o w n : " m o d a l : s h o w n " , h i d d e n : " m o d a l : h i d d e n " , d e s t r o y e d : " m o d a l : d e s t r o y e d " , s a v e : " m o d a l - s a v e - c a n c e l : s a v e " , c a n c e l : " m o d a l - s a v e - c a n c e l : c a n c e l " , y e s : " m o d a l - c o n f i r m : y e s " , n o : " m o d a l - c o n f i r m : n o " } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t _ h t m l t a b l e ' ,   [ " j q u e r y " , " c o r e / c h a r t _ o u t p u t _ b a s e " ] , f u n c t i o n ( a , b ) { f u n c t i o n   c ( ) { b . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ b u i l d ( ) } r e t u r n   c . p r o t o t y p e = O b j e c t . c r e a t e ( b . p r o t o t y p e ) , c . p r o t o t y p e . _ b u i l d = f u n c t i o n ( ) { t h i s . _ n o d e . e m p t y ( ) , t h i s . _ n o d e . a p p e n d ( t h i s . _ m a k e T a b l e ( ) ) } , c . p r o t o t y p e . _ m a k e T a b l e = f u n c t i o n ( ) { v a r   b , c , d , e = a ( " < t a b l e > " ) , f = t h i s . _ c h a r t , g = f . g e t L a b e l s ( ) , h = g . l e n g t h > 0 , i = f . g e t S e r i e s ( ) , j = i [ 0 ] . g e t C o u n t ( ) ; e . a d d C l a s s ( " c h a r t - o u t p u t - h t m l t a b l e   g e n e r a l t a b l e " ) , n u l l ! = = f . g e t T i t l e ( ) & & e . a p p e n d ( a ( " < c a p t i o n > " ) . t e x t ( f . g e t T i t l e ( ) ) ) , b = a ( " < t r > " ) , h & & b . a p p e n d ( a ( " < t d > " ) ) , i . f o r E a c h ( f u n c t i o n ( c ) { b . a p p e n d ( a ( " < t h > " ) . t e x t ( c . g e t L a b e l ( ) ) . a t t r ( " s c o p e " , " c o l " ) ) } ) , e . a p p e n d ( b ) ; f o r ( v a r   k = 0 ; k < j ; k + + ) { b = a ( " < t r > " ) , g . l e n g t h > 0 & & b . a p p e n d ( a ( " < t h > " ) . t e x t ( g [ k ] ) . a t t r ( " s c o p e " , " r o w " ) ) ; f o r ( v a r   l = 0 ; l < i . l e n g t h ; l + + ) c = i [ l ] . g e t V a l u e s ( ) [ k ] , d = i [ l ] . g e t L a b e l s ( ) , n u l l ! = = d & & ( c = i [ l ] . g e t L a b e l s ( ) [ k ] ) , b . a p p e n d ( a ( " < t d > " ) . t e x t ( c ) ) ; e . a p p e n d ( b ) } r e t u r n   e } , c . p r o t o t y p e . u p d a t e = f u n c t i o n ( ) { t h i s . _ b u i l d ( ) } , c } ) ; 
 d e f i n e ( ' c o r e / i c o n _ s y s t e m _ f o n t a w e s o m e ' ,   [ " c o r e / i c o n _ s y s t e m " , " j q u e r y " , " c o r e / a j a x " , " c o r e / m u s t a c h e " , " c o r e / l o c a l s t o r a g e " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = n u l l , h = n u l l , i = f u n c t i o n ( ) { a . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   i . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , i . p r o t o t y p e . i n i t = f u n c t i o n ( ) { i f ( g ) r e t u r n   b . w h e n ( t h i s ) ; v a r   a = e . g e t ( " c o r e / i c o n m a p - f o n t a w e s o m e " ) ; r e t u r n   a & & ( a = J S O N . p a r s e ( a ) ) , a ? ( g = a , b . w h e n ( t h i s ) ) : ( n u l l = = = h & & ( h = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ o u t p u t _ l o a d _ f o n t a w e s o m e _ i c o n _ m a p " , a r g s : [ ] } ] , ! 0 , ! 1 ) [ 0 ] ) , h . t h e n ( f u n c t i o n ( a ) { r e t u r n   g = { } , b . e a c h ( a , f u n c t i o n ( a , b ) { g [ b . c o m p o n e n t + " / " + b . p i x ] = b . t o } ) , e . s e t ( " c o r e / i c o n m a p - f o n t a w e s o m e " , J S O N . s t r i n g i f y ( g ) ) , t h i s } . b i n d ( t h i s ) ) ) } , i . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , b , c , e ) { v a r   h = g [ b + " / " + a ] , i = ! 1 ; i f ( " u n d e f i n e d " = = t y p e o f   h ) { v a r   j = f . i m a g e U r l ( a , b ) ; i = { a t t r i b u t e s : [ { n a m e : " s r c " , v a l u e : j } , { n a m e : " a l t " , v a l u e : c } , { n a m e : " t i t l e " , v a l u e : c } ] } } v a r   k = { k e y : h , t i t l e : c , a l t : c , u n m a p p e d I c o n : i } ; r e t u r n   d . r e n d e r ( e , k ) } , i . p r o t o t y p e . g e t T e m p l a t e N a m e = f u n c t i o n ( ) { r e t u r n " c o r e / p i x _ i c o n _ f o n t a w e s o m e " } , i } ) ; 
 d e f i n e ( ' c o r e / a d d b l o c k m o d a l ' ,   [ " j q u e r y " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e ) { r e t u r n { i n i t : f u n c t i o n ( f ) { v a r   g = a ( " [ d a t a - k e y = a d d b l o c k ] " ) , h = [ ] ; a . e a c h ( f . b l o c k s , f u n c t i o n ( a , b ) { h [ h . l e n g t h ] = { k e y : " p l u g i n n a m e " , c o m p o n e n t : " b l o c k _ " + b } } ) ; v a r   i = d . g e t _ s t r i n g s ( h ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . m a p ( f u n c t i o n ( a , b ) { r e t u r n { n a m e : f . b l o c k s [ b ] , t i t l e : a } } ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . b l o c k s = a , c . r e n d e r ( " c o r e / a d d _ b l o c k _ b o d y " , f ) } ) . f a i l ( e . e x c e p t i o n ) , j = d . g e t _ s t r i n g ( " a d d b l o c k " ) . f a i l ( e . e x c e p t i o n ) ; b . c r e a t e ( { t i t l e : j , b o d y : i , t y p e : " C A N C E L " } , g ) } } } ) ; 
 d e f i n e ( ' c o r e / f r a g m e n t ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( c , d , e , f ) { v a r   g = [ ] ; f o r ( v a r   h   i n   f ) g . p u s h ( { n a m e : h , v a l u e : f [ h ] } ) ; v a r   i = a . D e f e r r e d ( ) , j = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ g e t _ f r a g m e n t " , a r g s : { c o m p o n e n t : c , c a l l b a c k : d , c o n t e x t i d : e , a r g s : g } } ] , ! 1 ) ; r e t u r n   j [ 0 ] . d o n e ( f u n c t i o n ( a ) { i . r e s o l v e ( a ) } ) . f a i l ( f u n c t i o n ( a ) { i . r e j e c t ( a ) } ) , i . p r o m i s e ( ) } ; r e t u r n { l o a d F r a g m e n t : f u n c t i o n ( b , d , e , f ) { v a r   g = a . D e f e r r e d ( ) ; r e t u r n   a . w h e n ( c ( b , d , e , f ) ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a ( b . j a v a s c r i p t ) , d = " " ; c . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) ; v a r   e = c . p r o p ( " t a g N a m e " ) ; i f ( e & & " s c r i p t " = = e . t o L o w e r C a s e ( ) ) i f ( c . a t t r ( " s r c " ) ) { v a r   f = ! 1 ; a ( " s c r i p t " ) . e a c h ( f u n c t i o n ( b , d ) { r e t u r n   a ( d ) . a t t r ( " s r c " ) = = c . a t t r ( " s r c " ) & & ( f = ! 0 ) , ! f } ) , f | | ( d + = "   {   " , d + = '   n o d e   =   d o c u m e n t . c r e a t e E l e m e n t ( " s c r i p t " ) ;   ' , d + = '   n o d e . t y p e   =   " t e x t / j a v a s c r i p t " ;   ' , d + = '   n o d e . s r c   =   d e c o d e U R I ( " ' + e n c o d e U R I ( c . a t t r ( " s r c " ) ) + ' " ) ;   ' , d + = '   d o c u m e n t . g e t E l e m e n t s B y T a g N a m e ( " h e a d " ) [ 0 ] . a p p e n d C h i l d ( n o d e ) ;   ' , d + = "   }   " ) } e l s e   d + = "   " + c . t e x t ( ) } ) , g . r e s o l v e ( b . h t m l , d ) } ) . f a i l ( f u n c t i o n ( a ) { g . r e j e c t ( a ) } ) , g . p r o m i s e ( ) } } } ) ; 
 d e f i n e ( ' c o r e / t r u n c a t e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = / ( \ s * \ S + | \ s ) $ / , c = / ^ ( \ S * ) / , d = / \ s / , e = f u n c t i o n ( a , b ) { i f ( n u l l = = t h i s ) t h r o w   T y p e E r r o r ( ) ; v a r   c = S t r i n g ( a ) , d = c . l e n g t h , e = b ? N u m b e r ( b ) : 0 ; i f ( e ! = e & & ( e = 0 ) , e < = - 1 | | e > = d ) r e t u r n " " ; e = 0 | e ; v a r   f , g = c . c h a r C o d e A t ( e ) , h = e + 1 , i = 1 ; r e t u r n   g > = 5 5 2 9 6 & & g < = 5 6 3 1 9 & & d > h & & ( f = c . c h a r C o d e A t ( h ) , f > = 5 6 3 2 0 & & f < = 5 7 3 4 3 & & ( i = 2 ) ) , i } , f = f u n c t i o n ( a ) { f o r ( v a r   b = 0 , c = 0 ; c < a . l e n g t h ; c + = e ( a , c ) ) b + + ; r e t u r n   b } , g = f u n c t i o n ( a , b ) { i f ( ! a . l e n g t h ) r e t u r n   0 ; v a r   c = 0 , d = 0 ; d o   c + = e ( a , c ) , d + + ; w h i l e ( c < a . l e n g t h & & d < b ) ; r e t u r n   c } ; r e t u r n   a . t r u n c a t e = f u n c t i o n ( b , c ) { r e t u r n   a ( " < d i v > < / d i v > " ) . a p p e n d ( b ) . t r u n c a t e ( c ) . h t m l ( ) } , a . f n . t r u n c a t e = f u n c t i o n ( e ) { a . i s N u m e r i c ( e ) & & ( e = { l e n g t h : e } ) ; v a r   h = a . e x t e n d ( { } , a . t r u n c a t e . d e f a u l t s , e ) ; r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   e = a ( t h i s ) ; h . n o B r e a k s & & e . f i n d ( " b r " ) . r e p l a c e W i t h ( "   " ) ; v a r   i = h . e l l i p s i s . l e n g t h , j = e . t e x t ( ) , k = f ( j ) , l = k - h . l e n g t h + i ; i f ( ! ( k < h . l e n g t h ) ) { i f ( h . s t r i p T a g s & & e . t e x t ( j ) , h . w o r d s & & l > 0 ) { v a r   m = j . s l i c e ( 0 , g ( j , h . l e n g t h - i ) + 1 ) , n = m . r e p l a c e ( b , " " ) , o = f ( n ) , p = ! m . m a t c h ( d ) ; l = h . k e e p F i r s t W o r d & & 0 = = = o ? k - f ( c . e x e c ( j ) [ 0 ] ) - i : p & & 0 = = = o ? k - h . l e n g t h + i : k - o - 1 } l > k & & ( l = k - h . l e n g t h ) , l < 0 | | ! l & & ! h . t r u n c a t e d | | a . e a c h ( e . c o n t e n t s ( ) . g e t ( ) . r e v e r s e ( ) , f u n c t i o n ( b , c ) { v a r   d = a ( c ) , e = d . t e x t ( ) , j = f ( e ) ; i f ( j < = l ) r e t u r n   h . t r u n c a t e d = ! 0 , l - = j , v o i d   d . r e m o v e ( ) ; i f ( 3 = = = c . n o d e T y p e ) { v a r   k = j - l ; r e t u r n   k = k > = 0 ? g ( e , k ) : 0 , a ( c . s p l i t T e x t ( k ) ) . r e p l a c e W i t h ( h . e l l i p s i s ) , ! 1 } r e t u r n   d . t r u n c a t e ( a . e x t e n d ( h , { l e n g t h : j - l + i } ) ) , ! 1 } ) } } ) } , a . t r u n c a t e . d e f a u l t s = { s t r i p T a g s : ! 1 , w o r d s : ! 1 , k e e p F i r s t W o r d : ! 1 , n o B r e a k s : ! 1 , l e n g t h : 1 / 0 , e l l i p s i s : " & " } , { t r u n c a t e : a . t r u n c a t e } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ r e g i s t r y ' ,   [ " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a ) { v a r   b = { } , c = f u n c t i o n ( a ) { r e t u r n   b [ a ] } , d = f u n c t i o n ( d , e , f ) { c ( d ) & & a . e x c e p t i o n ( { m e s s a g e : " M o d a l   o f     t y p e   ' " + d + " '   i s   a l r e a d y   r e g i s t e r e d " } ) , e & & " f u n c t i o n " = = t y p e o f   e | | a . e x c e p t i o n ( { m e s s a g e : " Y o u   m u s t   p r o v i d e   a   m o d a l   m o d u l e " } ) , f | | a . e x c e p t i o n ( { m e s s a g e : " Y o u   m u s t   p r o v i d e   a   m o d a l   t e m p l a t e " } ) , b [ d ] = { m o d u l e : e , t e m p l a t e : f } } ; r e t u r n { r e g i s t e r : d , g e t : c } } ) ; 
 d e f i n e ( ' c o r e / f i r s t ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { a ( d o c u m e n t ) . b i n d ( " a j a x S t a r t " , f u n c t i o n ( ) { M . u t i l . j s _ p e n d i n g ( " j q " ) } ) . b i n d ( " a j a x S t o p " , f u n c t i o n ( ) { M . u t i l . j s _ c o m p l e t e ( " j q " ) } ) } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ a x i s ' ,   [ ] , f u n c t i o n ( ) { f u n c t i o n   a ( ) { } r e t u r n   a . p r o t o t y p e . P O S _ D E F A U L T = n u l l , a . p r o t o t y p e . P O S _ B O T T O M = " b o t t o m " , a . p r o t o t y p e . P O S _ L E F T = " l e f t " , a . p r o t o t y p e . P O S _ R I G H T = " r i g h t " , a . p r o t o t y p e . P O S _ T O P = " t o p " , a . p r o t o t y p e . _ l a b e l = n u l l , a . p r o t o t y p e . _ l a b e l s = n u l l , a . p r o t o t y p e . _ m a x = n u l l , a . p r o t o t y p e . _ m i n = n u l l , a . p r o t o t y p e . _ p o s i t i o n = n u l l , a . p r o t o t y p e . _ s t e p S i z e = n u l l , a . p r o t o t y p e . c r e a t e = f u n c t i o n ( b ) { v a r   c = n e w   a ; r e t u r n   c . s e t P o s i t i o n ( b . p o s i t i o n ) , c . s e t L a b e l ( b . l a b e l ) , c . s e t S t e p S i z e ( b . s t e p S i z e ) , c . s e t M a x ( b . m a x ) , c . s e t M i n ( b . m i n ) , c . s e t L a b e l s ( b . l a b e l s ) , c } , a . p r o t o t y p e . g e t L a b e l = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l } , a . p r o t o t y p e . g e t L a b e l s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l s } , a . p r o t o t y p e . g e t M a x = f u n c t i o n ( ) { r e t u r n   t h i s . _ m a x } , a . p r o t o t y p e . g e t M i n = f u n c t i o n ( ) { r e t u r n   t h i s . _ m i n } , a . p r o t o t y p e . g e t P o s i t i o n = f u n c t i o n ( ) { r e t u r n   t h i s . _ p o s i t i o n } , a . p r o t o t y p e . g e t S t e p S i z e = f u n c t i o n ( ) { r e t u r n   t h i s . _ s t e p S i z e } , a . p r o t o t y p e . s e t L a b e l = f u n c t i o n ( a ) { t h i s . _ l a b e l = a | | n u l l } , a . p r o t o t y p e . s e t L a b e l s = f u n c t i o n ( a ) { t h i s . _ l a b e l s = a | | n u l l , n u l l = = = t h i s . _ l a b e l s | | n u l l ! = = t h i s . _ s t e p S i z e | | n u l l ! = = t h i s . _ m i n & & 0 ! = = t h i s . _ m i n | | n u l l ! = = t h i s . _ m a x | | ( t h i s . s e t S t e p S i z e ( 1 ) , t h i s . s e t M i n ( 0 ) , t h i s . s e t M a x ( a . l e n g t h - 1 ) ) } , a . p r o t o t y p e . s e t M a x = f u n c t i o n ( a ) { t h i s . _ m a x = " u n d e f i n e d " ! = t y p e o f   a ? a : n u l l } , a . p r o t o t y p e . s e t M i n = f u n c t i o n ( a ) { t h i s . _ m i n = " u n d e f i n e d " ! = t y p e o f   a ? a : n u l l } , a . p r o t o t y p e . s e t P o s i t i o n = f u n c t i o n ( a ) { i f ( a ! = t h i s . P O S _ D E F A U L T & & a ! = t h i s . P O S _ B O T T O M & & a ! = t h i s . P O S _ L E F T & & a ! = t h i s . P O S _ R I G H T & & a ! = t h i s . P O S _ T O P ) t h r o w   n e w   E r r o r ( " I n v a l i d   a x i s   p o s i t i o n . " ) ; t h i s . _ p o s i t i o n = a } , a . p r o t o t y p e . s e t S t e p S i z e = f u n c t i o n ( a ) { i f ( " u n d e f i n e d " = = t y p e o f   a | | n u l l = = = a ) a = n u l l ; e l s e { i f ( i s N a N ( N u m b e r ( a ) ) ) t h r o w   n e w   E r r o r ( " V a l u e   f o r   s t e p S i z e   i s   n o t   a   n u m b e r . " ) ; a = N u m b e r ( a ) } t h i s . _ s t e p S i z e = a } , a } ) ; 
 d e f i n e ( ' c o r e / s e a r c h - i n p u t ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = n u l l , c = f u n c t i o n ( a ) { b . h a s C l a s s ( " e x p a n d e d " ) ? e ( ) : d ( a ) } , d = f u n c t i o n ( c ) { v a r   d = a ( d o c u m e n t ) . w i d t h ( ) ; i f ( " k e y d o w n " ! = = c . t y p e | | 1 3 = = = c . k e y C o d e | | 3 2 = = = c . k e y C o d e ) r e t u r n   d < = 7 6 7 & & ( " c l i c k " = = = c . t y p e | | " k e y d o w n " = = = c . t y p e ) ? v o i d   f ( ) : v o i d ( d < = 7 6 7 | | ( " k e y d o w n " = = = c . t y p e & & c . p r e v e n t D e f a u l t ( ) , b . a d d C l a s s ( " e x p a n d e d " ) , b . f i n d ( " f o r m " ) . a d d C l a s s ( " e x p a n d e d " ) , b . f i n d ( " i n p u t " ) . f o c u s ( ) ) ) } , e = f u n c t i o n ( ) { b . r e m o v e C l a s s ( " e x p a n d e d " ) , b . f i n d ( " f o r m " ) . r e m o v e C l a s s ( " e x p a n d e d " ) } , f = f u n c t i o n ( ) { b . f i n d ( " f o r m " ) . s u b m i t ( ) } ; r e t u r n { i n i t : f u n c t i o n ( d ) { b = a ( " # " + d ) , b . o n ( " c l i c k   m o u s e o v e r   k e y d o w n " , " d i v " , c ) } } } ) ; 
 d e f i n e ( ' c o r e / f o r m - a u t o c o m p l e t e ' ,   [ " j q u e r y " , " c o r e / l o g " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { D O W N : 4 0 , E N T E R : 1 3 , S P A C E : 3 2 , E S C A P E : 2 7 , C O M M A : 4 4 , U P : 3 8 } , g = a . n o w ( ) , h = f u n c t i o n ( b , c ) { v a r   d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) , e = d . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . l e n g t h ; f o r ( b % = e ; b < 0 ; ) b + = e ; v a r   f = a ( d . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . g e t ( b ) ) , g = c . s e l e c t i o n I d + " - " + b ; d . c h i l d r e n ( ) . a t t r ( " d a t a - a c t i v e - s e l e c t i o n " , ! 1 ) . a t t r ( " i d " , " " ) , f . a t t r ( " d a t a - a c t i v e - s e l e c t i o n " , ! 0 ) . a t t r ( " i d " , g ) , d . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " , g ) } , i = f u n c t i o n ( b , c , f ) { v a r   g = [ ] , i = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) , j = i . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " ) , k = ! 1 ; j & & ( k = a ( d o c u m e n t . g e t E l e m e n t B y I d ( j ) ) . a t t r ( " d a t a - v a l u e " ) ) , f . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . p r o p ( " s e l e c t e d " ) & & g . p u s h ( { l a b e l : a ( c ) . h t m l ( ) , v a l u e : a ( c ) . a t t r ( " v a l u e " ) } ) } ) ; v a r   l = a . e x t e n d ( { i t e m s : g } , b , c ) ; d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s e l e c t i o n " , l ) . d o n e ( f u n c t i o n ( b ) { i . e m p t y ( ) . a p p e n d ( a ( b ) . h t m l ( ) ) , k ! = = ! 1 & & i . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . e a c h ( f u n c t i o n ( b , d ) { a ( d ) . a t t r ( " d a t a - v a l u e " ) = = = k & & h ( b , c ) } ) } ) . f a i l ( e . e x c e p t i o n ) } , j = f u n c t i o n ( a ) { " u n d e f i n e d " ! = t y p e o f   M . c o r e _ f o r m c h a n g e c h e c k e r & & M . c o r e _ f o r m c h a n g e c h e c k e r . s e t _ f o r m _ c h a n g e d ( ) , a . c h a n g e ( ) } , k = f u n c t i o n ( b , c , d , e ) { v a r   f = a ( d ) . a t t r ( " d a t a - v a l u e " ) ; b . m u l t i p l e & & e . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a t t r ( " v a l u e " ) = = f & & ( a ( c ) . p r o p ( " s e l e c t e d " , ! 1 ) , a ( c ) . a t t r ( " d a t a - i s c u s t o m " ) & & a ( c ) . r e m o v e ( ) ) } ) , i ( b , c , e ) , j ( e ) } , l = f u n c t i o n ( b , c ) { v a r   d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) , e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) , f = e . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . l e n g t h ; f o r ( b % = f ; b < 0 ; ) b + = f ; v a r   g = a ( e . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . g e t ( b ) ) , h = a ( e . c h i l d r e n ( " [ r o l e = o p t i o n ] " ) ) . i n d e x ( g ) , i = c . s u g g e s t i o n s I d + " - " + h ; e . c h i l d r e n ( ) . a t t r ( " a r i a - s e l e c t e d " , ! 1 ) . a t t r ( " i d " , " " ) , g . a t t r ( " a r i a - s e l e c t e d " , ! 0 ) . a t t r ( " i d " , i ) , d . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " , i ) ; v a r   j = g . o f f s e t ( ) . t o p - e . o f f s e t ( ) . t o p + e . s c r o l l T o p ( ) - e . h e i g h t ( ) / 2 ; e . a n i m a t e ( { s c r o l l T o p : j } , 1 0 0 ) } , m = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s u g g e s t i o n s I d ) ) , d = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) , e = c . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . i n d e x ( d ) ; l ( e + 1 , b ) } , n = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s e l e c t i o n I d ) ) , d = c . c h i l d r e n ( " [ d a t a - a c t i v e - s e l e c t i o n = t r u e ] " ) ; i f ( ! d ) r e t u r n   v o i d   h ( 0 , b ) ; v a r   e = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . i n d e x ( d ) ; h ( e - 1 , b ) } , o = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s e l e c t i o n I d ) ) , d = c . c h i l d r e n ( " [ d a t a - a c t i v e - s e l e c t i o n = t r u e ] " ) ; i f ( ! d ) r e t u r n   v o i d   h ( 0 , b ) ; v a r   e = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . i n d e x ( d ) ; h ( e + 1 , b ) } , p = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s u g g e s t i o n s I d ) ) , d = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) , e = c . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . i n d e x ( d ) ; l ( e - 1 , b ) } , q = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . i n p u t I d ) ) , d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s u g g e s t i o n s I d ) ) ; c . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " , b . s e l e c t i o n I d ) , d . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) } , r = f u n c t i o n ( b , f , g , h ) { v a r   i = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . i n p u t I d ) ) , j = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . s u g g e s t i o n s I d ) ) , k = ! 1 , m = [ ] ; h . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . p r o p ( " s e l e c t e d " ) ! = = ! 0 & & ( m [ m . l e n g t h ] = { l a b e l : c . i n n e r H T M L , v a l u e : a ( c ) . a t t r ( " v a l u e " ) } ) } ) ; v a r   n = f . c a s e S e n s i t i v e ? g : g . t o L o c a l e L o w e r C a s e ( ) , o = a . e x t e n d ( { o p t i o n s : m } , b , f ) ; d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s u g g e s t i o n s " , o ) . d o n e ( f u n c t i o n ( d ) { j . r e p l a c e W i t h ( d ) , j = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . s u g g e s t i o n s I d ) ) , j . s h o w ( ) . a t t r ( " a r i a - h i d d e n " , ! 1 ) , j . c h i l d r e n ( ) . e a c h ( f u n c t i o n ( c , d ) { d = a ( d ) , b . c a s e S e n s i t i v e & & d . t e x t ( ) . i n d e x O f ( n ) > - 1 | | ! b . c a s e S e n s i t i v e & & d . t e x t ( ) . t o L o c a l e L o w e r C a s e ( ) . i n d e x O f ( n ) > - 1 ? ( d . s h o w ( ) . a t t r ( " a r i a - h i d d e n " , ! 1 ) , k = ! 0 ) : d . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) } ) , i . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , k ? b . t a g s | | l ( 0 , f ) : c . g e t _ s t r i n g ( " n o s u g g e s t i o n s " , " f o r m " ) . d o n e ( f u n c t i o n ( a ) { j . h t m l ( a ) } ) } ) . f a i l ( e . e x c e p t i o n ) } , s = f u n c t i o n ( b , c , d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) , f = e . v a l ( ) , g = f . s p l i t ( " , " ) , h = ! 1 ; a . e a c h ( g , f u n c t i o n ( c , e ) { i f ( e = e . t r i m ( ) , " " ! = = e & & ( b . m u l t i p l e | | d . c h i l d r e n ( " o p t i o n " ) . p r o p ( " s e l e c t e d " , ! 1 ) , d . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a t t r ( " v a l u e " ) = = e & & ( h = ! 0 , a ( c ) . p r o p ( " s e l e c t e d " , ! 0 ) ) } ) , ! h ) ) { v a r   f = a ( " < o p t i o n > " ) ; f . a p p e n d ( e ) , f . a t t r ( " v a l u e " , e ) , d . a p p e n d ( f ) , f . p r o p ( " s e l e c t e d " , ! 0 ) , f . a t t r ( " d a t a - i s c u s t o m " , ! 0 ) } } ) , i ( b , c , d ) , j ( d ) , e . v a l ( " " ) , q ( c ) } , t = f u n c t i o n ( b , c , d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) , f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) , g = f . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . a t t r ( " d a t a - v a l u e " ) ; b . m u l t i p l e | | d . c h i l d r e n ( " o p t i o n " ) . p r o p ( " s e l e c t e d " , ! 1 ) , d . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a t t r ( " v a l u e " ) = = g & & a ( c ) . p r o p ( " s e l e c t e d " , ! 0 ) } ) , i ( b , c , d ) , j ( d ) , e . v a l ( " " ) , q ( c ) } , u = f u n c t i o n ( b , c , d , f , g ) { v a r   h = a ( b . c u r r e n t T a r g e t ) . v a l ( ) ; g . t r a n s p o r t ( c . s e l e c t o r , h , f u n c t i o n ( b ) { v a r   e = g . p r o c e s s R e s u l t s ( c . s e l e c t o r , b ) , h = [ ] ; i f ( f . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) , c . p r o p ( " s e l e c t e d " ) ? h . p u s h ( S t r i n g ( c . a t t r ( " v a l u e " ) ) ) : c . r e m o v e ( ) } ) , ! c . m u l t i p l e & & 0 = = = f . c h i l d r e n ( " o p t i o n " ) . l e n g t h ) { v a r   i = a ( " < o p t i o n > " ) ; f . a p p e n d ( i ) } a . e a c h ( e , f u n c t i o n ( b , c ) { i f ( h . i n d e x O f ( S t r i n g ( c . v a l u e ) ) = = = - 1 ) { v a r   d = a ( " < o p t i o n > " ) ; d . a p p e n d ( c . l a b e l ) , d . a t t r ( " v a l u e " , c . v a l u e ) , f . a p p e n d ( d ) } } ) , r ( c , d , " " , f ) } , e . e x c e p t i o n ) } , v = f u n c t i o n ( b , c , d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) ; i f ( e . o n ( " k e y d o w n " , f u n c t i o n ( g ) { s w i t c h ( g . k e y C o d e ) { c a s e   f . D O W N : r e t u r n ! b . s h o w S u g g e s t i o n s | | ( " t r u e " = = = e . a t t r ( " a r i a - e x p a n d e d " ) ? m ( c ) : ! e . v a l ( ) & & b . a j a x ? r e q u i r e ( [ b . a j a x ] , f u n c t i o n ( a ) { u ( g , b , c , d , a ) } ) : r ( b , c , e . v a l ( ) , d ) , g . p r e v e n t D e f a u l t ( ) , ! 1 ) ; c a s e   f . U P : r e t u r n   p ( c ) , g . p r e v e n t D e f a u l t ( ) , ! 1 ; c a s e   f . E N T E R : v a r   h = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) ; r e t u r n " t r u e " = = = e . a t t r ( " a r i a - e x p a n d e d " ) & & h . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . l e n g t h > 0 ? t ( b , c , d ) : b . t a g s & & s ( b , c , d ) , g . p r e v e n t D e f a u l t ( ) , ! 1 ; c a s e   f . E S C A P E : r e t u r n " t r u e " = = = e . a t t r ( " a r i a - e x p a n d e d " ) & & q ( c ) , g . p r e v e n t D e f a u l t ( ) , ! 1 } r e t u r n ! 0 } ) , e . o n ( " k e y p r e s s " , f u n c t i o n ( a ) { r e t u r n   a . k e y C o d e ! = = f . C O M M A | | ( b . t a g s & & s ( b , c , d ) , a . p r e v e n t D e f a u l t ( ) , ! 1 ) } ) , e . o n ( " b e h a t : s e t - v a l u e " , f u n c t i o n ( ) { v a r   f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) ; " t r u e " = = = e . a t t r ( " a r i a - e x p a n d e d " ) & & f . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . l e n g t h > 0 ? t ( b , c , d ) : b . t a g s & & s ( b , c , d ) } ) , e . o n ( " b l u r " , f u n c t i o n ( ) { w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { v a r   f = a ( d o c u m e n t . a c t i v e E l e m e n t ) ; f . a t t r ( " i d " ) ! = e . a t t r ( " i d " ) & & ( b . t a g s & & s ( b , c , d ) , q ( c ) ) } , 5 0 0 ) } ) , b . s h o w S u g g e s t i o n s ) { v a r   g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . d o w n A r r o w I d ) ) ; g . o n ( " c l i c k " , f u n c t i o n ( a ) { e . f o c u s ( ) , ! e . v a l ( ) & & b . a j a x ? r e q u i r e ( [ b . a j a x ] , f u n c t i o n ( e ) { u ( a , b , c , d , e ) } ) : r ( b , c , e . v a l ( ) , d ) } ) } v a r   h = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) ; h . p a r e n t ( ) . o n ( " c l i c k " , " [ r o l e = o p t i o n ] " , f u n c t i o n ( e ) { v a r   f = a ( e . c u r r e n t T a r g e t ) . c l o s e s t ( " [ r o l e = o p t i o n ] " ) , g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) , h = g . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . i n d e x ( f ) ; l ( h , c ) , t ( b , c , d ) } ) ; v a r   i = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) ; i . o n ( " c l i c k " , " [ r o l e = l i s t i t e m ] " , f u n c t i o n ( e ) { v a r   f = a ( e . c u r r e n t T a r g e t ) ; k ( b , c , f , d ) } ) , i . o n ( " k e y d o w n " , f u n c t i o n ( e ) { s w i t c h ( e . k e y C o d e ) { c a s e   f . D O W N : r e t u r n   o ( c ) , e . p r e v e n t D e f a u l t ( ) , ! 1 ; c a s e   f . U P : r e t u r n   n ( c ) , e . p r e v e n t D e f a u l t ( ) , ! 1 ; c a s e   f . S P A C E : c a s e   f . E N T E R : v a r   g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) . c h i l d r e n ( " [ d a t a - a c t i v e - s e l e c t i o n = t r u e ] " ) ; r e t u r n   g & & ( k ( b , c , g , d ) , e . p r e v e n t D e f a u l t ( ) ) , ! 1 } r e t u r n ! 0 } ) , b . s h o w S u g g e s t i o n s & & ( b . a j a x ? r e q u i r e ( [ b . a j a x ] , f u n c t i o n ( a ) { v a r   f = n u l l , g = f u n c t i o n ( e ) { u ( e , b , c , d , a ) } , h = f u n c t i o n ( a ) { n u l l ! = = f & & ( w i n d o w . c l e a r T i m e o u t ( f ) , f = n u l l ) , f = w i n d o w . s e t T i m e o u t ( g . b i n d ( t h i s , a ) , 3 0 0 ) } ; e . o n ( " i n p u t " , h ) } ) : e . o n ( " i n p u t " , f u n c t i o n ( e ) { v a r   f = a ( e . c u r r e n t T a r g e t ) . v a l ( ) , g = a ( e . c u r r e n t T a r g e t ) . d a t a ( " l a s t - v a l u e " ) ; g ! = = f & & r ( b , c , f , d ) , a ( e . c u r r e n t T a r g e t ) . d a t a ( " l a s t - v a l u e " , f ) } ) ) } ; r e t u r n { e n h a n c e : f u n c t i o n ( f , h , j , k , l , m , n ) { v a r   o = { s e l e c t o r : f , t a g s : ! 1 , a j a x : ! 1 , p l a c e h o l d e r : k , c a s e S e n s i t i v e : ! 1 , s h o w S u g g e s t i o n s : ! 0 , n o S e l e c t i o n S t r i n g : n } ; " u n d e f i n e d " ! = t y p e o f   h & & ( o . t a g s = h ) , " u n d e f i n e d " ! = t y p e o f   j & & ( o . a j a x = j ) , " u n d e f i n e d " ! = t y p e o f   l & & ( o . c a s e S e n s i t i v e = l ) , " u n d e f i n e d " ! = t y p e o f   m & & ( o . s h o w S u g g e s t i o n s = m ) , " u n d e f i n e d " = = t y p e o f   n & & c . g e t _ s t r i n g ( " n o s e l e c t i o n " , " f o r m " ) . d o n e ( f u n c t i o n ( a ) { o . n o S e l e c t i o n S t r i n g = a } ) . f a i l ( e . e x c e p t i o n ) ; v a r   p = a ( f ) ; i f ( ! p ) r e t u r n   v o i d   b . d e b u g ( " S e l e c t o r   n o t   f o u n d :   " + f ) ; p . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) ; v a r   q = { s e l e c t I d : p . a t t r ( " i d " ) , i n p u t I d : " f o r m _ a u t o c o m p l e t e _ i n p u t - " + g , s u g g e s t i o n s I d : " f o r m _ a u t o c o m p l e t e _ s u g g e s t i o n s - " + g , s e l e c t i o n I d : " f o r m _ a u t o c o m p l e t e _ s e l e c t i o n - " + g , d o w n A r r o w I d : " f o r m _ a u t o c o m p l e t e _ d o w n a r r o w - " + g } ; g + + , o . m u l t i p l e = p . a t t r ( " m u l t i p l e " ) ; v a r   r = a ( " [ f o r = " + q . s e l e c t I d + " ] " ) , s = [ ] ; p . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { s [ b ] = { l a b e l : c . i n n e r H T M L , v a l u e : a ( c ) . a t t r ( " v a l u e " ) } } ) ; v a r   t = a . e x t e n d ( { } , o , q ) ; t . o p t i o n s = s , t . i t e m s = [ ] ; v a r   u = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ i n p u t " , t ) , w = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s u g g e s t i o n s " , t ) , x = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s e l e c t i o n " , t ) ; a . w h e n ( u , w , x ) . d o n e ( f u n c t i o n ( b , c , d ) { p . a f t e r ( c ) , p . a f t e r ( b ) , p . a f t e r ( d ) , r . a t t r ( " f o r " , q . i n p u t I d ) , v ( o , q , p ) ; v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( q . s u g g e s t i o n s I d ) ) ; e . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) , i ( o , q , p ) } ) } } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ l i n e ' ,   [ " c o r e / c h a r t _ b a s e " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( ) { a . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) } r e t u r n   b . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , b . p r o t o t y p e . T Y P E = " l i n e " , b . p r o t o t y p e . _ s m o o t h = ! 1 , b . p r o t o t y p e . c r e a t e = f u n c t i o n ( b , c ) { v a r   d = a . p r o t o t y p e . c r e a t e . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d . s e t S m o o t h ( c . s m o o t h ) , d } , b . p r o t o t y p e . g e t S m o o t h = f u n c t i o n ( ) { r e t u r n   t h i s . _ s m o o t h } , b . p r o t o t y p e . s e t S m o o t h = f u n c t i o n ( a ) { t h i s . _ s m o o t h = B o o l e a n ( a ) } , b } ) ; 
 d e f i n e ( ' c o r e / i c o n _ s y s t e m ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( ) { } ; r e t u r n   b . p r o t o t y p e . i n i t = f u n c t i o n ( ) { r e t u r n   a . w h e n ( t h i s ) } , b . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , b , c , d ) { t h r o w   n e w   E r r o r ( " A b s t r a c t   f u n c t i o n   n o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . g e t T e m p l a t e N a m e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " A b s t r a c t   f u n c t i o n   n o t   i m p l e m e n t e d . " ) } , b } ) ; 
 d e f i n e ( ' c o r e / s t r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / l o c a l s t o r a g e " ] , f u n c t i o n ( a , b , c ) { v a r   d = [ ] ; r e t u r n { g e t _ s t r i n g : f u n c t i o n ( a , b , c , d ) { v a r   e = t h i s . g e t _ s t r i n g s ( [ { k e y : a , c o m p o n e n t : b , p a r a m : c , l a n g : d } ] ) ; r e t u r n   e . t h e n ( f u n c t i o n ( a ) { r e t u r n   a [ 0 ] } ) } , g e t _ s t r i n g s : f u n c t i o n ( e ) { v a r   f , g = a . D e f e r r e d ( ) , h = [ ] , i = 0 , j = ! 1 ; f o r ( i = 0 ; i < e . l e n g t h ; i + + ) i f ( f = e [ i ] , " u n d e f i n e d " = = t y p e o f   f . l a n g & & ( f . l a n g = a ( " h t m l " ) . a t t r ( " l a n g " ) . r e p l a c e ( / - / g , " _ " ) ) , f . c a c h e K e y = " c o r e _ s t r / " + f . k e y + " / " + f . c o m p o n e n t + " / " + f . l a n g , " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] | | " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] [ f . k e y ] ) { v a r   k = c . g e t ( f . c a c h e K e y ) ; k ? ( " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] & & ( M . s t r [ f . c o m p o n e n t ] = [ ] ) , M . s t r [ f . c o m p o n e n t ] [ f . k e y ] = k ) : j = ! 0 } i f ( j ) { v a r   l = [ ] , m = [ ] , n = f u n c t i o n ( a ) { t h i s . r e s o l v e ( a ) } , o = f u n c t i o n ( a ) { t h i s . r e j e c t ( a ) } ; f o r ( i = 0 ; i < e . l e n g t h ; i + + ) i f ( f = e [ i ] , " u n d e f i n e d " ! = t y p e o f   d [ f . c a c h e K e y ] ) m . p u s h ( d [ f . c a c h e K e y ] ) ; e l s e { v a r   p = a . D e f e r r e d ( ) ; l . p u s h ( { m e t h o d n a m e : " c o r e _ g e t _ s t r i n g " , a r g s : { s t r i n g i d : f . k e y , c o m p o n e n t : f . c o m p o n e n t , l a n g : f . l a n g , s t r i n g p a r a m s : [ ] } , d o n e : n . b i n d ( p ) , f a i l : o . b i n d ( p ) } ) , d [ f . c a c h e K e y ] = p . p r o m i s e ( ) , m . p u s h ( d [ f . c a c h e K e y ] ) } l . l e n g t h > 0 & & b . c a l l ( l , ! 0 , ! 1 ) , a . w h e n . a p p l y ( n u l l , m ) . d o n e ( f u n c t i o n ( ) { v a r   a = 0 ; f o r ( a = 0 ; a < a r g u m e n t s . l e n g t h ; a + + ) f = e [ a ] , " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] & & ( M . s t r [ f . c o m p o n e n t ] = [ ] ) , M . s t r [ f . c o m p o n e n t ] [ f . k e y ] = a r g u m e n t s [ a ] , c . s e t ( " c o r e _ s t r / " + f . k e y + " / " + f . c o m p o n e n t + " / " + f . l a n g , a r g u m e n t s [ a ] ) , h [ a ] = M . u t i l . g e t _ s t r i n g ( f . k e y , f . c o m p o n e n t , f . p a r a m ) . t r i m ( ) ; g . r e s o l v e ( h ) } ) . f a i l ( f u n c t i o n ( a ) { g . r e j e c t ( a ) } ) } e l s e { f o r ( i = 0 ; i < e . l e n g t h ; i + + ) f = e [ i ] , h [ i ] = M . u t i l . g e t _ s t r i n g ( f . k e y , f . c o m p o n e n t , f . p a r a m ) ; g . r e s o l v e ( h ) } r e t u r n   g . p r o m i s e ( ) } } } ) ; 
 d e f i n e ( ' c o r e / a j a x ' ,   [ " j q u e r y " , " c o r e / c o n f i g " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = ! 1 , e = f u n c t i o n ( a ) { v a r   b , c , d = t h i s , e = n u l l , f = 0 ; i f ( a . e r r o r ) f o r ( ; f < d . l e n g t h ; f + + ) b = d [ f ] , b . d e f e r r e d . r e j e c t ( a ) ; e l s e { f o r ( f = 0 ; f < d . l e n g t h ; f + + ) { i f ( b = d [ f ] , c = a [ f ] , " u n d e f i n e d " = = t y p e o f   c ) { e = n e w   E r r o r ( " m i s s i n g   r e s p o n s e " ) ; b r e a k } i f ( c . e r r o r ! = = ! 1 ) { e = c . e x c e p t i o n ; b r e a k } b . d e f e r r e d . r e s o l v e ( c . d a t a ) } i f ( n u l l ! = = e ) f o r ( ; f < d . l e n g t h ; f + + ) b = d [ f ] , b . d e f e r r e d . r e j e c t ( e ) } } , f = f u n c t i o n ( a , b , e ) { v a r   f = t h i s , g = 0 ; f o r ( g = 0 ; g < f . l e n g t h ; g + + ) { v a r   h = f [ g ] ; d ? ( c . e r r o r ( " P a g e   u n l o a d e d . " ) , c . e r r o r ( e ) ) : h . d e f e r r e d . r e j e c t ( e ) } } ; r e t u r n { c a l l : f u n c t i o n ( c , g , h ) { a ( w i n d o w ) . b i n d ( " b e f o r e u n l o a d " , f u n c t i o n ( ) { d = ! 0 } ) ; v a r   i , j = [ ] , k = [ ] , l = [ ] , m = " " ; f o r ( " u n d e f i n e d " = = t y p e o f   h & & ( h = ! 0 ) , " u n d e f i n e d " = = t y p e o f   g & & ( g = ! 0 ) , i = 0 ; i < c . l e n g t h ; i + + ) { v a r   n = c [ i ] ; j . p u s h ( { i n d e x : i , m e t h o d n a m e : n . m e t h o d n a m e , a r g s : n . a r g s } ) , n . d e f e r r e d = a . D e f e r r e d ( ) , k . p u s h ( n . d e f e r r e d . p r o m i s e ( ) ) , " u n d e f i n e d " ! = t y p e o f   n . d o n e & & n . d e f e r r e d . d o n e ( n . d o n e ) , " u n d e f i n e d " ! = t y p e o f   n . f a i l & & n . d e f e r r e d . f a i l ( n . f a i l ) , n . i n d e x = i , l . p u s h ( n . m e t h o d n a m e ) } m = l . l e n g t h < = 5 ? l . s o r t ( ) . j o i n ( ) : l . l e n g t h + " - m e t h o d - c a l l s " , j = J S O N . s t r i n g i f y ( j ) ; v a r   o = { t y p e : " P O S T " , d a t a : j , c o n t e x t : c , d a t a T y p e : " j s o n " , p r o c e s s D a t a : ! 1 , a s y n c : g , c o n t e n t T y p e : " a p p l i c a t i o n / j s o n " } , p = " s e r v i c e . p h p " ; h | | ( p = " s e r v i c e - n o l o g i n . p h p " ) ; v a r   q = b . w w w r o o t + " / l i b / a j a x / " + p + " ? s e s s k e y = " + b . s e s s k e y + " & i n f o = " + m ; r e t u r n   g ? a . a j a x ( q , o ) . d o n e ( e ) . f a i l ( f ) : ( o . s u c c e s s = e , o . e r r o r = f , a . a j a x ( q , o ) ) , k } } } ) ; 
 d e f i n e ( ' c o r e / k e y _ c o d e s ' ,   f u n c t i o n ( ) { r e t u r n { t a b : 9 , e n t e r : 1 3 , e s c a p e : 2 7 , s p a c e : 3 2 , e n d : 3 5 , h o m e : 3 6 , a r r o w L e f t : 3 7 , a r r o w U p : 3 8 , a r r o w R i g h t : 3 9 , a r r o w D o w n : 4 0 , 8 : 5 6 , a s t e r i x : 1 0 6 , p a g e U p : 3 3 , p a g e D o w n : 3 4 } } ) ; 
 d e f i n e ( ' c o r e _ c o u r s e / a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / u r l " , " c o r e / y u i " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { E D I T I N P R O G R E S S : " e d i t i n p r o g r e s s " , S E C T I O N D R A G G A B L E : " s e c t i o n d r a g g a b l e " , E D I T I N G M O V E : " e d i t i n g _ m o v e " } , l = { A C T I V I T Y L I : " l i . a c t i v i t y " , A C T I O N A R E A : " . a c t i o n s " , A C T I V I T Y A C T I O N : " a . c m - e d i t - a c t i o n " , M E N U : " . m o o d l e - a c t i o n m e n u [ d a t a - e n h a n c e = m o o d l e - c o r e - a c t i o n m e n u ] " , T O G G L E : " . t o g g l e - d i s p l a y , . d r o p d o w n - t o g g l e " , S E C T I O N L I : " l i . s e c t i o n " , S E C T I O N A C T I O N M E N U : " . s e c t i o n _ a c t i o n _ m e n u " , A D D S E C T I O N S : " # c h a n g e n u m s e c t i o n s   [ d a t a - a d d - s e c t i o n s ] " } ; g . u s e ( " m o o d l e - c o u r s e - c o u r s e b a s e " , f u n c t i o n ( ) { v a r   a = M . c o u r s e . f o r m a t . g e t _ s e c t i o n _ s e l e c t o r ( ) ; a & & ( l . S E C T I O N L I = a ) } ) ; v a r   m = f u n c t i o n ( a ) { v a r   b ; r e t u r n   g . u s e ( " m o o d l e - c o u r s e - u t i l " , f u n c t i o n ( c ) { b = c . M o o d l e . c o r e _ c o u r s e . u t i l . c m . g e t I d ( c . N o d e ( a . g e t ( 0 ) ) ) } ) , b } , n = f u n c t i o n ( a ) { v a r   b ; r e t u r n   g . u s e ( " m o o d l e - c o u r s e - u t i l " , f u n c t i o n ( c ) { b = c . M o o d l e . c o r e _ c o u r s e . u t i l . c m . g e t N a m e ( c . N o d e ( a . g e t ( 0 ) ) ) } ) , b } , o = f u n c t i o n ( a ) { a . a d d C l a s s ( k . E D I T I N P R O G R E S S ) ; v a r   b = a . f i n d ( l . A C T I O N A R E A ) . g e t ( 0 ) ; i f ( b ) { v a r   c = M . u t i l . a d d _ s p i n n e r ( g , g . N o d e ( b ) ) ; r e t u r n   c . s h o w ( ) , c } r e t u r n   n u l l } , p = f u n c t i o n ( a ) { a . a d d C l a s s ( k . E D I T I N P R O G R E S S ) ; v a r   b = a . f i n d ( l . S E C T I O N A C T I O N M E N U ) . g e t ( 0 ) ; i f ( b ) { v a r   c = M . u t i l . a d d _ s p i n n e r ( g , g . N o d e ( b ) ) ; r e t u r n   c . s h o w ( ) , c } r e t u r n   n u l l } , q = f u n c t i o n ( a ) { v a r   b = M . u t i l . a d d _ l i g h t b o x ( g , g . N o d e ( a . g e t ( 0 ) ) ) ; r e t u r n   b . s h o w ( ) , b } , r = f u n c t i o n ( a , b , c ) { w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . r e m o v e C l a s s ( k . E D I T I N P R O G R E S S ) , b & & b . h i d e ( ) } , c ) } , s = f u n c t i o n ( a , b ) { a & & w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . h i d e ( ) } , b ) } , t = f u n c t i o n ( a , b ) { i f ( g . u s e ( " m o o d l e - c o u r s e - c o u r s e b a s e " , f u n c t i o n ( ) { M . c o u r s e . c o u r s e b a s e . i n v o k e _ f u n c t i o n ( " s e t u p _ f o r _ r e s o u r c e " , " # " + a ) } ) , M . c o r e . a c t i o n m e n u & & M . c o r e . a c t i o n m e n u . n e w D O M N o d e & & M . c o r e . a c t i o n m e n u . n e w D O M N o d e ( g . o n e ( " # " + a ) ) , b ) { v a r   c = g . o n e ( " # " + a + "   " + l . M E N U ) . o n e ( l . T O G G L E ) ; c & & c . s i m u l a t e & & c . s i m u l a t e ( " c l i c k " ) } } , u = f u n c t i o n ( b , c ) { v a r   d = a ( " # " + b ) , e = " [ d a t a - a c t i o n = " + c + " ] " ; " g r o u p s s e p a r a t e " ! = = c & & " g r o u p s v i s i b l e " ! = = c & & " g r o u p s n o n e " ! = = c | | ( e = " [ d a t a - a c t i o n = g r o u p s s e p a r a t e ] , [ d a t a - a c t i o n = g r o u p s v i s i b l e ] , [ d a t a - a c t i o n = g r o u p s n o n e ] " ) , d . f i n d ( e ) . i s ( " : v i s i b l e " ) ? d . f i n d ( e ) . f o c u s ( ) : d . f i n d ( l . M E N U ) . f i n d ( l . T O G G L E ) . f o c u s ( ) } , v = f u n c t i o n ( b ) { v a r   c = a ( " a : v i s i b l e " ) , d = ! 1 , e = n u l l ; r e t u r n   c . e a c h ( f u n c t i o n ( ) { i f ( a . c o n t a i n s ( b [ 0 ] , t h i s ) ) d = ! 0 ; e l s e   i f ( d ) r e t u r n   e = t h i s , ! 1 } ) , e } , w = f u n c t i o n ( c , e , f ) { v a r   g , h = f . a t t r ( " d a t a - k e e p o p e n " ) , i = f . a t t r ( " d a t a - a c t i o n " ) , j = o ( c ) , k = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o u r s e _ e d i t _ m o d u l e " , a r g s : { i d : e , a c t i o n : i , s e c t i o n r e t u r n : f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) ? f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) : 0 } } ] , ! 0 ) ; " d u p l i c a t e " = = = i & & ( g = q ( f . c l o s e s t ( l . S E C T I O N L I ) ) ) , a . w h e n . a p p l y ( a , k ) . d o n e ( f u n c t i o n ( b ) { v a r   d = v ( c ) ; c . r e p l a c e W i t h ( b ) , a ( " < d i v > " + b + " < / d i v > " ) . f i n d ( l . A C T I V I T Y L I ) . e a c h ( f u n c t i o n ( b ) { t ( a ( t h i s ) . a t t r ( " i d " ) , h ) , 0 = = = b & & ( u ( a ( t h i s ) . a t t r ( " i d " ) , i ) , d = n u l l ) } ) , d & & d . f o c u s ( ) , r ( c , j , 4 0 0 ) , s ( g , 4 0 0 ) , c . t r i g g e r ( a . E v e n t ( " c o u r s e m o d u l e e d i t e d " , { a j a x r e t u r n : b , a c t i o n : i } ) ) } ) . f a i l ( f u n c t i o n ( b ) { r ( c , j ) , s ( g ) ; v a r   e = a . E v e n t ( " c o u r s e m o d u l e e d i t f a i l e d " , { e x c e p t i o n : b , a c t i o n : i } ) ; c . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | d . e x c e p t i o n ( b ) } ) } , x = f u n c t i o n ( c , d , e ) { v a r   f = o ( c ) , g = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ m o d u l e " , a r g s : { i d : d , s e c t i o n r e t u r n : e } } ] , ! 0 ) ; a . w h e n . a p p l y ( a , g ) . d o n e ( f u n c t i o n ( a ) { r ( c , f , 4 0 0 ) , C ( a ) } ) . f a i l ( f u n c t i o n ( ) { r ( c , f ) } ) } , y = f u n c t i o n ( a , b ) { v a r   c = a . a t t r ( " c l a s s " ) . m a t c h ( / m o d t y p e _ ( [ ^ \ s ] * ) / ) [ 1 ] , f = n ( a ) ; e . g e t _ s t r i n g ( " p l u g i n n a m e " , c ) . d o n e ( f u n c t i o n ( a ) { v a r   c = { t y p e : a , n a m e : f } ; e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " } , { k e y : n u l l = = = f ? " d e l e t e c h e c k t y p e " : " d e l e t e c h e c k t y p e n a m e " , p a r a m : c } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , b ) } ) } ) } , z = f u n c t i o n ( a , b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , a , c [ 1 ] , c [ 2 ] , b ) } ) } , A = f u n c t i o n ( a , b , d , f , g , h , i ) { e . g e t _ s t r i n g ( d , f ) . d o n e ( f u n c t i o n ( b ) { a . f i n d ( " s p a n . m e n u - a c t i o n - t e x t " ) . h t m l ( b ) , a . a t t r ( " t i t l e " , b ) } ) , g ? e . g e t _ s t r i n g ( g , h ) . t h e n ( f u n c t i o n ( d ) { c . r e n d e r P i x ( b , " c o r e " , d ) . t h e n ( f u n c t i o n ( b ) { a . f i n d ( " . i c o n " ) . r e p l a c e W i t h ( b ) } ) , a . a t t r ( " t i t l e " , d ) } ) : c . r e n d e r P i x ( b , " c o r e " , " " ) . t h e n ( f u n c t i o n ( b ) { a . f i n d ( " . i c o n " ) . r e p l a c e W i t h ( b ) } ) , a . a t t r ( " d a t a - a c t i o n " , i ) } , B = f u n c t i o n ( b , c , d , e ) { v a r   f = c . a t t r ( " d a t a - a c t i o n " ) ; i f ( " h i d e " = = = f | | " s h o w " = = = f ) { i f ( " h i d e " = = = f ? ( b . a d d C l a s s ( " h i d d e n " ) , A ( c , " i / s h o w " , " s h o w f r o m o t h e r s " , " f o r m a t _ " + e , n u l l , n u l l , " s h o w " ) ) : ( b . r e m o v e C l a s s ( " h i d d e n " ) , A ( c , " i / h i d e " , " h i d e f r o m o t h e r s " , " f o r m a t _ " + e , n u l l , n u l l , " h i d e " ) ) , v o i d   0 ! = = d . m o d u l e s ) f o r ( v a r   g   i n   d . m o d u l e s ) C ( d . m o d u l e s [ g ] ) ; v o i d   0 ! = = d . s e c t i o n _ a v a i l a b i l i t y & & b . f i n d ( " . s e c t i o n _ a v a i l a b i l i t y " ) . f i r s t ( ) . r e p l a c e W i t h ( d . s e c t i o n _ a v a i l a b i l i t y ) } e l s e   i f ( " s e t m a r k e r " = = = f ) { v a r   h = a ( l . S E C T I O N L I + " . c u r r e n t " ) , i = h . f i n d ( l . S E C T I O N A C T I O N M E N U + "   a [ d a t a - a c t i o n = r e m o v e m a r k e r ] " ) ; h . r e m o v e C l a s s ( " c u r r e n t " ) , A ( i , " i / m a r k e r " , " h i g h l i g h t " , " c o r e " , " m a r k t h i s t o p i c " , " c o r e " , " s e t m a r k e r " ) , b . a d d C l a s s ( " c u r r e n t " ) , A ( c , " i / m a r k e d " , " h i g h l i g h t o f f " , " c o r e " , " m a r k e d t h i s t o p i c " , " c o r e " , " r e m o v e m a r k e r " ) } e l s e " r e m o v e m a r k e r " = = = f & & ( b . r e m o v e C l a s s ( " c u r r e n t " ) , A ( c , " i / m a r k e r " , " h i g h l i g h t " , " c o r e " , " m a r k t h i s t o p i c " , " c o r e " , " s e t m a r k e r " ) ) } , C = f u n c t i o n ( b ) { a ( " < d i v > " + b + " < / d i v > " ) . f i n d ( l . A C T I V I T Y L I ) . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . a t t r ( " i d " ) ; a ( l . A C T I V I T Y L I + " # " + c ) . r e p l a c e W i t h ( b ) , t ( c , ! 1 ) } ) } , D = f u n c t i o n ( c , e , f , g ) { v a r   h = f . a t t r ( " d a t a - a c t i o n " ) , i = f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) ? f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) : 0 , j = p ( c ) , k = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o u r s e _ e d i t _ s e c t i o n " , a r g s : { i d : e , a c t i o n : h , s e c t i o n r e t u r n : i } } ] , ! 0 ) , m = q ( c ) ; a . w h e n . a p p l y ( a , k ) . d o n e ( f u n c t i o n ( b ) { v a r   d = a . p a r s e J S O N ( b ) ; r ( c , j ) , s ( m ) , c . f i n d ( l . S E C T I O N A C T I O N M E N U ) . f i n d ( l . T O G G L E ) . f o c u s ( ) ; v a r   e = a . E v e n t ( " c o u r s e s e c t i o n e d i t e d " , { a j a x r e t u r n : d , a c t i o n : h } ) ; c . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | B ( c , f , d , g ) } ) . f a i l ( f u n c t i o n ( b ) { r ( c , j ) , s ( m ) ; v a r   e = a . E v e n t ( " c o u r s e s e c t i o n e d i t f a i l e d " , { e x c e p t i o n : b , a c t i o n : h } ) ; c . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | d . e x c e p t i o n ( b ) } ) } ; r e t u r n   g . u s e ( " m o o d l e - c o u r s e - c o u r s e b a s e " , f u n c t i o n ( ) { M . c o u r s e . c o u r s e b a s e . r e g i s t e r _ m o d u l e ( { s e t _ v i s i b i l i t y _ r e s o u r c e _ u i : f u n c t i o n ( b ) { v a r   c = a ( b . e l e m e n t . g e t D O M N o d e ( ) ) , d = m ( c ) ; i f ( d ) { v a r   e = c . f i n d ( " . " + k . E D I T I N G M O V E ) . a t t r ( " d a t a - s e c t i o n r e t u r n " ) ; x ( c , d , e ) } } } ) } ) , { i n i t C o u r s e P a g e : f u n c t i o n ( b ) { a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , l . A C T I V I T Y L I + "   " + l . A C T I V I T Y A C T I O N + " [ d a t a - a c t i o n ] " , f u n c t i o n ( b ) { i f ( " k e y p r e s s " ! = = b . t y p e | | 1 3 = = = b . k e y C o d e ) { v a r   c = a ( t h i s ) , d = c . c l o s e s t ( l . A C T I V I T Y L I ) , e = c . a t t r ( " d a t a - a c t i o n " ) , f = m ( d ) ; s w i t c h ( e ) { c a s e " m o v e l e f t " : c a s e " m o v e r i g h t " : c a s e " d e l e t e " : c a s e " d u p l i c a t e " : c a s e " h i d e " : c a s e " s t e a l t h " : c a s e " s h o w " : c a s e " g r o u p s s e p a r a t e " : c a s e " g r o u p s v i s i b l e " : c a s e " g r o u p s n o n e " : b r e a k ; d e f a u l t : r e t u r n } f & & ( b . p r e v e n t D e f a u l t ( ) , " d e l e t e " = = = e ? y ( d , f u n c t i o n ( ) { w ( d , f , c ) } ) : w ( d , f , c ) ) } } ) , a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , l . S E C T I O N L I + "   " + l . S E C T I O N A C T I O N M E N U + " [ d a t a - s e c t i o n i d ]   a [ d a t a - a c t i o n ] " , f u n c t i o n ( c ) { i f ( " k e y p r e s s " ! = = c . t y p e | | 1 3 = = = c . k e y C o d e ) { v a r   d = a ( t h i s ) , e = d . c l o s e s t ( l . S E C T I O N L I ) , f = d . c l o s e s t ( l . S E C T I O N A C T I O N M E N U ) . a t t r ( " d a t a - s e c t i o n i d " ) ; c . p r e v e n t D e f a u l t ( ) , d . a t t r ( " d a t a - c o n f i r m " ) ? z ( d . a t t r ( " d a t a - c o n f i r m " ) , f u n c t i o n ( ) { D ( e , f , d , b ) } ) : D ( e , f , d , b ) } } ) , e . g e t _ s t r i n g ( " n u m b e r w e e k s " ) . d o n e ( f u n c t i o n ( b ) { v a r   c = a ( l . A D D S E C T I O N S ) , d = c . a t t r ( " d a t a - a d d - s e c t i o n s " ) , e = a ( ' < d i v > < l a b e l   f o r = " a d d _ s e c t i o n _ n u m s e c t i o n s " > < / l a b e l >   < i n p u t   i d = " a d d _ s e c t i o n _ n u m s e c t i o n s "   t y p e = " n u m b e r "   m i n = " 1 "   v a l u e = " 1 " > < / d i v > ' ) ; e . f i n d ( " l a b e l " ) . h t m l ( b ) , h . c r e a t e ( { t i t l e : d , t y p e : h . t y p e s . S A V E _ C A N C E L , b o d y : e . h t m l ( ) } , c ) . d o n e ( f u n c t i o n ( b ) { v a r   e = a ( b . g e t B o d y ( ) ) . f i n d ( " # a d d _ s e c t i o n _ n u m s e c t i o n s " ) , f = f u n c t i o n ( ) { " " + p a r s e I n t ( e . v a l ( ) ) = = = e . v a l ( ) & & p a r s e I n t ( e . v a l ( ) ) > = 1 & & ( d o c u m e n t . l o c a t i o n = c . a t t r ( " h r e f " ) + " & n u m s e c t i o n s = " + p a r s e I n t ( e . v a l ( ) ) ) } ; b . s e t S a v e B u t t o n T e x t ( d ) , b . g e t R o o t ( ) . o n ( i . s h o w n , f u n c t i o n ( ) { e . f o c u s ( ) . s e l e c t ( ) . o n ( " k e y d o w n " , f u n c t i o n ( a ) { a . k e y C o d e = = = j . e n t e r & & f ( ) } ) } ) , b . g e t R o o t ( ) . o n ( i . s a v e , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , f ( ) } ) } ) } ) } , r e p l a c e S e c t i o n A c t i o n I t e m : f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = a . f i n d ( l . S E C T I O N A C T I O N M E N U + "   " + b ) ; A ( i , c , d , e , f , g , h ) } } } ) ; 
 d e f i n e ( ' c o r e _ f o r m / d e f a u l t c u s t o m ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = J S O N . p a r s e ( c . a t t r ( " d a t a - d e f a u l t v a l u e " ) ) , e = J S O N . p a r s e ( c . a t t r ( " d a t a - c u s t o m v a l u e " ) ) , f = c . a t t r ( " d a t a - t y p e " ) , g = c . c l o s e s t ( " f o r m " ) , h = c . a t t r ( " n a m e " ) . r e p l a c e ( / \ [ c u s t o m i z e \ ] $ / , " [ v a l u e ] " ) , i = c . p r o p ( " c h e c k e d " ) ? e : d ; " t e x t " = = = f ? g . f i n d ( ' [ n a m e = " ' + h + ' " ] ' ) . v a l ( i ) : " d a t e _ s e l e c t o r " = = = f & & ( g . f i n d ( ' [ n a m e = " ' + h + ' [ d a y ] " ] ' ) . v a l ( i . d a y ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ m o n t h ] " ] ' ) . v a l ( i . m o n t h ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ y e a r ] " ] ' ) . v a l ( i . y e a r ) ) } , c = " i n p u t [ d a t a - d e f a u l t c u s t o m = t r u e ] " ; a ( " b o d y " ) . o n ( " c h a n g e " , c , b ) } ) ; 
 d e f i n e ( ' c o r e _ f o r m / p a s s w o r d u n m a s k ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( b ) { t h i s . w r a p p e r S e l e c t o r = ' [ d a t a - p a s s w o r d u n m a s k = " w r a p p e r " ] [ d a t a - p a s s w o r d u n m a s k i d = " ' + b + ' " ] ' , t h i s . w r a p p e r = a ( t h i s . w r a p p e r S e l e c t o r ) , t h i s . e d i t o r S p a c e = t h i s . w r a p p e r . f i n d ( ' [ d a t a - p a s s w o r d u n m a s k = " e d i t o r " ] ' ) , t h i s . e d i t L i n k = t h i s . w r a p p e r . f i n d ( ' a [ d a t a - p a s s w o r d u n m a s k = " e d i t " ] ' ) , t h i s . e d i t I n s t r u c t i o n s = t h i s . w r a p p e r . f i n d ( ' [ d a t a - p a s s w o r d u n m a s k = " i n s t r u c t i o n s " ] ' ) , t h i s . d i s p l a y V a l u e = t h i s . w r a p p e r . f i n d ( ' [ d a t a - p a s s w o r d u n m a s k = " d i s p l a y v a l u e " ] ' ) , t h i s . i n p u t F i e l d L a b e l = a ( ' l a b e l [ f o r = " ' + b + ' " ] ' ) , t h i s . i n p u t F i e l d = t h i s . e d i t o r S p a c e . f i n d ( d o c u m e n t . g e t E l e m e n t B y I d ( b ) ) , t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " h i d d e n " ) , t h i s . i n p u t F i e l d . r e m o v e C l a s s ( " h i d d e n i f j s " ) , t h i s . e d i t I n s t r u c t i o n s . a t t r ( " i d " ) | | t h i s . e d i t I n s t r u c t i o n s . a t t r ( " i d " , b + " _ i n s t r u c t i o n s " ) , t h i s . e d i t I n s t r u c t i o n s . h i d e ( ) , t h i s . s e t D i s p l a y V a l u e ( ) , t h i s . a d d L i s t e n e r s ( ) } ; r e t u r n   c . p r o t o t y p e . a d d L i s t e n e r s = f u n c t i o n ( ) { r e t u r n   t h i s . w r a p p e r . o n ( " c l i c k   k e y p r e s s " , ' [ d a t a - p a s s w o r d u n m a s k = " e d i t " ] ' , a . p r o x y ( f u n c t i o n ( b ) { " k e y p r e s s " = = = b . t y p e & & 1 3 ! = = b . k e y C o d e | | ( b . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , " h i d d e n " ! = = t h i s . i n p u t F i e l d . a t t r ( " t y p e " ) ? " c l i c k " = = = b . t y p e | | a ( b . r e l a t e d T a r g e t ) . i s ( " : i n p u t " ) ? t h i s . t u r n E d i t i n g O f f ( ! 1 ) : t h i s . t u r n E d i t i n g O f f ( ! 0 ) : t h i s . t u r n E d i t i n g O n ( ) ) } , t h i s ) ) , t h i s . w r a p p e r . o n ( " c l i c k   k e y p r e s s " , ' [ d a t a - p a s s w o r d u n m a s k = " u n m a s k " ] ' , a . p r o x y ( f u n c t i o n ( a ) { " k e y p r e s s " = = = a . t y p e & & 1 3 ! = = a . k e y C o d e | | ( a . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , t h i s . w r a p p e r . d a t a ( " u n m a s k e d " , ! t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) ) , t h i s . s e t D i s p l a y V a l u e ( ) ) } , t h i s ) ) , t h i s . w r a p p e r . o n ( " k e y d o w n " , " i n p u t " , a . p r o x y ( f u n c t i o n ( a ) { " k e y d o w n " = = = a . t y p e & & 1 3 ! = = a . k e y C o d e | | ( a . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , t h i s . t u r n E d i t i n g O f f ( ! 0 ) ) } , t h i s ) ) , t h i s . i n p u t F i e l d L a b e l . o n ( " c l i c k " , a . p r o x y ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . t u r n E d i t i n g O n ( ) } , t h i s ) ) , t h i s } , c . p r o t o t y p e . c h e c k F o c u s O u t = f u n c t i o n ( b ) { t h i s . i s E d i t i n g ( ) & & w i n d o w . s e t T i m e o u t ( a . p r o x y ( f u n c t i o n ( ) { v a r   c = b . r e l a t e d T a r g e t | | d o c u m e n t . a c t i v e E l e m e n t ; t h i s . w r a p p e r . h a s ( a ( c ) ) . l e n g t h | | t h i s . t u r n E d i t i n g O f f ( ! a ( c ) . i s ( " : i n p u t , a " ) ) } , t h i s ) , 1 0 0 ) } , c . p r o t o t y p e . p a s s w o r d V i s i b l e = f u n c t i o n ( ) { r e t u r n ! ! t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) } , c . p r o t o t y p e . i s E d i t i n g = f u n c t i o n ( ) { r e t u r n " h i d d e n " ! = = t h i s . i n p u t F i e l d . a t t r ( " t y p e " ) } , c . p r o t o t y p e . t u r n E d i t i n g O n = f u n c t i o n ( ) { v a r   b = t h i s . g e t D i s p l a y V a l u e ( ) ; r e t u r n   t h i s . p a s s w o r d V i s i b l e ( ) ? t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " t e x t " ) : t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " p a s s w o r d " ) , t h i s . i n p u t F i e l d . v a l ( b ) , t h i s . i n p u t F i e l d . a t t r ( " s i z e " , t h i s . i n p u t F i e l d . a t t r ( " d a t a - s i z e " ) ) , t h i s . e d i t I n s t r u c t i o n s . l e n g t h & & ( t h i s . i n p u t F i e l d . a t t r ( " a r i a - d e s c r i b e d b y " , t h i s . e d i t I n s t r u c t i o n s . a t t r ( " i d " ) ) , t h i s . e d i t I n s t r u c t i o n s . s h o w ( ) ) , t h i s . w r a p p e r . a t t r ( " d a t a - p a s s w o r d u n m a s k - v i s i b l e " , 1 ) , t h i s . e d i t L i n k . h i d e ( ) , t h i s . i n p u t F i e l d . f o c u s ( ) . s e l e c t ( ) , a ( " b o d y " ) . o n ( " f o c u s o u t " , t h i s . w r a p p e r S e l e c t o r , a . p r o x y ( t h i s . c h e c k F o c u s O u t , t h i s ) ) , t h i s } , c . p r o t o t y p e . t u r n E d i t i n g O f f = f u n c t i o n ( b ) { a ( " b o d y " ) . o f f ( " f o c u s o u t " , t h i s . w r a p p e r S e l e c t o r , t h i s . c h e c k F o c u s O u t ) ; v a r   c = t h i s . g e t D i s p l a y V a l u e ( ) ; r e t u r n   t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " h i d d e n " ) . a t t r ( " a r i a - d e s c r i b e d b y " , n u l l ) , t h i s . i n p u t F i e l d . v a l ( c ) , t h i s . e d i t I n s t r u c t i o n s . h i d e ( ) , t h i s . w r a p p e r . r e m o v e A t t r ( " d a t a - p a s s w o r d u n m a s k - v i s i b l e " ) , t h i s . i n p u t F i e l d . r e m o v e A t t r ( " s i z e " ) , t h i s . e d i t L i n k . s h o w ( ) , t h i s . s e t D i s p l a y V a l u e ( ) , b & & t h i s . e d i t L i n k . f o c u s ( ) , t h i s } , c . p r o t o t y p e . g e t D i s p l a y V a l u e = f u n c t i o n ( ) { r e t u r n   t h i s . i n p u t F i e l d . v a l ( ) } , c . p r o t o t y p e . s e t D i s p l a y V a l u e = f u n c t i o n ( ) { v a r   c = t h i s . g e t D i s p l a y V a l u e ( ) ; r e t u r n   t h i s . i s E d i t i n g ( ) & & ( t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) ? t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " t e x t " ) : t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " p a s s w o r d " ) , t h i s . i n p u t F i e l d . v a l ( c ) ) , c & & t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) ? t h i s . d i s p l a y V a l u e . t e x t ( c ) : ( c | | ( c = " " ) , b . r e n d e r ( " c o r e _ f o r m / e l e m e n t - p a s s w o r d u n m a s k - f i l l " , { e l e m e n t : { f r o z e n : t h i s . i n p u t F i e l d . i s ( " [ r e a d o n l y ] " ) , v a l u e : c , v a l u e c h a r s : c . s p l i t ( " " ) } } ) . d o n e ( a . p r o x y ( f u n c t i o n ( a , c ) { t h i s . d i s p l a y V a l u e . h t m l ( a ) , b . r u n T e m p l a t e J S ( c ) } , t h i s ) ) ) , t h i s } , c } ) ; 
 d e f i n e ( ' c o r e _ g r a d e s / e d i t t r e e _ i n d e x ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " c h a n g e " , " . i t e m s e l e c t . i g n o r e d i r t y " , b . c h e c k M o v e M e n u S t a t e ) , a ( " b o d y " ) . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " g r a d e _ e d i t t r e e - i n d e x - b u l k s e l e c t " ] ' , b . t o g g l e A l l S e l e c t I t e m s ) , a ( " b o d y " ) . o n ( " c h a n g e " , " . w e i g h t o v e r r i d e " , b . t o g g l e W e i g h t I n p u t ) , a ( " # m e n u m o v e a f t e r " ) . o n ( " c h a n g e " , f u n c t i o n ( ) { v a r   b = a ( t h i s ) . c l o s e s t ( " f o r m " ) , c = b . f i n d ( " # b u l k m o v e i n p u t " ) ; c . v a l ( 1 ) , b . s u b m i t ( ) } ) , b . c h e c k M o v e M e n u S t a t e ( ) } ; r e t u r n   b . t o g g l e W e i g h t I n p u t = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) , d = c . c l o s e s t ( " t r " ) ; a ( ' i n p u t [ n a m e = " w e i g h t _ ' + d . d a t a ( " i t e m i d " ) + ' " ] ' ) . p r o p ( " d i s a b l e d " , ! c . p r o p ( " c h e c k e d " ) ) } , b . t o g g l e A l l S e l e c t I t e m s = f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) ; v a r   d = a ( t h i s ) , e = d . c l o s e s t ( " t r " ) ; a ( " . " + e . d a t a ( " c a t e g o r y " ) + "   . i t e m s e l e c t " ) . p r o p ( " c h e c k e d " , d . d a t a ( " c h e c k e d " ) ) , b . c h e c k M o v e M e n u S t a t e ( ) } , b . g e t M o v e M e n u = f u n c t i o n ( ) { r e t u r n   a ( " # m e n u m o v e a f t e r " ) } , b . c h e c k M o v e M e n u S t a t e = f u n c t i o n ( ) { v a r   c = b . g e t M o v e M e n u ( ) ; i f ( ! c . l e n g t h ) r e t u r n ! 1 ; v a r   d ; r e t u r n   a ( " . i t e m s e l e c t " ) . e a c h ( f u n c t i o n ( ) { r e t u r n   d = a ( t h i s ) . p r o p ( " c h e c k e d " ) , ! d } ) , c . p r o p ( " d i s a b l e d " , ! d ) , d } , { e n h a n c e : b } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a . l i m i t & & ( a . l i m i t = 0 ) , " u n d e f i n e d " = = t y p e o f   a . o f f s e t & & ( a . o f f s e t = 0 ) , a . l i m i t f r o m = a . o f f s e t , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , d e l e t e   a . o f f s e t ; v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ c o n v e r s a t i o n s " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , e = f u n c t i o n ( a ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ u n r e a d _ c o n v e r s a t i o n s _ c o u n t " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , f = f u n c t i o n ( a ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ m e s s a g e s _ a s _ r e a d " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } ; r e t u r n { q u e r y : d , c o u n t U n r e a d C o n v e r s a t i o n s : e , m a r k A l l A s R e a d : f } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / t o g g l e _ c o n t a c t _ b u t t o n ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = f u n c t i o n ( a ) { r e t u r n " 1 " = = a . a t t r ( " d a t a - i s - c o n t a c t " ) } , g = f u n c t i o n ( a ) { a . a t t r ( " d a t a - i s - c o n t a c t " , " 1 " ) } , h = f u n c t i o n ( a ) { a . a t t r ( " d a t a - i s - c o n t a c t " , " 0 " ) } , i = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - u s e r i d " ) } , j = f u n c t i o n ( a ) { r e t u r n   a . h a s C l a s s ( " l o a d i n g " ) | | a . a t t r ( " d i s a b l e d " ) } , k = f u n c t i o n ( c , e ) { r e t u r n   j ( c ) ? a . D e f e r r e d ( ) : ( c . a d d C l a s s ( " l o a d i n g " ) , c . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) , b . c a l l ( [ e ] ) [ 0 ] . f a i l ( d . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { c . r e m o v e C l a s s ( " l o a d i n g " ) , c . r e m o v e A t t r ( " d i s a b l e d " ) } ) ) } , l = f u n c t i o n ( a ) { i f ( ! j ( a ) ) { v a r   b = { m e t h o d n a m e : " c o r e _ m e s s a g e _ c r e a t e _ c o n t a c t s " , a r g s : { u s e r i d s : [ i ( a ) ] } } ; k ( a , b ) . d o n e ( f u n c t i o n ( ) { g ( a ) , c . r e n d e r ( " m e s s a g e / r e m o v e _ c o n t a c t _ b u t t o n " , { } ) . d o n e ( f u n c t i o n ( b , d ) { c . r e p l a c e N o d e C o n t e n t s ( a , b , d ) } ) } ) } } , m = f u n c t i o n ( a ) { i f ( ! j ( a ) ) { v a r   b = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ c o n t a c t s " , a r g s : { u s e r i d s : [ i ( a ) ] } } ; k ( a , b ) . d o n e ( f u n c t i o n ( ) { h ( a ) , c . r e n d e r ( " m e s s a g e / a d d _ c o n t a c t _ b u t t o n " , { } ) . d o n e ( f u n c t i o n ( b , d ) { c . r e p l a c e N o d e C o n t e n t s ( a , b , d ) } ) } ) } } , n = f u n c t i o n ( b ) { b = a ( b ) , b . c h i l d r e n ( " . l o a d i n g - i c o n " ) . l e n g t h | | c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( a , c ) { b . a p p e n d ( a , c ) } ) , e . d e f i n e ( b , [ e . e v e n t s . a c t i v a t e ] ) , b . o n ( e . e v e n t s . a c t i v a t e , f u n c t i o n ( a , c ) { f ( b ) ? m ( b ) : l ( b ) , a . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) } ; r e t u r n { e n h a n c e : n } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r _ s e t t i n g s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / f r a g m e n t " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { P R O C E S S O R : " [ d a t a - p r o c e s s o r - n a m e ] " , P R E F E R E N C E _ R O W : ' [ d a t a - r e g i o n = " p r e f e r e n c e - r o w " ] ' } , i = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . n a m e = t h i s . r o o t . a t t r ( " d a t a - n a m e " ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r - i d " ) , t h i s . c o n t e x t I d = t h i s . r o o t . a t t r ( " d a t a - c o n t e x t - i d " ) } ; r e t u r n   i . p r o t o t y p e . s h o w = f u n c t i o n ( ) { d . l o a d F r a g m e n t ( " m e s s a g e " , " p r o c e s s o r _ s e t t i n g s " , t h i s . c o n t e x t I d , { u s e r i d : t h i s . u s e r I d , t y p e : t h i s . n a m e } ) . d o n e ( f u n c t i o n ( b , c ) { f . g e t _ s t r i n g ( " p r o c e s s o r s e t t i n g s " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( d ) { v a r   f = n e w   g ( d , b , f u n c t i o n ( ) { e . r u n T e m p l a t e J S ( c ) } , f u n c t i o n ( ) { f . c l o s e ( ) } ) ; a ( d o c u m e n t ) . o n ( " m p p : f o r m s u b m i t t e d " , f u n c t i o n ( ) { f . c l o s e ( ) , t h i s . u p d a t e C o n f i g u r e d S t a t u s ( ) } . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( " m p p : f o r m c a n c e l l e d " , f u n c t i o n ( ) { f . c l o s e ( ) } ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . u p d a t e C o n f i g u r e d S t a t u s = f u n c t i o n ( ) { v a r   d = t h i s . r o o t . c l o s e s t ( h . P R O C E S S O R ) ; i f ( ! d . h a s C l a s s ( " u n c o n f i g u r e d " ) ) r e t u r n ! 1 ; v a r   e = d . a t t r ( " d a t a - p r o c e s s o r - n a m e " ) , f = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e s s a g e _ p r o c e s s o r " , a r g s : { n a m e : e , u s e r i d : t h i s . u s e r I d } } ; r e t u r n   b . c a l l ( [ f ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . d o n e ( f u n c t i o n ( b ) { i f ( b . u s e r c o n f i g u r e d ) { v a r   c = a ( h . P R E F E R E N C E _ R O W + '   [ d a t a - p r o c e s s o r - n a m e = " ' + e + ' " ] ' ) ; d . r e m o v e C l a s s ( " u n c o n f i g u r e d " ) , c . r e m o v e C l a s s ( " d i s a b l e d " ) } } ) } , i } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r e f e r e n c e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { P R O C E S S O R : " [ d a t a - p r o c e s s o r - n a m e ] " , S T A T E _ I N P U T S : " [ d a t a - s t a t e ]   i n p u t " } , f = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = c } ; r e t u r n   f . p r o t o t y p e . g e t P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . a t t r ( " d a t a - p r e f e r e n c e - k e y " ) } , f . p r o t o t y p e . g e t L o g g e d I n P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . g e t P r e f e r e n c e K e y ( ) + " _ l o g g e d i n " } , f . p r o t o t y p e . g e t L o g g e d O f f P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . g e t P r e f e r e n c e K e y ( ) + " _ l o g g e d o f f " } , f . p r o t o t y p e . g e t P r o c e s s o r s = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . f i n d ( e . P R O C E S S O R ) . m a p ( f u n c t i o n ( b , c ) { r e t u r n   n e w   d ( a ( c ) ) } ) } , f . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . a d d C l a s s ( " l o a d i n g " ) , t h i s . r o o t . f i n d ( e . S T A T E _ I N P U T S ) . p r o p ( " d i s a b l e d " , ! 0 ) } , f . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e C l a s s ( " l o a d i n g " ) , t h i s . r o o t . f i n d ( e . S T A T E _ I N P U T S ) . p r o p ( " d i s a b l e d " , ! 1 ) } , f . p r o t o t y p e . i s L o a d i n g = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " l o a d i n g " ) } , f . p r o t o t y p e . s a v e = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g ( ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   d = " " , e = " " ; t h i s . g e t P r o c e s s o r s ( ) . e a c h ( f u n c t i o n ( a , b ) { b . i s L o g g e d I n E n a b l e d ( ) & & ( " " = = = d ? d = b . g e t N a m e ( ) : d + = " , " + b . g e t N a m e ( ) ) , b . i s L o g g e d O f f E n a b l e d ( ) & & ( " " = = = e ? e = b . g e t N a m e ( ) : e + = " , " + b . g e t N a m e ( ) ) } ) , " " = = = d & & ( d = " n o n e " ) , " " = = = e & & ( e = " n o n e " ) ; v a r   f = { u s e r i d : t h i s . u s e r I d , p r e f e r e n c e s : [ { t y p e : t h i s . g e t L o g g e d I n P r e f e r e n c e K e y ( ) , v a l u e : d } , { t y p e : t h i s . g e t L o g g e d O f f P r e f e r e n c e K e y ( ) , v a l u e : e } ] } , g = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , f } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ p r e f e r e n c e s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e _ m e s s a g e / m e s s a g e _ n o t i f i c a t i o n _ p r e f e r e n c e " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { P R E F E R E N C E : " [ d a t a - s t a t e ] " , P R E F E R E N C E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p r e f e r e n c e s - c o n t a i n e r " ] ' , B L O C K _ N O N _ C O N T A C T S : ' [ d a t a - r e g i o n = " b l o c k - n o n - c o n t a c t s - c o n t a i n e r " ]   [ d a t a - b l o c k - n o n - c o n t a c t s ] ' , B L O C K _ N O N _ C O N T A C T S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " b l o c k - n o n - c o n t a c t s - c o n t a i n e r " ] ' } , g = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   g . p r o t o t y p e . p r e f e r e n c e s D i s a b l e d = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . f i n d ( f . P R E F E R E N C E S _ C O N T A I N E R ) . h a s C l a s s ( " d i s a b l e d " ) } , g . p r o t o t y p e . s a v e B l o c k N o n C o n t a c t s S t a t u s = f u n c t i o n ( ) { v a r   d = t h i s . r o o t . f i n d ( f . B L O C K _ N O N _ C O N T A C T S ) , e = t h i s . r o o t . f i n d ( f . B L O C K _ N O N _ C O N T A C T S _ C O N T A I N E R ) , g = d . p r o p ( " c h e c k e d " ) ; i f ( e . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; e . a d d C l a s s ( " l o a d i n g " ) ; v a r   h = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { p r e f e r e n c e s : [ { t y p e : d . a t t r ( " d a t a - p r e f e r e n c e - k e y " ) , v a l u e : g ? 1 : 0 } ] } } ; r e t u r n   b . c a l l ( [ h ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { e . r e m o v e C l a s s ( " l o a d i n g " ) } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { e . d e f i n e ( t h i s . r o o t , [ e . e v e n t s . a c t i v a t e ] ) , t h i s . r o o t . o n ( e . e v e n t s . a c t i v a t e , f . B L O C K _ N O N _ C O N T A C T S , f u n c t i o n ( ) { t h i s . s a v e B l o c k N o n C o n t a c t s S t a t u s ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( " c h a n g e " , f u n c t i o n ( b ) { i f ( ! t h i s . p r e f e r e n c e s D i s a b l e d ( ) ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( f . P R E F E R E N C E S _ C O N T A I N E R ) , e = a ( b . t a r g e t ) . c l o s e s t ( f . P R E F E R E N C E ) , g = n e w   d ( c ) ; e . a d d C l a s s ( " l o a d i n g " ) , g . s a v e ( ) . a l w a y s ( f u n c t i o n ( ) { e . r e m o v e C l a s s ( " l o a d i n g " ) } ) } } . b i n d ( t h i s ) ) } , g } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a ' ,   [ " j q u e r y " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ p r o f i l e " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ t a b s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ s e a r c h " ] , f u n c t i o n ( a , b , c , d , e , f ) { f u n c t i o n   g ( b , c , d , e ) { t h i s . n o d e = a ( b ) , t h i s . p o l l m i n = c , t h i s . p o l l m a x = d , t h i s . p o l l t i m e o u t = e , t h i s . _ i n i t ( ) } r e t u r n   g . p r o t o t y p e . n o d e = n u l l , g . p r o t o t y p e . p o l l m i n = n u l l , g . p r o t o t y p e . p o l l m a x = n u l l , g . p r o t o t y p e . p o l l t i m e o u t = n u l l , g . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { n e w   b ( t h i s ) , n e w   c ( t h i s ) , n e w   d ( t h i s ) , n e w   e ( t h i s ) , n e w   f ( t h i s ) } , g . p r o t o t y p e . o n D e l e g a t e E v e n t = f u n c t i o n ( a , b , c ) { t h i s . n o d e . o n ( a , b , c ) } , g . p r o t o t y p e . o n C u s t o m E v e n t = f u n c t i o n ( a , b ) { t h i s . n o d e . o n ( a , b ) } , g . p r o t o t y p e . t r i g g e r = f u n c t i o n ( a , b ) { " u n d e f i n e d " = = t y p e o f   b & & ( b = " " ) , t h i s . n o d e . t r i g g e r ( a , b ) } , g . p r o t o t y p e . f i n d = f u n c t i o n ( a ) { r e t u r n   t h i s . n o d e . f i n d ( a ) } , g . p r o t o t y p e . g e t C u r r e n t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . n o d e . d a t a ( " u s e r i d " ) } , g . p r o t o t y p e . s h o w C o n t a c t s F i r s t = f u n c t i o n ( ) { r e t u r n ! ! t h i s . n o d e . d a t a ( " d i s p l a y c o n t a c t s " ) } , g } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { C A N C E L D E L E T E M E S S A G E S : " c a n c e l - d e l e t e - m e s s a g e s " , C H O O S E M E S S A G E S T O D E L E T E : " c h o o s e - m e s s a g e s - t o - d e l e t e " , C O N T A C T A D D E D : " c o n t a c t - a d d e d " , C O N T A C T B L O C K E D : " c o n t a c t - b l o c k e d " , C O N T A C T R E M O V E D : " c o n t a c t - r e m o v e d " , C O N T A C T S E L E C T E D : " c o n t a c t - s e l e c t e d " , C O N T A C T S S E L E C T E D : " c o n t a c t s - s e l e c t e d " , C O N T A C T U N B L O C K E D : " c o n t a c t - u n b l o c k e d " , C O N V E R S A T I O N D E L E T E D : " c o n v e r s a t i o n - d e l e t e d " , C O N V E R S A T I O N S E L E C T E D : " c o n v e r s a t i o n - s e l e c t e d " , C O N V E R S A T I O N S S E L E C T E D : " c o n v e r s a t i o n s - s e l e c t e d " , M E S S A G E S D E L E T E D : " m e s s a g e s - d e l e t e d " , M E S S A G E S E A R C H C A N C E L E D : " m e s s a g e - s e a r c h - c a n c e l e d " , M E S S A G E S E N T : " m e s s a g e - s e n t " , S E N D M E S S A G E : " m e s s a g e - s e n d " , U S E R S S E A R C H C A N C E L E D : " u s e r s - s e a r c h - c a n c e l e d " } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / p r e f e r e n c e s _ n o t i f i c a t i o n s _ l i s t _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r e f e r e n c e " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r _ s e t t i n g s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { D I S A B L E _ N O T I F I C A T I O N S : ' [ d a t a - r e g i o n = " d i s a b l e - n o t i f i c a t i o n - c o n t a i n e r " ]   [ d a t a - d i s a b l e - n o t i f i c a t i o n s ] ' , D I S A B L E _ N O T I F I C A T I O N S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " d i s a b l e - n o t i f i c a t i o n - c o n t a i n e r " ] ' , P R E F E R E N C E : " [ d a t a - s t a t e ] " , P R E F E R E N C E _ R O W : ' [ d a t a - r e g i o n = " p r e f e r e n c e - r o w " ] ' , P R E F E R E N C E _ I N P U T : " [ d a t a - s t a t e ]   i n p u t " , P R O C E S S O R _ S E T T I N G : " [ d a t a - p r o c e s s o r - s e t t i n g ] " } , h = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r - i d " ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   h . p r o t o t y p e . i s D i s a b l e d = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " d i s a b l e d " ) } , h . p r o t o t y p e . s e t D i s a b l e d = f u n c t i o n ( ) { t h i s . r o o t . a d d C l a s s ( " d i s a b l e d " ) , t h i s . r o o t . f i n d ( g . P R E F E R E N C E _ I N P U T ) . p r o p ( " d i s a b l e d " , ! 0 ) } , h . p r o t o t y p e . s e t E n a b l e d = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e C l a s s ( " d i s a b l e d " ) , t h i s . r o o t . f i n d ( g . P R E F E R E N C E _ I N P U T ) . p r o p ( " d i s a b l e d " , ! 1 ) } , h . p r o t o t y p e . t o g g l e D i s a b l e A l l S t a t u s = f u n c t i o n ( ) { v a r   d = a ( g . D I S A B L E _ N O T I F I C A T I O N S ) , e = a ( g . D I S A B L E _ N O T I F I C A T I O N S _ C O N T A I N E R ) , f = d . p r o p ( " c h e c k e d " ) ; i f ( e . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; e . a d d C l a s s ( " l o a d i n g " ) ; v a r   h = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { u s e r i d : t h i s . u s e r I d , e m a i l s t o p : f ? 1 : 0 } } ; r e t u r n   b . c a l l ( [ h ] ) [ 0 ] . d o n e ( f u n c t i o n ( ) { f ? t h i s . s e t D i s a b l e d ( ) : t h i s . s e t E n a b l e d ( ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { e . r e m o v e C l a s s ( " l o a d i n g " ) } ) . f a i l ( c . e x c e p t i o n ) } , h . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   b = a ( g . D I S A B L E _ N O T I F I C A T I O N S ) ; d . d e f i n e ( t h i s . r o o t , [ d . e v e n t s . a c t i v a t e ] ) , t h i s . r o o t . o n ( " c h a n g e " , f u n c t i o n ( b ) { i f ( ! t h i s . i s D i s a b l e d ( ) ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( g . P R E F E R E N C E ) , d = a ( b . t a r g e t ) . c l o s e s t ( g . P R E F E R E N C E _ R O W ) , f = n e w   e ( d , t h i s . u s e r I d ) ; c . a d d C l a s s ( " l o a d i n g " ) , f . s a v e ( ) . a l w a y s ( f u n c t i o n ( ) { c . r e m o v e C l a s s ( " l o a d i n g " ) } ) } } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( d . e v e n t s . a c t i v a t e , g . P R O C E S S O R _ S E T T I N G , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( g . P R O C E S S O R _ S E T T I N G ) , e = n e w   f ( d ) ; e . s h o w ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , d . d e f i n e ( b , [ d . e v e n t s . a c t i v a t e ] ) , b . o n ( d . e v e n t s . a c t i v a t e , f u n c t i o n ( ) { t h i s . t o g g l e D i s a b l e A l l S t a t u s ( ) } . b i n d ( t h i s ) ) } , h } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ p r o f i l e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / c o n f i g " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { f u n c t i o n   i ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   j = { P R O F I L E : " [ d a t a - r e g i o n = ' p r o f i l e ' ] " , P R O F I L E A D D C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - a d d - c o n t a c t ' ] " , P R O F I L E B L O C K C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - b l o c k - c o n t a c t ' ] " , P R O F I L E R E M O V E C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - r e m o v e - c o n t a c t ' ] " , P R O F I L E S E N D M E S S A G E : " [ d a t a - a c t i o n = ' p r o f i l e - s e n d - m e s s a g e ' ] " , P R O F I L E U N B L O C K C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - u n b l o c k - c o n t a c t ' ] " , P R O F I L E V I E W : " [ d a t a - a c t i o n = ' p r o f i l e - v i e w ' ] " , S H O W C O N T A C T S : " [ d a t a - a c t i o n = ' s h o w - c o n t a c t s ' ] " , M E S S A G E S A R E A : " [ d a t a - r e g i o n = ' m e s s a g e s - a r e a ' ] " , M E S S A G I N G A R E A : " [ d a t a - r e g i o n = ' m e s s a g i n g - a r e a ' ] " } ; r e t u r n   i . p r o t o t y p e . m e s s a g e A r e a = n u l l , i . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { g . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ g . e v e n t s . a c t i v a t e ] ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( h . C O N T A C T S E L E C T E D , t h i s . _ v i e w P r o f i l e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E V I E W , f u n c t i o n ( a , b ) { t h i s . _ v i e w F u l l P r o f i l e ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E S E N D M E S S A G E , f u n c t i o n ( a , b ) { t h i s . _ s e n d M e s s a g e ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E U N B L O C K C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ u n b l o c k C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E B L O C K C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ b l o c k C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E A D D C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ a d d C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E R E M O V E C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ r e m o v e C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . S H O W C O N T A C T S , t h i s . _ h i d e M e s s a g i n g A r e a . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ v i e w P r o f i l e = f u n c t i o n ( a , e ) { c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( j . M E S S A G E S A R E A ) , a , b ) } . b i n d ( t h i s ) ) ; v a r   f = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ g e t _ p r o f i l e " , a r g s : { c u r r e n t u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : e } } ] ) ; r e t u r n   f [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ p r o f i l e " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( j . M E S S A G E S A R E A ) , a , b ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , i . p r o t o t y p e . _ v i e w F u l l P r o f i l e = f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = f . w w w r o o t + " / u s e r / p r o f i l e . p h p ? i d = " + t h i s . _ g e t U s e r I d ( ) } , i . p r o t o t y p e . _ s e n d M e s s a g e = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . S E N D M E S S A G E , t h i s . _ g e t U s e r I d ( ) ) } , i . p r o t o t y p e . _ b l o c k C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ b l o c k _ c o n t a c t s " , " u n b l o c k c o n t a c t " , " p r o f i l e - b l o c k - c o n t a c t " , " p r o f i l e - u n b l o c k - c o n t a c t " , " " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T B L O C K E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ u n b l o c k C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ u n b l o c k _ c o n t a c t s " , " b l o c k c o n t a c t " , " p r o f i l e - u n b l o c k - c o n t a c t " , " p r o f i l e - b l o c k - c o n t a c t " , " d a n g e r " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T U N B L O C K E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ a d d C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ c r e a t e _ c o n t a c t s " , " r e m o v e c o n t a c t " , " p r o f i l e - a d d - c o n t a c t " , " p r o f i l e - r e m o v e - c o n t a c t " , " d a n g e r " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T A D D E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ r e m o v e C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ d e l e t e _ c o n t a c t s " , " a d d c o n t a c t " , " p r o f i l e - r e m o v e - c o n t a c t " , " p r o f i l e - a d d - c o n t a c t " , " " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T R E M O V E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ p e r f o r m A c t i o n = f u n c t i o n ( a , c , f , g , h ) { v a r   i = b . c a l l ( [ { m e t h o d n a m e : a , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , u s e r i d s : [ t h i s . _ g e t U s e r I d ( ) ] } } ] ) ; r e t u r n   i [ 0 ] . t h e n ( f u n c t i o n ( ) { r e t u r n   e . g e t _ s t r i n g ( c , " m e s s a g e " ) } ) . t h e n ( f u n c t i o n ( a ) { t h i s . _ c h a n g e T e x t ( a , f , g , h ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , i . p r o t o t y p e . _ c h a n g e T e x t = f u n c t i o n ( a , b , c , d ) { v a r   e = t h i s . m e s s a g e A r e a . f i n d ( " [ d a t a - a c t i o n = ' " + b + " ' ] " ) ; e . t e x t ( a ) , e . r e m o v e C l a s s ( ) , d & & e . a d d C l a s s ( d ) , e . a t t r ( " d a t a - a c t i o n " , c ) } , i . p r o t o t y p e . _ g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( j . P R O F I L E ) . d a t a ( " u s e r i d " ) } , i . p r o t o t y p e . _ h i d e M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( j . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " s h o w - m e s s a g e s " ) . a d d C l a s s ( " h i d e - m e s s a g e s " ) } , i } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / p r e f e r e n c e s _ p r o c e s s o r _ f o r m ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r - i d " ) , t h i s . n a m e = t h i s . r o o t . a t t r ( " d a t a - p r o c e s s o r - n a m e " ) , t h i s . r o o t . f i n d ( " f o r m " ) . o n ( " s u b m i t " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . s a v e ( ) . d o n e ( f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " m p p : f o r m s u b m i t t e d " ) } ) } . b i n d ( t h i s ) ) ; v a r   c = t h i s . r o o t . f i n d ( " [ d a t a - c a n c e l - b u t t o n ] " ) ; d . d e f i n e ( c , [ d . e v e n t s . a c t i v a t e ] ) , c . o n ( d . e v e n t s . a c t i v a t e , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " m p p : f o r m c a n c e l l e d " ) } ) } ; r e t u r n   e . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . a d d C l a s s ( " l o a d i n g " ) } , e . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e C l a s s ( " l o a d i n g " ) } , e . p r o t o t y p e . i s L o a d i n g = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " l o a d i n g " ) } , e . p r o t o t y p e . s a v e = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g ( ) ) r e t u r n   a . D e f e r r e d ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   d = t h i s . r o o t . f i n d ( " f o r m " ) . s e r i a l i z e A r r a y ( ) , e = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m e s s a g e _ p r o c e s s o r _ c o n f i g _ f o r m " , a r g s : { u s e r i d : t h i s . u s e r I d , n a m e : t h i s . n a m e , f o r m v a l u e s : d } } ; r e t u r n   b . c a l l ( [ e ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , e } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { S T A T E _ N O N E : ' [ d a t a - s t a t e = " n o n e " ] ' , S T A T E _ B O T H : ' [ d a t a - s t a t e = " b o t h " ] ' , S T A T E _ L O G G E D _ I N : ' [ d a t a - s t a t e = " l o g g e d i n " ] ' , S T A T E _ L O G G E D _ O F F : ' [ d a t a - s t a t e = " l o g g e d o f f " ] ' } , c = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) } ; r e t u r n   c . p r o t o t y p e . g e t N a m e = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . a t t r ( " d a t a - p r o c e s s o r - n a m e " ) } , c . p r o t o t y p e . i s L o g g e d I n E n a b l e d = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( b . S T A T E _ N O N E ) . f i n d ( " i n p u t " ) ; i f ( a . p r o p ( " c h e c k e d " ) ) r e t u r n ! 1 ; v a r   c = t h i s . r o o t . f i n d ( b . S T A T E _ B O T H ) . f i n d ( " i n p u t " ) , d = t h i s . r o o t . f i n d ( b . S T A T E _ L O G G E D _ I N ) . f i n d ( " i n p u t " ) ; r e t u r n   d . p r o p ( " c h e c k e d " ) | | c . p r o p ( " c h e c k e d " ) } , c . p r o t o t y p e . i s L o g g e d O f f E n a b l e d = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( b . S T A T E _ N O N E ) . f i n d ( " i n p u t " ) ; i f ( a . p r o p ( " c h e c k e d " ) ) r e t u r n ! 1 ; v a r   c = t h i s . r o o t . f i n d ( b . S T A T E _ B O T H ) . f i n d ( " i n p u t " ) , d = t h i s . r o o t . f i n d ( b . S T A T E _ L O G G E D _ O F F ) . f i n d ( " i n p u t " ) ; r e t u r n   d . p r o p ( " c h e c k e d " ) | | c . p r o p ( " c h e c k e d " ) } , c } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ a c t i o n s ' ,   [ " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { t h i s . m e s s a g e A r e a = a } v a r   c = { M E S S A G E S : " [ d a t a - r e g i o n = ' m e s s a g e s ' ] " } ; r e t u r n   b . p r o t o t y p e . m e s s a g e A r e a = n u l l , b . p r o t o t y p e . c h o o s e M e s s a g e s T o D e l e t e = f u n c t i o n ( ) { 0 ! = = t h i s . m e s s a g e A r e a . f i n d ( c . M E S S A G E S ) . l e n g t h & & t h i s . m e s s a g e A r e a . t r i g g e r ( a . C H O O S E M E S S A G E S T O D E L E T E ) } , b } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { f u n c t i o n   h ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   i = { C O N T A C T : " [ d a t a - r e g i o n = ' c o n t a c t ' ] " , C O N T A C T I C O N B L O C K E D : " [ d a t a - r e g i o n = ' c o n t a c t - i c o n - b l o c k e d ' ] " , C O N T A C T S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n t a c t s ' ] " , C O N T A C T S A R E A : " [ d a t a - r e g i o n = ' c o n t a c t s - a r e a ' ] " , C O N V E R S A T I O N S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n v e r s a t i o n s ' ] " , C O U R S E : " [ d a t a - r e g i o n = ' c o u r s e ' ] " , L A S T M E S S A G E T E X T : " [ d a t a - r e g i o n = ' l a s t - m e s s a g e - t e x t ' ] " , L A S T M E S S A G E U S E R : " [ d a t a - r e g i o n = ' l a s t - m e s s a g e - u s e r ' ] " , L O A D I N G I C O N : " . l o a d i n g - i c o n " , M E S S A G E T E X T : " [ d a t a - r e g i o n = ' m e s s a g e - t e x t ' ] " , M E S S A G I N G A R E A : " [ d a t a - r e g i o n = ' m e s s a g i n g - a r e a ' ] " , N O C O N T A C T S : " [ d a t a - r e g i o n = n o - c o n t a c t s ] " , S E A R C H B O X : " [ d a t a - r e g i o n = ' s e a r c h - b o x ' ] " , S E A R C H R E S U L T S A R E A : " [ d a t a - r e g i o n = ' s e a r c h - r e s u l t s - a r e a ' ] " , S E A R C H T E X T A R E A : " [ d a t a - r e g i o n = ' s e a r c h - t e x t - a r e a ' ] " , S E L E C T E D V I E W C O N V E R S A T I O N : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - m s g ' ] . s e l e c t e d " , S E L E C T E D V I E W P R O F I L E : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - p r o f i l e ' ] . s e l e c t e d " , S H O W M E S S A G E S : " [ d a t a - a c t i o n = ' s h o w - m e s s a g e s ' ] " , V I E W C O N V E R S A T I O N : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - m s g ' ] " , V I E W P R O F I L E : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - p r o f i l e ' ] " } ; r e t u r n   h . p r o t o t y p e . _ i s L o a d i n g C o n v e r s a t i o n s = ! 1 , h . p r o t o t y p e . _ i s L o a d i n g C o n t a c t s = ! 1 , h . p r o t o t y p e . _ n u m C o n t a c t s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m C o n t a c t s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ n u m C o n v e r s a t i o n s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m C o n v e r s a t i o n s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ m e s s a g e L e n g t h = 6 0 , h . p r o t o t y p e . m e s s a g e A r e a = n u l l , h . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { e . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ e . e v e n t s . a c t i v a t e , e . e v e n t s . d o w n , e . e v e n t s . u p ] ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S E A R C H C A N C E L E D , t h i s . _ v i e w C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . U S E R S S E A R C H C A N C E L E D , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T S S E L E C T E D , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N V E R S A T I O N D E L E T E D , t h i s . _ d e l e t e C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N V E R S A T I O N S S E L E C T E D , t h i s . _ v i e w C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T S S E L E C T E D , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S D E L E T E D , t h i s . _ u p d a t e L a s t M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S E N T , t h i s . _ h a n d l e M e s s a g e S e n t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T R E M O V E D , f u n c t i o n ( a , b ) { t h i s . _ r e m o v e C o n t a c t ( i . C O N T A C T S , b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T A D D E D , f u n c t i o n ( a , b ) { t h i s . _ a d d C o n t a c t ( b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T B L O C K E D , f u n c t i o n ( a , b ) { t h i s . _ b l o c k C o n t a c t ( b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T U N B L O C K E D , f u n c t i o n ( a , b ) { t h i s . _ u n b l o c k C o n t a c t ( b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C H O O S E M E S S A G E S T O D E L E T E , t h i s . _ s t a r t D e l e t i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C A N C E L D E L E T E M E S S A G E S , t h i s . _ s t o p D e l e t i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , i . V I E W C O N V E R S A T I O N , t h i s . _ v i e w C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , i . V I E W P R O F I L E , t h i s . _ v i e w C o n t a c t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , i . S H O W M E S S A G E S , t h i s . _ s h o w M e s s a g i n g A r e a . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , i . C O N T A C T , t h i s . _ s e l e c t P r e v i o u s C o n t a c t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , i . C O N T A C T , t h i s . _ s e l e c t N e x t C o n t a c t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , i . V I E W C O N V E R S A T I O N , t h i s . _ s e l e c t P r e v i o u s C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , i . V I E W C O N V E R S A T I O N , t h i s . _ s e l e c t N e x t C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , i . C O U R S E , t h i s . _ s e l e c t P r e v i o u s C o u r s e . b i n d ( ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , i . C O U R S E , t h i s . _ s e l e c t N e x t C o u r s e . b i n d ( ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " f o c u s " , i . S E A R C H B O X , t h i s . _ s e t S e a r c h i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " b l u r " , i . S E A R C H B O X , t h i s . _ c l e a r S e a r c h i n g . b i n d ( t h i s ) ) , e . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , [ e . e v e n t s . s c r o l l B o t t o m ] ) , e . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , [ e . e v e n t s . s c r o l l B o t t o m ] ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . s c r o l l B o t t o m , i . C O N V E R S A T I O N S , t h i s . _ l o a d C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . s c r o l l B o t t o m , i . C O N T A C T S , t h i s . _ l o a d C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . s h o w C o n t a c t s F i r s t ( ) | | ( t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d = 2 0 ) } , h . p r o t o t y p e . _ s t a r t D e l e t i n g = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . a d d C l a s s ( " e d i t i n g " ) } , h . p r o t o t y p e . _ s t o p D e l e t i n g = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . r e m o v e C l a s s ( " e d i t i n g " ) } , h . p r o t o t y p e . _ v i e w C o n v e r s a t i o n s = f u n c t i o n ( ) { 0 = = = t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d & & t h i s . _ l o a d C o n v e r s a t i o n s ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . s h o w ( ) } , h . p r o t o t y p e . _ v i e w C o n t a c t s = f u n c t i o n ( ) { 0 = = = t h i s . _ n u m C o n t a c t s D i s p l a y e d & & t h i s . _ l o a d C o n t a c t s ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . s h o w ( ) } , h . p r o t o t y p e . _ h a n d l e M e s s a g e S e n t = f u n c t i o n ( a , b , c ) { t h i s . _ v i e w C o n v e r s a t i o n s ( ) ; v a r   d = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , b ) ; i f ( 0 = = = d . l e n g t h ) { v a r   e = t h i s . _ g e t U s e r N o d e ( i . C O N T A C T S , b ) ; i f ( 0 = = = e . l e n g t h & & ( e = t h i s . _ g e t U s e r N o d e ( i . S E A R C H R E S U L T S A R E A , b ) ) , 0 = = e . l e n g t h ) r e t u r n ; d = e . c l o n e ( ) , d . a t t r ( " d a t a - a c t i o n " , " v i e w - c o n t a c t - m s g " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S + "   " + i . N O C O N T A C T S ) . r e m o v e ( ) , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d + + } d . p r e p e n d T o ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . s c r o l l T o p ( 0 ) , t h i s . _ u p d a t e C o n t a c t T e x t ( d , c , ! 0 ) , t h i s . _ s e t S e l e c t e d U s e r ( " [ d a t a - u s e r i d = ' " + b + " ' ] " ) } , h . p r o t o t y p e . _ l o a d C o n v e r s a t i o n s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g C o n v e r s a t i o n s ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g C o n v e r s a t i o n s = ! 0 ; v a r   a = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d ? c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) : c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , t h i s . _ g e t I t e m s ( " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ c o n v e r s a t i o n s " , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d , t h i s . _ n u m C o n v e r s a t i o n s T o R e t r i e v e ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a = b . c o n t a c t s . l e n g t h , b . i s c o n v e r s a t i o n = ! 0 , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s " , b ) } ) . t h e n ( f u n c t i o n ( b , d ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , a > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , b , d ) , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d + = t h i s . _ n u m C o n v e r s a t i o n s T o R e t r i e v e ) : t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d | | c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , b , d ) , t h i s . _ i s L o a d i n g C o n v e r s a t i o n s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ l o a d C o n t a c t s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g C o n t a c t s ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g C o n t a c t s = ! 0 ; v a r   a = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ n u m C o n t a c t s D i s p l a y e d ? c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) : c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , t h i s . _ g e t I t e m s ( " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ c o n t a c t s " , t h i s . _ n u m C o n t a c t s D i s p l a y e d , t h i s . _ n u m C o n t a c t s T o R e t r i e v e ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a = b . c o n t a c t s . l e n g t h , b . i s c o n v e r s a t i o n = ! 1 , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s " , b ) } ) . t h e n ( f u n c t i o n ( b , d ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , a > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , b , d ) , t h i s . _ n u m C o n t a c t s D i s p l a y e d + = a ) : t h i s . _ n u m C o n t a c t s D i s p l a y e d | | c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , b , d ) , t h i s . _ i s L o a d i n g C o n t a c t s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ v i e w C o n v e r s a t i o n = f u n c t i o n ( b ) { t h i s . m e s s a g e A r e a . t r i g g e r ( g . C A N C E L D E L E T E M E S S A G E S ) ; v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " u s e r i d " ) , d = a ( b . c u r r e n t T a r g e t ) . d a t a ( " m e s s a g e i d " ) , e = " [ d a t a - u s e r i d = ' " + c + " ' ] " ; d & & ( e = " [ d a t a - m e s s a g e i d = ' " + d + " ' ] " ) , t h i s . _ s e t S e l e c t e d U s e r ( e ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . C O N V E R S A T I O N S E L E C T E D , c ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E L E C T E D V I E W P R O F I L E ) . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . _ s h o w M e s s a g i n g A r e a ( ) } , h . p r o t o t y p e . _ v i e w C o n t a c t = f u n c t i o n ( b ) { t h i s . m e s s a g e A r e a . t r i g g e r ( g . C A N C E L D E L E T E M E S S A G E S ) ; v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " u s e r i d " ) ; t h i s . _ s e t S e l e c t e d U s e r ( " [ d a t a - u s e r i d = ' " + c + " ' ] " ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . C O N T A C T S E L E C T E D , c ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E L E C T E D V I E W C O N V E R S A T I O N ) . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . _ s h o w M e s s a g i n g A r e a ( ) } , h . p r o t o t y p e . _ g e t I t e m s = f u n c t i o n ( a , c , d ) { v a r   e = b . c a l l ( [ { m e t h o d n a m e : a , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , l i m i t f r o m : c , l i m i t n u m : d } } ] ) ; r e t u r n   e [ 0 ] } , h . p r o t o t y p e . _ d e l e t e C o n v e r s a t i o n = f u n c t i o n ( a , b ) { t h i s . _ r e m o v e C o n t a c t ( i . C O N V E R S A T I O N S , b ) , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d - - , t h i s . _ h i d e M e s s a g i n g A r e a ( ) , t h i s . _ s t o p D e l e t i n g ( ) } , h . p r o t o t y p e . _ u p d a t e L a s t M e s s a g e = f u n c t i o n ( a , b , c ) { i f ( c ) { v a r   d = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , b ) , e = c . f i n d ( i . M E S S A G E T E X T ) . t e x t ( ) . t r i m ( ) , f = ! 1 ; c . d a t a ( " u s e r i d t o " ) = = b & & ( f = ! 0 ) , t h i s . _ u p d a t e C o n t a c t T e x t ( d , e , f ) } t h i s . _ s t o p D e l e t i n g ( ) } , h . p r o t o t y p e . _ a d d C o n t a c t = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . e m p t y ( ) , t h i s . _ n u m C o n t a c t s D i s p l a y e d = 0 , t h i s . _ l o a d C o n t a c t s ( ) } , h . p r o t o t y p e . _ r e m o v e C o n t a c t = f u n c t i o n ( a , b ) { t h i s . _ g e t U s e r N o d e ( a , b ) . r e m o v e ( ) , t h i s . _ n u m C o n t a c t s D i s p l a y e d - - } , h . p r o t o t y p e . _ b l o c k C o n t a c t = f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t U s e r N o d e ( i . C O N T A C T S , a ) ; b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . r e m o v e C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . r e m o v e C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . S E A R C H R E S U L T S A R E A , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . r e m o v e C l a s s ( " h i d d e n " ) } , h . p r o t o t y p e . _ u n b l o c k C o n t a c t = f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t U s e r N o d e ( i . C O N T A C T S , a ) ; b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . a d d C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . a d d C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . S E A R C H R E S U L T S A R E A , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . a d d C l a s s ( " h i d d e n " ) } , h . p r o t o t y p e . _ g e t U s e r N o d e = f u n c t i o n ( a , b ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( a + "   " + i . C O N T A C T + " [ d a t a - u s e r i d = ' " + b + " ' ] " ) } , h . p r o t o t y p e . _ s e t S e l e c t e d U s e r = f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T ) . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T ) . a t t r ( " a r i a - p r e s s e d " , ! 1 ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T + a ) . a d d C l a s s ( " s e l e c t e d " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T + a ) . a t t r ( " a r i a - p r e s s e d " , ! 0 ) } , h . p r o t o t y p e . _ g e t C o n t a c t T e x t = f u n c t i o n ( b ) { r e t u r n   b = a ( d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ) . h t m l ( b ) . t e x t ( ) , b . l e n g t h > t h i s . _ m e s s a g e L e n g t h & & ( b = b . s u b s t r ( 0 , t h i s . _ m e s s a g e L e n g t h - 3 ) , b + = " . . . " ) , b } , h . p r o t o t y p e . _ u p d a t e C o n t a c t T e x t = f u n c t i o n ( a , b , c ) { b = t h i s . _ g e t C o n t a c t T e x t ( b ) , c ? f . g e t _ s t r i n g ( " y o u " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( b ) { a . f i n d ( i . L A S T M E S S A G E U S E R ) . e m p t y ( ) . a p p e n d ( b ) } ) . a l w a y s ( f u n c t i o n ( ) { a . f i n d ( i . L A S T M E S S A G E T E X T ) . e m p t y ( ) . a p p e n d ( b ) } ) : ( a . f i n d ( i . L A S T M E S S A G E U S E R ) . e m p t y ( ) , a . f i n d ( i . L A S T M E S S A G E T E X T ) . e m p t y ( ) . a p p e n d ( b ) ) } , h . p r o t o t y p e . _ s e l e c t N e x t C o n t a c t = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O N T A C T ) , e = d . n e x t ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t P r e v i o u s C o n t a c t = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O N T A C T ) , e = d . p r e v ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t N e x t C o u r s e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O U R S E ) ; d . n e x t ( ) . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t P r e v i o u s C o u r s e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O U R S E ) ; d . p r e v ( ) . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t N e x t C o n v e r s a t i o n = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . V I E W C O N V E R S A T I O N ) , e = d . n e x t ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t P r e v i o u s C o n v e r s a t i o n = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . V I E W C O N V E R S A T I O N ) , e = d . p r e v ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e t S e a r c h i n g = f u n c t i o n ( ) { a ( i . S E A R C H T E X T A R E A ) . a d d C l a s s ( " s e a r c h i n g " ) } , h . p r o t o t y p e . _ c l e a r S e a r c h i n g = f u n c t i o n ( ) { a ( i . S E A R C H T E X T A R E A ) . r e m o v e C l a s s ( " s e a r c h i n g " ) } , h . p r o t o t y p e . _ s h o w M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " h i d e - m e s s a g e s " ) . a d d C l a s s ( " s h o w - m e s s a g e s " ) } , h . p r o t o t y p e . _ h i d e M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " s h o w - m e s s a g e s " ) . a d d C l a s s ( " h i d e - m e s s a g e s " ) } , h } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / a u t o _ r o w s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ a c t i o n s " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " , " c o r e / b a c k o f f _ t i m e r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l ) { f u n c t i o n   m ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   n = 5 0 0 , o = 5 0 , p = { B L O C K T I M E : " [ d a t a - r e g i o n = ' b l o c k t i m e ' ] " , C A N C E L D E L E T E M E S S A G E S : " [ d a t a - a c t i o n = ' c a n c e l - d e l e t e - m e s s a g e s ' ] " , C O N T A C T : " [ d a t a - r e g i o n = ' c o n t a c t ' ] " , C O N V E R S A T I O N S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n v e r s a t i o n s ' ] " , D E L E T E A L L M E S S A G E S : " [ d a t a - a c t i o n = ' d e l e t e - a l l - m e s s a g e s ' ] " , D E L E T E M E S S A G E S : " [ d a t a - a c t i o n = ' d e l e t e - m e s s a g e s ' ] " , L O A D I N G I C O N : " . l o a d i n g - i c o n " , M E S S A G E : " [ d a t a - r e g i o n = ' m e s s a g e ' ] " , M E S S A G E R E S P O N S E : " [ d a t a - r e g i o n = ' r e s p o n s e ' ] " , M E S S A G E S : " [ d a t a - r e g i o n = ' m e s s a g e s ' ] " , M E S S A G E S A R E A : " [ d a t a - r e g i o n = ' m e s s a g e s - a r e a ' ] " , M E S S A G I N G A R E A : " [ d a t a - r e g i o n = ' m e s s a g i n g - a r e a ' ] " , S E N D M E S S A G E : " [ d a t a - a c t i o n = ' s e n d - m e s s a g e ' ] " , S E N D M E S S A G E T E X T : " [ d a t a - r e g i o n = ' s e n d - m e s s a g e - t x t ' ] " , S H O W C O N T A C T S : " [ d a t a - a c t i o n = ' s h o w - c o n t a c t s ' ] " , S T A R T D E L E T E M E S S A G E S : " [ d a t a - a c t i o n = ' s t a r t - d e l e t e - m e s s a g e s ' ] " } , q = 1 e 3 ; r e t u r n   m . p r o t o t y p e . _ i s S e n d i n g M e s s a g e = ! 1 , m . p r o t o t y p e . _ i s L o a d i n g M e s s a g e s = ! 1 , m . p r o t o t y p e . _ n u m M e s s a g e s D i s p l a y e d = 0 , m . p r o t o t y p e . _ m e s s a g e Q u e u e = [ ] , m . p r o t o t y p e . _ n u m M e s s a g e s T o R e t r i e v e = 2 0 , m . p r o t o t y p e . _ c o n f i r m a t i o n M o d a l = n u l l , m . p r o t o t y p e . _ l a t e s t M e s s a g e T i m e s t a m p = 0 , m . p r o t o t y p e . _ b a c k o f f T i m e r = n u l l , m . p r o t o t y p e . m e s s a g e A r e a = n u l l , m . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { e . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ e . e v e n t s . a c t i v a t e , e . e v e n t s . u p , e . e v e n t s . d o w n , e . e v e n t s . e n t e r ] ) , a ( w i n d o w ) . h e i g h t ( ) < = 6 7 0 & & ( n = 4 0 0 ) , f . i n i t ( t h i s . m e s s a g e A r e a . n o d e ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . C O N V E R S A T I O N S E L E C T E D , t h i s . _ v i e w M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . S E N D M E S S A G E , t h i s . _ v i e w M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . C H O O S E M E S S A G E S T O D E L E T E , t h i s . _ c h o o s e M e s s a g e s T o D e l e t e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . C A N C E L D E L E T E M E S S A G E S , t h i s . _ h i d e D e l e t e A c t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . S E N D M E S S A G E , t h i s . _ s e n d M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . S T A R T D E L E T E M E S S A G E S , t h i s . _ s t a r t D e l e t i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . D E L E T E M E S S A G E S , t h i s . _ d e l e t e M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . D E L E T E A L L M E S S A G E S , t h i s . _ d e l e t e A l l M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . C A N C E L D E L E T E M E S S A G E S , t h i s . _ t r i g g e r C a n c e l M e s s a g e s T o D e l e t e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . M E S S A G E , t h i s . _ t o g g l e M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . S H O W C O N T A C T S , t h i s . _ h i d e M e s s a g i n g A r e a . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , p . M E S S A G E , t h i s . _ s e l e c t P r e v i o u s M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , p . M E S S A G E , t h i s . _ s e l e c t N e x t M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " f o c u s " , p . S E N D M E S S A G E T E X T , t h i s . _ s e t M e s s a g i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " b l u r " , p . S E N D M E S S A G E T E X T , t h i s . _ c l e a r M e s s a g i n g . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( f . e v e n t s . R O W _ C H A N G E , t h i s . _ a d j u s t M e s s a g e s A r e a H e i g h t . b i n d ( t h i s ) ) ; v a r   b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; b . l e n g t h & & ( t h i s . _ a d d S c r o l l E v e n t L i s t e n e r ( b . f i n d ( p . M E S S A G E ) . l e n g t h ) , t h i s . _ l a t e s t M e s s a g e T i m e s t a m p = b . f i n d ( p . M E S S A G E + " : l a s t " ) . d a t a ( " t i m e c r e a t e d " ) ) , t h i s . _ b a c k o f f T i m e r = n e w   l ( t h i s . _ l o a d N e w M e s s a g e s . b i n d ( t h i s ) , l . g e t I n c r e m e n t a l C a l l b a c k ( t h i s . m e s s a g e A r e a . p o l l m i n * q , q , t h i s . m e s s a g e A r e a . p o l l m a x * q , t h i s . m e s s a g e A r e a . p o l l t i m e o u t * q ) ) , t h i s . _ b a c k o f f T i m e r . s t a r t ( ) } , m . p r o t o t y p e . _ v i e w M e s s a g e s = f u n c t i o n ( e , f ) { t h i s . _ n u m M e s s a g e s D i s p l a y e d = 0 , t h i s . _ b a c k o f f T i m e r . s t o p ( ) , t h i s . _ l a t e s t M e s s a g e T i m e s t a m p = 0 ; v a r   g = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ m e s s a g e s _ a s _ r e a d " , a r g s : { u s e r i d t o : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , u s e r i d f r o m : f } } ] ) , h = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) , a , b ) , g [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { v a r   b = t h i s . m e s s a g e A r e a . f i n d ( p . C O N V E R S A T I O N S + "   " + p . C O N T A C T + " [ d a t a - u s e r i d = ' " + f + " ' ] " ) ; r e t u r n   b . h a s C l a s s ( " u n r e a d " ) & & ( b . r e m o v e C l a s s ( " u n r e a d " ) , a ( d o c u m e n t ) . t r i g g e r ( " m e s s a g e a r e a : c o n v e r s a t i o n s e l e c t e d " , f ) ) , t h i s . _ g e t M e s s a g e s ( f ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   h = a . m e s s a g e s . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s _ a r e a " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) , a , b ) , t h i s . _ a d d S c r o l l E v e n t L i s t e n e r ( h ) , t h i s . _ b a c k o f f T i m e r . r e s t a r t ( ) , t h i s . m e s s a g e A r e a . f i n d ( p . S E N D M E S S A G E T E X T ) . f o c u s ( ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ l o a d M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g M e s s a g e s ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g M e s s a g e s = ! 0 ; v a r   b = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . p r e p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , t h i s . _ g e t M e s s a g e s ( t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b = a . m e s s a g e s . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s " , a ) } ) . t h e n ( f u n c t i o n ( d , e ) { i f ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S + "   " + p . L O A D I N G I C O N ) . r e m o v e ( ) , b > 0 ) { v a r   f = a ( " < d i v > " + d + " < / d i v > " ) ; t h i s . _ h a s M a t c h i n g B l o c k T i m e ( t h i s . m e s s a g e A r e a . n o d e , f , ! 0 ) & & t h i s . m e s s a g e A r e a . n o d e . f i n d ( p . B L O C K T I M E + " : f i r s t " ) . r e m o v e ( ) ; v a r   g = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) [ 0 ] . s c r o l l H e i g h t ; c . p r e p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , d , e ) ; v a r   h = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) [ 0 ] . s c r o l l H e i g h t ; t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) . s c r o l l T o p ( h - g ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d + = b } t h i s . _ i s L o a d i n g M e s s a g e s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ l o a d N e w M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g M e s s a g e s ) r e t u r n ! 1 ; i f ( ! t h i s . _ g e t U s e r I d ( ) ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g M e s s a g e s = ! 0 ; v a r   a = ! 1 , b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; i f ( 0 ! = = b . l e n g t h ) { v a r   c = b . s c r o l l T o p ( ) , e = b . i n n e r H e i g h t ( ) , f = b [ 0 ] . s c r o l l H e i g h t ; c + e > = f & & ( a = ! 0 ) } r e t u r n   t h i s . _ g e t M e s s a g e s ( t h i s . _ g e t U s e r I d ( ) , ! 0 ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   t h i s . _ a d d M e s s a g e s T o D o m ( b . m e s s a g e s , a ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . _ i s L o a d i n g M e s s a g e s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ g e t M e s s a g e s = f u n c t i o n ( a , c ) { v a r   e = { c u r r e n t u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : a , l i m i t f r o m : t h i s . _ n u m M e s s a g e s D i s p l a y e d , l i m i t n u m : t h i s . _ n u m M e s s a g e s T o R e t r i e v e , n e w e s t : ! 0 } ; c & & ( e . t i m e f r o m = t h i s . _ l a t e s t M e s s a g e T i m e s t a m p , e . l i m i t f r o m = 0 , e . l i m i t n u m = 0 ) ; v a r   f = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ m e s s a g e s " , a r g s : e } ] ) ; r e t u r n   f [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   b = a . m e s s a g e s ; i f ( b & & b . l e n g t h ) { v a r   c = b [ b . l e n g t h - 1 ] ; c . t i m e c r e a t e d > t h i s . _ l a t e s t M e s s a g e T i m e s t a m p & & ( t h i s . _ l a t e s t M e s s a g e T i m e s t a m p = c . t i m e c r e a t e d + 1 ) } r e t u r n   a } . b i n d ( t h i s ) ) . f a i l ( f u n c t i o n ( a ) { t h i s . _ b a c k o f f T i m e r . s t o p ( ) , d . e x c e p t i o n ( a ) } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ s e n d M e s s a g e = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( p . S E N D M E S S A G E T E X T ) , c = a . v a l ( ) . t r i m ( ) ; i f ( " " = = = c ) r e t u r n ! 1 ; i f ( t h i s . _ i s S e n d i n g M e s s a g e ) r e t u r n ! 1 ; t h i s . _ i s S e n d i n g M e s s a g e = ! 0 ; v a r   e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ s e n d _ i n s t a n t _ m e s s a g e s " , a r g s : { m e s s a g e s : [ { t o u s e r i d : t h i s . _ g e t U s e r I d ( ) , t e x t : c } ] } } ] ) ; r e t u r n   a . p r o p ( " d i s a b l e d " , ! 0 ) , e [ 0 ] . t h e n ( f u n c t i o n ( a ) { i f ( a . l e n g t h < 0 ) t h r o w   n e w   E r r o r ( " I n v a l i d   r e s p o n s e " ) ; i f ( a [ 0 ] . e r r o r m e s s a g e ) t h r o w   n e w   E r r o r ( a [ 0 ] . e r r o r m e s s a g e ) ; r e t u r n   t h i s . m e s s a g e A r e a . t r i g g e r ( k . M E S S A G E S E N T , [ t h i s . _ g e t U s e r I d ( ) , c ] ) , t h i s . _ a d d L a s t M e s s a g e T o D o m ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { t h i s . _ i s S e n d i n g M e s s a g e = ! 1 } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { a . p r o p ( " d i s a b l e d " , ! 1 ) , a . f o c u s ( ) } ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ c h o o s e M e s s a g e s T o D e l e t e = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . a d d C l a s s ( " e d i t i n g " ) , t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . a t t r ( " r o l e " , " c h e c k b o x " ) . a t t r ( " a r i a - c h e c k e d " , " f a l s e " ) } , m . p r o t o t y p e . _ d e l e t e M e s s a g e s = f u n c t i o n ( ) { v a r   c = t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , e = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E + " [ a r i a - c h e c k e d = ' t r u e ' ] " ) , f = [ ] , g = [ ] ; e . e a c h ( f u n c t i o n ( b , d ) { v a r   e = a ( d ) , h = e . d a t a ( " m e s s a g e i d " ) , i = e . d a t a ( " m e s s a g e r e a d " ) ? 1 : 0 ; g . p u s h ( e ) , f . p u s h ( { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ m e s s a g e " , a r g s : { m e s s a g e i d : h , u s e r i d : c , r e a d : i } } ) } ) , f . l e n g t h > 0 ? b . c a l l ( f ) [ f . l e n g t h - 1 ] . t h e n ( f u n c t i o n ( ) { v a r   b = n u l l , c = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) , d = c . l a s t ( ) , e = g [ g . l e n g t h - 1 ] ; a . e a c h ( g , f u n c t i o n ( a , b ) { b . r e m o v e ( ) } ) , d . d a t a ( " i d " ) = = = e . d a t a ( " i d " ) & & ( b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . l a s t ( ) ) , a . e a c h ( g , f u n c t i o n ( a , b ) { v a r   c = b . d a t a ( " b l o c k t i m e " ) ; 0 = = = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E + " [ d a t a - b l o c k t i m e = ' " + c + " ' ] " ) . l e n g t h & & t h i s . m e s s a g e A r e a . f i n d ( p . B L O C K T I M E + " [ d a t a - b l o c k t i m e = ' " + c + " ' ] " ) . r e m o v e ( ) } . b i n d ( t h i s ) ) , 0 = = = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . l e n g t h & & t h i s . m e s s a g e A r e a . f i n d ( p . C O N V E R S A T I O N S + "   " + p . C O N T A C T + " [ d a t a - u s e r i d = ' " + t h i s . _ g e t U s e r I d ( ) + " ' ] " ) . r e m o v e ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( k . M E S S A G E S D E L E T E D , [ t h i s . _ g e t U s e r I d ( ) , b ] ) } . b i n d ( t h i s ) , d . e x c e p t i o n ) : t h i s . m e s s a g e A r e a . t r i g g e r ( k . M E S S A G E S D E L E T E D , t h i s . _ g e t U s e r I d ( ) ) , t h i s . _ h i d e D e l e t e A c t i o n ( ) } , m . p r o t o t y p e . _ a d d S c r o l l E v e n t L i s t e n e r = f u n c t i o n ( a ) { t h i s . _ s c r o l l B o t t o m ( ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d = a , e . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , [ e . e v e n t s . s c r o l l T o p ] ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( e . e v e n t s . s c r o l l T o p , t h i s . _ l o a d M e s s a g e s . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ d e l e t e A l l M e s s a g e s = f u n c t i o n ( ) { t h i s . _ c o n f i r m a t i o n M o d a l ? t h i s . _ c o n f i r m a t i o n M o d a l . s h o w ( ) : j . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " } , { k e y : " d e l e t e a l l c o n f i r m " , c o m p o n e n t : " m e s s a g e " } ] ) . d o n e ( f u n c t i o n ( a ) { h . c r e a t e ( { t i t l e : a [ 0 ] , t y p e : h . t y p e s . C O N F I R M , b o d y : a [ 1 ] } , t h i s . m e s s a g e A r e a . f i n d ( p . D E L E T E A L L M E S S A G E S ) ) . d o n e ( f u n c t i o n ( a ) { t h i s . _ c o n f i r m a t i o n M o d a l = a , a . g e t R o o t ( ) . o n ( i . y e s , f u n c t i o n ( ) { v a r   a = t h i s . _ g e t U s e r I d ( ) , c = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ c o n v e r s a t i o n " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : a } } ; b . c a l l ( [ c ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . e m p t y ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( k . C O N V E R S A T I O N D E L E T E D , a ) , t h i s . _ h i d e D e l e t e A c t i o n ( ) } . b i n d ( t h i s ) , d . e x c e p t i o n ) } . b i n d ( t h i s ) ) , a . s h o w ( ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ h i d e D e l e t e A c t i o n = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . r e m o v e A t t r ( " r o l e " ) . r e m o v e A t t r ( " a r i a - c h e c k e d " ) , t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . r e m o v e C l a s s ( " e d i t i n g " ) } , m . p r o t o t y p e . _ t r i g g e r C a n c e l M e s s a g e s T o D e l e t e = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( k . C A N C E L D E L E T E M E S S A G E S ) } , m . p r o t o t y p e . _ a d d M e s s a g e s T o D o m = f u n c t i o n ( b , d ) { v a r   e = 0 , f = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; r e t u r n   b = b . f i l t e r ( f u n c t i o n ( a ) { v a r   b = " " + a . i d + a . i s r e a d ; i f ( t h i s . _ m e s s a g e Q u e u e [ b ] ) r e t u r n ! 1 ; v a r   c = f . f i n d ( p . M E S S A G E + ' [ d a t a - i d = " ' + b + ' " ] ' ) ; r e t u r n   c . l e n g t h | | ( t h i s . _ m e s s a g e Q u e u e [ b ] = ! 0 ) , ! c . l e n g t h } . b i n d ( t h i s ) ) , e = b . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s " , { m e s s a g e s : b } ) . t h e n ( f u n c t i o n ( b , f ) { i f ( e > 0 ) { v a r   g = a ( " < d i v > " + b + " < / d i v > " ) ; t h i s . _ h a s M a t c h i n g B l o c k T i m e ( t h i s . m e s s a g e A r e a . n o d e , g , ! 1 ) & & g . f i n d ( p . B L O C K T I M E + " : f i r s t " ) . r e m o v e ( ) , c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , g , f ) , d & & t h i s . _ s c r o l l B o t t o m ( ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d + = e , t h i s . _ b a c k o f f T i m e r . r e s t a r t ( ) } } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ a d d L a s t M e s s a g e T o D o m = f u n c t i o n ( ) { v a r   a = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ g e t _ m o s t _ r e c e n t _ m e s s a g e " , a r g s : { c u r r e n t u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : t h i s . _ g e t U s e r I d ( ) } } ] ) ; r e t u r n   a [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . _ a d d M e s s a g e s T o D o m ( [ a ] , ! 0 ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . S E N D M E S S A G E T E X T ) . v a l ( " " ) . t r i g g e r ( " i n p u t " ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) . d a t a ( " u s e r i d " ) } , m . p r o t o t y p e . _ s c r o l l B o t t o m = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; 0 ! = = a . l e n g t h & & a . s c r o l l T o p ( a [ 0 ] . s c r o l l H e i g h t ) } , m . p r o t o t y p e . _ s e l e c t P r e v i o u s M e s s a g e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E ) ; d o   d = d . p r e v ( ) ; w h i l e ( d . l e n g t h & & ! d . i s ( p . M E S S A G E ) ) ; d . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , m . p r o t o t y p e . _ s e l e c t N e x t M e s s a g e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E ) ; d o   d = d . n e x t ( ) ; w h i l e ( d . l e n g t h & & ! d . i s ( p . M E S S A G E ) ) ; d . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , m . p r o t o t y p e . _ s e t M e s s a g i n g = f u n c t i o n ( b ) { a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E R E S P O N S E ) . a d d C l a s s ( " m e s s a g i n g " ) } , m . p r o t o t y p e . _ c l e a r M e s s a g i n g = f u n c t i o n ( b ) { a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E R E S P O N S E ) . r e m o v e C l a s s ( " m e s s a g i n g " ) } , m . p r o t o t y p e . _ s t a r t D e l e t i n g = f u n c t i o n ( a ) { v a r   b = n e w   g ( t h i s . m e s s a g e A r e a ) ; b . c h o o s e M e s s a g e s T o D e l e t e ( ) , a . p r e v e n t D e f a u l t ( ) } , m . p r o t o t y p e . _ i s E d i t i n g = f u n c t i o n ( ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . h a s C l a s s ( " e d i t i n g " ) } , m . p r o t o t y p e . _ t o g g l e M e s s a g e = f u n c t i o n ( b ) { i f ( t h i s . _ i s E d i t i n g ( ) ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E ) ; " t r u e " = = = c . a t t r ( " a r i a - c h e c k e d " ) ? c . a t t r ( " a r i a - c h e c k e d " , " f a l s e " ) : c . a t t r ( " a r i a - c h e c k e d " , " t r u e " ) } } , m . p r o t o t y p e . _ a d j u s t M e s s a g e s A r e a H e i g h t = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E R E S P O N S E ) , c = b . o u t e r H e i g h t ( ) , d = c - o , e = n - d ; a . o u t e r H e i g h t ( e ) } , m . p r o t o t y p e . _ s e n d M e s s a g e H a n d l e r = f u n c t i o n ( a , b ) { b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , t h i s . _ s e n d M e s s a g e ( ) } , m . p r o t o t y p e . _ h i d e M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " s h o w - m e s s a g e s " ) . a d d C l a s s ( " h i d e - m e s s a g e s " ) } , m . p r o t o t y p e . _ h a s M a t c h i n g B l o c k T i m e = f u n c t i o n ( a , b , c ) { v a r   d , e , f , g ; r e t u r n   c ? ( e = " : f i r s t " , g = " : l a s t " ) : ( e = " : l a s t " , g = " : f i r s t " ) , d = a . f i n d ( p . B L O C K T I M E + e ) , f = b . f i n d ( p . B L O C K T I M E + g ) , ! ( ! d . l e n g t h | | ! f . l e n g t h ) & & d . d a t a ( " b l o c k t i m e " ) = = f . d a t a ( " b l o c k t i m e " ) } , m } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ t a b s ' ,   [ " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b ) { f u n c t i o n   c ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   d = { A C T I V E C O N T A C T S T A B : " [ d a t a - r e g i o n = ' c o n t a c t s - a r e a ' ]   [ r o l e = ' t a b ' ] [ a r i a - s e l e c t e d = ' t r u e ' ] " , C O N T A C T S P A N E L S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] " , V I E W C O N T A C T S : " [ d a t a - a c t i o n = ' c o n t a c t s - v i e w ' ] " , V I E W C O N V E R S A T I O N S : " [ d a t a - a c t i o n = ' c o n v e r s a t i o n s - v i e w ' ] " } ; r e t u r n   c . p r o t o t y p e . m e s s a g e A r e a = n u l l , c . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { a . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ a . e v e n t s . a c t i v a t e , a . e v e n t s . u p , a . e v e n t s . d o w n , a . e v e n t s . n e x t , a . e v e n t s . p r e v i o u s , a . e v e n t s . c t r l P a g e U p , a . e v e n t s . c t r l P a g e D o w n ] ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . a c t i v a t e , d . V I E W C O N V E R S A T I O N S , t h i s . _ v i e w C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . a c t i v a t e , d . V I E W C O N T A C T S , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . u p , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . d o w n , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . n e x t , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . p r e v i o u s , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . u p , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . d o w n , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . n e x t , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . p r e v i o u s , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . c t r l P a g e U p , d . C O N T A C T S P A N E L S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . c t r l P a g e D o w n , d . C O N T A C T S P A N E L S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( b . M E S S A G E S E N T , f u n c t i o n ( ) { t h i s . _ s e l e c t T a b ( d . V I E W C O N V E R S A T I O N S , d . V I E W C O N T A C T S ) } . b i n d ( t h i s ) ) } , c . p r o t o t y p e . _ v i e w C o n v e r s a t i o n s = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( b . C O N V E R S A T I O N S S E L E C T E D ) , t h i s . _ s e l e c t T a b ( d . V I E W C O N V E R S A T I O N S , d . V I E W C O N T A C T S ) } , c . p r o t o t y p e . _ v i e w C o n t a c t s = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( b . C O N T A C T S S E L E C T E D ) , t h i s . _ s e l e c t T a b ( d . V I E W C O N T A C T S , d . V I E W C O N V E R S A T I O N S ) } , c . p r o t o t y p e . _ s e l e c t T a b = f u n c t i o n ( a , b ) { b = t h i s . m e s s a g e A r e a . f i n d ( b ) , b . r e m o v e C l a s s ( " s e l e c t e d " ) , b . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) , b . a t t r ( " t a b i n d e x " , " - 1 " ) , a = t h i s . m e s s a g e A r e a . f i n d ( a ) , a . a d d C l a s s ( " s e l e c t e d " ) , a . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , a . a t t r ( " t a b i n d e x " , " 0 " ) } , c . p r o t o t y p e . _ t o g g l e T a b s = f u n c t i o n ( a , b ) { v a r   c = t h i s . m e s s a g e A r e a . f i n d ( d . A C T I V E C O N T A C T S T A B ) ; c . i s ( d . V I E W C O N V E R S A T I O N S ) ? t h i s . _ v i e w C o n t a c t s ( ) : t h i s . _ v i e w C o n v e r s a t i o n s ( ) , t h i s . m e s s a g e A r e a . f i n d ( d . A C T I V E C O N T A C T S T A B ) . f o c u s ( ) , a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , b . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , c } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ s e a r c h ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { f u n c t i o n   h ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   i = { C O N T A C T S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n t a c t s ' ] " , C O N T A C T S A R E A : " [ d a t a - r e g i o n = ' c o n t a c t s - a r e a ' ] " , C O N V E R S A T I O N S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n v e r s a t i o n s ' ] " , D E L E T E S E A R C H F I L T E R : " [ d a t a - r e g i o n = ' s e a r c h - f i l t e r - a r e a ' ] " , L O A D I N G I C O N : " . l o a d i n g - i c o n " , S E A R C H B O X : " [ d a t a - r e g i o n = ' s e a r c h - b o x ' ] " , S E A R C H F I L T E R : " [ d a t a - r e g i o n = ' s e a r c h - f i l t e r ' ] " , S E A R C H F I L T E R A R E A : " [ d a t a - r e g i o n = ' s e a r c h - f i l t e r - a r e a ' ] " , S E A R C H R E S U L T S A R E A : " [ d a t a - r e g i o n = ' s e a r c h - r e s u l t s - a r e a ' ] " , S E A R C H T E X T A R E A : " [ d a t a - r e g i o n = ' s e a r c h - t e x t - a r e a ' ] " , S E A R C H U S E R S I N C O U R S E : " [ d a t a - a c t i o n = ' s e a r c h - u s e r s - i n - c o u r s e ' ] " } ; r e t u r n   h . p r o t o t y p e . m e s s a g e A r e a = n u l l , h . p r o t o t y p e . _ s e a r c h A r e a = n u l l , h . p r o t o t y p e . _ c o u r s e i d = n u l l , h . p r o t o t y p e . _ i s L o a d i n g = ! 1 , h . p r o t o t y p e . _ n u m M e s s a g e s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m M e s s a g e s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ n u m U s e r s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m U s e r s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ s e a r c h A r e a s = { M E S S A G E S : " m e s s a g e s " , U S E R S : " u s e r s " , U S E R S I N C O U R S E : " u s e r s i n c o u r s e " } , h . p r o t o t y p e . _ r e q u e s t T i m e o u t = n u l l , h . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A ) . o n ( " i n p u t " , t h i s . _ s e a r c h R e q u e s t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( f . e v e n t s . a c t i v a t e , i . S E A R C H U S E R S I N C O U R S E , f u n c t i o n ( b ) { t h i s . _ s e t F i l t e r ( a ( b . c u r r e n t T a r g e t ) . h t m l ( ) ) , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h f o r u s e r " ) , t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E , t h i s . _ c o u r s e i d = a ( b . c u r r e n t T a r g e t ) . d a t a ( " c o u r s e i d " ) , t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . f o c u s ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( f . e v e n t s . a c t i v a t e , i . D E L E T E S E A R C H F I L T E R , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . U S E R S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h f o r u s e r o r c o u r s e " ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . U S E R S S E A R C H C A N C E L E D ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . f o c u s ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N V E R S A T I O N S S E L E C T E D , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . M E S S A G E S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h m e s s a g e s " ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T S S E L E C T E D , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . U S E R S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h f o r u s e r o r c o u r s e " ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S E N T , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . M E S S A G E S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h m e s s a g e s " ) } . b i n d ( t h i s ) ) , f . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , [ f . e v e n t s . s c r o l l B o t t o m ] ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( f . e v e n t s . s c r o l l B o t t o m , i . S E A R C H R E S U L T S A R E A , f u n c t i o n ( ) { t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . M E S S A G E S ? t h i s . _ s e a r c h M e s s a g e s ( ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E & & t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) } . b i n d ( t h i s ) ) , t h i s . _ s e a r c h A r e a = t h i s . m e s s a g e A r e a . s h o w C o n t a c t s F i r s t ( ) ? t h i s . _ s e a r c h A r e a s . U S E R S : t h i s . _ s e a r c h A r e a s . M E S S A G E S } , h . p r o t o t y p e . _ s e a r c h R e q u e s t = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A + "   i n p u t " ) . v a l ( ) ; r e t u r n   t h i s . _ r e q u e s t T i m e o u t & & c l e a r T i m e o u t ( t h i s . _ r e q u e s t T i m e o u t ) , " " = = = a . t r i m ( ) ? v o i d ( t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . M E S S A G E S ? ( t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . M E S S A G E S E A R C H C A N C E L E D ) ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S ? ( t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . U S E R S S E A R C H C A N C E L E D ) ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E & & ( t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) ) ) : ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) . s h o w ( ) , v o i d ( t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . M E S S A G E S ? t h i s . _ r e q u e s t T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d = 0 , t h i s . _ s e a r c h M e s s a g e s ( ) } . b i n d ( t h i s ) , 3 0 0 ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E ? t h i s . _ r e q u e s t T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ n u m U s e r s D i s p l a y e d = 0 , t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) } . b i n d ( t h i s ) , 3 0 0 ) : t h i s . _ r e q u e s t T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ n u m U s e r s D i s p l a y e d = 0 , t h i s . _ s e a r c h U s e r s ( ) } . b i n d ( t h i s ) , 3 0 0 ) ) ) } , h . p r o t o t y p e . _ s e a r c h M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g ) r e t u r n ! 1 ; v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( ) ; t h i s . _ i s L o a d i n g = ! 0 ; v a r   e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ m e s s a g e s " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , s e a r c h : a , l i m i t f r o m : t h i s . _ n u m M e s s a g e s D i s p l a y e d , l i m i t n u m : t h i s . _ n u m M e s s a g e s T o R e t r i e v e } } ] ) , f = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , e [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f = a . c o n t a c t s . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e _ s e a r c h _ r e s u l t s " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , f > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d + = f ) : 0 = = t h i s . _ n u m M e s s a g e s D i s p l a y e d & & c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ i s L o a d i n g = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ s e a r c h U s e r s = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( ) , e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ u s e r s " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , s e a r c h : a , l i m i t n u m : t h i s . _ n u m U s e r s T o R e t r i e v e } } ] ) ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , e [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . c o n t a c t s . l e n g t h > 0 & & ( a . h a s c o n t a c t s = ! 0 ) , a . c o u r s e s . l e n g t h > 0 & & ( a . h a s c o u r s e s = ! 0 ) , a . n o n c o n t a c t s . l e n g t h > 0 & & ( a . h a s n o n c o n t a c t s = ! 0 ) , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ u s e r _ s e a r c h _ r e s u l t s " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ s e a r c h U s e r s I n C o u r s e = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g ) r e t u r n ! 1 ; v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( ) ; t h i s . _ i s L o a d i n g = ! 0 ; v a r   e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ u s e r s _ i n _ c o u r s e " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , c o u r s e i d : t h i s . _ c o u r s e i d , s e a r c h : a , l i m i t f r o m : t h i s . _ n u m U s e r s D i s p l a y e d , l i m i t n u m : t h i s . _ n u m U s e r s T o R e t r i e v e } } ] ) , f = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , e [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f = a . c o n t a c t s . l e n g t h , f > 0 & & ( a . h a s c o n t a c t s = ! 0 ) , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ u s e r _ s e a r c h _ r e s u l t s " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , f > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ n u m U s e r s D i s p l a y e d + = f ) : 0 = = t h i s . _ n u m U s e r s D i s p l a y e d & & c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ i s L o a d i n g = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ s e t P l a c e h o l d e r T e x t = f u n c t i o n ( a ) { r e t u r n   e . g e t _ s t r i n g ( a , " m e s s a g e " ) . t h e n ( f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A + "   i n p u t " ) . a t t r ( " p l a c e h o l d e r " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . _ s e t F i l t e r = f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( " " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . a d d C l a s s ( " s e a r c h f i l t e r " ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . s h o w ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R ) . h t m l ( a ) , e . g e t _ s t r i n g ( " r e m o v e c o u r s e f i l t e r " , " m e s s a g e " , a ) . t h e n ( f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . _ c l e a r F i l t e r s = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . r e m o v e C l a s s ( " s e a r c h f i l t e r " ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R ) . e m p t y ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . r e m o v e A t t r ( " a r i a - l a b e l " ) } , h . p r o t o t y p e . _ c l e a r S e a r c h A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) . e m p t y ( ) } , h . p r o t o t y p e . _ h i d e S e a r c h R e s u l t s = f u n c t i o n ( ) { t h i s . _ c l e a r F i l t e r s ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A + "   i n p u t " ) . v a l ( " " ) , t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) . h i d e ( ) } , h } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ n o t i f i c a t i o n _ p r e f e r e n c e ' ,   [ " j q u e r y " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r e f e r e n c e " ] , f u n c t i o n ( a , b ) { v a r   c = { P R E F E R E N C E _ K E Y : " [ d a t a - p r e f e r e n c e - k e y ] " } , d = f u n c t i o n ( a , c ) { b . c a l l ( t h i s , a , c ) } ; r e t u r n   d . p r o t o t y p e = O b j e c t . c r e a t e ( b . p r o t o t y p e ) , d . p r o t o t y p e . c o n s t r u c t o r = d , d . p r o t o t y p e . g e t P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . f i n d ( c . P R E F E R E N C E _ K E Y ) . a t t r ( " d a t a - p r e f e r e n c e - k e y " ) } , d } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / f o r m - a u t o c o m p l e t e " , " c o r e / a j a x " , " m o d _ a s s i g n / g r a d i n g _ f o r m _ c h a n g e _ c h e c k e r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( e ) { t h i s . _ r e g i o n S e l e c t o r = e , t h i s . _ r e g i o n = a ( e ) , t h i s . _ f i l t e r s = [ ] , t h i s . _ u s e r s = [ ] , t h i s . _ f i l t e r e d U s e r s = [ ] , t h i s . _ l o a d A l l U s e r s ( ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - a c t i o n = " p r e v i o u s - u s e r " ] ' ) . o n ( " c l i c k " , t h i s . _ h a n d l e P r e v i o u s U s e r . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - a c t i o n = " n e x t - u s e r " ] ' ) . o n ( " c l i c k " , t h i s . _ h a n d l e N e x t U s e r . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - a c t i o n = " c h a n g e - u s e r " ] ' ) . o n ( " c h a n g e " , t h i s . _ h a n d l e C h a n g e U s e r . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) . o n ( " c l i c k " , t h i s . _ t o g g l e E x p a n d F i l t e r s . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( " u s e r - c h a n g e d " , t h i s . _ r e f r e s h S e l e c t o r . b i n d ( t h i s ) ) ; v a r   f = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) , g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . a t t r ( " a r i a - c o n t r o l s " ) ) ) ; g . o n ( " c h a n g e " , ' [ t y p e = " c h e c k b o x " ] ' , t h i s . _ f i l t e r C h a n g e d . b i n d ( t h i s ) ) ; v a r   h = a ( ' [ d a t a - r e g i o n = " g r a d i n g - n a v i g a t i o n - p a n e l " ] ' ) . d a t a ( " f i r s t - u s e r i d " ) ; h & & t h i s . _ s e l e c t U s e r B y I d ( h ) , c . g e t _ s t r i n g ( " c h a n g e u s e r " , " m o d _ a s s i g n " ) . d o n e ( f u n c t i o n ( a ) { d . e n h a n c e ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " , ! 1 , " m o d _ a s s i g n / p a r t i c i p a n t _ s e l e c t o r " , a ) } ) . f a i l ( b . e x c e p t i o n ) , a ( d o c u m e n t ) . b i n d ( " s t a r t - l o a d i n g - u s e r " , f u n c t i o n ( ) { t h i s . _ i s L o a d i n g = ! 0 } . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . b i n d ( " f i n i s h - l o a d i n g - u s e r " , f u n c t i o n ( ) { t h i s . _ i s L o a d i n g = ! 1 } . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . _ i s L o a d i n g = ! 1 , g . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , g . p r o t o t y p e . _ f i l t e r s = n u l l , g . p r o t o t y p e . _ u s e r s = n u l l , g . p r o t o t y p e . _ r e g i o n = n u l l , g . p r o t o t y p e . _ l o a d A l l U s e r s = f u n c t i o n ( ) { v a r   a = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , c = a . a t t r ( " d a t a - a s s i g n m e n t i d " ) , d = a . a t t r ( " d a t a - g r o u p i d " ) ; e . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ l i s t _ p a r t i c i p a n t s " , a r g s : { a s s i g n i d : c , g r o u p i d : d , f i l t e r : " " , o n l y i d s : ! 0 } , d o n e : t h i s . _ u s e r s L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) } , g . p r o t o t y p e . _ u s e r s L o a d e d = f u n c t i o n ( b ) { i f ( t h i s . _ f i l t e r e d U s e r s = t h i s . _ u s e r s = b , t h i s . _ u s e r s . l e n g t h ) { v a r   c = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) , d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . a t t r ( " a r i a - c o n t r o l s " ) ) ) ; d . f i n d ( ' [ t y p e = " c h e c k b o x " ] ' ) . t r i g g e r ( " c h a n g e " ) } e l s e   t h i s . _ s e l e c t N o U s e r ( ) } , g . p r o t o t y p e . _ c h e c k C l i c k O u t s i d e C o n f i g u r e F i l t e r s = f u n c t i o n ( b ) { v a r   c = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " c o n f i g u r e - f i l t e r s " ] ' ) ; i f ( ! c . i s ( b . t a r g e t ) & & 0 = = = c . h a s ( b . t a r g e t ) . l e n g t h ) { v a r   d = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) ; c . h i d e ( ) , c . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , d . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , a ( d o c u m e n t ) . u n b i n d ( " c l i c k . m o d _ a s s i g n _ g r a d i n g _ n a v i g a t i o n " ) } } , g . p r o t o t y p e . _ f i l t e r C h a n g e d = f u n c t i o n ( d ) { v a r   e = a ( d . t a r g e t ) . a t t r ( " n a m e " ) , f = e . s p l i t ( " _ " ) . p o p ( ) , g = a ( d . t a r g e t ) . p r o p ( " c h e c k e d " ) ; i f ( g ) t h i s . _ f i l t e r s . i n d e x O f ( f ) = = - 1 & & ( t h i s . _ f i l t e r s [ t h i s . _ f i l t e r s . l e n g t h ] = f ) ; e l s e { v a r   h = t h i s . _ f i l t e r s . i n d e x O f ( f ) ; h ! = - 1 & & t h i s . _ f i l t e r s . s p l i c e ( h , 1 ) } v a r   i = [ ] ; t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " c o n f i g u r e - f i l t e r s " ] ' ) . f i n d ( ' [ t y p e = " c h e c k b o x " ] ' ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . p r o p ( " c h e c k e d " ) & & ( i [ i . l e n g t h ] = a ( c ) . c l o s e s t ( " l a b e l " ) . t e x t ( ) ) } ) , i . l e n g t h ? t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ]   s p a n ' ) . t e x t ( i . j o i n ( " ,   " ) ) : c . g e t _ s t r i n g ( " n o f i l t e r s " , " m o d _ a s s i g n " ) . d o n e ( f u n c t i o n ( a ) { t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ]   s p a n ' ) . t e x t ( a ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) ; v a r   j = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , k = j . a t t r ( " d a t a - s e l e c t e d " ) , l = 0 ; t h i s . _ f i l t e r e d U s e r s = [ ] , a . e a c h ( t h i s . _ u s e r s , f u n c t i o n ( b , c ) { v a r   d = ! 0 ; a . e a c h ( t h i s . _ f i l t e r s , f u n c t i o n ( a , b ) { " s u b m i t t e d " = = b ? " 0 " = = c . s u b m i t t e d & & ( d = ! 1 ) : " n o t s u b m i t t e d " = = b ? " 1 " = = c . s u b m i t t e d & & ( d = ! 1 ) : " r e q u i r e g r a d i n g " = = b ? " 0 " = = c . r e q u i r e g r a d i n g & & ( d = ! 1 ) : " g r a n t e d e x t e n s i o n " = = b & & " 0 " = = c . g r a n t e d e x t e n s i o n & & ( d = ! 1 ) } ) , d & & ( t h i s . _ f i l t e r e d U s e r s [ t h i s . _ f i l t e r e d U s e r s . l e n g t h ] = c , k = = c . i d & & ( l = t h i s . _ f i l t e r e d U s e r s . l e n g t h - 1 ) ) } . b i n d ( t h i s ) ) , t h i s . _ f i l t e r e d U s e r s . l e n g t h ? t h i s . _ s e l e c t U s e r B y I d ( t h i s . _ f i l t e r e d U s e r s [ l ] . i d ) : t h i s . _ s e l e c t N o U s e r ( ) } , g . p r o t o t y p e . _ s e l e c t N o U s e r = f u n c t i o n ( ) { t h i s . _ i s L o a d i n g | | ( f . c h e c k F o r m F o r C h a n g e s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) ? c . g e t _ s t r i n g s ( [ { k e y : " u n s a v e d c h a n g e s " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " u n s a v e d c h a n g e s q u e s t i o n " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " s a v e a n d c o n t i n u e " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " s a v e - c h a n g e s " , - 1 ) } ) } ) : a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , - 1 ) ) } , g . p r o t o t y p e . _ s e l e c t U s e r B y I d = f u n c t i o n ( d ) { v a r   e = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , g = p a r s e I n t ( d , 1 0 ) ; t h i s . _ i s L o a d i n g | | ( f . c h e c k F o r m F o r C h a n g e s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) ? c . g e t _ s t r i n g s ( [ { k e y : " u n s a v e d c h a n g e s " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " u n s a v e d c h a n g e s q u e s t i o n " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " s a v e a n d c o n t i n u e " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " s a v e - c h a n g e s " , g ) } ) } ) : ( e . a t t r ( " d a t a - s e l e c t e d " , d ) , ! i s N a N ( g ) & & g > 0 & & a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , d ) ) ) } , g . p r o t o t y p e . _ t o g g l e E x p a n d F i l t e r s = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) , d = " t r u e " = = c . a t t r ( " a r i a - e x p a n d e d " ) , e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . a t t r ( " a r i a - c o n t r o l s " ) ) ) ; d ? ( e . h i d e ( ) , e . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , c . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , a ( d o c u m e n t ) . u n b i n d ( " c l i c k . m o d _ a s s i g n _ g r a d i n g _ n a v i g a t i o n " ) ) : ( e . c s s ( " d i s p l a y " , " i n l i n e - b l o c k " ) , e . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , c . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , b . s t o p P r o p a g a t i o n ( ) , a ( d o c u m e n t ) . o n ( " c l i c k . m o d _ a s s i g n _ g r a d i n g _ n a v i g a t i o n " , t h i s . _ c h e c k C l i c k O u t s i d e C o n f i g u r e F i l t e r s . b i n d ( t h i s ) ) ) } , g . p r o t o t y p e . _ h a n d l e P r e v i o u s U s e r = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , c = b . a t t r ( " d a t a - s e l e c t e d " ) , d = 0 , e = 0 ; f o r ( d = 0 ; d < t h i s . _ f i l t e r e d U s e r s . l e n g t h ; d + + ) i f ( t h i s . _ f i l t e r e d U s e r s [ d ] . i d = = c ) { e = d ; b r e a k } v a r   f = t h i s . _ f i l t e r e d U s e r s . l e n g t h , g = e - 1 ; g < 0 & & ( g = f - 1 ) , f & & t h i s . _ s e l e c t U s e r B y I d ( t h i s . _ f i l t e r e d U s e r s [ g ] . i d ) } , g . p r o t o t y p e . _ h a n d l e N e x t U s e r = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , c = b . a t t r ( " d a t a - s e l e c t e d " ) , d = 0 , e = 0 ; f o r ( d = 0 ; d < t h i s . _ f i l t e r e d U s e r s . l e n g t h ; d + + ) i f ( t h i s . _ f i l t e r e d U s e r s [ d ] . i d = = c ) { e = d ; b r e a k } v a r   f = t h i s . _ f i l t e r e d U s e r s . l e n g t h , g = ( e + 1 ) % f ; f & & t h i s . _ s e l e c t U s e r B y I d ( t h i s . _ f i l t e r e d U s e r s [ g ] . i d ) } , g . p r o t o t y p e . _ r e f r e s h C o u n t = f u n c t i o n ( ) { v a r   a = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , d = a . a t t r ( " d a t a - s e l e c t e d " ) , e = 0 , f = 0 ; i f ( i s N a N ( d ) | | d < = 0 ) t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - c o u n t " ] ' ) . h i d e ( ) ; e l s e { f o r ( t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - c o u n t " ] ' ) . s h o w ( ) , e = 0 ; e < t h i s . _ f i l t e r e d U s e r s . l e n g t h ; e + + ) i f ( t h i s . _ f i l t e r e d U s e r s [ e ] . i d = = d ) { f = e ; b r e a k } v a r   g = t h i s . _ f i l t e r e d U s e r s . l e n g t h ; g & & ( f + = 1 ) ; v a r   h = { x : f , y : g } ; c . g e t _ s t r i n g ( " x o f y " , " m o d _ a s s i g n " , h ) . d o n e ( f u n c t i o n ( a ) { t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - c o u n t - s u m m a r y " ] ' ) . t e x t ( a ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } } , g . p r o t o t y p e . _ r e f r e s h S e l e c t o r = f u n c t i o n ( a , b ) { v a r   c = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) ; b = p a r s e I n t ( b , 1 0 ) , ! i s N a N ( b ) & & b > 0 & & c . a t t r ( " d a t a - s e l e c t e d " , b ) , t h i s . _ r e f r e s h C o u n t ( ) } , g . p r o t o t y p e . _ h a n d l e C h a n g e U s e r = f u n c t i o n ( ) { v a r   d = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , e = p a r s e I n t ( d . v a l ( ) , 1 0 ) ; t h i s . _ i s L o a d i n g | | ( f . c h e c k F o r m F o r C h a n g e s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) ? c . g e t _ s t r i n g s ( [ { k e y : " u n s a v e d c h a n g e s " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " u n s a v e d c h a n g e s q u e s t i o n " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " s a v e a n d c o n t i n u e " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " s a v e - c h a n g e s " , e ) } ) } ) : ! i s N a N ( e ) & & e > 0 & & ( d . a t t r ( " d a t a - s e l e c t e d " , e ) , a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , e ) ) ) } , g } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ r e v i e w _ p a n e l ' ,   [ " j q u e r y " , " m o d _ a s s i g n / g r a d i n g _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( ) { t h i s . _ r e g i o n = a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l - c o n t e n t " ] ' ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   c . p r o t o t y p e . _ r e g i o n = n u l l , c . p r o t o t y p e . g e t R e v i e w P a n e l = f u n c t i o n ( a ) { v a r   b = t h i s . _ r e g i o n . d a t a ( " p a n e l - o w n e r " ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   b & & t h i s . _ r e g i o n . d a t a ( " r e v i e w - p a n e l - p l u g i n " , a ) , t h i s . _ r e g i o n . d a t a ( " r e v i e w - p a n e l - p l u g i n " ) = = a & & t h i s . _ r e g i o n [ 0 ] } , c . p r o t o t y p e . g e t T o g g l e P a n e l B u t t o n = f u n c t i o n ( ) { r e t u r n   t h i s . g e t P a n e l E l e m e n t ( ) . f i n d ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l - t o g g l e " ] ' ) } , c . p r o t o t y p e . g e t P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) } , c . p r o t o t y p e . g e t P a n e l C o n t e n t E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l - c o n t e n t " ] ' ) } , c . p r o t o t y p e . t o g g l e P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . h a s C l a s s ( " c o l l a p s e d " ) ? a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ R E V I E W _ P A N E L ) : a ( d o c u m e n t ) . t r i g g e r ( b . C O L L A P S E _ R E V I E W _ P A N E L ) } , c . p r o t o t y p e . c o l l a p s e P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . a d d C l a s s ( " c o l l a p s e d " ) . r e m o v e C l a s s ( " g r a d e - p a n e l - c o l l a p s e d " ) , t h i s . g e t P a n e l C o n t e n t E l e m e n t ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) } , c . p r o t o t y p e . e x p a n d P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . r e m o v e C l a s s ( " c o l l a p s e d " ) , t h i s . g e t P a n e l C o n t e n t E l e m e n t ( ) . r e m o v e A t t r ( " a r i a - h i d d e n " ) } , c . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   c = t h i s . g e t T o g g l e P a n e l B u t t o n ( ) ; c . c l i c k ( f u n c t i o n ( a ) { t h i s . t o g g l e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , c . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . t o g g l e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) ; v a r   d = a ( d o c u m e n t ) ; d . o n ( b . C O L L A P S E _ R E V I E W _ P A N E L , f u n c t i o n ( ) { t h i s . c o l l a p s e P a n e l ( ) } . b i n d ( t h i s ) ) , d . o n ( b . C O L L A P S E _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) , t h i s . g e t P a n e l E l e m e n t ( ) . a d d C l a s s ( " g r a d e - p a n e l - c o l l a p s e d " ) } . b i n d ( t h i s ) ) , d . o n ( b . E X P A N D _ R E V I E W _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) } . b i n d ( t h i s ) ) , d . o n ( b . E X P A N D _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . r e m o v e C l a s s ( " g r a d e - p a n e l - c o l l a p s e d " ) } . b i n d ( t h i s ) ) } , c } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ e v e n t s ' ,   f u n c t i o n ( ) { r e t u r n { C O L L A P S E _ R E V I E W _ P A N E L : " g r a d i n g : c o l l a p s e - r e v i e w - p a n e l " , E X P A N D _ R E V I E W _ P A N E L : " g r a d i n g : e x p a n d - r e v i e w - p a n e l " , C O L L A P S E _ G R A D E _ P A N E L : " g r a d i n g : c o l l a p s e - g r a d e - p a n e l " , E X P A N D _ G R A D E _ P A N E L : " g r a d i n g : e x p a n d - g r a d e - p a n e l " } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ f o r m _ c h a n g e _ c h e c k e r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { r e t u r n { s a v e F o r m S t a t e : f u n c t i o n ( b ) { a ( b ) . t r i g g e r ( " s a v e - f o r m - s t a t e " ) ; v a r   c = a ( b ) . s e r i a l i z e ( ) ; a ( b ) . d a t a ( " s a v e d - f o r m - s t a t e " , c ) } , c h e c k F o r m F o r C h a n g e s : f u n c t i o n ( b ) { a ( b ) . t r i g g e r ( " s a v e - f o r m - s t a t e " ) ; v a r   c = a ( b ) . s e r i a l i z e ( ) , d = a ( b ) . d a t a ( " s a v e d - f o r m - s t a t e " ) ; r e t u r n " u n d e f i n e d " ! = t y p e o f   d & & d ! = c } } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / p a r t i c i p a n t _ s e l e c t o r ' ,   [ " c o r e / a j a x " , " j q u e r y " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( a , b ) { r e t u r n   b } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h = b ( d ) . a t t r ( " d a t a - a s s i g n m e n t i d " ) , i = b ( d ) . a t t r ( " d a t a - g r o u p i d " ) , j = b ( ' [ d a t a - r e g i o n = " c o n f i g u r e - f i l t e r s " ]   i n p u t [ t y p e = " c h e c k b o x " ] ' ) , k = [ ] ; j . e a c h ( f u n c t i o n ( a , c ) { k [ b ( c ) . a t t r ( " n a m e " ) ] = b ( c ) . p r o p ( " c h e c k e d " ) } ) , a . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ l i s t _ p a r t i c i p a n t s " , a r g s : { a s s i g n i d : h , g r o u p i d : i , f i l t e r : e , l i m i t : 3 0 , i n c l u d e e n r o l m e n t s : ! 1 } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   d = [ ] , e = b ( " [ d a t a - s h o w u s e r i d e n t i t y ] " ) . d a t a ( " s h o w u s e r i d e n t i t y " ) . s p l i t ( " , " ) ; r e t u r n   b . e a c h ( a , f u n c t i o n ( a , f ) { v a r   g = f , h = [ ] , i = ! 0 ; k . f i l t e r _ s u b m i t t e d & & ! f . s u b m i t t e d & & ( i = ! 1 ) , k . f i l t e r _ n o t s u b m i t t e d & & f . s u b m i t t e d & & ( i = ! 1 ) , k . f i l t e r _ r e q u i r e g r a d i n g & & ! f . r e q u i r e g r a d i n g & & ( i = ! 1 ) , k . f i l t e r _ g r a n t e d e x t e n s i o n & & ! f . g r a n t e d e x t e n s i o n & & ( i = ! 1 ) , i & & ( b . e a c h ( e , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   f [ b ] & & " " ! = = f [ b ] & & ( g . h a s i d e n t i t y = ! 0 , h . p u s h ( f [ b ] ) ) } ) , g . i d e n t i t y = h . j o i n ( " ,   " ) , d . p u s h ( c . r e n d e r ( " m o d _ a s s i g n / l i s t _ p a r t i c i p a n t _ u s e r _ s u m m a r y " , g ) . t h e n ( f u n c t i o n ( a ) { r e t u r n { v a l u e : f . i d , l a b e l : a } } ) ) ) } ) , b . w h e n . a p p l y ( b , d ) } ) . t h e n ( f u n c t i o n ( ) { v a r   a = [ ] ; a r g u m e n t s [ 0 ] & & ( a = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s ) ) , f ( a ) } ) [ " c a t c h " ] ( g ) } } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ p a n e l ' ,   [ " j q u e r y " , " c o r e / y u i " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / f r a g m e n t " , " c o r e / a j a x " , " c o r e / s t r " , " m o d _ a s s i g n / g r a d i n g _ f o r m _ c h a n g e _ c h e c k e r " , " m o d _ a s s i g n / g r a d i n g _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ r e g i o n = a ( b ) , t h i s . _ u s e r C a c h e = [ ] , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   j . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , j . p r o t o t y p e . _ l a s t U s e r I d = 0 , j . p r o t o t y p e . _ l a s t A t t e m p t N u m b e r = - 1 , j . p r o t o t y p e . _ r e g i o n = n u l l , j . p r o t o t y p e . _ n i c e R e p l a c e N o d e C o n t e n t s = f u n c t i o n ( b , c , e ) { v a r   f = a . D e f e r r e d ( ) ; r e t u r n   b . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( b , c , e ) , b . f a d e I n ( " f a s t " , f u n c t i o n ( ) { f . r e s o l v e ( ) } ) } ) , f . p r o m i s e ( ) } , j . p r o t o t y p e . _ s a v e F o r m S t a t e = f u n c t i o n ( ) { " u n d e f i n e d " ! = t y p e o f   w i n d o w . t i n y M C E & & w i n d o w . t i n y M C E . t r i g g e r S a v e ( ) ; v a r   b = a ( ' [ d a t a - r e g i o n = " g r a d i n g - a c t i o n s - f o r m " ]   [ n a m e = " s e n d s t u d e n t n o t i f i c a t i o n s " ] ' ) . p r o p ( " c h e c k e d " ) ; a ( ' . g r a d e f o r m   [ n a m e = " s e n d s t u d e n t n o t i f i c a t i o n s " ] ' ) . v a l ( b ) } , j . p r o t o t y p e . _ s u b m i t F o r m = f u n c t i o n ( b , d ) { v a r   e = a ( t h i s . _ r e g i o n . f i n d ( " f o r m . g r a d e f o r m " ) ) ; a ( ' [ d a t a - r e g i o n = " o v e r l a y " ] ' ) . s h o w ( ) , e . t r i g g e r ( " s a v e - f o r m - s t a t e " ) ; v a r   g = e . s e r i a l i z e ( ) , h = t h i s . _ r e g i o n . a t t r ( " d a t a - a s s i g n m e n t i d " ) ; f . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ s u b m i t _ g r a d i n g _ f o r m " , a r g s : { a s s i g n m e n t i d : h , u s e r i d : t h i s . _ l a s t U s e r I d , j s o n f o r m d a t a : J S O N . s t r i n g i f y ( g ) } , d o n e : t h i s . _ h a n d l e F o r m S u b m i s s i o n R e s p o n s e . b i n d ( t h i s , g , d ) , f a i l : c . e x c e p t i o n } ] ) } , j . p r o t o t y p e . _ h a n d l e F o r m S u b m i s s i o n R e s p o n s e = f u n c t i o n ( d , e , f ) { " u n d e f i n e d " = = t y p e o f   e & & ( e = t h i s . _ l a s t U s e r I d ) , f . l e n g t h ? a ( d o c u m e n t ) . t r i g g e r ( " r e s e t " , [ t h i s . _ l a s t U s e r I d , d ] ) : ( g . g e t _ s t r i n g s ( [ { k e y : " c h a n g e s s a v e d " , c o m p o n e n t : " c o r e " } , { k e y : " g r a d e c h a n g e s s a v e d d e t a i l " , c o m p o n e n t : " m o d _ a s s i g n " } ] ) . d o n e ( f u n c t i o n ( a ) { c . a l e r t ( a [ 0 ] , a [ 1 ] ) } ) . f a i l ( c . e x c e p t i o n ) , b . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) , e = = t h i s . _ l a s t U s e r I d ? a ( d o c u m e n t ) . t r i g g e r ( " r e s e t " , e ) : a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , e ) ) , a ( ' [ d a t a - r e g i o n = " o v e r l a y " ] ' ) . h i d e ( ) } , j . p r o t o t y p e . _ r e s e t F o r m = f u n c t i o n ( b , c , d ) { v a r   e = a . E v e n t ( " c u s t o m " ) ; " u n d e f i n e d " = = t y p e o f   c & & ( c = t h i s . _ l a s t U s e r I d ) , t h i s . _ l a s t U s e r I d = 0 , t h i s . _ r e f r e s h G r a d i n g P a n e l ( e , c , d ) } , j . p r o t o t y p e . _ c h o o s e A t t e m p t = f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) , e = d . d a t a ( " s u b m i s s i o n s " ) , f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( e ) ) , h = f . c l o n e ( ) , i = h . w r a p ( a ( " < f o r m / > " ) ) . h t m l ( ) ; g . g e t _ s t r i n g s ( [ { k e y : " v i e w a d i f f e r e n t a t t e m p t " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " v i e w " , c o m p o n e n t : " c o r e " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( b ) { c . c o n f i r m ( b [ 0 ] , i , b [ 1 ] , b [ 2 ] , f u n c t i o n ( ) { v a r   b = a ( " i n p u t : r a d i o [ n a m e = ' s e l e c t - a t t e m p t n u m b e r ' ] : c h e c k e d " ) . v a l ( ) ; t h i s . _ r e f r e s h G r a d i n g P a n e l ( n u l l , t h i s . _ l a s t U s e r I d , " " , b ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } , j . p r o t o t y p e . _ a d d P o p o u t B u t t o n s = f u n c t i o n ( b ) { v a r   e = a ( b ) ; d . r e n d e r ( " m o d _ a s s i g n / p o p o u t _ b u t t o n " , { } ) . d o n e ( f u n c t i o n ( a ) { v a r   b = e . f i n d ( ' [ d a t a - f i e l d t y p e = " f i l e m a n a g e r " ] , [ d a t a - f i e l d t y p e = " e d i t o r " ] , [ d a t a - f i e l d t y p e = " g r a d i n g " ] ' ) . c l o s e s t ( " . f i t e m " ) ; b . a d d C l a s s ( " h a s - p o p o u t " ) . f i n d ( " l a b e l " ) . p a r e n t ( ) . a p p e n d ( a ) , e . o n ( " c l i c k " , ' [ d a t a - r e g i o n = " p o p o u t - b u t t o n " ] ' , t h i s . _ t o g g l e P o p o u t . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } , j . p r o t o t y p e . _ t o g g l e P o p o u t = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " . f i t e m " ) ; c . h a s C l a s s ( " p o p o u t " ) ? a ( " . p o p o u t " ) . r e m o v e C l a s s ( " p o p o u t " ) : ( a ( " . p o p o u t " ) . r e m o v e C l a s s ( " p o p o u t " ) , c . a d d C l a s s ( " p o p o u t " ) , c . a d d C l a s s ( " m o o d l e - h a s - z i n d e x " ) ) } , j . p r o t o t y p e . _ r e f r e s h G r a d i n g P a n e l = f u n c t i o n ( b , f , g , i ) { v a r   j = t h i s . _ r e g i o n . a t t r ( " d a t a - c o n t e x t i d " ) ; " u n d e f i n e d " = = t y p e o f   g & & ( g = " " ) , " u n d e f i n e d " = = t y p e o f   i & & ( i = - 1 ) , t h i s . _ l a s t U s e r I d = = f & & t h i s . _ l a s t A t t e m p t N u m b e r = = i & & " " = = = g | | ( t h i s . _ l a s t U s e r I d = f , t h i s . _ l a s t A t t e m p t N u m b e r = i , a ( d o c u m e n t ) . t r i g g e r ( " s t a r t - l o a d i n g - u s e r " ) , w i n d o w . M . u t i l . j s _ p e n d i n g ( " m o d - a s s i g n - l o a d i n g - u s e r " ) , d . r e n d e r ( " m o d _ a s s i g n / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( b , d ) { t h i s . _ n i c e R e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , b , d ) . d o n e ( f u n c t i o n ( ) { i f ( f > 0 ) { t h i s . _ r e g i o n . s h o w ( ) ; v a r   b = { u s e r i d : f , a t t e m p t n u m b e r : i , j s o n f o r m d a t a : J S O N . s t r i n g i f y ( g ) } ; e . l o a d F r a g m e n t ( " m o d _ a s s i g n " , " g r a d i n g p a n e l " , j , b ) . d o n e ( f u n c t i o n ( b , d ) { t h i s . _ n i c e R e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , b , d ) . d o n e ( f u n c t i o n ( ) { h . s a v e F o r m S t a t e ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) , a ( d o c u m e n t ) . o n ( " e d i t o r - c o n t e n t - r e s t o r e d " , f u n c t i o n ( ) { h . s a v e F o r m S t a t e ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) } ) , a ( ' [ d a t a - r e g i o n = " a t t e m p t - c h o o s e r " ] ' ) . o n ( " c l i c k " , t h i s . _ c h o o s e A t t e m p t . b i n d ( t h i s ) ) , t h i s . _ a d d P o p o u t B u t t o n s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) , a ( d o c u m e n t ) . t r i g g e r ( " f i n i s h - l o a d i n g - u s e r " ) , w i n d o w . M . u t i l . j s _ c o m p l e t e ( " m o d - a s s i g n - l o a d i n g - u s e r " ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) , a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) . s h o w ( ) } e l s e   t h i s . _ r e g i o n . h i d e ( ) , a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) . h i d e ( ) , a ( d o c u m e n t ) . t r i g g e r ( " f i n i s h - l o a d i n g - u s e r " ) , w i n d o w . M . u t i l . j s _ c o m p l e t e ( " m o d - a s s i g n - l o a d i n g - u s e r " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) ) } , j . p r o t o t y p e . g e t P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ] ' ) } , j . p r o t o t y p e . c o l l a p s e P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . a d d C l a s s ( " c o l l a p s e d " ) } , j . p r o t o t y p e . e x p a n d P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . r e m o v e C l a s s ( " c o l l a p s e d " ) } , j . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t ) , c = a ( t h i s . _ r e g i o n ) ; c . o n ( " s u b m i t " , " f o r m " , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) } ) , b . o n ( " u s e r - c h a n g e d " , t h i s . _ r e f r e s h G r a d i n g P a n e l . b i n d ( t h i s ) ) , b . o n ( " s a v e - c h a n g e s " , t h i s . _ s u b m i t F o r m . b i n d ( t h i s ) ) , b . o n ( " r e s e t " , t h i s . _ r e s e t F o r m . b i n d ( t h i s ) ) , b . o n ( " s a v e - f o r m - s t a t e " , t h i s . _ s a v e F o r m S t a t e . b i n d ( t h i s ) ) , b . o n ( i . C O L L A P S E _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . c o l l a p s e P a n e l ( ) } . b i n d ( t h i s ) ) , b . o n ( i . C O L L A P S E _ R E V I E W _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) } . b i n d ( t h i s ) ) , b . o n ( i . E X P A N D _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) } . b i n d ( t h i s ) ) } , j } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ u s e r _ i n f o ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ r e g i o n = a ( b ) , t h i s . _ u s e r C a c h e = { } , a ( d o c u m e n t ) . o n ( " u s e r - c h a n g e d " , t h i s . _ r e f r e s h U s e r I n f o . b i n d ( t h i s ) ) } ; r e t u r n   e . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , e . p r o t o t y p e . _ u s e r C a c h e = n u l l , e . p r o t o t y p e . _ r e g i o n = n u l l , e . p r o t o t y p e . _ l a s t U s e r I d = 0 , e . p r o t o t y p e . _ g e t A s s i g n m e n t I d = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e g i o n . a t t r ( " d a t a - a s s i g n m e n t i d " ) } , e . p r o t o t y p e . _ r e f r e s h U s e r I n f o = f u n c t i o n ( e , f ) { v a r   g = a . D e f e r r e d ( ) ; t h i s . _ l a s t U s e r I d ! = f & & ( t h i s . _ l a s t U s e r I d = f , d . r e n d e r ( " m o d _ a s s i g n / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( e , h ) { i f ( t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , e , h ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) , f < 0 ) r e t u r n   v o i d   d . r e n d e r ( " m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ n o _ u s e r s " , { } ) . d o n e ( f u n c t i o n ( a , b ) { t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , a , b ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) ; i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . _ u s e r C a c h e [ f ] ) g . r e s o l v e ( t h i s . _ u s e r C a c h e [ f ] ) ; e l s e { v a r   i = t h i s . _ g e t A s s i g n m e n t I d ( ) , j = c . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ g e t _ p a r t i c i p a n t " , a r g s : { u s e r i d : f , a s s i g n i d : i , e m b e d u s e r : ! 0 } } ] ) ; j [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " i d " ) ? ( t h i s . _ u s e r C a c h e [ f ] = a , g . r e s o l v e ( t h i s . _ u s e r C a c h e [ f ] ) ) : g . r e j e c t ( " N o   u s e r s " ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } g . d o n e ( f u n c t i o n ( c ) { v a r   e = a ( " [ d a t a - s h o w u s e r i d e n t i t y ] " ) . d a t a ( " s h o w u s e r i d e n t i t y " ) . s p l i t ( " , " ) , f = [ ] ; c . c o u r s e i d = a ( ' [ d a t a - r e g i o n = " g r a d i n g - n a v i g a t i o n - p a n e l " ] ' ) . a t t r ( " d a t a - c o u r s e i d " ) , c . u s e r & & ( a . e a c h ( e , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   c . u s e r [ b ] & & " " ! = = c . u s e r [ b ] & & ( c . h a s i d e n t i t y = ! 0 , f . p u s h ( c . u s e r [ b ] ) ) } ) , c . i d e n t i t y = f . j o i n ( " ,   " ) , c . u s e r . p r o f i l e i m a g e u r l & & ( c . p r o f i l e i m a g e u r l = c . u s e r . p r o f i l e i m a g e u r l ) ) , d . r e n d e r ( " m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ u s e r _ s u m m a r y " , c ) . d o n e ( f u n c t i o n ( a , b ) { t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , a , b ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( f u n c t i o n ( ) { d . r e n d e r ( " m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ n o _ u s e r s " , { } ) . d o n e ( f u n c t i o n ( a , b ) { t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , a , b ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) ) } , e } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ a c t i o n s ' ,   [ " j q u e r y " , " m o d _ a s s i g n / g r a d i n g _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ r e g i o n = a ( b ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   c . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , c . p r o t o t y p e . _ l a s t U s e r I d = 0 , c . p r o t o t y p e . _ r e g i o n = n u l l , c . p r o t o t y p e . _ s h o w A c t i o n s F o r m = f u n c t i o n ( a , b ) { v a r   c = t h i s . _ r e g i o n . f i n d ( " [ d a t a - r e g i o n = g r a d i n g - a c t i o n s - f o r m ] " ) ; b ! = t h i s . _ l a s t U s e r I d & & b > 0 & & ( t h i s . _ l a s t U s e r I d = b ) , b > 0 ? c . r e m o v e C l a s s ( " h i d e " ) : c . a d d C l a s s ( " h i d e " ) } , c . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( b ) } , c . p r o t o t y p e . g e t R e v i e w P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) } , c . p r o t o t y p e . h a s R e v i e w P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R e v i e w P a n e l E l e m e n t ( ) . l e n g t h > 0 } , c . p r o t o t y p e . g e t C o l l a p s e G r a d e P a n e l B u t t o n = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - a c t i o n s " ]   . c o l l a p s e - g r a d e - p a n e l ' ) } , c . p r o t o t y p e . g e t C o l l a p s e R e v i e w P a n e l B u t t o n = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - a c t i o n s " ]   . c o l l a p s e - r e v i e w - p a n e l ' ) } , c . p r o t o t y p e . g e t E x p a n d A l l P a n e l s B u t t o n = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - a c t i o n s " ]   . c o l l a p s e - n o n e ' ) } , c . p r o t o t y p e . r e s e t L a y o u t B u t t o n s = f u n c t i o n ( ) { t h i s . g e t C o l l a p s e G r a d e P a n e l B u t t o n ( ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . g e t C o l l a p s e R e v i e w P a n e l B u t t o n ( ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . g e t E x p a n d A l l P a n e l s B u t t o n ( ) . r e m o v e C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . c o l l a p s e R e v i e w P a n e l = f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( b . C O L L A P S E _ R E V I E W _ P A N E L ) , a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ G R A D E _ P A N E L ) , t h i s . r e s e t L a y o u t B u t t o n s ( ) , t h i s . g e t C o l l a p s e R e v i e w P a n e l B u t t o n ( ) . a d d C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . c o l l a p s e G r a d e P a n e l = f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( b . C O L L A P S E _ G R A D E _ P A N E L ) , a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ R E V I E W _ P A N E L ) , t h i s . r e s e t L a y o u t B u t t o n s ( ) , t h i s . g e t C o l l a p s e G r a d e P a n e l B u t t o n ( ) . a d d C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . e x p a n d A l l P a n e l s = f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ G R A D E _ P A N E L ) , a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ R E V I E W _ P A N E L ) , t h i s . r e s e t L a y o u t B u t t o n s ( ) , t h i s . g e t E x p a n d A l l P a n e l s B u t t o n ( ) . a d d C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { i f ( t h i s . h a s R e v i e w P a n e l E l e m e n t ( ) ) { v a r   b = t h i s . g e t C o l l a p s e R e v i e w P a n e l B u t t o n ( ) ; b . c l i c k ( f u n c t i o n ( a ) { t h i s . c o l l a p s e R e v i e w P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , b . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . c o l l a p s e R e v i e w P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) ; v a r   c = t h i s . g e t C o l l a p s e G r a d e P a n e l B u t t o n ( ) ; c . c l i c k ( f u n c t i o n ( a ) { t h i s . c o l l a p s e G r a d e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , c . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . c o l l a p s e G r a d e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) ; v a r   d = t h i s . g e t E x p a n d A l l P a n e l s B u t t o n ( ) ; d . c l i c k ( f u n c t i o n ( a ) { t h i s . e x p a n d A l l P a n e l s ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , d . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . e x p a n d A l l P a n e l s ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } a ( d o c u m e n t ) . o n ( " u s e r - c h a n g e d " , t h i s . _ s h o w A c t i o n s F o r m . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ n a m e = " s a v e c h a n g e s " ] ' ) . o n ( " c l i c k " , t h i s . _ t r i g g e r . b i n d ( t h i s , " s a v e - c h a n g e s " ) ) , t h i s . _ r e g i o n . f i n d ( ' [ n a m e = " r e s e t b u t t o n " ] ' ) . o n ( " c l i c k " , t h i s . _ t r i g g e r . b i n d ( t h i s , " r e s e t " ) ) , t h i s . _ r e g i o n . f i n d ( " f o r m " ) . o n ( " s u b m i t " , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) } ) } , c } ) ; 
 d e f i n e ( ' m o d _ f e e d b a c k / e d i t ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { d e l e t e I t e m : f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , c . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m a t i o n " , c o m p o n e n t : " a d m i n " } , { k e y : " c o n f i r m d e l e t e i t e m " , c o m p o n e n t : " m o d _ f e e d b a c k " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , a . p r o x y ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = a ( t h i s ) . a t t r ( " h r e f " ) } , b . c u r r e n t T a r g e t ) ) } ) } , s e t u p : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " d e l e t e " ] ' , " c l i c k " , e . d e l e t e I t e m ) } } ; r e t u r n { s e t u p : e . s e t u p } } ) ; 
 d e f i n e ( ' m o d _ l t i / e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { N E W _ T O O L _ T Y P E : " l t i . t o o l . t y p e . n e w " , S T A R T _ E X T E R N A L _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . e x t e r n a l . s t a r t " , S T O P _ E X T E R N A L _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . e x t e r n a l . s t o p " , S T A R T _ C A R T R I D G E _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . c a r t r i d g e . s t a r t " , S T O P _ C A R T R I D G E _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . c a r t r i d g e . s t o p " , R E G I S T R A T I O N _ F E E D B A C K : " l t i . r e g i s t r a t i o n . f e e d b a c k " , C A P A B I L I T I E S _ A G R E E : " l t i . t o o l . t y p e . c a p a b i l i t i e s . a g r e e " , C A P A B I L I T I E S _ D E C L I N E : " l t i . t o o l . t y p e . c a p a b i l i t i e s . d e c l i n e " } } ) ; 
 d e f i n e ( ' m o d _ l t i / f o r m - f i e l d ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( a , b , c , d ) { t h i s . n a m e = a , t h i s . i d = " i d _ " + t h i s . n a m e , t h i s . s e l e c t o r = " # " + t h i s . i d , t h i s . t y p e = b , t h i s . r e s e t I f U n d e f i n e d = c , t h i s . d e f a u l t V a l u e = d } ; r e t u r n   b . T Y P E S = { T E X T : 1 , S E L E C T : 2 , C H E C K B O X : 3 , E D I T O R : 4 } , b . p r o t o t y p e . s e t F i e l d V a l u e = f u n c t i o n ( c ) { i f ( n u l l = = = c ) { i f ( ! t h i s . r e s e t I f U n d e f i n e d ) r e t u r n ; c = t h i s . d e f a u l t V a l u e } s w i t c h ( t h i s . t y p e ) { c a s e   b . T Y P E S . C H E C K B O X : c ? a ( t h i s . s e l e c t o r ) . p r o p ( " c h e c k e d " , ! 0 ) : a ( t h i s . s e l e c t o r ) . p r o p ( " c h e c k e d " , ! 1 ) ; b r e a k ; c a s e   b . T Y P E S . E D I T O R : i f ( " u n d e f i n e d " ! = = a . t y p e ( c . t e x t ) ) { v a r   d = a ( t h i s . s e l e c t o r + " e d i t a b l e " ) ; d . l e n g t h ? d . h t m l ( c . t e x t ) : " u n d e f i n e d " ! = t y p e o f   t i n y M C E & & t i n y M C E . e x e c I n s t a n c e C o m m a n d ( t h i s . i d , " m c e I n s e r t C o n t e n t " , ! 1 , c . t e x t ) , a ( t h i s . s e l e c t o r ) . v a l ( c . t e x t ) } b r e a k ; d e f a u l t : a ( t h i s . s e l e c t o r ) . v a l ( c ) } } , b } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ c a r d _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { D E L E T E _ B U T T O N : " . d e l e t e " , N A M E _ E L E M E N T : " . n a m e " , D E S C R I P T I O N _ E L E M E N T : " . d e s c r i p t i o n " , C A P A B I L I T I E S _ C O N T A I N E R : " . c a p a b i l i t i e s - c o n t a i n e r " , A C T I V A T E _ B U T T O N : " . t o o l - c a r d - f o o t e r   a . a c t i v a t e " } , j = 2 e 3 , k = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . D E L E T E _ B U T T O N ) } , l = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . N A M E _ E L E M E N T ) } , m = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . D E S C R I P T I O N _ E L E M E N T ) } , n = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . A C T I V A T E _ B U T T O N ) } , o = f u n c t i o n ( a ) { r e t u r n ! ! n ( a ) . l e n g t h } , p = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . C A P A B I L I T I E S _ C O N T A I N E R ) } , q = f u n c t i o n ( a ) { r e t u r n ! ! p ( a ) . l e n g t h } , r = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - t y p e - i d " ) } , s = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g   s u c c e s s   f a i l   c a p a b i l i t i e s " ) } , t = f u n c t i o n ( a ) { s ( a ) , a . a d d C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , u = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , v = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   s ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , c . r e s o l v e ( ) } , j ) , c } , w = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   s ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   f a i l " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   f a i l " ) , c . r e s o l v e ( ) } , j ) , c } , x = f u n c t i o n ( b ) { v a r   d = a . D e f e r r e d ( ) , f = r ( b ) ; r e t u r n   t ( b ) , " " = = = f ? a . D e f e r r e d ( ) . r e s o l v e ( ) : ( h . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e _ c o n f i r m a t i o n " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( a ) { c . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { e [ " d e l e t e " ] ( f ) . d o n e ( f u n c t i o n ( ) { u ( b ) , v ( b ) . d o n e ( f u n c t i o n ( ) { b . r e m o v e ( ) } ) . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { d . r e s o l v e ( ) } ) } ) . f a i l ( f u n c t i o n ( a ) { w ( b ) , d . r e j e c t ( a ) } ) } , f u n c t i o n ( ) { u ( b ) , d . r e s o l v e ( ) } ) } ) . f a i l ( f u n c t i o n ( a ) { u ( b ) , c . e x c e p t i o n ( a ) , d . r e j e c t ( a ) } ) , d ) } , y = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - v a l - s n a p s h o t " , b ) } , z = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - v a l - s n a p s h o t " ) } , A = f u n c t i o n ( a ) { v a r   b = m ( a ) ; i f ( ! b . h a s C l a s s ( " l o a d i n g " ) ) { v a r   c = b . t e x t ( ) . t r i m ( ) ; y ( b , c ) } } , B = f u n c t i o n ( b ) { v a r   d = r ( b ) ; i f ( " " = = = d ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   f = m ( b ) ; i f ( f . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   g = f . t e x t ( ) . t r i m ( ) , h = z ( f ) ; i f ( h = = g ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; f . a d d C l a s s ( " l o a d i n g " ) ; v a r   i = e . u p d a t e ( { i d : d , d e s c r i p t i o n : g } ) ; r e t u r n   i . d o n e ( f u n c t i o n ( a ) { f . r e m o v e C l a s s ( " l o a d i n g " ) , f . t e x t ( a . d e s c r i p t i o n ) } ) . f a i l ( c . e x c e p t i o n ) , i . f a i l ( f u n c t i o n ( ) { f . r e m o v e C l a s s ( " l o a d i n g " ) } ) , i } , C = f u n c t i o n ( a ) { v a r   b = l ( a ) ; i f ( ! b . h a s C l a s s ( " l o a d i n g " ) ) { v a r   c = b . t e x t ( ) . t r i m ( ) ; y ( b , c ) } } , D = f u n c t i o n ( b ) { v a r   c = r ( b ) ; i f ( " " = = = c ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   d = l ( b ) ; i f ( d . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   f = d . t e x t ( ) . t r i m ( ) , g = z ( d ) ; i f ( g = = f ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; d . a d d C l a s s ( " l o a d i n g " ) ; v a r   h = e . u p d a t e ( { i d : c , n a m e : f } ) ; r e t u r n   h . d o n e ( f u n c t i o n ( a ) { d . r e m o v e C l a s s ( " l o a d i n g " ) , d . t e x t ( a . n a m e ) } ) , h . f a i l ( f u n c t i o n ( ) { d . r e m o v e C l a s s ( " l o a d i n g " ) } ) , h } , E = f u n c t i o n ( b ) { v a r   c = r ( b ) ; i f ( " " = = = c ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t ( b ) ; v a r   f = e . u p d a t e ( { i d : c , s t a t e : e . c o n s t a n t s . s t a t e . c o n f i g u r e d } ) ; r e t u r n   f . d o n e ( f u n c t i o n ( c ) { u ( b ) ; v a r   e = v ( b ) , f = d . r e n d e r ( " m o d _ l t i / t o o l _ c a r d " , c ) ; a . w h e n ( f , e ) . t h e n ( f u n c t i o n ( a ) { v a r   c = a [ 0 ] , e = a [ 1 ] ; d . r e p l a c e N o d e ( b , c , e ) } ) } ) , f . f a i l ( f u n c t i o n ( ) { u ( b ) , w ( b ) } ) , f } , F = f u n c t i o n ( a ) { a . a d d C l a s s ( " a n n o u n c e m e n t   c a p a b i l i t i e s " ) } , G = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   c a p a b i l i t i e s " ) } , H = f u n c t i o n ( a ) { q ( a ) ? F ( a ) : E ( a ) } , I = f u n c t i o n ( a ) { v a r   b = k ( a ) ; b . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , x ( a ) } ) , b . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , b . c l i c k ( ) ) } ) ; v a r   c = m ( a ) ; c . f o c u s ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , A ( a ) } ) , c . b l u r ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , B ( a ) } ) , c . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e = = g . E N T E R & & ( a . p r e v e n t D e f a u l t ( ) , c . b l u r ( ) ) } ) ; v a r   d = l ( a ) ; i f ( d . f o c u s ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , C ( a ) } ) , d . b l u r ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , D ( a ) } ) , d . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e = = g . E N T E R & & ( a . p r e v e n t D e f a u l t ( ) , d . b l u r ( ) ) } ) , o ( a ) ) { v a r   e = n ( a ) ; e . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , H ( a ) } ) , e . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , e . c l i c k ( ) ) } ) } i f ( q ( a ) ) { v a r   h = p ( a ) ; h . o n ( f . C A P A B I L I T I E S _ A G R E E , f u n c t i o n ( ) { E ( a ) } ) , h . o n ( f . C A P A B I L I T I E S _ D E C L I N E , f u n c t i o n ( ) { G ( a ) } ) } } ; r e t u r n { i n i t : f u n c t i o n ( a ) { I ( a ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ p r o x y _ c a r d _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / t o o l _ p r o x y " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { D E L E T E _ B U T T O N : " . d e l e t e " , C A P A B I L I T I E S _ C O N T A I N E R : " . c a p a b i l i t i e s - c o n t a i n e r " , A C T I V A T E _ B U T T O N : " . t o o l - c a r d - f o o t e r   a . a c t i v a t e " } , j = 2 e 3 , k = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . D E L E T E _ B U T T O N ) } , l = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . A C T I V A T E _ B U T T O N ) } , m = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - p r o x y - i d " ) } , n = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g   s u c c e s s   f a i l   c a p a b i l i t i e s " ) } , o = f u n c t i o n ( a ) { n ( a ) , a . a d d C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , p = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , q = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   n ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , c . r e s o l v e ( ) } , j ) , c } , r = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   n ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   f a i l " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   f a i l " ) , c . r e s o l v e ( ) } , j ) , c } , s = f u n c t i o n ( b ) { v a r   d = a . D e f e r r e d ( ) , f = m ( b ) ; r e t u r n   o ( b ) , " " = = = f ? a . D e f e r r e d ( ) . r e s o l v e ( ) : ( h . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e _ c o n f i r m a t i o n " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( a ) { c . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { e [ " d e l e t e " ] ( f ) . d o n e ( f u n c t i o n ( ) { p ( b ) , q ( b ) . d o n e ( f u n c t i o n ( ) { b . r e m o v e ( ) , d . r e s o l v e ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) . f a i l ( f u n c t i o n ( a ) { r ( b ) , d . r e j e c t ( a ) } ) } , f u n c t i o n ( ) { p ( b ) , d . r e s o l v e ( ) } ) } ) . f a i l ( f u n c t i o n ( a ) { p ( b ) , c . e x c e p t i o n ( a ) , d . r e j e c t ( a ) } ) , d ) } , t = f u n c t i o n ( b ) { v a r   c = { p r o x y i d : m ( b ) } ; a ( d o c u m e n t ) . t r i g g e r ( f . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , c ) } , u = f u n c t i o n ( a ) { v a r   b = k ( a ) ; b . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , s ( a ) } ) , b . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , b . c l i c k ( ) ) } ) ; v a r   c = l ( a ) ; c . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , t ( a ) } ) , c . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , c . c l i c k ( ) ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( a ) { u ( a ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / e x t e r n a l _ r e g i s t r a t i o n _ r e t u r n ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { i n i t : f u n c t i o n ( a , b , c , d ) { w i n d o w . p a r e n t & & w i n d o w . p a r e n t . t r i g g e r E x t e r n a l R e g i s t r a t i o n C o m p l e t e ( { m e s s a g e : a , e r r o r : b , i d : c , s t a t u s : d } ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ t y p e ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { r e t u r n { q u e r y : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ g e t _ t o o l _ t y p e s " , a r g s : c | | { } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , c r e a t e : f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ c r e a t e _ t o o l _ t y p e " , a r g s : b } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } , u p d a t e : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ u p d a t e _ t o o l _ t y p e " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , " d e l e t e " : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ d e l e t e _ t o o l _ t y p e " , a r g s : { i d : c } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , g e t F r o m T o o l P r o x y I d : f u n c t i o n ( a ) { r e t u r n   t h i s . q u e r y ( { t o o l p r o x y i d : a } ) } , i s C a r t r i d g e : f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ i s _ c a r t r i d g e " , a r g s : { u r l : b } } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } , c o n s t a n t s : { s t a t e : { c o n f i g u r e d : 1 , p e n d i n g : 2 , r e j e c t e d : 3 } } } } ) ; 
 d e f i n e ( ' m o d _ l t i / e x t e r n a l _ r e g i s t r a t i o n ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / t o o l _ p r o x y " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - p a g e - c o n t a i n e r " , E X T E R N A L _ R E G I S T R A T I O N _ T E M P L A T E _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - t e m p l a t e - c o n t a i n e r " , E X T E R N A L _ R E G I S T R A T I O N _ C A N C E L _ B U T T O N : " # c a n c e l - e x t e r n a l - r e g i s t r a t i o n " , T O O L _ T Y P E _ C A P A B I L I T I E S _ C O N T A I N E R : " # t o o l - t y p e - c a p a b i l i t i e s - c o n t a i n e r " , T O O L _ T Y P E _ C A P A B I L I T I E S _ T E M P L A T E _ C O N T A I N E R : " # t o o l - t y p e - c a p a b i l i t i e s - t e m p l a t e - c o n t a i n e r " , C A P A B I L I T I E S _ A G R E E _ C O N T A I N E R : " . c a p a b i l i t i e s - c o n t a i n e r " } , k = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ C A N C E L _ B U T T O N ) } , l = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R ) } , m = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ T E M P L A T E _ C O N T A I N E R ) } , n = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ T Y P E _ C A P A B I L I T I E S _ C O N T A I N E R ) } , o = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ T Y P E _ C A P A B I L I T I E S _ T E M P L A T E _ C O N T A I N E R ) } , p = f u n c t i o n ( ) { n ( ) . a d d C l a s s ( " l o a d i n g " ) } , q = f u n c t i o n ( ) { n ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , r = f u n c t i o n ( ) { k ( ) . a d d C l a s s ( " l o a d i n g " ) } , s = f u n c t i o n ( ) { k ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , t = f u n c t i o n ( ) { n ( ) . a d d C l a s s ( " h i d d e n " ) } , u = f u n c t i o n ( ) { n ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , v = f u n c t i o n ( ) { l ( ) . a d d C l a s s ( " h i d d e n " ) } , w = f u n c t i o n ( ) { l ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , x = f u n c t i o n ( a ) { v a r   b = k ( ) ; b . a t t r ( " d a t a - t o o l - p r o x y - i d " , a ) } , y = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . a t t r ( " d a t a - t o o l - p r o x y - i d " ) } , z = f u n c t i o n ( ) { v a r   a = k ( ) ; a . r e m o v e A t t r ( " d a t a - t o o l - p r o x y - i d " ) } , A = f u n c t i o n ( ) { r e t u r n ! ! y ( ) } , B = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . a t t r ( " d a t a - t o o l - p r o x y - n e w " ) & & A ( ) } , C = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . a t t r ( " d a t a - t o o l - p r o x y - n e w " , " n e w " ) } , D = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . r e m o v e A t t r ( " d a t a - t o o l - p r o x y - n e w " ) } , E = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ g e t _ t o o l _ p r o x y _ r e g i s t r a t i o n _ r e q u e s t " , a r g s : { i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , F = f u n c t i o n ( ) { r ( ) ; v a r   b = a . D e f e r r e d ( ) ; i f ( B ( ) ) { v a r   d = y ( ) ; f [ " d e l e t e " ] ( d ) . d o n e ( f u n c t i o n ( ) { b . r e s o l v e ( ) } ) . f a i l ( f u n c t i o n ( a ) { b . r e j e c t ( a ) } ) } e l s e   b . r e s o l v e ( ) ; r e t u r n   b . d o n e ( f u n c t i o n ( ) { L ( ) , s ( ) } ) . f a i l ( f u n c t i o n ( b ) { c . e x c e p t i o n ( b ) , L ( ) , s ( ) , i . g e t _ s t r i n g ( " f a i l e d t o d e l e t e t o o l p r o x y " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { v a r   c = { m e s s a g e : b , e r r o r : ! 0 } ; a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , c ) } ) . f a i l ( c . e x c e p t i o n ) } ) , b } , G = f u n c t i o n ( a ) { v a r   b = d . r e n d e r ( " m o d _ l t i / t o o l _ p r o x y _ r e g i s t r a t i o n _ f o r m " , a ) ; r e t u r n   b . d o n e ( f u n c t i o n ( a , b ) { v a r   c = m ( ) ; c . a p p e n d ( a ) , d . r u n T e m p l a t e J S ( b ) , c . f i n d ( " f o r m " ) . s u b m i t ( ) , w ( ) } ) . f a i l ( c . e x c e p t i o n ) , b } , H = f u n c t i o n ( a ) { r e t u r n   g . u p d a t e ( { i d : a . i d , s t a t e : g . c o n s t a n t s . s t a t e . c o n f i g u r e d } ) } , I = f u n c t i o n ( b ) { v a r   f = a . D e f e r r e d ( ) ; r e t u r n   d . r e n d e r ( " m o d _ l t i / t o o l _ t y p e _ c a p a b i l i t i e s _ a g r e e " , b ) . d o n e ( f u n c t i o n ( a , c ) { v a r   g = o ( ) ; v ( ) , u ( ) , d . r e p l a c e N o d e C o n t e n t s ( g , a , c ) ; v a r   h = g . f i n d ( j . C A P A B I L I T I E S _ A G R E E _ C O N T A I N E R ) ; h . o n ( e . C A P A B I L I T I E S _ A G R E E , f u n c t i o n ( ) { p ( ) , H ( b ) . a l w a y s ( f u n c t i o n ( ) { q ( ) , g . e m p t y ( ) , f . r e s o l v e ( ) } ) } ) , h . o n ( e . C A P A B I L I T I E S _ D E C L I N E , f u n c t i o n ( ) { g . e m p t y ( ) , f . r e s o l v e ( ) } ) } ) . f a i l ( f . r e j e c t ) , f . d o n e ( f u n c t i o n ( ) { t ( ) } ) . f a i l ( c . e x c e p t i o n ) , f } , J = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   b & & " " ! = = b ? f . c r e a t e ( { r e g u r l : b } ) . d o n e ( f u n c t i o n ( a ) { C ( ) , c = K ( a . i d ) } ) . f a i l ( f u n c t i o n ( b ) { F ( ) ; v a r   d = { m e s s a g e : b . m e s s a g e , e r r o r : ! 0 } ; a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , d ) , c . r e j e c t ( b ) } ) : c . r e s o l v e ( ) , c } , K = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   x ( b ) , E ( b ) . d o n e ( f u n c t i o n ( a ) { G ( a ) . d o n e ( f u n c t i o n ( ) { c . r e s o l v e ( ) } ) . f a i l ( c . f a i l ) } ) . f a i l ( c . f a i l ) , c } , L = f u n c t i o n ( ) { A ( ) & & z ( ) , D ( ! 1 ) , v ( ) ; v a r   b = m ( ) ; b . e m p t y ( ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ E X T E R N A L _ R E G I S T R A T I O N ) } , M = f u n c t i o n ( ) { a ( d o c u m e n t ) . o n ( e . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , f u n c t i o n ( a , b ) { b & & ( b . u r l & & J ( b . u r l ) , b . p r o x y i d & & K ( b . p r o x y i d ) ) } ) ; v a r   b = k ( ) ; b . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , F ( ) } ) , b . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = h . E N T E R & & a . k e y C o d e ! = h . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , F ( ) ) } ) , w i n d o w . t r i g g e r E x t e r n a l R e g i s t r a t i o n C o m p l e t e = f u n c t i o n ( b ) { v a r   d = a . D e f e r r e d ( ) , f = { m e s s a g e : " " , e r r o r : ! 1 } ; i f ( " s u c c e s s " = = b . s t a t u s ) { i f ( i . g e t _ s t r i n g ( " s u c c e s s f u l l y c r e a t e d t o o l t y p e " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( a ) { f . m e s s a g e = a } ) . f a i l ( c . e x c e p t i o n ) , d . d o n e ( f u n c t i o n ( ) { L ( ) , a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , f ) , a ( d o c u m e n t ) . t r i g g e r ( e . N E W _ T O O L _ T Y P E ) } ) . f a i l ( c . e x c e p t i o n ) , B ( ) ) { v a r   h = y ( ) ; g . g e t F r o m T o o l P r o x y I d ( h ) . d o n e ( f u n c t i o n ( a ) { i f ( a & & a . l e n g t h ) { v a r   b = a [ 0 ] ; b . h a s c a p a b i l i t y g r o u p s ? I ( b ) . a l w a y s ( f u n c t i o n ( ) { d . r e s o l v e ( ) } ) : d . r e s o l v e ( ) } e l s e   d . r e s o l v e ( ) } ) . f a i l ( f u n c t i o n ( ) { d . r e s o l v e ( ) } ) } } e l s e   f . m e s s a g e = b . e r r o r , f . e r r o r = ! 0 , d . d o n e ( f u n c t i o n ( ) { F ( ) . a l w a y s ( f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , f ) } ) } ) . f a i l ( c . e x c e p t i o n ) , d . r e s o l v e ( ) ; r e t u r n   d } } ; r e t u r n { i n i t : f u n c t i o n ( ) { M ( ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / c o n t e n t i t e m _ r e t u r n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { r e t u r n { i n i t : f u n c t i o n ( b ) { a ( w i n d o w ) . r e a d y ( f u n c t i o n ( ) { w i n d o w ! = t o p & & p a r e n t . p r o c e s s C o n t e n t I t e m R e t u r n D a t a ( b ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / c a r t r i d g e _ r e g i s t r a t i o n _ f o r m ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { C A R T R I D G E _ U R L : " # c a r t r i d g e - u r l " , C O N S U M E R _ K E Y : " # r e g i s t r a t i o n - k e y " , S H A R E D _ S E C R E T : " # r e g i s t r a t i o n - s e c r e t " , R E G I S T R A T I O N _ F O R M : " # c a r t r i d g e - r e g i s t r a t i o n - f o r m " , R E G I S T R A T I O N _ S U B M I T _ B U T T O N : " # c a r t r i d g e - r e g i s t r a t i o n - s u b m i t " , R E G I S T R A T I O N _ C A N C E L _ B U T T O N : " # c a r t r i d g e - r e g i s t r a t i o n - c a n c e l " } , i = f u n c t i o n ( ) { r e t u r n   a ( h . R E G I S T R A T I O N _ F O R M ) . a t t r ( " d a t a - c a r t r i d g e - u r l " ) } , j = f u n c t i o n ( ) { r e t u r n   a ( h . R E G I S T R A T I O N _ S U B M I T _ B U T T O N ) } , k = f u n c t i o n ( ) { r e t u r n   a ( h . R E G I S T R A T I O N _ C A N C E L _ B U T T O N ) } , l = f u n c t i o n ( ) { r e t u r n   a ( h . C O N S U M E R _ K E Y ) . v a l ( ) } , m = f u n c t i o n ( ) { r e t u r n   a ( h . S H A R E D _ S E C R E T ) . v a l ( ) } , n = f u n c t i o n ( ) { j ( ) . a d d C l a s s ( " l o a d i n g " ) } , o = f u n c t i o n ( ) { j ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , p = f u n c t i o n ( ) { r e t u r n   j ( ) . h a s C l a s s ( " l o a d i n g " ) } , q = f u n c t i o n ( ) { i f ( p ( ) ) r e t u r n ! 1 ; v a r   b = i ( ) ; i f ( " " = = = b ) r e t u r n ! 1 ; n ( ) ; v a r   f = l ( ) , h = m ( ) , j = d . c r e a t e ( { c a r t r i d g e u r l : b , k e y : f , s e c r e t : h } ) ; r e t u r n   j . d o n e ( f u n c t i o n ( ) { g . g e t _ s t r i n g ( " s u c c e s s f u l l y c r e a t e d t o o l t y p e " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( e . N E W _ T O O L _ T Y P E ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N ) , a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , { m e s s a g e : b } ) } ) . f a i l ( c . e x c e p t i o n ) } ) . f a i l ( f u n c t i o n ( ) { g . g e t _ s t r i n g ( " f a i l e d t o c r e a t e t o o l t y p e " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( e . N E W _ T O O L _ T Y P E ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N ) , a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , { m e s s a g e : b , e r r o r : ! 0 } ) } ) . f a i l ( c . e x c e p t i o n ) } ) . a l w a y s ( f u n c t i o n ( ) { o ( ) } ) , j } , r = f u n c t i o n ( ) { v a r   b = a ( h . R E G I S T R A T I O N _ F O R M ) ; b . s u b m i t ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , q ( ) } ) ; v a r   c = k ( ) ; c . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N ) } ) , c . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = f . E N T E R & & a . k e y C o d e ! = f . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , c . c l i c k ( ) ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { r ( ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / c o n t e n t i t e m ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " m o d _ l t i / f o r m - f i e l d " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h , i = { i n i t : f u n c t i o n ( a , e ) { v a r   i = " " ; c . g e t _ s t r i n g ( " s e l e c t c o n t e n t " , " l t i " ) . t h e n ( f u n c t i o n ( c ) { i = c ; v a r   j = { u r l : a , p o s t D a t a : e } , k = d . r e n d e r ( " m o d _ l t i / c o n t e n t i t e m " , j ) ; h ? ( h . s e t B o d y ( k ) , h . s h o w ( ) ) : f . c r e a t e ( { t i t l e : i , b o d y : k , l a r g e : ! 0 } ) . d o n e ( f u n c t i o n ( a ) { h = a , h . s h o w ( ) , a . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { a . s e t B o d y ( " " ) , b . f e t c h N o t i f i c a t i o n s ( ) } ) } ) } ) } } , j = [ n e w   e ( " n a m e " , e . T Y P E S . T E X T , ( ! 1 ) , " " ) , n e w   e ( " i n t r o e d i t o r " , e . T Y P E S . E D I T O R , ( ! 1 ) , " " ) , n e w   e ( " t o o l u r l " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " s e c u r e t o o l u r l " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " i n s t r u c t o r c h o i c e a c c e p t g r a d e s " , e . T Y P E S . C H E C K B O X , ( ! 0 ) , ( ! 0 ) ) , n e w   e ( " i n s t r u c t o r c h o i c e s e n d n a m e " , e . T Y P E S . C H E C K B O X , ( ! 0 ) , ( ! 0 ) ) , n e w   e ( " i n s t r u c t o r c h o i c e s e n d e m a i l a d d r " , e . T Y P E S . C H E C K B O X , ( ! 0 ) , ( ! 0 ) ) , n e w   e ( " i n s t r u c t o r c u s t o m p a r a m e t e r s " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " i c o n " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " s e c u r e i c o n " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " l a u n c h c o n t a i n e r " , e . T Y P E S . S E L E C T , ( ! 0 ) , 0 ) ] ; r e t u r n   w i n d o w . p r o c e s s C o n t e n t I t e m R e t u r n D a t a = f u n c t i o n ( b ) { h & & h . h i d e ( ) ; v a r   c ; f o r ( c   i n   j ) { v a r   d = j [ c ] , e = n u l l ; " u n d e f i n e d " ! = = a . t y p e ( b [ d . n a m e ] ) & & ( e = b [ d . n a m e ] ) , d . s e t F i e l d V a l u e ( e ) } } , i } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ c o n f i g u r e _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / t o o l _ p r o x y " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - c o n t a i n e r " , E X T E R N A L _ R E G I S T R A T I O N _ P A G E _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - p a g e - c o n t a i n e r " , C A R T R I D G E _ R E G I S T R A T I O N _ C O N T A I N E R : " # c a r t r i d g e - r e g i s t r a t i o n - c o n t a i n e r " , C A R T R I D G E _ R E G I S T R A T I O N _ F O R M : " # c a r t r i d g e - r e g i s t r a t i o n - f o r m " , A D D _ T O O L _ F O R M : " # a d d - t o o l - f o r m " , T O O L _ L I S T _ C O N T A I N E R : " # t o o l - l i s t - c o n t a i n e r " , T O O L _ C R E A T E _ B U T T O N : " # t o o l - c r e a t e - b u t t o n " , R E G I S T R A T I O N _ C H O I C E _ C O N T A I N E R : " # r e g i s t r a t i o n - c h o i c e - c o n t a i n e r " , T O O L _ U R L : " # t o o l - u r l " } , k = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ C R E A T E _ B U T T O N ) } , l = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ L I S T _ C O N T A I N E R ) } , m = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R ) } , n = f u n c t i o n ( ) { r e t u r n   a ( j . C A R T R I D G E _ R E G I S T R A T I O N _ C O N T A I N E R ) } , o = f u n c t i o n ( ) { r e t u r n   a ( j . R E G I S T R A T I O N _ C H O I C E _ C O N T A I N E R ) } , p = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ U R L ) . v a l ( ) } , q = f u n c t i o n ( ) { m ( ) . a d d C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( ) { n ( ) . a d d C l a s s ( " h i d d e n " ) } , s = f u n c t i o n ( ) { o ( ) . a d d C l a s s ( " h i d d e n " ) } , t = f u n c t i o n ( ) { r ( ) , s ( ) , m ( ) . r e m o v e C l a s s ( " h i d d e n " ) , w ( m ( ) ) } , u = f u n c t i o n ( a ) { q ( ) , s ( ) , n ( ) . r e m o v e C l a s s ( " h i d d e n " ) , n ( ) . f i n d ( j . C A R T R I D G E _ R E G I S T R A T I O N _ F O R M ) . a t t r ( " d a t a - c a r t r i d g e - u r l " , a ) , w ( n ( ) ) } , v = f u n c t i o n ( ) { q ( ) , r ( ) , o ( ) . r e m o v e C l a s s ( " h i d d e n " ) , w ( o ( ) ) } , w = f u n c t i o n ( a ) { v a r   b = a . c h i l d r e n ( ) . d e t a c h ( ) ; b . a p p e n d T o ( a ) } , x = f u n c t i o n ( ) { l ( ) . a d d C l a s s ( " h i d d e n " ) } , y = f u n c t i o n ( ) { l ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , z = f u n c t i o n ( a ) { v a r   b = a . e r r o r ? " e r r o r " : " s u c c e s s " ; c . a d d N o t i f i c a t i o n ( { m e s s a g e : a . m e s s a g e , t y p e : b } ) } , A = f u n c t i o n ( a ) { a . a d d C l a s s ( " l o a d i n g " ) } , B = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " l o a d i n g " ) } , C = f u n c t i o n ( ) { v a r   b = a . D e f e r r e d ( ) , e = l ( ) ; A ( e ) , a . w h e n ( g . q u e r y ( ) , h . q u e r y ( { o r p h a n e d o n l y : ! 0 } ) ) . d o n e ( f u n c t i o n ( a , c ) { d . r e n d e r ( " m o d _ l t i / t o o l _ l i s t " , { t o o l s : a , p r o x i e s : c } ) . d o n e ( f u n c t i o n ( a , c ) { e . e m p t y ( ) , e . a p p e n d ( a ) , d . r u n T e m p l a t e J S ( c ) , b . r e s o l v e ( ) } ) . f a i l ( b . r e j e c t ) } ) . f a i l ( b . r e j e c t ) , b . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { B ( e ) } ) } , D = f u n c t i o n ( ) { v a r   b = a . t r i m ( p ( ) ) ; i f ( " " = = = b ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   d = k ( ) ; A ( d ) ; v a r   f = g . i s C a r t r i d g e ( b ) ; r e t u r n   f . a l w a y s ( f u n c t i o n ( ) { B ( d ) } ) , f . d o n e ( f u n c t i o n ( c ) { c . i s c a r t r i d g e ? ( a ( j . T O O L _ U R L ) . v a l ( " " ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T A R T _ C A R T R I D G E _ R E G I S T R A T I O N , b ) ) : a ( d o c u m e n t ) . t r i g g e r ( e . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , { u r l : b } ) } ) , f . f a i l ( f u n c t i o n ( ) { i . g e t _ s t r i n g ( " e r r o r b a d u r l " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , { m e s s a g e : b , e r r o r : ! 0 } ) } ) . f a i l ( c . e x c e p t i o n ) } ) , f } , E = f u n c t i o n ( ) { a ( d o c u m e n t ) . o n ( e . N E W _ T O O L _ T Y P E , f u n c t i o n ( ) { C ( ) } ) , a ( d o c u m e n t ) . o n ( e . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , f u n c t i o n ( ) { t ( ) , a ( j . T O O L _ U R L ) . v a l ( " " ) , x ( ) } ) , a ( d o c u m e n t ) . o n ( e . S T O P _ E X T E R N A L _ R E G I S T R A T I O N , f u n c t i o n ( ) { y ( ) , v ( ) } ) , a ( d o c u m e n t ) . o n ( e . S T A R T _ C A R T R I D G E _ R E G I S T R A T I O N , f u n c t i o n ( a , b ) { u ( b ) } ) , a ( d o c u m e n t ) . o n ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N , f u n c t i o n ( ) { n ( ) . f i n d ( j . C A R T R I D G E _ R E G I S T R A T I O N _ F O R M ) . r e m o v e A t t r ( " d a t a - c a r t r i d g e - u r l " ) , v ( ) } ) , a ( d o c u m e n t ) . o n ( e . R E G I S T R A T I O N _ F E E D B A C K , f u n c t i o n ( a , b ) { z ( b ) } ) ; v a r   b = a ( j . A D D _ T O O L _ F O R M ) ; b . s u b m i t ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , D ( ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { E ( ) , C ( ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / k e y s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { E N T E R : 1 3 , S P A C E : 3 2 } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ p r o x y ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { r e t u r n { q u e r y : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ g e t _ t o o l _ p r o x i e s " , a r g s : c | | { } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , " d e l e t e " : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ d e l e t e _ t o o l _ p r o x y " , a r g s : { i d : c } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , c r e a t e : f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ c r e a t e _ t o o l _ p r o x y " , a r g s : b } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } } } ) ; 
 d e f i n e ( ' m o d _ q u i z / p r e f l i g h t c h e c k ' ,   [ " j q u e r y " , " c o r e / y u i " ] , f u n c t i o n ( a , b ) { v a r   c = { c o n f i r m D i a l o g u e : n u l l , i n i t : f u n c t i o n ( a , d , e , f ) { v a r   g = a ; b . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n " , f u n c t i o n ( ) { b . o n e ( e ) & & ( c . c o n f i r m D i a l o g u e = n e w   M . c o r e . d i a l o g u e ( { h e a d e r C o n t e n t : d , b o d y C o n t e n t : b . o n e ( e ) , d r a g g a b l e : ! 0 , v i s i b l e : ! 1 , c e n t e r : ! 0 , m o d a l : ! 0 , w i d t h : n u l l , e x t r a C l a s s e s : [ " m o d _ q u i z _ p r e f l i g h t _ p o p u p " ] } ) , b . o n e ( a ) . o n ( " c l i c k " , c . d i s p l a y D i a l o g u e ) , b . o n e ( " # i d _ c a n c e l " ) . o n ( " c l i c k " , c . h i d e D i a l o g u e ) , g = c . c o n f i r m D i a l o g u e . g e t ( " b o u n d i n g B o x " ) . o n e ( ' [ n a m e = " s u b m i t b u t t o n " ] ' ) ) , f & & b . o n e ( g ) . o n ( " c l i c k " , c . l a u n c h Q u i z P o p u p , c , f ) } ) } , d i s p l a y D i a l o g u e : f u n c t i o n ( a ) { a & & a . h a l t ( ) , c . c o n f i r m D i a l o g u e . s h o w ( ) } , h i d e D i a l o g u e : f u n c t i o n ( a ) { a & & a . h a l t ( ) , c . c o n f i r m D i a l o g u e . h i d e ( a ) } , l a u n c h Q u i z P o p u p : f u n c t i o n ( a , c ) { a . h a l t ( ) , b . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , " i o - f o r m " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) ; v a r   d = a . t a r g e t . a n c e s t o r ( " f o r m " ) ; w i n d o w . o p e n p o p u p ( a , { u r l : d . g e t ( " a c t i o n " ) + " ? " + b . I O . s t r i n g i f y ( d ) . r e p l a c e ( / \ b c a n c e l = / , " x = " ) , w i n d o w n a m e : " q u i z p o p u p " , o p t i o n s : c , f u l l s c r e e n : ! 0 } ) } ) } } ; r e t u r n   c } ) ; 
 d e f i n e ( ' m o d _ s u r v e y / v a l i d a t i o n ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { r e t u r n { e n s u r e R a d i o s C h o s e n : f u n c t i o n ( e ) { v a r   f = b . g e t _ s t r i n g s ( [ { k e y : " e r r o r " , c o m p o n e n t : " m o o d l e " } , { k e y : " q u e s t i o n s n o t a n s w e r e d " , c o m p o n e n t : " s u r v e y " } ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . c r e a t e ( { t y p e : c . t y p e s . C A N C E L , t i t l e : a [ 0 ] , b o d y : a [ 1 ] } ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) , g = a ( " # " + e ) ; g . s u b m i t ( f u n c t i o n ( a ) { r e t u r n   0 = = = g . f i n d ( ' i n p u t : r a d i o [ d a t a - s u r v e y - d e f a u l t = " t r u e " ] : c h e c k e d ' ) . l e n g t h | | ( a . p r e v e n t D e f a u l t ( ) , f . t h e n ( f u n c t i o n ( a ) { a . s h o w ( ) } ) , ! 1 ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ w o r k s h o p / w o r k s h o p v i e w ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( b ) { v a r   c = 0 ; b . h e i g h t ( " a u t o " ) , b . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . h e i g h t ( ) ; b > c & & ( c = b ) } ) , b . h e i g h t ( c ) } r e t u r n { i n i t : f u n c t i o n ( ) { v a r   c = a ( " . p a t h - m o d - w o r k s h o p   . u s e r p l a n   d t " ) , d = a ( " . p a t h - m o d - w o r k s h o p   . u s e r p l a n   d d " ) ; b ( c ) , b ( d ) , a ( w i n d o w ) . o n ( " r e s i z e " , f u n c t i o n ( ) { b ( c ) , b ( d ) } ) } } } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ p o p o v e r _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / u r l " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p o p o v e r _ r e g i o n _ c o n t r o l l e r " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { M A R K _ A L L _ R E A D _ B U T T O N : ' [ d a t a - a c t i o n = " m a r k - a l l - r e a d " ] ' , A L L _ N O T I F I C A T I O N S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " a l l - n o t i f i c a t i o n s " ] ' , N O T I F I C A T I O N : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - c o n t e n t - i t e m - c o n t a i n e r " ] ' , U N R E A D _ N O T I F I C A T I O N : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - c o n t e n t - i t e m - c o n t a i n e r " ] . u n r e a d ' , N O T I F I C A T I O N _ L I N K : ' [ d a t a - a c t i o n = " c o n t e n t - i t e m - l i n k " ] ' , E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e " ] ' , C O U N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o u n t - c o n t a i n e r " ] ' } , l = f u n c t i o n ( a ) { h . c a l l ( t h i s , a ) , t h i s . m a r k A l l R e a d B u t t o n = t h i s . r o o t . f i n d ( k . M A R K _ A L L _ R E A D _ B U T T O N ) , t h i s . u n r e a d C o u n t = 0 , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r i d " ) , t h i s . c o n t a i n e r = t h i s . r o o t . f i n d ( k . A L L _ N O T I F I C A T I O N S _ C O N T A I N E R ) , t h i s . l i m i t = 2 0 , t h i s . o f f s e t = 0 , t h i s . l o a d e d A l l = ! 1 , t h i s . i n i t i a l L o a d = ! 1 , t h i s . l o a d U n r e a d N o t i f i c a t i o n C o u n t ( ) } ; r e t u r n   l . p r o t o t y p e = O b j e c t . c r e a t e ( h . p r o t o t y p e ) , l . p r o t o t y p e . c o n s t r u c t o r = l , l . p r o t o t y p e . u p d a t e B u t t o n A r i a L a b e l = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? d . g e t _ s t r i n g ( " h i d e n o t i f i c a t i o n w i n d o w " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : t h i s . u n r e a d C o u n t ? d . g e t _ s t r i n g ( " s h o w n o t i f i c a t i o n w i n d o w w i t h c o u n t " , " m e s s a g e " , t h i s . u n r e a d C o u n t ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : d . g e t _ s t r i n g ( " s h o w n o t i f i c a t i o n w i n d o w n o n e w " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r } , l . p r o t o t y p e . g e t O f f s e t = f u n c t i o n ( ) { r e t u r n   t h i s . o f f s e t } , l . p r o t o t y p e . i n c r e m e n t O f f s e t = f u n c t i o n ( ) { t h i s . o f f s e t + = t h i s . l i m i t } , l . p r o t o t y p e . h a s D o n e I n i t i a l L o a d = f u n c t i o n ( ) { r e t u r n   t h i s . i n i t i a l L o a d } , l . p r o t o t y p e . h a s L o a d e d A l l C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . l o a d e d A l l } , l . p r o t o t y p e . s e t L o a d e d A l l C o n t e n t = f u n c t i o n ( a ) { t h i s . l o a d e d A l l = a } , l . p r o t o t y p e . r e n d e r U n r e a d C o u n t = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( k . C O U N T _ C O N T A I N E R ) ; t h i s . u n r e a d C o u n t ? ( a . t e x t ( t h i s . u n r e a d C o u n t ) , a . r e m o v e C l a s s ( " h i d d e n " ) ) : a . a d d C l a s s ( " h i d d e n " ) } , l . p r o t o t y p e . h i d e U n r e a d C o u n t = f u n c t i o n ( ) { t h i s . r o o t . f i n d ( k . C O U N T _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , l . p r o t o t y p e . l o a d U n r e a d N o t i f i c a t i o n C o u n t = f u n c t i o n ( ) { i . c o u n t U n r e a d ( { u s e r i d t o : t h i s . u s e r I d } ) . t h e n ( f u n c t i o n ( a ) { t h i s . u n r e a d C o u n t = a , t h i s . r e n d e r U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . g e t N o t i f i c a t i o n E l e m e n t = f u n c t i o n ( a ) { v a r   b = t h i s . r o o t . f i n d ( k . N O T I F I C A T I O N + ' [ d a t a - i d = " ' + a + ' " ] ' ) ; r e t u r n   1 = = b . l e n g t h ? b : n u l l } , l . p r o t o t y p e . r e n d e r N o t i f i c a t i o n s = f u n c t i o n ( b , d ) { v a r   g = [ ] , h = [ ] , i = [ ] ; r e t u r n   b . l e n g t h & & a . e a c h ( b , f u n c t i o n ( a , b ) { v a r   d = t h i s . g e t O f f s e t ( ) - t h i s . l i m i t ; b . v i e w m o r e u r l = e . r e l a t i v e U r l ( " / m e s s a g e / o u t p u t / p o p u p / n o t i f i c a t i o n s . p h p " , { n o t i f i c a t i o n i d : b . i d , o f f s e t : d } ) ; v a r   j = c . r e n d e r ( " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ c o n t e n t _ i t e m " , b ) ; g . p u s h ( j ) , j . t h e n ( f u n c t i o n ( b , c ) { h [ a ] = b , i [ a ] = c } ) . f a i l ( f . e x c e p t i o n ) } . b i n d ( t h i s ) ) , a . w h e n . a p p l y ( a . w h e n , g ) . t h e n ( f u n c t i o n ( ) { b . l e n g t h & & a . e a c h ( b , f u n c t i o n ( a ) { d . a p p e n d ( h [ a ] ) , c . r u n T e m p l a t e J S ( i [ a ] ) } ) } ) } , l . p r o t o t y p e . l o a d M o r e N o t i f i c a t i o n s = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g | | t h i s . h a s L o a d e d A l l C o n t e n t ( ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   b = { l i m i t : t h i s . l i m i t , o f f s e t : t h i s . g e t O f f s e t ( ) , u s e r i d t o : t h i s . u s e r I d } , c = t h i s . g e t C o n t e n t ( ) ; r e t u r n   i . q u e r y ( b ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . n o t i f i c a t i o n s ; r e t u r n   t h i s . u n r e a d C o u n t = a . u n r e a d c o u n t , t h i s . s e t L o a d e d A l l C o n t e n t ( ! b . l e n g t h | | b . l e n g t h < t h i s . l i m i t ) , t h i s . i n i t i a l L o a d = ! 0 , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , ! ! b . l e n g t h & & ( t h i s . i n c r e m e n t O f f s e t ( ) , t h i s . r e n d e r N o t i f i c a t i o n s ( b , c ) ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . m a r k A l l A s R e a d = f u n c t i o n ( ) { r e t u r n   t h i s . m a r k A l l R e a d B u t t o n . a d d C l a s s ( " l o a d i n g " ) , i . m a r k A l l A s R e a d ( { u s e r i d t o : t h i s . u s e r I d } ) . t h e n ( f u n c t i o n ( ) { t h i s . u n r e a d C o u n t = 0 , t h i s . r o o t . f i n d ( k . U N R E A D _ N O T I F I C A T I O N ) . r e m o v e C l a s s ( " u n r e a d " ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . m a r k A l l R e a d B u t t o n . r e m o v e C l a s s ( " l o a d i n g " ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . m a r k N o t i f i c a t i o n A s R e a d = f u n c t i o n ( a ) { r e t u r n ! ! a . h a s C l a s s ( " u n r e a d " ) & & i . m a r k A s R e a d ( a . a t t r ( " d a t a - i d " ) ) . t h e n ( f u n c t i o n ( ) { t h i s . u n r e a d C o u n t - - , a . r e m o v e C l a s s ( " u n r e a d " ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { g . d e f i n e ( t h i s . r o o t , [ g . e v e n t s . a c t i v a t e ] ) , t h i s . r o o t . o n ( g . e v e n t s . a c t i v a t e , k . M A R K _ A L L _ R E A D _ B U T T O N , f u n c t i o n ( a ) { t h i s . m a r k A l l A s R e a d ( ) , a . s t o p P r o p a g a t i o n ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( g . e v e n t s . a c t i v a t e , k . N O T I F I C A T I O N _ L I N K , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( k . N O T I F I C A T I O N ) ; t h i s . m a r k N o t i f i c a t i o n A s R e a d ( c ) , b . s t o p P r o p a g a t i o n ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . m e n u O p e n e d , f u n c t i o n ( ) { t h i s . h i d e U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . h a s D o n e I n i t i a l L o a d ( ) | | t h i s . l o a d M o r e N o t i f i c a t i o n s ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . m e n u C l o s e d , f u n c t i o n ( ) { t h i s . r e n d e r U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . s t a r t L o a d i n g , f u n c t i o n ( ) { t h i s . g e t C o n t e n t ( ) . a t t r ( " a r i a - b u s y " , " t r u e " ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . s t o p L o a d i n g , f u n c t i o n ( ) { t h i s . g e t C o n t e n t ( ) . a t t r ( " a r i a - b u s y " , " f a l s e " ) } . b i n d ( t h i s ) ) , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . o n ( g . e v e n t s . s c r o l l B o t t o m , f u n c t i o n ( ) { t h i s . i s L o a d i n g | | t h i s . h a s L o a d e d A l l C o n t e n t ( ) | | t h i s . l o a d M o r e N o t i f i c a t i o n s ( ) } . b i n d ( t h i s ) ) , g . d e f i n e ( t h i s . g e t C o n t e n t C o n t a i n e r ( ) , [ g . e v e n t s . s c r o l l L o c k ] ) , a ( d o c u m e n t ) . o n ( j . n o t i f i c a t i o n S h o w n , f u n c t i o n ( a , b ) { i f ( ! b . r e a d ) { v a r   c = t h i s . g e t N o t i f i c a t i o n E l e m e n t ( b . i d ) ; c & & c . r e m o v e C l a s s ( " u n r e a d " ) , t h i s . u n r e a d C o u n t - - , t h i s . r e n d e r U n r e a d C o u n t ( ) } } . b i n d ( t h i s ) ) } , l } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( c ) { " u n d e f i n e d " = = t y p e o f   c . l i m i t & & ( c . l i m i t = 2 0 ) , " u n d e f i n e d " = = t y p e o f   c . o f f s e t & & ( c . o f f s e t = 0 ) ; v a r   d = { m e t h o d n a m e : " m e s s a g e _ p o p u p _ g e t _ p o p u p _ n o t i f i c a t i o n s " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , d = f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m e s s a g e _ p o p u p _ g e t _ u n r e a d _ p o p u p _ n o t i f i c a t i o n _ c o u n t " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , e = f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ n o t i f i c a t i o n s _ a s _ r e a d " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , f = f u n c t i o n ( c , d ) { v a r   e = { m e s s a g e i d : c } ; d & & ( e . t i m e r e a d = d ) ; v a r   f = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ m e s s a g e _ r e a d " , a r g s : e } , g = a . c a l l ( [ f ] ) [ 0 ] ; r e t u r n   g . f a i l ( b . e x c e p t i o n ) , g } ; r e t u r n { q u e r y : c , c o u n t U n r e a d : d , m a r k A l l A s R e a d : e , m a r k A s R e a d : f } } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { C O N T A I N E R : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - a r e a " ] ' , C O N T E N T : ' [ d a t a - r e g i o n = " c o n t e n t " ] ' , H E A D E R : ' [ d a t a - r e g i o n = " h e a d e r " ] ' , F O O T E R : ' [ d a t a - r e g i o n = " f o o t e r " ] ' , T O G G L E _ M O D E : ' [ d a t a - a c t i o n = " t o g g l e - m o d e " ] ' } , h = { H E A D E R : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a _ h e a d e r " , C O N T E N T : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a _ c o n t e n t " , F O O T E R : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a _ f o o t e r " } , i = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . c o n t a i n e r = t h i s . r o o t . c l o s e s t ( g . C O N T A I N E R ) , t h i s . u s e r I d = c , t h i s . h e a d e r = t h i s . r o o t . f i n d ( g . H E A D E R ) , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( g . C O N T E N T ) , t h i s . f o o t e r = t h i s . r o o t . f i n d ( g . F O O T E R ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , i . p r o t o t y p e . g e t C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r } , i . p r o t o t y p e . g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . u s e r I d } , i . p r o t o t y p e . g e t H e a d e r = f u n c t i o n ( ) { r e t u r n   t h i s . h e a d e r } , i . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , i . p r o t o t y p e . g e t F o o t e r = f u n c t i o n ( ) { r e t u r n   t h i s . f o o t e r } , i . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . g e t C o n t a i n e r ( ) . a d d C l a s s ( " s h o w - c o n t e n t - a r e a " ) } , i . p r o t o t y p e . h i d e = f u n c t i o n ( ) { t h i s . g e t C o n t a i n e r ( ) . r e m o v e C l a s s ( " s h o w - c o n t e n t - a r e a " ) } , i . p r o t o t y p e . s e t H e a d e r H T M L = f u n c t i o n ( a ) { t h i s . g e t H e a d e r ( ) . e m p t y ( ) . h t m l ( a ) } , i . p r o t o t y p e . s e t C o n t e n t H T M L = f u n c t i o n ( a ) { t h i s . g e t C o n t e n t ( ) . e m p t y ( ) . h t m l ( a ) } , i . p r o t o t y p e . s e t F o o t e r H T M L = f u n c t i o n ( a ) { t h i s . g e t F o o t e r ( ) . e m p t y ( ) . h t m l ( a ) } , i . p r o t o t y p e . s h o w N o t i f i c a t i o n = f u n c t i o n ( c ) { v a r   d = b . r e n d e r ( h . H E A D E R , c ) . d o n e ( f u n c t i o n ( a ) { t h i s . s e t H e a d e r H T M L ( a ) } . b i n d ( t h i s ) ) , e = b . r e n d e r ( h . C O N T E N T , c ) . d o n e ( f u n c t i o n ( a ) { t h i s . s e t C o n t e n t H T M L ( a ) } . b i n d ( t h i s ) ) , g = b . r e n d e r ( h . F O O T E R , c ) . d o n e ( f u n c t i o n ( a ) { t h i s . s e t F o o t e r H T M L ( a ) } . b i n d ( t h i s ) ) ; r e t u r n   a . w h e n ( d , e , g ) . d o n e ( f u n c t i o n ( ) { t h i s . s h o w ( ) , t h i s . g e t C o n t a i n e r ( ) . t r i g g e r ( f . n o t i f i c a t i o n S h o w n , [ c ] ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . d e f i n e ( t h i s . g e t R o o t ( ) , [ d . e v e n t s . a c t i v a t e ] ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . a c t i v a t e , g . V I E W _ T O G G L E , f u n c t i o n ( ) { t h i s . h i d e ( ) } . b i n d ( t h i s ) ) , t h i s . g e t C o n t a i n e r ( ) . o n ( f . s h o w N o t i f i c a t i o n , f u n c t i o n ( a , b ) { t h i s . s h o w N o t i f i c a t i o n ( b ) } . b i n d ( t h i s ) ) } , i } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { s h o w N o t i f i c a t i o n : " n o t i f i c a t i o n - a r e a - e v e n t s : s h o w N o t i f i c a t i o n " , n o t i f i c a t i o n S h o w n : " n o t i f i c a t i o n - a r e a - e v e n t s : n o t i f i c a t i o n S h o w n " } } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / m e s s a g e _ p o p o v e r _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p o p o v e r _ r e g i o n _ c o n t r o l l e r " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { M A R K _ A L L _ R E A D _ B U T T O N : ' [ d a t a - a c t i o n = " m a r k - a l l - r e a d " ] ' , C O N T E N T : ' [ d a t a - r e g i o n = " m e s s a g e s " ] ' , C O N T E N T _ I T E M _ C O N T A I N E R : ' [ d a t a - r e g i o n = " m e s s a g e - c o n t e n t - i t e m - c o n t a i n e r " ] ' , E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e " ] ' , C O U N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o u n t - c o n t a i n e r " ] ' } , k = f u n c t i o n ( a ) { g . c a l l ( t h i s , a ) , t h i s . m a r k A l l R e a d B u t t o n = t h i s . r o o t . f i n d ( j . M A R K _ A L L _ R E A D _ B U T T O N ) , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( j . C O N T E N T ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r i d " ) , t h i s . l i m i t = 2 0 , t h i s . o f f s e t = 0 , t h i s . l o a d e d A l l = ! 1 , t h i s . i n i t i a l L o a d = ! 1 , t h i s . l o a d U n r e a d M e s s a g e C o u n t ( ) } ; r e t u r n   k . p r o t o t y p e = O b j e c t . c r e a t e ( g . p r o t o t y p e ) , k . p r o t o t y p e . c o n s t r u c t o r = k , k . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , k . p r o t o t y p e . i n c r e m e n t O f f s e t = f u n c t i o n ( ) { t h i s . o f f s e t + = t h i s . l i m i t } , k . p r o t o t y p e . u p d a t e B u t t o n A r i a L a b e l = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? d . g e t _ s t r i n g ( " h i d e m e s s a g e w i n d o w " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : t h i s . u n r e a d C o u n t ? d . g e t _ s t r i n g ( " s h o w m e s s a g e w i n d o w w i t h c o u n t " , " m e s s a g e " , t h i s . u n r e a d C o u n t ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : d . g e t _ s t r i n g ( " s h o w m e s s a g e w i n d o w n o n e w " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) } , k . p r o t o t y p e . r e n d e r U n r e a d C o u n t = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( j . C O U N T _ C O N T A I N E R ) ; t h i s . u n r e a d C o u n t ? ( a . t e x t ( t h i s . u n r e a d C o u n t ) , a . r e m o v e C l a s s ( " h i d d e n " ) ) : a . a d d C l a s s ( " h i d d e n " ) } , k . p r o t o t y p e . h i d e U n r e a d C o u n t = f u n c t i o n ( ) { t h i s . r o o t . f i n d ( j . C O U N T _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , k . p r o t o t y p e . l o a d U n r e a d M e s s a g e C o u n t = f u n c t i o n ( ) { h . c o u n t U n r e a d C o n v e r s a t i o n s ( { u s e r i d t o : t h i s . u s e r I d } ) . t h e n ( f u n c t i o n ( a ) { t h i s . u n r e a d C o u n t = a , t h i s . r e n d e r U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) } . b i n d ( t h i s ) ) } , k . p r o t o t y p e . r e n d e r M e s s a g e s = f u n c t i o n ( b , d ) { v a r   e = [ ] , f = [ ] , g = [ ] ; r e t u r n   b . l e n g t h & & a . e a c h ( b , f u n c t i o n ( a , b ) { b . c o n t e x t u r l = i . r e l a t i v e U r l ( " / m e s s a g e / i n d e x . p h p " , { u s e r : t h i s . u s e r I d , i d : b . u s e r i d } ) , b . p r o f i l e u r l = i . r e l a t i v e U r l ( " / u s e r / p r o f i l e . p h p " , { i d : b . u s e r i d } ) ; v a r   d = c . r e n d e r ( " m e s s a g e _ p o p u p / m e s s a g e _ c o n t e n t _ i t e m " , b ) ; e . p u s h ( d ) , d . t h e n ( f u n c t i o n ( b , c ) { f [ a ] = b , g [ a ] = c } ) } . b i n d ( t h i s ) ) , a . w h e n . a p p l y ( a . w h e n , e ) . t h e n ( f u n c t i o n ( ) { b . l e n g t h & & a . e a c h ( b , f u n c t i o n ( a ) { d . a p p e n d ( f [ a ] ) , c . r u n T e m p l a t e J S ( g [ a ] ) } ) } ) } , k . p r o t o t y p e . l o a d M o r e M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g | | t h i s . l o a d e d A l l ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   b = { u s e r i d : t h i s . u s e r I d , l i m i t : t h i s . l i m i t , o f f s e t : t h i s . o f f s e t } , c = t h i s . g e t C o n t e n t ( ) ; r e t u r n   h . q u e r y ( b ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . c o n t a c t s ; r e t u r n   t h i s . l o a d e d A l l = ! b . l e n g t h | | b . l e n g t h < t h i s . l i m i t , t h i s . i n i t i a l L o a d = ! 0 , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , ! ! b . l e n g t h & & ( t h i s . i n c r e m e n t O f f s e t ( ) , t h i s . r e n d e r M e s s a g e s ( b , c ) ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , k . p r o t o t y p e . m a r k A l l A s R e a d = f u n c t i o n ( ) { r e t u r n   t h i s . m a r k A l l R e a d B u t t o n . h a s C l a s s ( " l o a d i n g " ) ? a . D e f e r r e d ( ) . r e s o l v e ( ) : ( t h i s . m a r k A l l R e a d B u t t o n . a d d C l a s s ( " l o a d i n g " ) , h . m a r k A l l A s R e a d ( { u s e r i d t o : t h i s . u s e r I d } ) . t h e n ( f u n c t i o n ( ) { t h i s . u n r e a d C o u n t = 0 , t h i s . h i d e U n r e a d C o u n t ( ) , t h i s . g e t C o n t e n t ( ) . f i n d ( j . C O N T E N T _ I T E M _ C O N T A I N E R ) . r e m o v e C l a s s ( " u n r e a d " ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . m a r k A l l R e a d B u t t o n . r e m o v e C l a s s ( " l o a d i n g " ) } . b i n d ( t h i s ) ) ) } , k . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { f . d e f i n e ( t h i s . r o o t , [ f . e v e n t s . k e y b o a r d A c t i v a t e ] ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . m e n u O p e n e d , f u n c t i o n ( ) { t h i s . h i d e U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . i n i t i a l L o a d | | t h i s . l o a d M o r e M e s s a g e s ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . m e n u C l o s e d , f u n c t i o n ( ) { t h i s . r e n d e r U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( f . e v e n t s . s c r o l l B o t t o m , f u n c t i o n ( ) { t h i s . l o a d M o r e M e s s a g e s ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( f . e v e n t s . a c t i v a t e , j . M A R K _ A L L _ R E A D _ B U T T O N , f u n c t i o n ( a , b ) { t h i s . m a r k A l l A s R e a d ( ) , a . s t o p P r o p a g a t i o n ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , f . d e f i n e ( t h i s . g e t C o n t e n t C o n t a i n e r ( ) , [ f . e v e n t s . s c r o l l L o c k ] ) , a ( d o c u m e n t ) . o n ( " m e s s a g e a r e a : c o n v e r s a t i o n s e l e c t e d " , f u n c t i o n ( ) { t h i s . u n r e a d C o u n t - - , t h i s . r e n d e r U n r e a d C o u n t ( ) } . b i n d ( t h i s ) ) } , k } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t r o l _ a r e a ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { C O N T A I N E R : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - a r e a " ] ' , C O N T E N T : ' [ d a t a - r e g i o n = " c o n t e n t " ] ' , N O T I F I C A T I O N : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - c o n t e n t - i t e m - c o n t a i n e r " ] ' , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' } , h = { N O T I F I C A T I O N : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ c o n t e n t _ i t e m " } , i = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . c o n t a i n e r = t h i s . r o o t . c l o s e s t ( g . C O N T A I N E R ) , t h i s . u s e r I d = c , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( g . C O N T E N T ) , t h i s . o f f s e t = 0 , t h i s . l i m i t = 2 0 , t h i s . i n i t i a l L o a d = ! 1 , t h i s . i s L o a d i n g = ! 1 , t h i s . l o a d e d A l l = ! 1 , t h i s . n o t i f i c a t i o n s = { } , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , i . p r o t o t y p e . g e t C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r } , i . p r o t o t y p e . g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . u s e r I d } , i . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , i . p r o t o t y p e . g e t O f f s e t = f u n c t i o n ( ) { r e t u r n   t h i s . o f f s e t } , i . p r o t o t y p e . g e t L i m i t = f u n c t i o n ( ) { r e t u r n   t h i s . l i m i t } , i . p r o t o t y p e . s e t O f f s e t = f u n c t i o n ( a ) { t h i s . o f f s e t = a } , i . p r o t o t y p e . s e t L i m i t = f u n c t i o n ( a ) { t h i s . l i m i t = a } , i . p r o t o t y p e . i n c r e m e n t O f f s e t = f u n c t i o n ( ) { t h i s . o f f s e t + = t h i s . l i m i t } , i . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 0 , t h i s . g e t R o o t ( ) . a d d C l a s s ( " l o a d i n g " ) } , i . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 1 , t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , i . p r o t o t y p e . h a s D o n e I n i t i a l L o a d = f u n c t i o n ( ) { r e t u r n   t h i s . i n i t i a l L o a d } , i . p r o t o t y p e . h a s L o a d e d A l l C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . l o a d e d A l l } , i . p r o t o t y p e . s e t L o a d e d A l l C o n t e n t = f u n c t i o n ( a ) { t h i s . l o a d e d A l l = a } , i . p r o t o t y p e . s e t C a c h e N o t i f i c a t i o n = f u n c t i o n ( a ) { t h i s . n o t i f i c a t i o n s [ a . i d ] = a } , i . p r o t o t y p e . g e t C a c h e N o t i f i c a t i o n = f u n c t i o n ( a ) { r e t u r n   t h i s . n o t i f i c a t i o n s [ a ] } , i . p r o t o t y p e . g e t N o t i f i c a t i o n E l e m e n t = f u n c t i o n ( a ) { v a r   b = t h i s . g e t R o o t ( ) . f i n d ( g . N O T I F I C A T I O N + ' [ d a t a - i d = " ' + a + ' " ] ' ) ; r e t u r n   1 = = b . l e n g t h ? b : n u l l } , i . p r o t o t y p e . s c r o l l N o t i f i c a t i o n I n t o V i e w = f u n c t i o n ( a ) { v a r   b = a . p o s i t i o n ( ) , c = t h i s . g e t R o o t ( ) , d = b . t o p - c . s c r o l l T o p ( ) ; i f ( d > c . i n n e r H e i g h t ( ) ) { v a r   e = a . o u t e r H e i g h t ( ) ; e = 4 * e ; v a r   f = b . t o p - e ; c . s c r o l l T o p ( f ) } } , i . p r o t o t y p e . s h o w N o t i f i c a t i o n = f u n c t i o n ( b ) { i f ( " o b j e c t " ! = t y p e o f   b & & ( b = t h i s . g e t N o t i f i c a t i o n E l e m e n t ( b ) ) , b & & b . l e n g t h ) { t h i s . g e t R o o t ( ) . f i n d ( g . N O T I F I C A T I O N ) . r e m o v e C l a s s ( " s e l e c t e d " ) , b . a d d C l a s s ( " s e l e c t e d " ) . f i n d ( g . C A N _ R E C E I V E _ F O C U S ) . f o c u s ( ) ; v a r   c = b . a t t r ( " d a t a - i d " ) , d = t h i s . g e t C a c h e N o t i f i c a t i o n ( c ) ; t h i s . s c r o l l N o t i f i c a t i o n I n t o V i e w ( b ) , t h i s . g e t C o n t a i n e r ( ) . t r i g g e r ( f . s h o w N o t i f i c a t i o n , [ a . e x t e n d ( { } , d ) ] ) } } , i . p r o t o t y p e . m a r k N o t i f i c a t i o n A s R e a d = f u n c t i o n ( a ) { r e t u r n   e . m a r k A s R e a d ( a . a t t r ( " d a t a - i d " ) ) . d o n e ( f u n c t i o n ( ) { a . r e m o v e C l a s s ( " u n r e a d " ) } ) } , i . p r o t o t y p e . r e n d e r N o t i f i c a t i o n s = f u n c t i o n ( d ) { v a r   e = [ ] , f = [ ] , g = [ ] , i = t h i s . g e t C o n t e n t ( ) ; r e t u r n   d . l e n g t h & & a . e a c h ( d , f u n c t i o n ( a , d ) { v a r   i = d . c o n t e x t u r l ; d e l e t e   d . c o n t e x t u r l ; v a r   j = b . r e n d e r ( h . N O T I F I C A T I O N , d ) ; e . p u s h ( j ) , j . t h e n ( f u n c t i o n ( b , c ) { f [ a ] = b , g [ a ] = c , d . c o n t e x t u r l = i , t h i s . s e t C a c h e N o t i f i c a t i o n ( d ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } . b i n d ( t h i s ) ) , a . w h e n . a p p l y ( a . w h e n , e ) . t h e n ( f u n c t i o n ( ) { d . l e n g t h & & a . e a c h ( d , f u n c t i o n ( a ) { i . a p p e n d ( f [ a ] ) , b . r u n T e m p l a t e J S ( g [ a ] ) } ) } ) } , i . p r o t o t y p e . l o a d M o r e N o t i f i c a t i o n s = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g | | t h i s . h a s L o a d e d A l l C o n t e n t ( ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   b = { l i m i t : t h i s . g e t L i m i t ( ) , o f f s e t : t h i s . g e t O f f s e t ( ) , u s e r i d t o : t h i s . g e t U s e r I d ( ) } ; t h i s . i n i t i a l L o a d | | ( b . l i m i t = t h i s . g e t O f f s e t ( ) + t h i s . g e t L i m i t ( ) , b . o f f s e t = 0 ) ; v a r   c = e . q u e r y ( b ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . n o t i f i c a t i o n s ; r e t u r n   t h i s . u n r e a d C o u n t = a . u n r e a d c o u n t , t h i s . s e t L o a d e d A l l C o n t e n t ( ! b . l e n g t h | | b . l e n g t h < t h i s . g e t L i m i t ( ) ) , t h i s . i n i t i a l L o a d = ! 0 , ! ! b . l e n g t h & & ( t h i s . i n c r e m e n t O f f s e t ( ) , t h i s . r e n d e r N o t i f i c a t i o n s ( b ) ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) ; r e t u r n   c } , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . d e f i n e ( t h i s . g e t R o o t ( ) , [ d . e v e n t s . a c t i v a t e , d . e v e n t s . s c r o l l B o t t o m , d . e v e n t s . s c r o l l L o c k , d . e v e n t s . u p , d . e v e n t s . d o w n ] ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . s c r o l l B o t t o m , f u n c t i o n ( ) { t h i s . l o a d M o r e N o t i f i c a t i o n s ( ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . a c t i v a t e , g . N O T I F I C A T I O N , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( g . N O T I F I C A T I O N ) ; t h i s . s h o w N o t i f i c a t i o n ( c ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . u p , g . N O T I F I C A T I O N , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( g . N O T I F I C A T I O N ) ; t h i s . s h o w N o t i f i c a t i o n ( d . p r e v ( ) ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . d o w n , g . N O T I F I C A T I O N , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( g . N O T I F I C A T I O N ) ; t h i s . s h o w N o t i f i c a t i o n ( d . n e x t ( ) ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . g e t C o n t a i n e r ( ) . o n ( f . n o t i f i c a t i o n S h o w n , f u n c t i o n ( a , b ) { i f ( ! b . r e a d ) { v a r   c = t h i s . g e t N o t i f i c a t i o n E l e m e n t ( b . i d ) ; c & & t h i s . m a r k N o t i f i c a t i o n A s R e a d ( c ) ; v a r   d = t h i s . g e t C a c h e N o t i f i c a t i o n ( b . i d ) ; d & & ( d . r e a d = ! 0 ) } } . b i n d ( t h i s ) ) } , i } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / e v e n t _ l i s t ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " b l o c k _ m y o v e r v i e w / c a l e n d a r _ e v e n t s _ r e p o s i t o r y " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = 8 6 4 0 0 , g = { E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e " ] ' , R O O T : ' [ d a t a - r e g i o n = " e v e n t - l i s t - c o n t a i n e r " ] ' , E V E N T _ L I S T : ' [ d a t a - r e g i o n = " e v e n t - l i s t " ] ' , E V E N T _ L I S T _ C O N T E N T : ' [ d a t a - r e g i o n = " e v e n t - l i s t - c o n t e n t " ] ' , E V E N T _ L I S T _ G R O U P _ C O N T A I N E R : ' [ d a t a - r e g i o n = " e v e n t - l i s t - g r o u p - c o n t a i n e r " ] ' , L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " l o a d i n g - i c o n - c o n t a i n e r " ] ' , V I E W _ M O R E _ B U T T O N : ' [ d a t a - a c t i o n = " v i e w - m o r e " ] ' } , h = { E V E N T _ L I S T _ I T E M S : " b l o c k _ m y o v e r v i e w / e v e n t - l i s t - i t e m s " , C O U R S E _ E V E N T _ L I S T _ I T E M S : " b l o c k _ m y o v e r v i e w / c o u r s e - e v e n t - l i s t - i t e m s " } , i = f u n c t i o n ( a ) { a . a t t r ( " d a t a - l o a d e d - a l l " , ! 0 ) } , j = f u n c t i o n ( a ) { r e t u r n ! ! a . a t t r ( " d a t a - l o a d e d - a l l " ) } , k = f u n c t i o n ( a ) { v a r   b = a . f i n d ( g . L O A D I N G _ I C O N _ C O N T A I N E R ) , c = a . f i n d ( g . V I E W _ M O R E _ B U T T O N ) ; a . a d d C l a s s ( " l o a d i n g " ) , b . r e m o v e C l a s s ( " h i d d e n " ) , c . p r o p ( " d i s a b l e d " , ! 0 ) } , l = f u n c t i o n ( a ) { v a r   b = a . f i n d ( g . L O A D I N G _ I C O N _ C O N T A I N E R ) , c = a . f i n d ( g . V I E W _ M O R E _ B U T T O N ) ; a . r e m o v e C l a s s ( " l o a d i n g " ) , b . a d d C l a s s ( " h i d d e n " ) , j ( a ) | | c . p r o p ( " d i s a b l e d " , ! 1 ) } , m = f u n c t i o n ( a ) { r e t u r n   a . h a s C l a s s ( " l o a d i n g " ) } , n = f u n c t i o n ( a ) { a . a t t r ( " d a t a - h a s - e v e n t s " , ! 0 ) } , o = f u n c t i o n ( a ) { r e t u r n ! ! a . a t t r ( " d a t a - h a s - e v e n t s " ) } , p = f u n c t i o n ( a , b ) { b ? n ( a ) : o ( a ) | | q ( a ) } , q = f u n c t i o n ( a ) { a . f i n d ( g . E V E N T _ L I S T _ C O N T E N T ) . a d d C l a s s ( " h i d d e n " ) , a . f i n d ( g . E M P T Y _ M E S S A G E ) . r e m o v e C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( a , b , d ) { r e t u r n   a . r e m o v e C l a s s ( " h i d d e n " ) , c . r e n d e r ( d , { e v e n t s : b } ) . d o n e ( f u n c t i o n ( b , d ) { c . a p p e n d N o d e C o n t e n t s ( a . f i n d ( g . E V E N T _ L I S T ) , b , d ) } ) } , s = f u n c t i o n ( a , b ) { v a r   c = b . t i m e s o r t | | 0 ; r e t u r n   c - a } , t = f u n c t i o n ( a , b , c ) { v a r   d = a . a t t r ( " d a t a - m i d n i g h t " ) , e = + c . a t t r ( " d a t a - s t a r t - d a y " ) * f , g = + c . a t t r ( " d a t a - e n d - d a y " ) * f , h = s ( d , b ) ; r e t u r n " " = = = c . a t t r ( " d a t a - e n d - d a y " ) ? e < = h : e < = h & & h < g } , u = f u n c t i o n ( b , c ) { r e t u r n   f u n c t i o n ( d ) { r e t u r n   t ( b , d , a ( c ) ) } } , v = f u n c t i o n ( b , c ) { v a r   d = 0 , e = h . E V E N T _ L I S T _ I T E M S ; r e t u r n   b . a t t r ( " d a t a - c o u r s e - i d " ) & & ( e = h . C O U R S E _ E V E N T _ L I S T _ I T E M S ) , a . w h e n . a p p l y ( a , a . m a p ( b . f i n d ( g . E V E N T _ L I S T _ G R O U P _ C O N T A I N E R ) , f u n c t i o n ( f ) { v a r   g = c . f i l t e r ( u ( b , f ) ) ; r e t u r n   g . l e n g t h ? ( d + = g . l e n g t h , r ( a ( f ) , g , e ) ) : n u l l } ) ) . t h e n ( f u n c t i o n ( ) { r e t u r n   d } ) } , w = f u n c t i o n ( c , d ) { c = a ( c ) ; v a r   g = + c . a t t r ( " d a t a - l i m i t " ) , h = + c . a t t r ( " d a t a - c o u r s e - i d " ) , j = c . a t t r ( " d a t a - l a s t - i d " ) , n = c . a t t r ( " d a t a - m i d n i g h t " ) , o = n - 1 4 * f ; i f ( m ( c ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; i f ( k ( c ) , " u n d e f i n e d " = = t y p e o f   d ) { v a r   q = { s t a r t t i m e : o , l i m i t : g } ; j & & ( q . a f t e r e v e n t i d = j ) , h ? ( q . c o u r s e i d = h , d = e . q u e r y B y C o u r s e ( q ) ) : d = e . q u e r y B y T i m e ( q ) } r e t u r n   d . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . e v e n t s } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n ( ! a . l e n g t h | | a . l e n g t h < g ) & & i ( c ) , a . l e n g t h ? ( c . a t t r ( " d a t a - l a s t - i d " , a [ a . l e n g t h - 1 ] . i d ) , v ( c , a ) . t h e n ( f u n c t i o n ( b ) { p ( c , a . l e n g t h ) , b < a . l e n g t h & & i ( c ) } ) ) : v o i d   p ( c , a . l e n g t h ) } ) . f a i l ( b . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { l ( c ) } ) } , x = f u n c t i o n ( a ) { d . d e f i n e ( a , [ d . e v e n t s . a c t i v a t e ] ) , a . o n ( d . e v e n t s . a c t i v a t e , g . V I E W _ M O R E _ B U T T O N , f u n c t i o n ( ) { w ( a ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( b ) { b = a ( b ) , w ( b ) , x ( b ) } , r e g i s t e r E v e n t L i s t e n e r s : x , l o a d : w , r o o t S e l e c t o r : g . R O O T } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / t a b _ p r e f e r e n c e s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( e ) { c . d e f i n e ( e , [ c . e v e n t s . a c t i v a t e ] ) , e . o n ( c . e v e n t s . a c t i v a t e , " [ d a t a - t o g g l e = ' t a b ' ] " , f u n c t i o n ( c ) { v a r   e = a ( c . c u r r e n t T a r g e t ) . d a t a ( " t a b n a m e " ) ; " f u n c t i o n " = = t y p e o f   w i n d o w . h i s t o r y . p u s h S t a t e & & w i n d o w . h i s t o r y . p u s h S t a t e ( n u l l , n u l l , " ? m y o v e r v i e w t a b = " + e ) ; v a r   f = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { p r e f e r e n c e s : [ { t y p e : " b l o c k _ m y o v e r v i e w _ l a s t _ t a b " , v a l u e : e } ] } } ; b . c a l l ( [ f ] ) [ 0 ] . f a i l ( d . e x c e p t i o n ) } ) } ; r e t u r n { r e g i s t e r E v e n t L i s t e n e r s : e } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / p a g i n g _ b a r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = { R O O T : ' [ d a t a - r e g i o n = " p a g i n g - b a r " ] ' , P A G E _ I T E M : ' [ d a t a - r e g i o n = " p a g e - i t e m " ] ' , A C T I V E _ P A G E _ I T E M : ' [ d a t a - r e g i o n = " p a g e - i t e m " ] . a c t i v e ' } , d = { P A G E _ S E L E C T E D : " b l o c k _ m y o v e r v i e w - p a g i n g - b a r - p a g e - s e l e c t e d " } , e = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( c . P A G E _ I T E M + ' [ d a t a - p a g e - n u m b e r = " ' + b + ' " ] ' ) } , f = f u n c t i o n ( a , b ) { v a r   c = b . a t t r ( " d a t a - p a g e - n u m b e r " ) ; r e t u r n " f i r s t " = = c ? c = 1 : " l a s t " = = c & & ( c = a . a t t r ( " d a t a - p a g e - c o u n t " ) ) , c } , g = f u n c t i o n ( g ) { g = a ( g ) , b . d e f i n e ( g , [ b . e v e n t s . a c t i v a t e ] ) , g . o n ( b . e v e n t s . a c t i v a t e , c . P A G E _ I T E M , f u n c t i o n ( b , h ) { v a r   i = a ( b . t a r g e t ) . c l o s e s t ( c . P A G E _ I T E M ) , j = g . f i n d ( c . A C T I V E _ P A G E _ I T E M ) , k = f ( g , i ) , l = k = = f ( g , j ) ; l | | ( g . f i n d ( c . P A G E _ I T E M ) . r e m o v e C l a s s ( " a c t i v e " ) , e ( g , k ) . a d d C l a s s ( " a c t i v e " ) ) , g . t r i g g e r ( d . P A G E _ S E L E C T E D , [ { p a g e N u m b e r : k , i s S a m e P a g e : l } ] ) , h . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) } ; r e t u r n { r e g i s t e r E v e n t L i s t e n e r s : g , e v e n t s : d , r o o t S e l e c t o r : c . R O O T } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / p a g i n g _ c o n t e n t ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " b l o c k _ m y o v e r v i e w / p a g i n g _ b a r " ] , f u n c t i o n ( a , b , c ) { v a r   d = { R O O T : ' [ d a t a - r e g i o n = " p a g i n g - c o n t e n t " ] ' , P A G E _ R E G I O N : ' [ d a t a - r e g i o n = " p a g i n g - c o n t e n t - i t e m " ] ' } , e = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . p a g i n g B a r = a ( c ) } ; r e t u r n   e . r o o t S e l e c t o r = d . R O O T , e . p r o t o t y p e . c r e a t e P a g e = f u n c t i o n ( a ) { r e t u r n   t h i s . l o a d C o n t e n t ( a ) . t h e n ( f u n c t i o n ( a , c ) { b . a p p e n d N o d e C o n t e n t s ( t h i s . r o o t , a , c ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { r e t u r n   t h i s . f i n d P a g e ( a ) } . b i n d ( t h i s ) ) } , e . p r o t o t y p e . f i n d P a g e = f u n c t i o n ( a ) { r e t u r n   t h i s . r o o t . f i n d ( ' [ d a t a - p a g e = " ' + a + ' " ] ' ) } , e . p r o t o t y p e . s h o w P a g e = f u n c t i o n ( a ) { v a r   b = t h i s . f i n d P a g e ( a ) ; t h i s . r o o t . f i n d ( d . P A G E _ R E G I O N ) . a d d C l a s s ( " h i d d e n " ) , b . l e n g t h ? b . r e m o v e C l a s s ( " h i d d e n " ) : t h i s . c r e a t e P a g e ( a ) . d o n e ( f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " h i d d e n " ) } ) } , e . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { t h i s . p a g i n g B a r . o n ( c . e v e n t s . P A G E _ S E L E C T E D , f u n c t i o n ( a , b ) { b . i s S a m e P a g e | | t h i s . s h o w P a g e ( b . p a g e N u m b e r ) } . b i n d ( t h i s ) ) } , e } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / e v e n t _ l i s t _ b y _ c o u r s e ' ,   [ " j q u e r y " , " b l o c k _ m y o v e r v i e w / e v e n t _ l i s t " , " b l o c k _ m y o v e r v i e w / c a l e n d a r _ e v e n t s _ r e p o s i t o r y " ] , f u n c t i o n ( a , b , c ) { v a r   d = 8 6 4 0 0 , e = { E V E N T S _ B Y _ C O U R S E _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o u r s e - e v e n t s - c o n t a i n e r " ] ' , E V E N T _ L I S T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " e v e n t - l i s t - c o n t a i n e r " ] ' } , f = f u n c t i o n ( f ) { v a r   g = f . f i n d ( e . E V E N T S _ B Y _ C O U R S E _ C O N T A I N E R ) ; i f ( g . l e n g t h ) { v a r   h = g . f i n d ( e . E V E N T _ L I S T _ C O N T A I N E R ) . f i r s t ( ) , i = h . a t t r ( " d a t a - m i d n i g h t " ) , j = i - 1 4 * d , k = h . a t t r ( " d a t a - l i m i t " ) , l = g . m a p ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . a t t r ( " d a t a - c o u r s e - i d " ) } ) . g e t ( ) , m = c . q u e r y B y C o u r s e s ( { c o u r s e i d s : l , s t a r t t i m e : j , l i m i t : k } ) ; g . e a c h ( f u n c t i o n ( c , d ) { d = a ( d ) ; v a r   e = d . a t t r ( " d a t a - c o u r s e - i d " ) , f = d . f i n d ( b . r o o t S e l e c t o r ) , g = a . D e f e r r e d ( ) ; m . d o n e ( f u n c t i o n ( a ) { v a r   b = [ ] , c = a . g r o u p e d b y c o u r s e . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . c o u r s e i d = = e } ) ; c . l e n g t h & & ( b = c [ 0 ] . e v e n t s ) , g . r e s o l v e ( { e v e n t s : b } ) } ) . f a i l ( f u n c t i o n ( a ) { g . r e j e c t ( a ) } ) , b . l o a d ( f , g ) } ) } } ; r e t u r n { i n i t : f u n c t i o n ( b ) { b = a ( b ) , f ( b ) } } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / c a l e n d a r _ e v e n t s _ r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = 2 0 , e = f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " l i m i t " ) | | ( a . l i m i t = d ) , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , a . h a s O w n P r o p e r t y ( " s t a r t t i m e " ) & & ( a . t i m e s o r t f r o m = a . s t a r t t i m e , d e l e t e   a . s t a r t t i m e ) , a . h a s O w n P r o p e r t y ( " e n d t i m e " ) & & ( a . t i m e s o r t t o = a . e n d t i m e , d e l e t e   a . e n d t i m e ) ; v a r   e = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ a c t i o n _ e v e n t s _ b y _ c o u r s e " , a r g s : a } , f = b . c a l l ( [ e ] ) [ 0 ] ; r e t u r n   f . f a i l ( c . e x c e p t i o n ) , f } , f = f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " l i m i t " ) | | ( a . l i m i t = 1 0 ) , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , a . h a s O w n P r o p e r t y ( " s t a r t t i m e " ) & & ( a . t i m e s o r t f r o m = a . s t a r t t i m e , d e l e t e   a . s t a r t t i m e ) , a . h a s O w n P r o p e r t y ( " e n d t i m e " ) & & ( a . t i m e s o r t t o = a . e n d t i m e , d e l e t e   a . e n d t i m e ) ; v a r   d = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ a c t i o n _ e v e n t s _ b y _ c o u r s e s " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , g = f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " l i m i t " ) | | ( a . l i m i t = d ) , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , a . h a s O w n P r o p e r t y ( " s t a r t t i m e " ) & & ( a . t i m e s o r t f r o m = a . s t a r t t i m e , d e l e t e   a . s t a r t t i m e ) , a . h a s O w n P r o p e r t y ( " e n d t i m e " ) & & ( a . t i m e s o r t t o = a . e n d t i m e , d e l e t e   a . e n d t i m e ) ; v a r   e = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ a c t i o n _ e v e n t s _ b y _ t i m e s o r t " , a r g s : a } , f = b . c a l l ( [ e ] ) [ 0 ] ; r e t u r n   f . f a i l ( c . e x c e p t i o n ) , f } ; r e t u r n { q u e r y B y T i m e : g , q u e r y B y C o u r s e : e , q u e r y B y C o u r s e s : f } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / s i t e _ a d m i n _ l o a d e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / c o n f i g " , " b l o c k _ n a v i g a t i o n / a j a x _ r e s p o n s e _ r e n d e r e r " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = 7 1 , f = c . w w w r o o t + " / l i b / a j a x / g e t s i t e a d m i n b r a n c h . p h p " ; r e t u r n { l o a d : f u n c t i o n ( b ) { b = a ( b ) ; v a r   g = a . D e f e r r e d ( ) , h = { t y p e : e , s e s s k e y : c . s e s s k e y } , i = { t y p e : " P O S T " , d a t a T y p e : " j s o n " , d a t a : h } ; r e t u r n   a . a j a x ( f , i ) . d o n e ( f u n c t i o n ( a ) { d . r e n d e r ( b , a ) , g . r e s o l v e ( ) } ) , g } } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / n a v b l o c k ' ,   [ " j q u e r y " , " c o r e / t r e e " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( a ) { v a r   c = n e w   b ( " . b l o c k _ n a v i g a t i o n   . b l o c k _ t r e e " ) ; c . f i n i s h E x p a n d i n g G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . f i n i s h E x p a n d i n g G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } , c . c o l l a p s e G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . c o l l a p s e G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } } } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / a j a x _ r e s p o n s e _ r e n d e r e r ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d ) { f u n c t i o n   e ( g , h ) { v a r   i = a ( " < u l > < / u l > " ) ; i . a t t r ( " r o l e " , " g r o u p " ) , i . a t t r ( " a r i a - h i d d e n " , ! 0 ) , a . e a c h ( h , f u n c t i o n ( g , h ) { i f ( " o b j e c t " = = t y p e o f   h ) { v a r   j = a ( " < l i > < / l i > " ) , k = a ( " < p > < / p > " ) , l = h . i d | | h . k e y + " _ t r e e _ i t e m " , m = n u l l , n = ! ( ! h . e x p a n d a b l e & & ! h . h a s c h i l d r e n ) ; k . a d d C l a s s ( " t r e e _ i t e m " ) , k . a t t r ( " i d " , l ) , k . a t t r ( " r o l e " , " t r e e i t e m " ) , k . a t t r ( " t a b i n d e x " , " - 1 " ) , h . r e q u i r e s a j a x l o a d i n g & & ( k . a t t r ( " d a t a - r e q u i r e s - a j a x " , ! 0 ) , k . a t t r ( " d a t a - n o d e - i d " , h . i d ) , k . a t t r ( " d a t a - n o d e - k e y " , h . k e y ) , k . a t t r ( " d a t a - n o d e - t y p e " , h . t y p e ) ) , n & & ( j . a d d C l a s s ( " c o l l a p s e d   c o n t a i n s _ b r a n c h " ) , k . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) , k . a d d C l a s s ( " b r a n c h " ) ) ; v a r   o = n u l l ; i f ( h . l i n k ) { v a r   p = a ( ' < a   t i t l e = " ' + h . t i t l e + ' "   h r e f = " ' + h . l i n k + ' " > < / a > ' ) ; o = p , p . a p p e n d ( ' < s p a n   c l a s s = " i t e m - c o n t e n t - w r a p " > ' + h . n a m e + " < / s p a n > " ) , h . h i d d e n & & p . a d d C l a s s ( " d i m m e d " ) , k . a p p e n d ( p ) } e l s e { v a r   q = a ( " < s p a n > < / s p a n > " ) ; o = q , q . a p p e n d ( ' < s p a n   c l a s s = " i t e m - c o n t e n t - w r a p " > ' + h . n a m e + " < / s p a n > " ) , h . h i d d e n & & q . a d d C l a s s ( " d i m m e d " ) , k . a p p e n d ( q ) } ! h . i c o n | | n & & h . t y p e ! = = f . A C T I V I T Y & & h . t y p e ! = = f . R E S O U R C E | | ( j . a d d C l a s s ( " i t e m _ w i t h _ i c o n " ) , k . a d d C l a s s ( " h a s i c o n " ) , h . t y p e = = = f . A C T I V I T Y | | h . t y p e = = = f . R E S O U R C E ? ( m = a ( " < i m g / > " ) , m . a t t r ( " a l t " , h . i c o n . a l t ) , m . a t t r ( " t i t l e " , h . i c o n . t i t l e ) , m . a t t r ( " s r c " , d . i m a g e U r l ( h . i c o n . p i x , h . i c o n . c o m p o n e n t ) ) , a . e a c h ( h . i c o n . c l a s s e s , f u n c t i o n ( a , b ) { m . a d d C l a s s ( b ) } ) , o . p r e p e n d ( m ) ) : ( " m o o d l e " = = h . i c o n . c o m p o n e n t & & ( h . i c o n . c o m p o n e n t = " c o r e " ) , b . r e n d e r P i x ( h . i c o n . p i x , h . i c o n . c o m p o n e n t , h . i c o n . t i t l e ) . t h e n ( f u n c t i o n ( a ) { o . p r e p e n d ( a ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) ) ) , j . a p p e n d ( k ) , i . a p p e n d ( j ) , h . c h i l d r e n & & h . c h i l d r e n . l e n g t h ? e ( k , h . c h i l d r e n ) : n & & ! h . r e q u i r e s a j a x l o a d i n g & & ( j . r e m o v e C l a s s ( " c o n t a i n s _ b r a n c h " ) , k . a d d C l a s s ( " e m p t y b r a n c h " ) ) } } ) , g . p a r e n t ( ) . a p p e n d ( i ) ; v a r   j = g . a t t r ( " i d " ) + " _ g r o u p " ; i . a t t r ( " i d " , j ) , g . a t t r ( " a r i a - o w n s " , j ) , g . a t t r ( " r o l e " , " t r e e i t e m " ) } v a r   f = { A C T I V I T Y : 4 0 , R E S O U R C E : 5 0 } ; r e t u r n { r e n d e r : f u n c t i o n ( a , b ) { i f ( b . c h i l d r e n & & b . c h i l d r e n . l e n g t h ) { e ( a , b . c h i l d r e n ) ; v a r   c = a . c h i l d r e n ( " [ r o l e = ' t r e e i t e m ' ] " ) . f i r s t ( ) , d = a . f i n d ( " # " + c . a t t r ( " a r i a - o w n s " ) ) ; c . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , d . a t t r ( " a r i a - h i d d e n " , ! 1 ) } e l s e   a . p a r e n t ( ) . h a s C l a s s ( " c o n t a i n s _ b r a n c h " ) & & ( a . p a r e n t ( ) . r e m o v e C l a s s ( " c o n t a i n s _ b r a n c h " ) , a . a d d C l a s s ( " e m p t y b r a n c h " ) ) } } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / n a v _ l o a d e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / c o n f i g " , " b l o c k _ n a v i g a t i o n / a j a x _ r e s p o n s e _ r e n d e r e r " ] , f u n c t i o n ( a , b , c , d ) { f u n c t i o n   e ( a ) { r e t u r n   a . c l o s e s t ( " [ d a t a - b l o c k ] " ) . a t t r ( " d a t a - i n s t a n c e i d " ) } v a r   f = c . w w w r o o t + " / l i b / a j a x / g e t n a v b r a n c h . p h p " ; r e t u r n { l o a d : f u n c t i o n ( b ) { b = a ( b ) ; v a r   g = a . D e f e r r e d ( ) , h = { e l e m e n t i d : b . a t t r ( " d a t a - n o d e - i d " ) , i d : b . a t t r ( " d a t a - n o d e - k e y " ) , t y p e : b . a t t r ( " d a t a - n o d e - t y p e " ) , s e s s k e y : c . s e s s k e y , i n s t a n c e : e ( b ) } , i = { t y p e : " P O S T " , d a t a T y p e : " j s o n " , d a t a : h } ; r e t u r n   a . a j a x ( f , i ) . d o n e ( f u n c t i o n ( a ) { d . r e n d e r ( b , a ) , g . r e s o l v e ( ) } ) , g } } } ) ; 
 d e f i n e ( ' b l o c k _ s e t t i n g s / s e t t i n g s b l o c k ' ,   [ " j q u e r y " , " c o r e / t r e e " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( a , c ) { v a r   d = n e w   b ( " . b l o c k _ s e t t i n g s   . b l o c k _ t r e e " ) ; i f ( c ) { v a r   e = d . t r e e R o o t . f i n d ( " # " + c ) , f = e . c h i l d r e n ( " a " ) . f i r s t ( ) ; f . r e p l a c e W i t h ( ' < s p a n   t a b i n d e x = " 0 " > ' + f . h t m l ( ) + " < / s p a n > " ) } d . f i n i s h E x p a n d i n g G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . f i n i s h E x p a n d i n g G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } , d . c o l l a p s e G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . c o l l a p s e G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } } } } ) ; 
 d e f i n e ( ' m e d i a _ v i d e o j s / l o a d e r ' ,   [ " j q u e r y " , " c o r e / e v e n t " ] , f u n c t i o n ( a , b ) { v a r   c , d = f u n c t i o n ( d ) { c = d , e ( n u l l , a ( " b o d y " ) ) , b . g e t L e g a c y E v e n t s ( ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . o n ( b . F I L T E R _ C O N T E N T _ U P D A T E D , e ) } ) } , e = f u n c t i o n ( b , d ) { v a r   e = " . m e d i a p l u g i n _ v i d e o j s " ; d . f i n d ( e ) . a d d B a c k ( e ) . f i n d ( " a u d i o ,   v i d e o " ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . a t t r ( " i d " ) , d = a ( t h i s ) . d a t a ( " s e t u p - l a z y " ) , e = [ " m e d i a _ v i d e o j s / v i d e o - l a z y " ] ; d . t e c h O r d e r & & d . t e c h O r d e r . i n d e x O f ( " y o u t u b e " ) ! = = - 1 & & e . p u s h ( " m e d i a _ v i d e o j s / Y o u t u b e - l a z y " ) , r e q u i r e ( e , f u n c t i o n ( a ) { c & & ( c ( a ) , c = n u l l ) , a ( b , d ) } ) } ) } ; r e t u r n { s e t U p : d } } ) ; 
 d e f i n e ( ' r e p o r t _ c o m p e t e n c y / u s e r _ c o u r s e _ n a v i g a t i o n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e ) { t h i s . _ b a s e U r l = c , t h i s . _ u s e r I d = d + " " , t h i s . _ c o u r s e I d = e , a ( b ) . o n ( " c h a n g e " , t h i s . _ u s e r C h a n g e d . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ u s e r C h a n g e d = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r = " + c + " & i d = " + t h i s . _ c o u r s e I d ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ u s e r I d = n u l l , b . p r o t o t y p e . _ c o u r s e I d = n u l l , b . p r o t o t y p e . _ b a s e U r l = n u l l , b } ) ; 
 d e f i n e ( ' r e p o r t _ c o m p e t e n c y / g r a d i n g _ p o p u p ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / l o g " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r = c , a ( t h i s . _ r e g i o n S e l e c t o r ) . o n ( " c l i c k " , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r , t h i s . _ h a n d l e C l i c k . b i n d ( t h i s ) ) } ; r e t u r n   h . p r o t o t y p e . _ h a n d l e C l i c k = f u n c t i o n ( c ) { v a r   f = a ( c . t a r g e t ) . c l o s e s t ( t h i s . _ u s e r C o m p e t e n c y S e l e c t o r ) , g = a ( f ) . d a t a ( " c o m p e t e n c y i d " ) , h = a ( f ) . d a t a ( " c o u r s e i d " ) , i = a ( f ) . d a t a ( " u s e r i d " ) ; e . d e b u g ( " C l i c k e d   o n   c e l l :   c o m p e t e n c y I d = " + g + " ,   c o u r s e I d = " + h + " ,   u s e r I d = " + i ) ; v a r   j = d . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " , a r g s : { u s e r i d : i , c o m p e t e n c y i d : g , c o u r s e i d : h } , d o n e : t h i s . _ c o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) ; j [ 0 ] . t h e n ( f u n c t i o n ( ) { d . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ v i e w e d _ i n _ c o u r s e " , a r g s : { u s e r i d : i , c o m p e t e n c y i d : g , c o u r s e i d : h } , f a i l : b . e x c e p t i o n } ] ) } ) } , h . p r o t o t y p e . _ c o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   d = t h i s ; a . d i s p l a y u s e r = ! 0 , f . r e n d e r ( " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " , a ) . d o n e ( f u n c t i o n ( a , e ) { c . g e t _ s t r i n g ( " u s e r c o m p e t e n c y s u m m a r y " , " r e p o r t _ c o m p e t e n c y " ) . d o n e ( f u n c t i o n ( b ) { n e w   g ( b , a , f . r u n T e m p l a t e J S . b i n d ( f , e ) , d . _ r e f r e s h . b i n d ( d ) , ( ! 0 ) ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   c = a ( t h i s . _ r e g i o n S e l e c t o r ) , e = c . d a t a ( " c o u r s e i d " ) , f = c . d a t a ( " u s e r i d " ) ; d . c a l l ( [ { m e t h o d n a m e : " r e p o r t _ c o m p e t e n c y _ d a t a _ f o r _ r e p o r t " , a r g s : { c o u r s e i d : e , u s e r i d : f } , d o n e : t h i s . _ p a g e C o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) } , h . p r o t o t y p e . _ p a g e C o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   c = t h i s ; f . r e n d e r ( " r e p o r t _ c o m p e t e n c y / r e p o r t " , a ) . d o n e ( f u n c t i o n ( a , b ) { f . r e p l a c e N o d e ( c . _ r e g i o n S e l e c t o r , a , b ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , h . p r o t o t y p e . _ u s e r C o m p e t e n c y S e l e c t o r = n u l l , h } ) ; 
 d e f i n e ( ' g r a d i n g f o r m _ g u i d e / c o m m e n t _ c h o o s e r ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / y u i " ] , f u n c t i o n ( a , b , c ) { r e t u r n { i n i t i a l i s e : f u n c t i o n ( d , e , f , g ) { f u n c t i o n   h ( b , c ) { v a r   e = " < l a b e l > " + M . u t i l . g e t _ s t r i n g ( " i n s e r t c o m m e n t " , " g r a d i n g f o r m _ g u i d e " ) + " < / l a b e l > " , g = " c o m m e n t - c h o o s e r - " + d + " - c a n c e l " , h = ' < b u t t o n   i d = " ' + g + ' " > ' + M . u t i l . g e t _ s t r i n g ( " c a n c e l " , " m o o d l e " ) + " < / b u t t o n > " , i = n e w   M . c o r e . d i a l o g u e ( { m o d a l : ! 0 , h e a d e r C o n t e n t : e , b o d y C o n t e n t : b , f o o t e r C o n t e n t : h , f o c u s A f t e r H i d e : " # " + f , i d : " c o m m e n t s - c h o o s e r - d i a l o g - " + d } ) ; a ( " # " + g ) . c l i c k ( f u n c t i o n ( ) { i . h i d e ( ) } ) , a . e a c h ( c , f u n c t i o n ( b , c ) { v a r   e = " # c o m m e n t - o p t i o n - " + d + " - " + c . i d ; a ( e ) . c l i c k ( f u n c t i o n ( ) { v a r   b = a ( " # " + f ) , d = b . v a l ( ) ; " " ! = = a . t r i m ( d ) & & ( d + = " \ n " ) , d + = c . d e s c r i p t i o n , b . v a l ( d ) , i . h i d e ( ) } ) , a ( d o c u m e n t ) . o f f ( " k e y p r e s s " , e ) . o n ( " k e y p r e s s " , e , f u n c t i o n ( ) { v a r   b = e v e n t . w h i c h | | e v e n t . k e y C o d e ; 1 3 ! = b & & 3 2 ! = b | | a ( e ) . c l i c k ( ) } ) } ) , i . a f t e r ( " v i s i b l e C h a n g e " , f u n c t i o n ( a ) { a . p r e v V a l & & ! a . n e w V a l & & t h i s . d e s t r o y ( ) } , i ) , i . s h o w ( ) } f u n c t i o n   i ( ) { v a r   a = { c r i t e r i o n I d : d , c o m m e n t s : g } ; b . r e n d e r ( " g r a d i n g f o r m _ g u i d e / c o m m e n t _ c h o o s e r " , a ) . d o n e ( f u n c t i o n ( a ) { h ( a , g ) } ) . f a i l ( c . e x c e p t i o n ) } a ( " # " + e ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , i ( ) } ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / d r a g d r o p - r e o r d e r ' ,   [ " c o r e / s t r " , " c o r e / y u i " ] , f u n c t i o n ( a , b ) { v a r   c = n u l l , d = f u n c t i o n ( a ) { v a r   b = a . d r a g . g e t ( " n o d e " ) , c = a . d r o p . g e t ( " n o d e " ) ; t h i s . c a l l b a c k ( b . g e t D O M N o d e ( ) , c . g e t D O M N o d e ( ) ) } ; r e t u r n { d r a g d r o p : f u n c t i o n ( e , f , g , h , i , j , k , l ) { a . g e t _ s t r i n g s ( [ { k e y : " e m p t y d r a g d r o p r e g i o n " , c o m p o n e n t : " m o o d l e " } , { k e y : " m o v e c o n t e n t " , c o m p o n e n t : " m o o d l e " } , { k e y : " t o c o n t e n t " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( ) { b . u s e ( " m o o d l e - t o o l _ l p - d r a g d r o p - r e o r d e r " , f u n c t i o n ( ) { v a r   a = { c a l l b a c k : l } ; c & & c . d e s t r o y ( ) , c = M . t o o l _ l p . d r a g d r o p _ r e o r d e r ( { g r o u p : e , d r a g H a n d l e T e x t : f , s a m e N o d e T e x t : g , p a r e n t N o d e T e x t : h , s a m e N o d e C l a s s : i , p a r e n t N o d e C l a s s : j , d r a g H a n d l e I n s e r t C l a s s : k , c a l l b a c k : b . b i n d ( d , a ) } ) } ) } ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y t r e e ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " t o o l _ l p / t r e e " , " t o o l _ l p / c o m p e t e n c y _ o u t c o m e s " , " j q u e r y " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { } , h = 0 , i = " " , j = " " , k = " " , l = ! 1 , m = f u n c t i o n ( a , b ) { v a r   c = 0 , d = ! 1 ; f o r ( a . h a s c h i l d r e n = ! 1 , a . c h i l d r e n = [ ] , c = 0 ; c < b . l e n g t h ; c + + ) d = b [ c ] , d . p a r e n t i d = = a . i d & & ( a . h a s c h i l d r e n = ! 0 , a . c h i l d r e n . p u s h ( d ) , m ( d , b ) ) } , n = f u n c t i o n ( b ) { v a r   e = f . D e f e r r e d ( ) ; r e t u r n   c . r e n d e r ( " t o o l _ l p / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( n , o ) { c . r e p l a c e N o d e C o n t e n t s ( f ( j ) , n , o ) ; v a r   p = a . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e a r c h _ c o m p e t e n c i e s " , a r g s : { s e a r c h t e x t : b , c o m p e t e n c y f r a m e w o r k i d : h } } ] ) ; p [ 0 ] . d o n e ( f u n c t i o n ( a ) { g = { } ; v a r   b = 0 ; f o r ( b = 0 ; b < a . l e n g t h ; b + + ) g [ a [ b ] . i d ] = a [ b ] ; v a r   h = [ ] , n = ! 1 ; f o r ( b = 0 ; b < a . l e n g t h ; b + + ) n = a [ b ] , 0 = = = p a r s e I n t ( n . p a r e n t i d , 1 0 ) & & ( h . p u s h ( n ) , m ( n , a ) ) ; v a r   o = { s h o r t n a m e : i , c a n m a n a g e : l , c o m p e t e n c i e s : h } ; c . r e n d e r ( " t o o l _ l p / c o m p e t e n c i e s _ t r e e _ r o o t " , o ) . d o n e ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( f ( j ) , f ( a ) . h t m l ( ) , b ) ; v a r   h = n e w   d ( j , ( ! 1 ) ) ; i f ( k ) { v a r   i = f ( j ) . f i n d ( " [ d a t a - i d = " + k + " ] " ) ; i . l e n g t h & & ( h . s e l e c t I t e m ( i ) , h . u p d a t e F o c u s ( i ) ) } e . r e s o l v e ( g ) } ) . f a i l ( e . r e j e c t ) } ) . f a i l ( e . r e j e c t ) } ) , e . p r o m i s e ( ) } , o = f u n c t i o n ( a , b ) { v a r   c = b . s e l e c t e d ; k = c . a t t r ( " d a t a - i d " ) } ; r e t u r n { i n i t : f u n c t i o n ( a , c , d , e , f ) { h = a , i = c , l = f , j = e , n ( d ) . f a i l ( b . e x c e p t i o n ) , t h i s . o n ( " s e l e c t i o n c h a n g e d " , o ) } , o n : f u n c t i o n ( a , b ) { f ( j ) . o n ( a , b ) } , g e t C h i l d r e n : f u n c t i o n ( a ) { v a r   b = [ ] ; r e t u r n   f . e a c h ( g , f u n c t i o n ( c , d ) { d . p a r e n t i d = = a & & b . p u s h ( d ) } ) , b } , g e t C o m p e t e n c y F r a m e w o r k I d : f u n c t i o n ( ) { r e t u r n   h } , g e t C o m p e t e n c y : f u n c t i o n ( a ) { r e t u r n   g [ a ] } , g e t C o m p e t e n c y L e v e l : f u n c t i o n ( a ) { v a r   b = t h i s . g e t C o m p e t e n c y ( a ) , c = b . p a t h . r e p l a c e ( / ^ \ / | \ / $ / g , " " ) . s p l i t ( " / " ) . l e n g t h ; r e t u r n   c } , h a s C h i l d r e n : f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C h i l d r e n ( a ) . l e n g t h > 0 } , h a s R u l e : f u n c t i o n ( a ) { v a r   b = t h i s . g e t C o m p e t e n c y ( a ) ; r e t u r n ! ! b & & ( b . r u l e o u t c o m e ! = e . O U T C O M E _ N O N E & & b . r u l e t y p e ) } , r e l o a d C o m p e t e n c i e s : f u n c t i o n ( ) { r e t u r n   n ( " " ) . f a i l ( b . e x c e p t i o n ) } , l i s t C o m p e t e n c i e s : f u n c t i o n ( ) { r e t u r n   g } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ r u l e _ p o i n t s ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " t o o l _ l p / c o m p e t e n c y _ r u l e " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( ) { d . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   e . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , e . p r o t o t y p e . _ c o n t a i n e r = n u l l , e . p r o t o t y p e . _ t e m p l a t e L o a d e d = ! 1 , e . p r o t o t y p e . g e t C o n f i g = f u n c t i o n ( ) { r e t u r n   J S O N . s t r i n g i f y ( { b a s e : { p o i n t s : t h i s . _ g e t R e q u i r e d P o i n t s ( ) } , c o m p e t e n c i e s : t h i s . _ g e t C o m p e t e n c i e s C o n f i g ( ) } ) } , e . p r o t o t y p e . _ g e t C o m p e t e n c i e s C o n f i g = f u n c t i o n ( ) { v a r   b = [ ] ; r e t u r n   t h i s . _ c o n t a i n e r . f i n d ( " [ d a t a - c o m p e t e n c y ] " ) . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " c o m p e t e n c y " ) , e = p a r s e I n t ( c . f i n d ( ' [ n a m e = " p o i n t s " ] ' ) . v a l ( ) , 1 0 ) , f = c . f i n d ( ' [ n a m e = " r e q u i r e d " ] ' ) . p r o p ( " c h e c k e d " ) ; b . p u s h ( { i d : d , p o i n t s : e , r e q u i r e d : f ? 1 : 0 } ) } ) , b } , e . p r o t o t y p e . _ g e t R e q u i r e d P o i n t s = f u n c t i o n ( ) { r e t u r n   p a r s e I n t ( t h i s . _ c o n t a i n e r . f i n d ( ' [ n a m e = " r e q u i r e d p o i n t s " ] ' ) . v a l ( ) | | 1 , 1 0 ) } , e . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " c o r e _ c o m p e t e n c y \ \ c o m p e t e n c y _ r u l e _ p o i n t s " } , e . p r o t o t y p e . i n j e c t T e m p l a t e = f u n c t i o n ( b ) { v a r   d , e = t h i s , f = t h i s . _ t r e e . g e t C h i l d r e n ( t h i s . _ c o m p e t e n c y . i d ) , g = { b a s e : { p o i n t s : 2 } , c o m p e t e n c i e s : [ ] } ; i f ( t h i s . _ t e m p l a t e L o a d e d = ! 1 , e . _ c o m p e t e n c y . r u l e t y p e = = e . g e t T y p e ( ) ) t r y { g = J S O N . p a r s e ( e . _ c o m p e t e n c y . r u l e c o n f i g ) } c a t c h ( h ) { } r e t u r n   d = { r e q u i r e d p o i n t s : g & & g . b a s e ? g . b a s e . p o i n t s : 2 , c o m p e t e n c y : e . _ c o m p e t e n c y , c h i l d r e n : [ ] } , a . e a c h ( f , f u n c t i o n ( b , c ) { v a r   e = { i d : c . i d , s h o r t n a m e : c . s h o r t n a m e , r e q u i r e d : ! 1 , p o i n t s : 0 } ; g & & a . e a c h ( g . c o m p e t e n c i e s , f u n c t i o n ( a , b ) { b . i d = = e . i d & & ( e . r e q u i r e d = ! ! b . r e q u i r e d , e . p o i n t s = b . p o i n t s ) } ) , d . c h i l d r e n . p u s h ( e ) } ) , c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ r u l e _ p o i n t s " , d ) . t h e n ( f u n c t i o n ( a ) { e . _ c o n t a i n e r = b , b . h t m l ( a ) , b . f i n d ( " i n p u t " ) . c h a n g e ( f u n c t i o n ( ) { e . _ t r i g g e r C h a n g e ( ) } ) , e . _ t e m p l a t e L o a d e d = ! 0 , e . _ t r i g g e r C h a n g e ( ) } ) } , e . p r o t o t y p e . i s V a l i d = f u n c t i o n ( ) { i f ( ! t h i s . _ t e m p l a t e L o a d e d ) r e t u r n ! 1 ; v a r   b = t h i s . _ g e t R e q u i r e d P o i n t s ( ) , c = 0 , d = ! 0 ; r e t u r n   a . e a c h ( t h i s . _ g e t C o m p e t e n c i e s C o n f i g ( ) , f u n c t i o n ( a , b ) { b . p o i n t s < 0 & & ( d = ! 1 ) , c + = b . p o i n t s } ) , d = d & & c > = b } , e } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ p l a n _ n a v i g a t i o n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e , f ) { t h i s . _ b a s e U r l = c , t h i s . _ u s e r I d = d + " " , t h i s . _ c o m p e t e n c y I d = e + " " , t h i s . _ p l a n I d = f , t h i s . _ i g n o r e F i r s t C o m p e t e n c y = ! 0 , a ( b ) . o n ( " c h a n g e " , t h i s . _ c o m p e t e n c y C h a n g e d . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ c o m p e t e n c y C h a n g e d = f u n c t i o n ( b ) { i f ( t h i s . _ i g n o r e F i r s t C o m p e t e n c y ) r e t u r n   v o i d ( t h i s . _ i g n o r e F i r s t C o m p e t e n c y = ! 1 ) ; v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r i d = " + t h i s . _ u s e r I d + " & p l a n i d = " + t h i s . _ p l a n I d + " & c o m p e t e n c y i d = " + c ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , b . p r o t o t y p e . _ u s e r I d = n u l l , b . p r o t o t y p e . _ p l a n I d = n u l l , b . p r o t o t y p e . _ b a s e U r l = n u l l , b . p r o t o t y p e . _ i g n o r e F i r s t C o m p e t e n c y = n u l l , b } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ i n f o ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( a , b , c , d , e , f ) { t h i s . _ r o o t E l e m e n t = a , t h i s . _ c o m p e t e n c y I d = b , t h i s . _ u s e r I d = c , t h i s . _ p l a n I d = d , t h i s . _ c o u r s e I d = e , t h i s . _ v a l i d = ! 0 , t h i s . _ d i s p l a y u s e r = " u n d e f i n e d " ! = t y p e o f   f & & f , t h i s . _ p l a n I d ? ( t h i s . _ m e t h o d N a m e = " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " , t h i s . _ a r g s = { c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , p l a n i d : t h i s . _ p l a n I d } , t h i s . _ t e m p l a t e N a m e = " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " ) : t h i s . _ c o u r s e I d ? ( t h i s . _ m e t h o d N a m e = " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " , t h i s . _ a r g s = { u s e r i d : t h i s . _ u s e r I d , c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , c o u r s e i d : t h i s . _ c o u r s e I d } , t h i s . _ t e m p l a t e N a m e = " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " ) : ( t h i s . _ m e t h o d N a m e = " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y " , t h i s . _ a r g s = { u s e r i d : t h i s . _ u s e r I d , c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d } , t h i s . _ t e m p l a t e N a m e = " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y " ) } ; r e t u r n   e . p r o t o t y p e . r e l o a d = f u n c t i o n ( ) { v a r   a = t h i s , e = [ ] ; t h i s . _ v a l i d & & ( e = c . c a l l ( [ { m e t h o d n a m e : t h i s . _ m e t h o d N a m e , a r g s : t h i s . _ a r g s } ] ) , e [ 0 ] . d o n e ( f u n c t i o n ( c ) { a . _ d i s p l a y u s e r & & ( c . d i s p l a y u s e r = ! 0 ) , d . r e n d e r ( a . _ t e m p l a t e N a m e , c ) . d o n e ( f u n c t i o n ( b , c ) { d . r e p l a c e N o d e ( a . _ r o o t E l e m e n t , b , c ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) ) } , e . p r o t o t y p e . _ r o o t E l e m e n t = n u l l , e . p r o t o t y p e . _ c o u r s e I d = n u l l , e . p r o t o t y p e . _ v a l i d = n u l l , e . p r o t o t y p e . _ p l a n I d = n u l l , e . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , e . p r o t o t y p e . _ u s e r I d = n u l l , e . p r o t o t y p e . _ m e t h o d N a m e = n u l l , e . p r o t o t y p e . _ a r g s = n u l l , e . p r o t o t y p e . _ t e m p l a t e N a m e = n u l l , e . p r o t o t y p e . _ d i s p l a y u s e r = ! 1 , e } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y r u l e c o n f i g ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / c o m p e t e n c y _ o u t c o m e s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b , c ) { t h i s . _ e v e n t N o d e = a ( " < d i v > < / d i v > " ) , t h i s . _ t r e e = b , t h i s . _ r u l e s M o d u l e s = c , t h i s . _ s e t U p ( ) } ; r e t u r n   g . p r o t o t y p e . _ c o m p e t e n c y = n u l l , g . p r o t o t y p e . _ e v e n t N o d e = n u l l , g . p r o t o t y p e . _ o u t c o m e s O p t i o n = n u l l , g . p r o t o t y p e . _ p o p u p = n u l l , g . p r o t o t y p e . _ r e a d y = n u l l , g . p r o t o t y p e . _ r u l e s = n u l l , g . p r o t o t y p e . _ r u l e s M o d u l e s = n u l l , g . p r o t o t y p e . _ t r e e = n u l l , g . p r o t o t y p e . _ a f t e r C h a n g e = f u n c t i o n ( ) { t h i s . _ i s V a l i d ( ) ? t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) . p r o p ( " d i s a b l e d " , ! 1 ) : t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) . p r o p ( " d i s a b l e d " , ! 0 ) } , g . p r o t o t y p e . _ a f t e r R u l e C o n f i g C h a n g e = f u n c t i o n ( a , b ) { b = = t h i s . _ g e t R u l e ( ) & & t h i s . _ a f t e r C h a n g e ( ) } , g . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   a = t h i s ; a . _ f i n d ( ' [ n a m e = " o u t c o m e " ] ' ) . o n ( " c h a n g e " , f u n c t i o n ( ) { a . _ s w i t c h e d O u t c o m e ( ) } ) . t r i g g e r ( " c h a n g e " ) , a . _ f i n d ( ' [ n a m e = " r u l e " ] ' ) . o n ( " c h a n g e " , f u n c t i o n ( ) { a . _ s w i t c h e d R u l e ( ) } ) . t r i g g e r ( " c h a n g e " ) , a . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) . o n ( " c l i c k " , f u n c t i o n ( ) { a . _ t r i g g e r ( " s a v e " , a . _ g e t C o n f i g ( ) ) , a . c l o s e ( ) } ) , a . _ f i n d ( ' [ d a t a - a c t i o n = " c a n c e l " ] ' ) . o n ( " c l i c k " , f u n c t i o n ( ) { a . c l o s e ( ) } ) } , g . p r o t o t y p e . c a n B e C o n f i g u r e d = f u n c t i o n ( ) { v a r   b = ! 1 ; r e t u r n   a . e a c h ( t h i s . _ r u l e s , f u n c t i o n ( a , c ) { i f ( c . c a n C o n f i g ( ) ) r e t u r n   v o i d ( b = ! 0 ) } ) , b } , g . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . _ p o p u p . c l o s e ( ) , t h i s . _ p o p u p = n u l l } , g . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n ! ! a . _ c o m p e t e n c y & & a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   f . g e t _ s t r i n g ( " c o m p e t e n c y r u l e " , " t o o l _ l p " ) . t h e n ( f u n c t i o n ( c ) { a . _ p o p u p = n e w   d ( c , b , a . _ a f t e r R e n d e r . b i n d ( a ) ) } ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , g . p r o t o t y p e . _ g e t A p p l i c a b l e O u t c o m e s O p t i o n s = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] ; r e t u r n   a . e a c h ( b . _ o u t c o m e s O p t i o n , f u n c t i o n ( a , d ) { c . p u s h ( { c o d e : d . c o d e , n a m e : d . n a m e , s e l e c t e d : d . c o d e = = b . _ c o m p e t e n c y . r u l e o u t c o m e } ) } ) , c } , g . p r o t o t y p e . _ g e t A p p l i c a b l e R u l e s O p t i o n s = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] ; r e t u r n   a . e a c h ( b . _ r u l e s , f u n c t i o n ( a , d ) { d . c a n C o n f i g ( ) & & c . p u s h ( { n a m e : b . _ g e t R u l e N a m e ( d . g e t T y p e ( ) ) , t y p e : d . g e t T y p e ( ) , s e l e c t e d : d . g e t T y p e ( ) = = b . _ c o m p e t e n c y . r u l e t y p e } ) } ) , c } , g . p r o t o t y p e . _ g e t C o n f i g = f u n c t i o n ( ) { v a r   a = t h i s . _ g e t R u l e ( ) ; r e t u r n { r u l e t y p e : a ? a . g e t T y p e ( ) : n u l l , r u l e c o n f i g : a ? a . g e t C o n f i g ( ) : n u l l , r u l e o u t c o m e : t h i s . _ g e t O u t c o m e ( ) } } , g . p r o t o t y p e . _ g e t O u t c o m e = f u n c t i o n ( ) { r e t u r n   t h i s . _ f i n d ( ' [ n a m e = " o u t c o m e " ] ' ) . v a l ( ) } , g . p r o t o t y p e . _ g e t R u l e = f u n c t i o n ( ) { v a r   b , c = t h i s . _ f i n d ( ' [ n a m e = " r u l e " ] ' ) . v a l ( ) ; r e t u r n   a . e a c h ( t h i s . _ r u l e s , f u n c t i o n ( a , d ) { i f ( d . g e t T y p e ( ) = = c ) r e t u r n   v o i d ( b = d ) } ) , b } , g . p r o t o t y p e . _ g e t R u l e N a m e = f u n c t i o n ( b ) { v a r   c , d = t h i s ; r e t u r n   a . e a c h ( d . _ r u l e s M o d u l e s , f u n c t i o n ( a , d ) { i f ( d . t y p e = = b ) r e t u r n   v o i d ( c = d . n a m e ) } ) , c } , g . p r o t o t y p e . _ i n i t O u t c o m e s = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   e . g e t A l l ( ) . t h e n ( f u n c t i o n ( b ) { a . _ o u t c o m e s O p t i o n = b } ) } , g . p r o t o t y p e . _ i n i t R u l e s = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] ; r e t u r n   a . e a c h ( b . _ r u l e s , f u n c t i o n ( d , e ) { v a r   f = e . i n i t ( ) . t h e n ( f u n c t i o n ( ) { e . s e t T a r g e t C o m p e t e n c y ( b . _ c o m p e t e n c y ) , e . o n ( " c h a n g e " , b . _ a f t e r R u l e C o n f i g C h a n g e . b i n d ( b ) ) } , f u n c t i o n ( ) { r e t u r n   b . _ r u l e s . s p l i c e ( d , 1 ) , a . w h e n ( ) } ) ; c . p u s h ( f ) } ) , a . w h e n . a p p l y ( a . w h e n , c ) } , g . p r o t o t y p e . _ i s V a l i d = f u n c t i o n ( ) { v a r   a = t h i s . _ g e t O u t c o m e ( ) , b = t h i s . _ g e t R u l e ( ) ; r e t u r n   a = = e . N O N E | | ! ! b & & b . i s V a l i d ( ) } , g . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , g . p r o t o t y p e . _ p r e R e n d e r = f u n c t i o n ( ) { r e t u r n   t h i s . r e a d y ( ) } , g . p r o t o t y p e . r e a d y = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e a d y . p r o m i s e ( ) } , g . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { v a r   b ; a . c a n B e C o n f i g u r e d ( ) ? ( b = { } , b . o u t c o m e s = a . _ g e t A p p l i c a b l e O u t c o m e s O p t i o n s ( ) , b . r u l e s = a . _ g e t A p p l i c a b l e R u l e s O p t i o n s ( ) ) : b = ! 1 ; v a r   d = { c o m p e t e n c y s h o r t n a m e : a . _ c o m p e t e n c y . s h o r t n a m e , c o n f i g : b } ; r e t u r n   c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ r u l e _ c o n f i g " , d ) } ) } , g . p r o t o t y p e . s e t T a r g e t C o m p e t e n c y I d = f u n c t i o n ( b ) { v a r   c = t h i s ; c . _ c o m p e t e n c y = c . _ t r e e . g e t C o m p e t e n c y ( b ) , a . e a c h ( c . _ r u l e s , f u n c t i o n ( a , b ) { b . s e t T a r g e t C o m p e t e n c y ( c . _ c o m p e t e n c y ) } ) } , g . p r o t o t y p e . _ s e t U p = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] , d = [ ] ; b . _ r e a d y = a . D e f e r r e d ( ) , b . _ r u l e s = [ ] , a . e a c h ( b . _ r u l e s M o d u l e s , f u n c t i o n ( a , b ) { d . p u s h ( b . a m d ) } ) , r e q u i r e ( d , f u n c t i o n ( ) { a . e a c h ( a r g u m e n t s , f u n c t i o n ( a , c ) { v a r   d = n e w   c ( b . _ t r e e ) ; b . _ r u l e s . p u s h ( d ) } ) , c . p u s h ( b . _ i n i t R u l e s ( ) ) , c . p u s h ( b . _ i n i t O u t c o m e s ( ) ) , a . w h e n . a p p l y ( a . w h e n , c ) . a l w a y s ( f u n c t i o n ( ) { b . _ r e a d y . r e s o l v e ( ) } ) } ) } , g . p r o t o t y p e . _ s w i t c h e d O u t c o m e = f u n c t i o n ( ) { v a r   a = t h i s , b = a . _ g e t O u t c o m e ( ) ; r e t u r n   b = = e . N O N E ? ( a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - t y p e " ] ' ) . h i d e ( ) . f i n d ( ' [ n a m e = " r u l e " ] ' ) . v a l ( - 1 ) , a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - c o n f i g " ] ' ) . e m p t y ( ) . h i d e ( ) , v o i d   a . _ a f t e r C h a n g e ( ) ) : ( a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - t y p e " ] ' ) . s h o w ( ) , a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - c o n f i g " ] ' ) . s h o w ( ) , v o i d   a . _ a f t e r C h a n g e ( ) ) } , g . p r o t o t y p e . _ s w i t c h e d R u l e = f u n c t i o n ( ) { v a r   a = t h i s , b = a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - c o n f i g " ] ' ) , c = a . _ g e t R u l e ( ) ; r e t u r n   c ? v o i d   c . i n j e c t T e m p l a t e ( b ) . t h e n ( f u n c t i o n ( ) { b . s h o w ( ) } , f u n c t i o n ( ) { b . e m p t y ( ) . h i d e ( ) } ) . a l w a y s ( f u n c t i o n ( ) { a . _ a f t e r C h a n g e ( ) } ) : ( b . e m p t y ( ) . h i d e ( ) , v o i d   a . _ a f t e r C h a n g e ( ) ) } , g . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y d i a l o g u e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g , h = f u n c t i o n ( ) { } ; r e t u r n   h . p r o t o t y p e . t r i g g e r C o m p e t e n c y V i e w e d E v e n t = f u n c t i o n ( a ) { c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c o m p e t e n c y _ v i e w e d " , a r g s : { i d : a } } ] ) } , h . p r o t o t y p e . s h o w D i a l o g u e = f u n c t i o n ( a , c ) { v a r   e = t h i s . g e t C o m p e t e n c y D a t a P r o m i s e ( a , c ) , g = t h i s ; e . d o n e ( f u n c t i o n ( c ) { d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ s u m m a r y " , c ) . d o n e ( f u n c t i o n ( b ) { g . t r i g g e r C o m p e t e n c y V i e w e d E v e n t ( a ) , n e w   f ( c . c o m p e t e n c y . s h o r t n a m e , b ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . s h o w D i a l o g u e F r o m D a t a = f u n c t i o n ( a ) { v a r   c = t h i s ; d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ s u m m a r y " , a ) . d o n e ( f u n c t i o n ( b ) { c . t r i g g e r C o m p e t e n c y V i e w e d E v e n t ( a . i d ) , n e w   f ( a . s h o r t n a m e , b , c . e n h a n c e D i a l o g u e ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . c l i c k E v e n t H a n d l e r = f u n c t i o n ( b ) { v a r   c = b . d a t a . c o m p d i a l o g u e , d = a ( b . c u r r e n t T a r g e t ) , e = d . d a t a ( " i d " ) , f = ! d . d a t a ( " e x c l u d e r e l a t e d " ) , g = d . d a t a ( " i n c l u d e c o u r s e s " ) ; c . s h o w D i a l o g u e ( e , { i n c l u d e r e l a t e d : f , i n c l u d e c o u r s e s : g } ) , b . p r e v e n t D e f a u l t ( ) } , h . p r o t o t y p e . g e t C o m p e t e n c y D a t a P r o m i s e = f u n c t i o n ( a , d ) { v a r   e = c . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c y _ s u m m a r y " , a r g s : { c o m p e t e n c y i d : a , i n c l u d e r e l a t e d : d . i n c l u d e r e l a t e d | | ! 1 , i n c l u d e c o u r s e s : d . i n c l u d e c o u r s e s | | ! 1 } } ] ) ; r e t u r n   e [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   a } ) . f a i l ( b . e x c e p t i o n ) } , { i n i t : f u n c t i o n ( ) { " u n d e f i n e d " = = t y p e o f   g & & ( g = n e w   h , a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " c o m p e t e n c y - d i a l o g u e " ] ' , " c l i c k " , { c o m p d i a l o g u e : g } , g . c l i c k E v e n t H a n d l e r . b i n d ( g ) ) ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / p a r e n t c o m p e t e n c y _ f o r m ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " t o o l _ l p / c o m p e t e n c y p i c k e r " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( a , b , c , d , e ) { t h i s . b u t t o n S e l e c t o r = a , t h i s . i n p u t H i d d e n S e l e c t o r = b , t h i s . s t a t i c E l e m e n t S e l e c t o r = c , t h i s . f r a m e w o r k I d = d , t h i s . p a g e C o n t e x t I d = e , t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   g . p r o t o t y p e . b u t t o n S e l e c t o r = n u l l , g . p r o t o t y p e . i n p u t H i d d e n S e l e c t o r = n u l l , g . p r o t o t y p e . s t a t i c E l e m e n t S e l e c t o r = n u l l , g . p r o t o t y p e . f r a m e w o r k I d = n u l l , g . p r o t o t y p e . p a g e C o n t e x t I d = n u l l , g . p r o t o t y p e . s e t P a r e n t = f u n c t i o n ( d ) { v a r   e = t h i s ; 0 ! = = d . c o m p e t e n c y I d ? b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y " , a r g s : { i d : d . c o m p e t e n c y I d } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( b ) { a ( e . s t a t i c E l e m e n t S e l e c t o r ) . h t m l ( b . s h o r t n a m e ) , a ( e . i n p u t H i d d e n S e l e c t o r ) . v a l ( b . i d ) } ) . f a i l ( f . e x c e p t i o n ) : c . g e t _ s t r i n g ( " c o m p e t e n c y f r a m e w o r k r o o t " , " t o o l _ l p " ) . t h e n ( f u n c t i o n ( b ) { a ( e . s t a t i c E l e m e n t S e l e c t o r ) . h t m l ( b ) , a ( e . i n p u t H i d d e n S e l e c t o r ) . v a l ( d . c o m p e t e n c y I d ) } ) . f a i l ( f . e x c e p t i o n ) } , g . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   b = t h i s ; a ( b . b u t t o n S e l e c t o r ) . o n ( " c l i c k " , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   c = n e w   d ( b . p a g e C o n t e x t I d , b . f r a m e w o r k I d , " s e l f " , ( ! 1 ) ) ; c . _ r e n d e r = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { v a r   b = { c o m p e t e n c i e s : a . _ c o m p e t e n c i e s , f r a m e w o r k : a . _ g e t F r a m e w o r k ( a . _ f r a m e w o r k I d ) , f r a m e w o r k s : a . _ f r a m e w o r k s , s e a r c h : a . _ s e a r c h T e x t , s i n g l e F r a m e w o r k : a . _ s i n g l e F r a m e w o r k } ; r e t u r n   e . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ p i c k e r _ c o m p e t e n c y f o r m " , b ) } ) } , c . o n ( " s a v e " , f u n c t i o n ( a , c ) { b . s e t P a r e n t ( c ) } ) , c . d i s p l a y ( ) } ) } , { i n i t : f u n c t i o n ( a , b , c , d , e ) { n e w   g ( a , b , c , d , e ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y p i c k e r ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " c o r e / s t r " , " t o o l _ l p / t r e e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c , d , e ) { v a r   f = t h i s ; f . _ e v e n t N o d e = a ( " < d i v > < / d i v > " ) , f . _ f r a m e w o r k s = [ ] , f . _ r e s e t ( ) , f . _ p a g e C o n t e x t I d = b , f . _ p a g e C o n t e x t I n c l u d e s = d | | " c h i l d r e n " , f . _ m u l t i S e l e c t = " u n d e f i n e d " = = t y p e o f   e | | e = = = ! 0 , c & & ( f . _ f r a m e w o r k I d = c , f . _ s i n g l e F r a m e w o r k = ! 0 ) } ; r e t u r n   h . p r o t o t y p e . _ c o m p e t e n c i e s = n u l l , h . p r o t o t y p e . _ d i s a l l o w e d C o m p e t e n c y I D s = n u l l , h . p r o t o t y p e . _ e v e n t N o d e = n u l l , h . p r o t o t y p e . _ f r a m e w o r k s = n u l l , h . p r o t o t y p e . _ f r a m e w o r k I d = n u l l , h . p r o t o t y p e . _ p a g e C o n t e x t I d = n u l l , h . p r o t o t y p e . _ p a g e C o n t e x t I n c l u d e s = n u l l , h . p r o t o t y p e . _ p o p u p = n u l l , h . p r o t o t y p e . _ s e a r c h T e x t = " " , h . p r o t o t y p e . _ s e l e c t e d C o m p e t e n c i e s = n u l l , h . p r o t o t y p e . _ s i n g l e F r a m e w o r k = ! 1 , h . p r o t o t y p e . _ m u l t i S e l e c t = ! 0 , h . p r o t o t y p e . _ o n l y V i s i b l e = ! 0 , h . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s , c = n e w   g ( b . _ f i n d ( " [ d a t a - e n h a n c e = l i n k t r e e ] " ) , b . _ m u l t i S e l e c t ) ; b . _ f i n d ( " [ d a t a - e n h a n c e = l i n k t r e e ] " ) . s h o w ( ) , c . o n ( " s e l e c t i o n c h a n g e d " , f u n c t i o n ( c , d ) { v a r   e = d . s e l e c t e d ; c . p r e v e n t D e f a u l t ( ) ; v a r   f = [ ] ; a . e a c h ( e , f u n c t i o n ( c , d ) { v a r   e = a ( d ) . d a t a ( " i d " ) , g = ! 0 ; " u n d e f i n e d " = = t y p e o f   e ? g = ! 1 : a . e a c h ( b . _ d i s a l l o w e d C o m p e t e n c y I D s , f u n c t i o n ( a , b ) { b = = e & & ( g = ! 1 ) } ) , g & & f . p u s h ( e ) } ) , b . _ s e l e c t e d C o m p e t e n c i e s = f , b . _ s e l e c t e d C o m p e t e n c i e s . l e n g t h ? b . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . r e m o v e A t t r ( " d i s a b l e d " ) : b . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) } ) , b . _ s i n g l e F r a m e w o r k | | b . _ f i n d ( ' [ d a t a - a c t i o n = " c h o o s e f r a m e w o r k " ] ' ) . c h a n g e ( f u n c t i o n ( c ) { b . _ f r a m e w o r k I d = a ( c . t a r g e t ) . v a l ( ) , b . _ l o a d C o m p e t e n c i e s ( ) . t h e n ( b . _ r e f r e s h . b i n d ( b ) ) } ) , b . _ f i n d ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   b u t t o n ' ) . c l i c k ( f u n c t i o n ( c ) { r e t u r n   c . p r e v e n t D e f a u l t ( ) , a ( c . t a r g e t ) . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) , b . _ s e a r c h T e x t = b . _ f i n d ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) | | " " , b . _ r e f r e s h ( ) . a l w a y s ( f u n c t i o n ( ) { a ( c . t a r g e t ) . r e m o v e A t t r ( " d i s a b l e d " ) } ) } ) , b . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " c a n c e l " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . c l o s e ( ) } ) , b . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . _ s e l e c t e d C o m p e t e n c i e s . l e n g t h & & ( b . _ m u l t i S e l e c t ? b . _ t r i g g e r ( " s a v e " , { c o m p e t e n c y I d s : b . _ s e l e c t e d C o m p e t e n c i e s } ) : b . _ t r i g g e r ( " s a v e " , { c o m p e t e n c y I d : b . _ s e l e c t e d C o m p e t e n c i e s [ 0 ] } ) , b . c l o s e ( ) ) } ) ; v a r   d = b . _ s e l e c t e d C o m p e t e n c i e s . s l i c e ( 0 ) ; a . e a c h ( d , f u n c t i o n ( a , d ) { v a r   e = b . _ f i n d ( " [ d a t a - i d = " + d + " ] " ) ; e . l e n g t h & & ( c . t o g g l e I t e m ( e ) , c . u p d a t e F o c u s ( e ) ) } ) } , h . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { v a r   a = t h i s ; a . _ p o p u p . c l o s e ( ) , a . _ r e s e t ( ) } , h . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   f . g e t _ s t r i n g ( " c o m p e t e n c y p i c k e r " , " t o o l _ l p " ) . t h e n ( f u n c t i o n ( c ) { a . _ p o p u p = n e w   e ( c , b , a . _ a f t e r R e n d e r . b i n d ( a ) ) } ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ f e t c h C o m p e t e n c i e s = f u n c t i o n ( a , d ) { v a r   e = t h i s ; r e t u r n   c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e a r c h _ c o m p e t e n c i e s " , a r g s : { s e a r c h t e x t : d , c o m p e t e n c y f r a m e w o r k i d : a } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { f u n c t i o n   b ( a , c ) { f o r ( v a r   d = 0 ; d < c . l e n g t h ; d + + ) c [ d ] . p a r e n t i d = = a . i d & & ( a . h a s c h i l d r e n = ! 0 , c [ d ] . c h i l d r e n = [ ] , c [ d ] . h a s c h i l d r e n = ! 1 , a . c h i l d r e n [ a . c h i l d r e n . l e n g t h ] = c [ d ] , b ( c [ d ] , c ) ) } v a r   c , d , f = [ ] ; f o r ( c = 0 ; c < a . l e n g t h ; c + + ) d = a [ c ] , " 0 " = = d . p a r e n t i d & & ( d . c h i l d r e n = [ ] , d . h a s c h i l d r e n = 0 , f [ f . l e n g t h ] = d , b ( d , a ) ) ; e . _ c o m p e t e n c i e s = f } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , h . p r o t o t y p e . _ g e t F r a m e w o r k = f u n c t i o n ( b ) { v a r   c ; r e t u r n   a . e a c h ( t h i s . _ f r a m e w o r k s , f u n c t i o n ( a , d ) { i f ( d . i d = = b ) r e t u r n   v o i d ( c = d ) } ) , c } , h . p r o t o t y p e . _ l o a d C o m p e t e n c i e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ f e t c h C o m p e t e n c i e s ( t h i s . _ f r a m e w o r k I d , t h i s . _ s e a r c h T e x t ) } , h . p r o t o t y p e . _ l o a d F r a m e w o r k s = f u n c t i o n ( ) { v a r   d , e = t h i s ; r e t u r n   e . _ f r a m e w o r k s . l e n g t h > 0 ? a . w h e n ( ) : ( d = e . _ s i n g l e F r a m e w o r k ? c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : t h i s . _ f r a m e w o r k I d } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n [ a ] } ) : c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ c o m p e t e n c y _ f r a m e w o r k s " , a r g s : { s o r t : " s h o r t n a m e " , c o n t e x t : { c o n t e x t i d : e . _ p a g e C o n t e x t I d } , i n c l u d e s : e . _ p a g e C o n t e x t I n c l u d e s , o n l y v i s i b l e : e . _ o n l y V i s i b l e } } ] ) [ 0 ] , d . d o n e ( f u n c t i o n ( a ) { e . _ f r a m e w o r k s = a } ) . f a i l ( b . e x c e p t i o n ) ) } , h . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , h . p r o t o t y p e . _ p r e R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ l o a d F r a m e w o r k s ( ) . t h e n ( f u n c t i o n ( ) { r e t u r n ! b . _ f r a m e w o r k I d & & b . _ f r a m e w o r k s . l e n g t h > 0 & & ( b . _ f r a m e w o r k I d = b . _ f r a m e w o r k s [ 0 ] . i d ) , b . _ f r a m e w o r k I d ? b . _ l o a d C o m p e t e n c i e s ( ) : ( b . _ f r a m e w o r k s = [ ] , a . w h e n ( ) ) } ) } , h . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { a . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ] ' ) . r e p l a c e W i t h ( b ) , a . _ a f t e r R e n d e r ( ) } ) } , h . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { b . _ s i n g l e F r a m e w o r k | | a . e a c h ( b . _ f r a m e w o r k s , f u n c t i o n ( a , c ) { c . i d = = b . _ f r a m e w o r k I d ? c . s e l e c t e d = ! 0 : c . s e l e c t e d = ! 1 } ) ; v a r   c = { c o m p e t e n c i e s : b . _ c o m p e t e n c i e s , f r a m e w o r k : b . _ g e t F r a m e w o r k ( b . _ f r a m e w o r k I d ) , f r a m e w o r k s : b . _ f r a m e w o r k s , s e a r c h : b . _ s e a r c h T e x t , s i n g l e F r a m e w o r k : b . _ s i n g l e F r a m e w o r k } ; r e t u r n   d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ p i c k e r " , c ) } ) } , h . p r o t o t y p e . _ r e s e t = f u n c t i o n ( ) { t h i s . _ c o m p e t e n c i e s = [ ] , t h i s . _ d i s a l l o w e d C o m p e t e n c y I D s = [ ] , t h i s . _ p o p u p = n u l l , t h i s . _ s e a r c h T e x t = " " , t h i s . _ s e l e c t e d C o m p e t e n c i e s = [ ] } , h . p r o t o t y p e . s e t D i s a l l o w e d C o m p e t e n c y I D s = f u n c t i o n ( a ) { t h i s . _ d i s a l l o w e d C o m p e t e n c y I D s = a } , h . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / d i a l o g u e ' ,   [ " c o r e / y u i " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e , f ) { t h i s . y u i D i a l o g u e = n u l l ; v a r   g = t h i s ; " u n d e f i n e d " = = t y p e o f   f & & ( f = ! 1 ) , a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n " , " t i m e r s " , f u n c t i o n ( ) { v a r   h = " 4 8 0 p x " ; f & & ( h = " 8 0 0 p x " ) , g . y u i D i a l o g u e = n e w   M . c o r e . d i a l o g u e ( { h e a d e r C o n t e n t : b , b o d y C o n t e n t : c , d r a g g a b l e : ! 0 , v i s i b l e : ! 1 , c e n t e r : ! 0 , m o d a l : ! 0 , w i d t h : h } ) , g . y u i D i a l o g u e . a f t e r ( " v i s i b l e C h a n g e " , f u n c t i o n ( b ) { b . n e w V a l ? " u n d e f i n e d " ! = t y p e o f   d & & a . s o o n ( f u n c t i o n ( ) { d ( g ) , g . y u i D i a l o g u e . c e n t e r D i a l o g u e ( ) } ) : " u n d e f i n e d " ! = t y p e o f   e & & a . s o o n ( f u n c t i o n ( ) { e ( g ) } ) } ) , g . y u i D i a l o g u e . s h o w ( ) } ) } ; r e t u r n   b . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . y u i D i a l o g u e . h i d e ( ) , t h i s . y u i D i a l o g u e . d e s t r o y ( ) } , b . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . y u i D i a l o g u e . b o d y N o d e . g e t D O M N o d e ( ) } , b } ) ; 
 d e f i n e ( ' t o o l _ l p / t r e e ' ,   [ " j q u e r y " , " c o r e / u r l " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = a ( ' < i m g   a l t = " "   s r c = " ' + b . i m a g e U r l ( " t / e x p a n d e d " ) + ' " / > ' ) , e = a ( ' < i m g   a l t = " "   s r c = " ' + b . i m a g e U r l ( " t / c o l l a p s e d " ) + ' " / > ' ) , f = f u n c t i o n ( b , c ) { t h i s . t r e e R o o t = a ( b ) , t h i s . m u l t i S e l e c t = " u n d e f i n e d " = = t y p e o f   c | | c = = = ! 0 , t h i s . i t e m s = t h i s . t r e e R o o t . f i n d ( " l i " ) , t h i s . e x p a n d A l l = t h i s . i t e m s . l e n g t h < 2 0 , t h i s . p a r e n t s = t h i s . t r e e R o o t . f i n d ( " l i : h a s ( u l ) " ) , c & & t h i s . t r e e R o o t . a t t r ( " a r i a - m u l t i s e l e c t a b l e " , " t r u e " ) , t h i s . i t e m s . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) , t h i s . v i s i b l e I t e m s = n u l l , t h i s . a c t i v e I t e m = n u l l , t h i s . l a s t A c t i v e I t e m = n u l l , t h i s . k e y s = { t a b : 9 , e n t e r : 1 3 , s p a c e : 3 2 , p a g e u p : 3 3 , p a g e d o w n : 3 4 , e n d : 3 5 , h o m e : 3 6 , l e f t : 3 7 , u p : 3 8 , r i g h t : 3 9 , d o w n : 4 0 , e i g h t : 5 6 , a s t e r i s k : 1 0 6 } , t h i s . i n i t ( ) , t h i s . b i n d E v e n t H a n d l e r s ( ) } ; r e t u r n   f . p r o t o t y p e . i n i t = f u n c t i o n ( ) { t h i s . p a r e n t s . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , t h i s . p a r e n t s . p r e p e n d ( d . c l o n e ( ) ) , t h i s . i t e m s . a t t r ( " r o l e " , " t r e e - i t e m " ) , t h i s . i t e m s . a t t r ( " t a b i n d e x " , " - 1 " ) , t h i s . p a r e n t s . a t t r ( " r o l e " , " g r o u p " ) , t h i s . t r e e R o o t . a t t r ( " r o l e " , " t r e e " ) , t h i s . v i s i b l e I t e m s = t h i s . t r e e R o o t . f i n d ( " l i " ) ; v a r   b = t h i s ; t h i s . e x p a n d A l l | | ( t h i s . p a r e n t s . e a c h ( f u n c t i o n ( ) { b . c o l l a p s e G r o u p ( a ( t h i s ) ) } ) , t h i s . e x p a n d G r o u p ( t h i s . p a r e n t s . f i r s t ( ) ) ) } , f . p r o t o t y p e . e x p a n d G r o u p = f u n c t i o n ( a ) { v a r   b = a . c h i l d r e n ( " u l " ) ; b . s h o w ( ) . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , a . c h i l d r e n ( " i m g " ) . a t t r ( " s r c " , d . a t t r ( " s r c " ) ) , t h i s . v i s i b l e I t e m s = t h i s . t r e e R o o t . f i n d ( " l i : v i s i b l e " ) } , f . p r o t o t y p e . c o l l a p s e G r o u p = f u n c t i o n ( a ) { v a r   b = a . c h i l d r e n ( " u l " ) ; b . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , a . c h i l d r e n ( " i m g " ) . a t t r ( " s r c " , e . a t t r ( " s r c " ) ) , t h i s . v i s i b l e I t e m s = t h i s . t r e e R o o t . f i n d ( " l i : v i s i b l e " ) } , f . p r o t o t y p e . t o g g l e G r o u p = f u n c t i o n ( a ) { " t r u e " = = a . a t t r ( " a r i a - e x p a n d e d " ) ? t h i s . c o l l a p s e G r o u p ( a ) : t h i s . e x p a n d G r o u p ( a ) } , f . p r o t o t y p e . t r i g g e r C h a n g e = f u n c t i o n ( ) { v a r   a = t h i s . i t e m s . f i l t e r ( " [ a r i a - s e l e c t e d = t r u e ] " ) ; t h i s . m u l t i S e l e c t | | ( a = a . f i r s t ( ) ) , t h i s . t r e e R o o t . t r i g g e r ( " s e l e c t i o n c h a n g e d " , { s e l e c t e d : a } ) } , f . p r o t o t y p e . m u l t i S e l e c t I t e m = f u n c t i o n ( b ) { i f ( t h i s . m u l t i S e l e c t ) { i f ( n u l l ! = = t h i s . l a s t A c t i v e I t e m ) { f o r ( v a r   c = t h i s . v i s i b l e I t e m s . i n d e x ( t h i s . l a s t A c t i v e I t e m ) , d = t h i s . v i s i b l e I t e m s . i n d e x ( t h i s . a c t i v e I t e m ) , e = n u l l ; c < d ; ) e = a ( t h i s . v i s i b l e I t e m s . g e t ( c ) ) , e . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , c + + ; f o r ( ; c > d ; ) e = a ( t h i s . v i s i b l e I t e m s . g e t ( c ) ) , e . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , c - - } } e l s e   t h i s . i t e m s . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) ; b . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , t h i s . t r i g g e r C h a n g e ( ) } , f . p r o t o t y p e . s e l e c t I t e m = f u n c t i o n ( a ) { f o r ( v a r   b = a . p a r e n t ( ) ; " t r e e " ! = b . a t t r ( " r o l e " ) ; ) b = b . p a r e n t ( ) , " f a l s e " = = b . a t t r ( " a r i a - e x p a n d e d " ) & & t h i s . e x p a n d G r o u p ( b ) , b = b . p a r e n t ( ) ; t h i s . i t e m s . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) , a . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , t h i s . t r i g g e r C h a n g e ( ) } , f . p r o t o t y p e . t o g g l e I t e m = f u n c t i o n ( a ) { i f ( ! t h i s . m u l t i S e l e c t ) r e t u r n   v o i d   t h i s . s e l e c t I t e m ( a ) ; v a r   b = a . a t t r ( " a r i a - s e l e c t e d " ) ; b = " t r u e " = = = b ? " f a l s e " : " t r u e " , a . a t t r ( " a r i a - s e l e c t e d " , b ) , t h i s . t r i g g e r C h a n g e ( ) } , f . p r o t o t y p e . u p d a t e F o c u s = f u n c t i o n ( a ) { t h i s . l a s t A c t i v e I t e m = t h i s . a c t i v e I t e m , t h i s . a c t i v e I t e m = a ; f o r ( v a r   b = a . p a r e n t ( ) ; " t r e e " ! = b . a t t r ( " r o l e " ) ; ) b = b . p a r e n t ( ) , " f a l s e " = = b . a t t r ( " a r i a - e x p a n d e d " ) & & t h i s . e x p a n d G r o u p ( b ) , b = b . p a r e n t ( ) ; t h i s . i t e m s . a t t r ( " t a b i n d e x " , " - 1 " ) , a . a t t r ( " t a b i n d e x " , 0 ) } , f . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( b , c ) { v a r   d = t h i s . v i s i b l e I t e m s . i n d e x ( b ) , e = n u l l , f = c . s h i f t K e y | | c . c t r l K e y | | c . m e t a K e y | | c . a l t K e y , g = t h i s ; s w i t c h ( c . k e y C o d e ) { c a s e   t h i s . k e y s . h o m e : r e t u r n   e = t h i s . p a r e n t s . f i r s t ( ) , e . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( e ) : f | | t h i s . s e l e c t I t e m ( e ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n d : r e t u r n   e = t h i s . v i s i b l e I t e m s . l a s t ( ) , e . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( e ) : f | | t h i s . s e l e c t I t e m ( e ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n t e r : c a s e   t h i s . k e y s . s p a c e : r e t u r n   c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( b ) : c . m e t a K e y | | c . c t r l K e y ? t h i s . t o g g l e I t e m ( b ) : t h i s . s e l e c t I t e m ( b ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . l e f t : i f ( b . h a s ( " u l " ) & & " t r u e " = = b . a t t r ( " a r i a - e x p a n d e d " ) ) t h i s . c o l l a p s e G r o u p ( b ) ; e l s e { v a r   h = b . p a r e n t ( ) , i = h . p a r e n t ( ) ; i . i s ( " l i " ) & & ( i . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( i ) : f | | t h i s . s e l e c t I t e m ( i ) ) } r e t u r n   c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . r i g h t : r e t u r n   b . h a s ( " u l " ) & & " f a l s e " = = b . a t t r ( " a r i a - e x p a n d e d " ) ? t h i s . e x p a n d G r o u p ( b ) : ( e = b . c h i l d r e n ( " u l " ) . c h i l d r e n ( " l i " ) . f i r s t ( ) , e . l e n g t h > 0 & & ( e . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( e ) : f | | t h i s . s e l e c t I t e m ( e ) ) ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . u p : i f ( d > 0 ) { v a r   j = t h i s . v i s i b l e I t e m s . e q ( d - 1 ) ; j . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( j ) : f | | t h i s . s e l e c t I t e m ( j ) } r e t u r n   c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . d o w n : i f ( d < t h i s . v i s i b l e I t e m s . l e n g t h - 1 ) { v a r   k = t h i s . v i s i b l e I t e m s . e q ( d + 1 ) ; k . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( k ) : f | | t h i s . s e l e c t I t e m ( k ) } r e t u r n   c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . a s t e r i s k : r e t u r n   t h i s . p a r e n t s . e a c h ( f u n c t i o n ( ) { g . e x p a n d G r o u p ( a ( t h i s ) ) } ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e i g h t : r e t u r n   c . s h i f t K e y & & ( t h i s . p a r e n t s . e a c h ( f u n c t i o n ( ) { g . e x p a n d G r o u p ( a ( t h i s ) ) } ) , c . s t o p P r o p a g a t i o n ( ) ) , ! 1 } r e t u r n ! 0 } , f . p r o t o t y p e . h a n d l e K e y P r e s s = f u n c t i o n ( a , b ) { i f ( b . a l t K e y | | b . c t r l K e y | | b . s h i f t K e y | | b . m e t a K e y ) r e t u r n ! 0 ; s w i t c h ( b . k e y C o d e ) { c a s e   t h i s . k e y s . t a b : r e t u r n ! 0 ; c a s e   t h i s . k e y s . e n t e r : c a s e   t h i s . k e y s . h o m e : c a s e   t h i s . k e y s . e n d : c a s e   t h i s . k e y s . l e f t : c a s e   t h i s . k e y s . r i g h t : c a s e   t h i s . k e y s . u p : c a s e   t h i s . k e y s . d o w n : r e t u r n   b . s t o p P r o p a g a t i o n ( ) , ! 1 ; d e f a u l t : v a r   c = S t r i n g . f r o m C h a r C o d e ( b . w h i c h ) , d = ! 1 , e = t h i s . v i s i b l e I t e m s . i n d e x ( a ) , f = t h i s . v i s i b l e I t e m s . l e n g t h , g = e + 1 ; f o r ( g = = f & & ( g = 0 ) ; g ! = e ; ) { v a r   h = t h i s . v i s i b l e I t e m s . e q ( g ) , i = h . t e x t ( ) . c h a r A t ( 0 ) ; i f ( h . h a s ( " u l " ) & & ( i = h . f i n d ( " s p a n " ) . t e x t ( ) . c h a r A t ( 0 ) ) , i . t o L o w e r C a s e ( ) = = c ) { d = ! 0 ; b r e a k } g + = 1 , g = = f & & ( g = 0 ) } r e t u r n   d = = = ! 0 & & t h i s . u p d a t e F o c u s ( t h i s . v i s i b l e I t e m s . e q ( g ) ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } r e t u r n ! 0 } , f . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { " s e l e c t i o n c h a n g e d " ! = = a ? c . w a r n i n g ( ' I n v a l i d   c u s t o m   e v e n t   n a m e   f o r   t r e e .   O n l y   " s e l e c t i o n c h a n g e d "   i s   s u p p o r t e d . ' ) : t h i s . t r e e R o o t . o n ( a , b ) } , f . p r o t o t y p e . h a n d l e D b l C l i c k = f u n c t i o n ( a , b ) { r e t u r n ! ! ( b . a l t K e y | | b . c t r l K e y | | b . s h i f t K e y | | b . m e t a K e y ) | | ( t h i s . u p d a t e F o c u s ( a ) , t h i s . t o g g l e G r o u p ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ) } , f . p r o t o t y p e . h a n d l e E x p a n d C o l l a p s e C l i c k = f u n c t i o n ( a , b ) { r e t u r n   t h i s . t o g g l e G r o u p ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } , f . p r o t o t y p e . h a n d l e C l i c k = f u n c t i o n ( a , b ) { r e t u r n   b . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( a ) : b . m e t a K e y | | b . c t r l K e y ? t h i s . t o g g l e I t e m ( a ) : t h i s . s e l e c t I t e m ( a ) , t h i s . u p d a t e F o c u s ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } , f . p r o t o t y p e . h a n d l e B l u r = f u n c t i o n ( ) { r e t u r n ! 0 } , f . p r o t o t y p e . h a n d l e F o c u s = f u n c t i o n ( a ) { r e t u r n   t h i s . u p d a t e F o c u s ( a ) , ! 0 } , f . p r o t o t y p e . b i n d E v e n t H a n d l e r s = f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . p a r e n t s . d b l c l i c k ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e D b l C l i c k ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . c l i c k ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e C l i c k ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . c h i l d r e n ( " i m g " ) . c l i c k ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e E x p a n d C o l l a p s e C l i c k ( a ( t h i s ) . p a r e n t ( ) , c ) } ) , t h i s . i t e m s . k e y d o w n ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e K e y D o w n ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . k e y p r e s s ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e K e y P r e s s ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . f o c u s ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e F o c u s ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . b l u r ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e B l u r ( a ( t h i s ) , c ) } ) } , f } ) ; 
 d e f i n e ( ' t o o l _ l p / s c a l e v a l u e s ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = [ ] ; r e t u r n { g e t _ v a l u e s : f u n c t i o n ( d ) { v a r   e = a . D e f e r r e d ( ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   c [ d ] ? b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ g e t _ s c a l e _ v a l u e s " , a r g s : { s c a l e i d : d } , d o n e : f u n c t i o n ( a ) { c [ d ] = a , e . r e s o l v e ( a ) } , f a i l : e . r e j e c t } ] ) : e . r e s o l v e ( c [ d ] ) , e . p r o m i s e ( ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / m e n u b a r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = ! 1 , c = ! 1 , d = f u n c t i o n ( ) { a ( " . t o o l - l p - m e n u   . t o o l - l p - s u b - m e n u " ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , c = ! 1 } , e = f u n c t i o n ( a , b ) { t h i s . m e n u R o o t = a , t h i s . h a n d l e r s = b , t h i s . r o o t M e n u s = t h i s . m e n u R o o t . c h i l d r e n ( " l i " ) , t h i s . s u b M e n u s = t h i s . r o o t M e n u s . c h i l d r e n ( " u l " ) , t h i s . s u b M e n u I t e m s = t h i s . s u b M e n u s . c h i l d r e n ( " l i " ) , t h i s . a l l I t e m s = t h i s . r o o t M e n u s . a d d ( t h i s . s u b M e n u I t e m s ) , t h i s . a c t i v e I t e m = n u l l , t h i s . i s C h i l d O p e n = ! 1 , t h i s . k e y s = { t a b : 9 , e n t e r : 1 3 , e s c : 2 7 , s p a c e : 3 2 , l e f t : 3 7 , u p : 3 8 , r i g h t : 3 9 , d o w n : 4 0 } , t h i s . a d d A r i a A t t r i b u t e s ( ) , t h i s . a d d E v e n t L i s t e n e r s ( ) } ; r e t u r n   e . p r o t o t y p e . o p e n S u b M e n u = f u n c t i o n ( a ) { t h i s . s e t O p e n D i r e c t i o n ( ) , d ( ) , a . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , c = ! 0 } , e . p r o t o t y p e . a d d E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   e = t h i s ; b = = = ! 1 & & ( a ( d o c u m e n t ) . c l i c k ( f u n c t i o n ( ) { c & & d ( ) } ) , b = ! 0 ) , t h i s . s u b M e n u I t e m s . m o u s e e n t e r ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . a d d C l a s s ( " m e n u - h o v e r " ) , ! 0 } ) , t h i s . s u b M e n u I t e m s . m o u s e o u t ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . r e m o v e C l a s s ( " m e n u - h o v e r " ) , ! 0 } ) , t h i s . a l l I t e m s . c l i c k ( f u n c t i o n ( b ) { r e t u r n   e . h a n d l e C l i c k ( a ( t h i s ) , b ) } ) , t h i s . a l l I t e m s . k e y d o w n ( f u n c t i o n ( b ) { r e t u r n   e . h a n d l e K e y D o w n ( a ( t h i s ) , b ) } ) , t h i s . a l l I t e m s . f o c u s ( f u n c t i o n ( ) { r e t u r n   e . h a n d l e F o c u s ( a ( t h i s ) ) } ) , t h i s . a l l I t e m s . b l u r ( f u n c t i o n ( ) { r e t u r n   e . h a n d l e B l u r ( a ( t h i s ) ) } ) } , e . p r o t o t y p e . h a n d l e C l i c k = f u n c t i o n ( b , c ) { c . s t o p P r o p a g a t i o n ( ) ; v a r   d = b . p a r e n t ( ) ; i f ( d . i s ( " . t o o l - l p - m e n u " ) ) " t r u e " = = b . c h i l d r e n ( " u l " ) . f i r s t ( ) . a t t r ( " a r i a - h i d d e n " ) ? t h i s . o p e n S u b M e n u ( b . c h i l d r e n ( " u l " ) . f i r s t ( ) ) : b . c h i l d r e n ( " u l " ) . f i r s t ( ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ; e l s e { t h i s . a l l I t e m s . r e m o v e C l a s s ( " m e n u - h o v e r   m e n u - f o c u s " ) , t h i s . a c t i v e I t e m = n u l l , t h i s . m e n u R o o t . f i n d ( " u l " ) . n o t ( " . r o o t - l e v e l " ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ; v a r   e = b . f i n d ( " a " ) . f i r s t ( ) , f = n e w   a . E v e n t ( " c l i c k " ) ; f . t a r g e t = e ; v a r   g = ! 1 ; t h i s . h a n d l e r s & & a . e a c h ( t h i s . h a n d l e r s , f u n c t i o n ( c , d ) { i f ( ! g & & b . f i n d ( c ) . l e n g t h > 0 ) { v a r   h = a . p r o x y ( d , e ) ; g = h ( f ) = = = ! 1 | | f . i s D e f a u l t P r e v e n t e d ( ) } } ) , g | | " # " = = = e . a t t r ( " h r e f " ) | | ( w i n d o w . l o c a t i o n . h r e f = e . a t t r ( " h r e f " ) ) } r e t u r n ! 1 } , e . p r o t o t y p e . h a n d l e F o c u s = f u n c t i o n ( a ) { i f ( n u l l = = = t h i s . a c t i v e I t e m ) t h i s . a c t i v e I t e m = a ; e l s e   i f ( a [ 0 ] ! = t h i s . a c t i v e I t e m [ 0 ] ) r e t u r n ! 0 ; v a r   b = t h i s . a c t i v e I t e m . p a r e n t s U n t i l ( " u l . t o o l - l p - m e n u " ) . f i l t e r ( " l i " ) ; i f ( t h i s . a l l I t e m s . r e m o v e C l a s s ( " m e n u - f o c u s " ) , t h i s . a c t i v e I t e m . a d d C l a s s ( " m e n u - f o c u s " ) , b . a d d C l a s s ( " m e n u - f o c u s " ) , t h i s . i s C h i l d O p e n = = = ! 0 ) { v a r   c = a . p a r e n t ( ) ; c . i s ( " . t o o l - l p - m e n u " ) & & " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) & & t h i s . o p e n S u b M e n u ( a . c h i l d r e n ( " u l " ) . f i r s t ( ) ) } r e t u r n ! 0 } , e . p r o t o t y p e . h a n d l e B l u r = f u n c t i o n ( a ) { r e t u r n   a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , ! 0 } , e . p r o t o t y p e . s e t O p e n D i r e c t i o n = f u n c t i o n ( ) { v a r   b = t h i s . m e n u R o o t . o f f s e t ( ) , c = a ( d o c u m e n t . b o d y ) . h a s C l a s s ( " d i r - r t l " ) , d = ! 0 , e = t h i s . r o o t M e n u s . o u t e r H e i g h t ( ) , f = t h i s . r o o t M e n u s . o u t e r W i d t h ( ) , g = t h i s . r o o t M e n u s . f i n d ( " u l . t o o l - l p - s u b - m e n u " ) ; g . c s s ( " m a r g i n - r i g h t " , " " ) , g . c s s ( " m a r g i n - l e f t " , " " ) , g . c s s ( " m a r g i n - t o p " , " " ) , g . a t t r ( " a r i a - h i d d e n " , ! 1 ) ; v a r   h = g . o u t e r W i d t h ( ) , i = g . o u t e r H e i g h t ( ) , j = n u l l , k = n u l l , l = n u l l , m = b . t o p - a ( w i n d o w ) . s c r o l l T o p ( ) ; m + i > a ( w i n d o w ) . h e i g h t ( ) & & ( j = i + e , g . c s s ( " m a r g i n - t o p " , " - " + j + " p x " ) ) , c ? b . l e f t - h < 0 & & ( k = h - f , g . c s s ( " m a r g i n - r i g h t " , " - " + k + " p x " ) ) : b . l e f t + h > a ( w i n d o w ) . w i d t h ( ) & & ( l = h - f , g . c s s ( " m a r g i n - l e f t " , " - " + l + " p x " ) ) , d ? t h i s . m e n u R o o t . a d d C l a s s ( " t o o l - l p - m e n u - o p e n - l e f t " ) : t h i s . m e n u R o o t . r e m o v e C l a s s ( " t o o l - l p - m e n u - o p e n - l e f t " ) } , e . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( a , b ) { i f ( b . a l t K e y | | b . c t r l K e y ) r e t u r n ! 0 ; s w i t c h ( b . k e y C o d e ) { c a s e   t h i s . k e y s . t a b : t h i s . m e n u R o o t . f i n d ( " u l " ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . a l l I t e m s . r e m o v e C l a s s ( " m e n u - f o c u s " ) , t h i s . a c t i v e I t e m = n u l l , t h i s . i s C h i l d O p e n = ! 1 ; b r e a k ; c a s e   t h i s . k e y s . e s c : v a r   c = a . p a r e n t ( ) ; r e t u r n   c . i s ( " . t o o l - l p - m e n u " ) ? a . c h i l d r e n ( " u l " ) . f i r s t ( ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) : ( t h i s . a c t i v e I t e m = c . p a r e n t ( ) , t h i s . i s C h i l d O p e n = ! 1 , t h i s . a c t i v e I t e m . f o c u s ( ) , c . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n t e r : c a s e   t h i s . k e y s . s p a c e : r e t u r n   t h i s . h a n d l e C l i c k ( a , b ) ; c a s e   t h i s . k e y s . l e f t : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e T o P r e v i o u s ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . r i g h t : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e T o N e x t ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . u p : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e U p ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . d o w n : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e D o w n ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } r e t u r n ! 0 } , e . p r o t o t y p e . m o v e T o N e x t = f u n c t i o n ( a ) { v a r   b = a . p a r e n t ( ) , c = b . c h i l d r e n ( " l i " ) , d = c . l e n g t h , e = c . i n d e x ( a ) , f = n u l l , g = n u l l ; i f ( b . i s ( " . t o o l - l p - m e n u " ) ) f = e < d - 1 ? a . n e x t ( ) : c . f i r s t ( ) , " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) & & ( g = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , " f a l s e " = = g . a t t r ( " a r i a - h i d d e n " ) & & ( g . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . i s C h i l d O p e n = ! 0 ) ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = = f . a t t r ( " a r i a - h a s p o p u p " ) & & t h i s . i s C h i l d O p e n = = = ! 0 & & ( g = f . c h i l d r e n ( " u l " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( g ) ) ; e l s e   i f ( " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) ) g = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , f = g . c h i l d r e n ( " l i " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( g ) ; e l s e { v a r   h = n u l l , i = n u l l ; h = a . p a r e n t s U n t i l ( " u l . t o o l - l p - m e n u " ) . f i l t e r ( " u l " ) . n o t ( " . t o o l - l p - m e n u " ) , h . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , h . f i n d ( " l i " ) . r e m o v e C l a s s ( " m e n u - f o c u s " ) , h . l a s t ( ) . p a r e n t ( ) . r e m o v e C l a s s ( " m e n u - f o c u s " ) , i = h . l a s t ( ) . p a r e n t ( ) , e = t h i s . r o o t M e n u s . i n d e x ( i ) , f = e < t h i s . r o o t M e n u s . l e n g t h - 1 ? i . n e x t ( ) : t h i s . r o o t M e n u s . f i r s t ( ) , f . a d d C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = f . a t t r ( " a r i a - h a s p o p u p " ) & & ( g = f . c h i l d r e n ( " u l " ) . f i r s t ( ) , f = g . c h i l d r e n ( " l i " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( g ) , t h i s . i s C h i l d O p e n = ! 0 ) } r e t u r n   f } , e . p r o t o t y p e . m o v e T o P r e v i o u s = f u n c t i o n ( a ) { v a r   b = a . p a r e n t ( ) , c = b . c h i l d r e n ( " l i " ) , d = c . i n d e x ( a ) , e = n u l l , f = n u l l ; i f ( b . i s ( " . t o o l - l p - m e n u " ) ) e = d > 0 ? a . p r e v ( ) : c . l a s t ( ) , " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) & & ( f = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , " f a l s e " = = f . a t t r ( " a r i a - h i d d e n " ) & & ( f . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . i s C h i l d O p e n = ! 0 ) ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = = e . a t t r ( " a r i a - h a s p o p u p " ) & & t h i s . i s C h i l d O p e n = = = ! 0 & & ( f = e . c h i l d r e n ( " u l " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( f ) ) ; e l s e { v a r   g = b . p a r e n t ( ) , h = g . p a r e n t ( ) ; h . i s ( " . t o o l - l p - m e n u " ) ? ( b . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , g . r e m o v e C l a s s ( " m e n u - f o c u s " ) , d = t h i s . r o o t M e n u s . i n d e x ( g ) , e = d > 0 ? g . p r e v ( ) : t h i s . r o o t M e n u s . l a s t ( ) , e . a d d C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = e . a t t r ( " a r i a - h a s p o p u p " ) & & ( f = e . c h i l d r e n ( " u l " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( f ) , t h i s . i s C h i l d O p e n = ! 0 , e = f . c h i l d r e n ( " l i " ) . f i r s t ( ) ) ) : ( e = b . p a r e n t ( ) , b . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) ) } r e t u r n   e } , e . p r o t o t y p e . m o v e D o w n = f u n c t i o n ( a , b ) { v a r   c = a . p a r e n t ( ) , d = c . c h i l d r e n ( " l i " ) . n o t ( " . s e p a r a t o r " ) , e = d . l e n g t h , f = d . i n d e x ( a ) , g = n u l l , h = n u l l ; i f ( c . i s ( " . t o o l - l p - m e n u " ) ) r e t u r n " t r u e " ! = a . a t t r ( " a r i a - h a s p o p u p " ) ? a : ( h = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , g = h . c h i l d r e n ( " l i " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( h ) , g ) ; i f ( b ) { v a r   i = ! 1 , j = f + 1 ; f o r ( j = = e & & ( j = 0 ) ; j ! = f ; ) { v a r   k = d . e q ( j ) . h t m l ( ) . c h a r A t ( 0 ) ; i f ( k . t o L o w e r C a s e ( ) = = b ) { i = ! 0 ; b r e a k } j + = 1 , j = = e & & ( j = 0 ) } r e t u r n   i = = = ! 0 ? ( g = d . e q ( j ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , g ) : a } r e t u r n   g = f < e - 1 ? d . e q ( f + 1 ) : d . f i r s t ( ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , g } , e . p r o t o t y p e . m o v e U p = f u n c t i o n ( a ) { v a r   b = a . p a r e n t ( ) , c = b . c h i l d r e n ( " l i " ) . n o t ( " . s e p a r a t o r " ) , d = c . i n d e x ( a ) , e = n u l l ; r e t u r n   b . i s ( " . t o o l - l p - m e n u " ) ? a : ( e = d > 0 ? c . e q ( d - 1 ) : c . l a s t ( ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , e ) } , e . p r o t o t y p e . a d d A r i a A t t r i b u t e s = f u n c t i o n ( ) { t h i s . m e n u R o o t . a t t r ( " r o l e " , " m e n u b a r " ) , t h i s . r o o t M e n u s . a t t r ( " r o l e " , " m e n u i t e m " ) , t h i s . r o o t M e n u s . a t t r ( " t a b i n d e x " , " 0 " ) , t h i s . r o o t M e n u s . a t t r ( " a r i a - h a s p o p u p " , " t r u e " ) , t h i s . s u b M e n u s . a t t r ( " r o l e " , " m e n u " ) , t h i s . s u b M e n u s . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . s u b M e n u I t e m s . a t t r ( " r o l e " , " m e n u i t e m " ) , t h i s . s u b M e n u I t e m s . a t t r ( " t a b i n d e x " , " - 1 " ) , t h i s . m e n u R o o t . a d d C l a s s ( " t o o l - l p - m e n u " ) , t h i s . a l l I t e m s . a d d C l a s s ( " t o o l - l p - m e n u - i t e m " ) , t h i s . r o o t M e n u s . a d d C l a s s ( " t o o l - l p - r o o t - m e n u " ) , t h i s . s u b M e n u s . a d d C l a s s ( " t o o l - l p - s u b - m e n u " ) , t h i s . s u b M e n u I t e m s . a d d C l a s s ( " d r o p d o w n - i t e m " ) } , { e n h a n c e : f u n c t i o n ( b , c ) { a ( b ) . e a c h ( f u n c t i o n ( b , d ) { v a r   f = a ( d ) ; f . d a t a ( " m e n u b a r E n h a n c e d " ) ! = = ! 0 & & ( n e w   e ( f , c ) , f . d a t a ( " m e n u b a r E n h a n c e d " , ! 0 ) ) } ) } , c l o s e A l l : d } } ) ; 
 d e f i n e ( ' t o o l _ l p / s c a l e c o n f i g ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / s c a l e v a l u e s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b , c , d ) { t h i s . s e l e c t S e l e c t o r = b , t h i s . i n p u t S e l e c t o r = c , t h i s . t r i g g e r S e l e c t o r = d , t h i s . o r i g i n a l s c a l e i d = a ( b ) . v a l ( ) , a ( b ) . o n ( " c h a n g e " , t h i s . s c a l e C h a n g e H a n d l e r . b i n d ( t h i s ) ) . c h a n g e ( ) , a ( d ) . c l i c k ( t h i s . s h o w C o n f i g . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . s e l e c t S e l e c t o r = n u l l , g . p r o t o t y p e . i n p u t S e l e c t o r = n u l l , g . p r o t o t y p e . t r i g g e r S e l e c t o r = n u l l , g . p r o t o t y p e . s c a l e v a l u e s = n u l l , g . p r o t o t y p e . o r i g i n a l s c a l e i d = 0 , g . p r o t o t y p e . s c a l e i d = 0 , g . p r o t o t y p e . p o p u p = n u l l , g . p r o t o t y p e . s h o w C o n f i g = f u n c t i o n ( ) { v a r   d = t h i s ; i f ( t h i s . s c a l e i d = a ( t h i s . s e l e c t S e l e c t o r ) . v a l ( ) , ! ( t h i s . s c a l e i d < = 0 ) ) { v a r   f = a ( t h i s . s e l e c t S e l e c t o r ) . f i n d ( " o p t i o n : s e l e c t e d " ) . t e x t ( ) ; t h i s . g e t S c a l e V a l u e s ( t h i s . s c a l e i d ) . d o n e ( f u n c t i o n ( ) { v a r   a = { s c a l e n a m e : f , s c a l e s : d . s c a l e v a l u e s } ; c . r e n d e r ( " t o o l _ l p / s c a l e _ c o n f i g u r a t i o n _ p a g e " , a ) . d o n e ( f u n c t i o n ( a ) { n e w   e ( f , a , d . i n i t S c a l e C o n f i g . b i n d ( d ) ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } } , g . p r o t o t y p e . r e t r i e v e O r i g i n a l S c a l e C o n f i g = f u n c t i o n ( ) { v a r   b = a ( t h i s . i n p u t S e l e c t o r ) . v a l ( ) ; i f ( " " ! = = b ) { v a r   c = a . p a r s e J S O N ( b ) , d = c . s h i f t ( ) ; i f ( d . s c a l e i d = = = t h i s . o r i g i n a l s c a l e i d ) r e t u r n   c } r e t u r n " " } , g . p r o t o t y p e . i n i t S c a l e C o n f i g = f u n c t i o n ( b ) { t h i s . p o p u p = b ; v a r   c = a ( b . g e t C o n t e n t ( ) ) ; i f ( t h i s . o r i g i n a l s c a l e i d = = = t h i s . s c a l e i d ) { v a r   d = t h i s . r e t r i e v e O r i g i n a l S c a l e C o n f i g ( ) ; " " ! = = d & & d . f o r E a c h ( f u n c t i o n ( a ) { 1 = = = a . s c a l e d e f a u l t & & c . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ d e f a u l t _ ' + a . i d + ' " ] ' ) . a t t r ( " c h e c k e d " , ! 0 ) , 1 = = = a . p r o f i c i e n t & & c . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ p r o f i c i e n t _ ' + a . i d + ' " ] ' ) . a t t r ( " c h e c k e d " , ! 0 ) } ) } c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " c l o s e " ] ' , f u n c t i o n ( ) { t h i s . s e t S c a l e C o n f i g ( ) , b . c l o s e ( ) } . b i n d ( t h i s ) ) , c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " c a n c e l " ] ' , f u n c t i o n ( ) { b . c l o s e ( ) } ) } , g . p r o t o t y p e . s e t S c a l e C o n f i g = f u n c t i o n ( ) { v a r   b = a ( t h i s . p o p u p . g e t C o n t e n t ( ) ) , c = [ { s c a l e i d : t h i s . s c a l e i d } ] ; t h i s . s c a l e v a l u e s . f o r E a c h ( f u n c t i o n ( a ) { v a r   d = 0 , e = 0 ; b . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ d e f a u l t _ ' + a . i d + ' " ] ' ) . i s ( " : c h e c k e d " ) & & ( d = 1 ) , b . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ p r o f i c i e n t _ ' + a . i d + ' " ] ' ) . i s ( " : c h e c k e d " ) & & ( e = 1 ) , ( d | | e ) & & c . p u s h ( { i d : a . i d , s c a l e d e f a u l t : d , p r o f i c i e n t : e } ) } ) ; v a r   d = J S O N . s t r i n g i f y ( c ) ; a ( t h i s . i n p u t S e l e c t o r ) . v a l ( d ) , t h i s . o r i g i n a l s c a l e i d = t h i s . s c a l e i d } , g . p r o t o t y p e . g e t S c a l e V a l u e s = f u n c t i o n ( a ) { r e t u r n   f . g e t _ v a l u e s ( a ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . s c a l e v a l u e s = a , a } . b i n d ( t h i s ) ) } , g . p r o t o t y p e . s c a l e C h a n g e H a n d l e r = f u n c t i o n ( b ) { a ( b . t a r g e t ) . v a l ( ) < = 0 ? a ( t h i s . t r i g g e r S e l e c t o r ) . p r o p ( " d i s a b l e d " , ! 0 ) : a ( t h i s . t r i g g e r S e l e c t o r ) . p r o p ( " d i s a b l e d " , ! 1 ) } , { i n i t : f u n c t i o n ( a , b , c ) { r e t u r n   n e w   g ( a , b , c ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ r u l e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { t h i s . _ e v e n t N o d e = a ( " < d i v > " ) , t h i s . _ r e a d y = a . D e f e r r e d ( ) , t h i s . _ t r e e = b } ; r e t u r n   b . p r o t o t y p e . _ c o m p e t e n c y = n u l l , b . p r o t o t y p e . _ e v e n t N o d e = n u l l , b . p r o t o t y p e . _ r e a d y = n u l l , b . p r o t o t y p e . _ t r e e = n u l l , b . p r o t o t y p e . c a n C o n f i g = f u n c t i o n ( ) { r e t u r n   t h i s . _ t r e e . h a s C h i l d r e n ( t h i s . _ c o m p e t e n c y . i d ) } , b . p r o t o t y p e . g e t C o n f i g = f u n c t i o n ( ) { r e t u r n   n u l l } , b . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d " ) } , b . p r o t o t y p e . i n i t = f u n c t i o n ( ) { r e t u r n   t h i s . _ l o a d ( ) } , b . p r o t o t y p e . i n j e c t T e m p l a t e = f u n c t i o n ( ) { r e t u r n   a . D e f e r r e d ( ) . r e j e c t ( ) . p r o m i s e ( ) } , b . p r o t o t y p e . i s V a l i d = f u n c t i o n ( ) { r e t u r n ! 1 } , b . p r o t o t y p e . _ l o a d = f u n c t i o n ( ) { r e t u r n   a . w h e n ( ) } , b . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , b . p r o t o t y p e . s e t T a r g e t C o m p e t e n c y = f u n c t i o n ( a ) { t h i s . _ c o m p e t e n c y = a } , b . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , b . p r o t o t y p e . _ t r i g g e r C h a n g e = f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " c h a n g e " , t h i s ) } , b } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ o u t c o m e s ' ,   [ " j q u e r y " , " c o r e / s t r " ] , f u n c t i o n ( a , b ) { v a r   c = 0 , d = 1 , e = 2 , f = 3 ; r e t u r n { N O N E : c , E V I D E N C E : d , C O M P L E T E : e , R E C O M M E N D : f , g e t A l l : f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   b . g e t _ s t r i n g s ( [ { k e y : " c o m p e t e n c y o u t c o m e _ n o n e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o m p e t e n c y o u t c o m e _ e v i d e n c e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o m p e t e n c y o u t c o m e _ r e c o m m e n d " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o m p e t e n c y o u t c o m e _ c o m p l e t e " , c o m p o n e n t : " t o o l _ l p " } ] ) . t h e n ( f u n c t i o n ( b ) { v a r   c = { } ; r e t u r n   c [ a . N O N E ] = { c o d e : a . N O N E , n a m e : b [ 0 ] } , c [ a . E V I D E N C E ] = { c o d e : a . E V I D E N C E , n a m e : b [ 1 ] } , c [ a . R E C O M M E N D ] = { c o d e : a . R E C O M M E N D , n a m e : b [ 2 ] } , c [ a . C O M P L E T E ] = { c o d e : a . C O M P L E T E , n a m e : b [ 3 ] } , c } ) } , g e t S t r i n g : f u n c t i o n ( b ) { v a r   c = t h i s , d = c . g e t A l l ( ) ; r e t u r n   d . t h e n ( f u n c t i o n ( c ) { r e t u r n " u n d e f i n e d " = = t y p e o f   c [ b ] ? a . D e f e r r e d ( ) . r e j e c t ( ) . p r o m i s e ( ) : c [ b ] . n a m e } ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ c o u r s e _ n a v i g a t i o n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e , f , g ) { t h i s . _ b a s e U r l = d , t h i s . _ u s e r I d = e + " " , t h i s . _ c o m p e t e n c y I d = f + " " , t h i s . _ c o u r s e I d = g , a ( b ) . o n ( " c h a n g e " , t h i s . _ u s e r C h a n g e d . b i n d ( t h i s ) ) , a ( c ) . o n ( " c h a n g e " , t h i s . _ c o m p e t e n c y C h a n g e d . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ u s e r C h a n g e d = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r i d = " + c + " & c o u r s e i d = " + t h i s . _ c o u r s e I d + " & c o m p e t e n c y i d = " + t h i s . _ c o m p e t e n c y I d ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ c o m p e t e n c y C h a n g e d = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r i d = " + t h i s . _ u s e r I d + " & c o u r s e i d = " + t h i s . _ c o u r s e I d + " & c o m p e t e n c y i d = " + c ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , b . p r o t o t y p e . _ u s e r I d = n u l l , b . p r o t o t y p e . _ c o u r s e I d = n u l l , b . p r o t o t y p e . _ b a s e U r l = n u l l , b . p r o t o t y p e . _ i g n o r e F i r s t C o m p e t e n c y = n u l l , b } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y p i c k e r _ u s e r _ p l a n s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / t r e e " , " t o o l _ l p / c o m p e t e n c y p i c k e r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a , b , c ) { g . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ 1 , ! 1 , " s e l f " , c ] ) , t h i s . _ u s e r I d = a , t h i s . _ p l a n s = [ ] , b & & ( t h i s . _ p l a n I d = b , t h i s . _ s i n g l e P l a n = ! 0 ) } ; r e t u r n   h . p r o t o t y p e = O b j e c t . c r e a t e ( g . p r o t o t y p e ) , h . p r o t o t y p e . _ p l a n s = n u l l , h . p r o t o t y p e . _ p l a n I d = n u l l , h . p r o t o t y p e . _ s i n g l e P l a n = ! 1 , h . p r o t o t y p e . _ u s e r I d = n u l l , h . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; g . p r o t o t y p e . _ a f t e r R e n d e r . a p p l y ( b , a r g u m e n t s ) , b . _ s i n g l e P l a n | | b . _ f i n d ( ' [ d a t a - a c t i o n = " c h o o s e p l a n " ] ' ) . c h a n g e ( f u n c t i o n ( c ) { b . _ p l a n I d = a ( c . t a r g e t ) . v a l ( ) , b . _ l o a d C o m p e t e n c i e s ( ) . t h e n ( b . _ r e f r e s h . b i n d ( b ) ) } ) } , h . p r o t o t y p e . _ f e t c h C o m p e t e n c i e s = f u n c t i o n ( a , d ) { v a r   e = t h i s ; r e t u r n   c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ p l a n _ c o m p e t e n c i e s " , a r g s : { i d : a } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { v a r   b , c , f = [ ] ; f o r ( b = 0 ; b < a . l e n g t h ; b + + ) c = a [ b ] . c o m p e t e n c y , c . s h o r t n a m e . t o L o w e r C a s e ( ) . i n d e x O f ( d . t o L o w e r C a s e ( ) ) < 0 | | ( c . c h i l d r e n = [ ] , c . h a s c h i l d r e n = 0 , f . p u s h ( c ) ) ; e . _ c o m p e t e n c i e s = f } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ g e t P l a n = f u n c t i o n ( b ) { v a r   c ; r e t u r n   a . e a c h ( t h i s . _ p l a n s , f u n c t i o n ( a , d ) { i f ( d . i d = = b ) r e t u r n   v o i d ( c = d ) } ) , c } , h . p r o t o t y p e . _ l o a d C o m p e t e n c i e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ f e t c h C o m p e t e n c i e s ( t h i s . _ p l a n I d , t h i s . _ s e a r c h T e x t ) } , h . p r o t o t y p e . _ l o a d P l a n s = f u n c t i o n ( ) { v a r   d , e = t h i s ; r e t u r n   e . _ p l a n s . l e n g t h > 0 ? a . w h e n ( ) : ( d = e . _ s i n g l e P l a n ? c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : t h i s . _ p l a n I d } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n [ a ] } ) : c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ u s e r _ p l a n s " , a r g s : { u s e r i d : e . _ u s e r I d } } ] ) [ 0 ] , d . d o n e ( f u n c t i o n ( a ) { e . _ p l a n s = a } ) . f a i l ( b . e x c e p t i o n ) ) } , h . p r o t o t y p e . _ p r e R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ l o a d P l a n s ( ) . t h e n ( f u n c t i o n ( ) { r e t u r n ! b . _ p l a n I d & & b . _ p l a n s . l e n g t h > 0 & & ( b . _ p l a n I d = b . _ p l a n s [ 0 ] . i d ) , b . _ p l a n I d ? b . _ l o a d C o m p e t e n c i e s ( ) : ( b . _ p l a n s = [ ] , a . w h e n ( ) ) } ) } , h . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { b . _ s i n g l e P l a n | | a . e a c h ( b . _ p l a n s , f u n c t i o n ( a , c ) { c . i d = = b . _ p l a n I d ? c . s e l e c t e d = ! 0 : c . s e l e c t e d = ! 1 } ) ; v a r   c = { c o m p e t e n c i e s : b . _ c o m p e t e n c i e s , p l a n : b . _ g e t P l a n ( b . _ p l a n I d ) , p l a n s : b . _ p l a n s , s e a r c h : b . _ s e a r c h T e x t , s i n g l e P l a n : b . _ s i n g l e P l a n } ; r e t u r n   d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ p i c k e r _ u s e r _ p l a n s " , c ) } ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o u r s e _ c o m p e t e n c y _ s e t t i n g s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " t o o l _ l p / d i a l o g u e " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b ) { a ( b ) . o n ( " c l i c k " , t h i s . c o n f i g u r e S e t t i n g s . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . _ d i a l o g u e = n u l l , g . p r o t o t y p e . c o n f i g u r e S e t t i n g s = f u n c t i o n ( e ) { v a r   g = a ( e . t a r g e t ) . c l o s e s t ( " a " ) . d a t a ( " c o u r s e i d " ) , h = a ( e . t a r g e t ) . c l o s e s t ( " a " ) . d a t a ( " p u s h r a t i n g s t o u s e r p l a n s " ) , i = { c o u r s e i d : g , s e t t i n g s : { p u s h r a t i n g s t o u s e r p l a n s : h } } ; e . p r e v e n t D e f a u l t ( ) , f . r e n d e r ( " t o o l _ l p / c o u r s e _ c o m p e t e n c y _ s e t t i n g s " , i ) . d o n e ( f u n c t i o n ( a ) { d . g e t _ s t r i n g ( " c o n f i g u r e c o u r s e c o m p e t e n c y s e t t i n g s " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { t h i s . _ d i a l o g u e = n e w   c ( b , a , t h i s . a d d L i s t e n e r s . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . a d d L i s t e n e r s = f u n c t i o n ( ) { v a r   a = t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) ; a . o n ( " c l i c k " , t h i s . s a v e S e t t i n g s . b i n d ( t h i s ) ) ; v a r   b = t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " c a n c e l " ] ' ) ; b . o n ( " c l i c k " , t h i s . c a n c e l C h a n g e s . b i n d ( t h i s ) ) } , g . p r o t o t y p e . c a n c e l C h a n g e s = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . _ d i a l o g u e . c l o s e ( ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " c o u r s e c o m p e t e n c y s e t t i n g s " ] ' ) . f i n d ( b ) } , g . p r o t o t y p e . s a v e S e t t i n g s = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d ( ' i n p u t [ n a m e = " p u s h r a t i n g s t o u s e r p l a n s " ] : c h e c k e d ' ) . v a l ( ) , d = t h i s . _ f i n d ( ' i n p u t [ n a m e = " c o u r s e i d " ] ' ) . v a l ( ) , f = { p u s h r a t i n g s t o u s e r p l a n s : c } ; e . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u p d a t e _ c o u r s e _ c o m p e t e n c y _ s e t t i n g s " , a r g s : { c o u r s e i d : d , s e t t i n g s : f } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( ) { t h i s . r e f r e s h C o u r s e C o m p e t e n c i e s P a g e ( ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . r e f r e s h C o u r s e C o m p e t e n c i e s P a g e = f u n c t i o n ( ) { v a r   c = t h i s . _ f i n d ( ' i n p u t [ n a m e = " c o u r s e i d " ] ' ) . v a l ( ) ; e . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : c } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( c ) { f . r e n d e r ( " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , c ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " c o u r s e c o m p e t e n c i e s p a g e " ] ' ) . r e p l a c e W i t h ( b ) , f . r u n T e m p l a t e J S ( c ) , t h i s . _ d i a l o g u e . c l o s e ( ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / f o r m - c o h o r t - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h , i = p a r s e I n t ( a ( d ) . d a t a ( " c o n t e x t i d " ) , 1 0 ) , j = a ( d ) . d a t a ( " i n c l u d e s " ) ; h = b . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ s e a r c h _ c o h o r t s " , a r g s : { q u e r y : e , c o n t e x t : { c o n t e x t i d : i } , i n c l u d e s : j } } ] ) , h [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   d = [ ] , e = 0 ; r e t u r n   a . e a c h ( b . c o h o r t s , f u n c t i o n ( a , b ) { d . p u s h ( c . r e n d e r ( " t o o l _ l p / f o r m - c o h o r t - s e l e c t o r - s u g g e s t i o n " , b ) ) } ) , a . w h e n . a p p l y ( a . w h e n , d ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s ; a . e a c h ( b . c o h o r t s , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ e ] , e + + } ) , f ( b . c o h o r t s ) } ) } , g ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / f r a m e w o r k a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = 0 , g = 0 , h = f u n c t i o n ( c , d ) { a ( ' [ d a t a - r e g i o n = " m a n a g e c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( c ) , b . r u n T e m p l a t e J S ( d ) } , i = f u n c t i o n ( a ) { b . r e n d e r ( " t o o l _ l p / m a n a g e _ c o m p e t e n c y _ f r a m e w o r k s _ p a g e " , a ) . d o n e ( h ) . f a i l ( d . e x c e p t i o n ) } , j = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , g = a ( t h i s ) . a t t r ( " d a t a - f r a m e w o r k i d " ) ; v a r   e = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d u p l i c a t e _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c y _ f r a m e w o r k s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : f } } } ] ) ; e [ 1 ] . d o n e ( i ) . f a i l ( d . e x c e p t i o n ) } , k = f u n c t i o n ( ) { v a r   a = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c y _ f r a m e w o r k s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : f } } } ] ) ; a [ 0 ] . d o n e ( f u n c t i o n ( a ) { i f ( a = = = ! 1 ) { v a r   b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } ] ) ; b [ 0 ] . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g s ( [ { k e y : " f r a m e w o r k c a n n o t b e d e l e t e d " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . a l e r t ( n u l l , a [ 0 ] ) } ) . f a i l ( d . e x c e p t i o n ) } ) } } ) . f a i l ( d . e x c e p t i o n ) , a [ 1 ] . d o n e ( i ) . f a i l ( d . e x c e p t i o n ) } , l = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( t h i s ) . a t t r ( " d a t a - f r a m e w o r k i d " ) ; g = f ; v a r   h = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } ] ) ; h [ 0 ] . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e c o m p e t e n c y f r a m e w o r k " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , k ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n { d e l e t e H a n d l e r : l , d u p l i c a t e H a n d l e r : j , i n i t : f u n c t i o n ( a ) { f = a } } } ) ; 
 d e f i n e ( ' t o o l _ l p / f r a m e w o r k s _ d a t a s o u r c e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { r e t u r n { l i s t : f u n c t i o n ( d , e ) { v a r   f , g = { c o n t e x t : { c o n t e x t i d : d } } ; r e t u r n   a . e x t e n d ( g , " u n d e f i n e d " = = t y p e o f   e ? { } : e ) , f = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ c o m p e t e n c y _ f r a m e w o r k s " , a r g s : g } ] ) [ 0 ] , f . f a i l ( c . e x c e p t i o n ) } , p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . s h o r t n a m e + "   " + b . i d n u m b e r } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( b , c , d ) { v a r   e = a ( b ) , f = e . d a t a ( " c o n t e x t i d " ) , g = e . d a t a ( " o n l y v i s i b l e " ) ; i f ( ! f ) t h r o w   n e w   E r r o r ( " T h e   a t t r i b u t e   d a t a - c o n t e x t i d   i s   r e q u i r e d   o n   " + b ) ; t h i s . l i s t ( f , { q u e r y : c , o n l y v i s i b l e : g } ) . t h e n ( d ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / g r a d e _ u s e r _ c o m p e t e n c y _ i n l i n e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / l o g " , " t o o l _ l p / g r a d e _ d i a l o g u e " , " t o o l _ l p / e v e n t _ b a s e " , " t o o l _ l p / s c a l e v a l u e s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c , d , e , g , h , i ) { f . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) ; v a r   j = a ( b ) ; i f ( ! j . l e n g t h ) t h r o w   n e w   E r r o r ( " C o u l d   n o t   f i n d   t h e   t r i g g e r " ) ; t h i s . _ s c a l e I d = c , t h i s . _ c o m p e t e n c y I d = d , t h i s . _ u s e r I d = e , t h i s . _ p l a n I d = g , t h i s . _ c o u r s e I d = h , t h i s . _ c h o o s e S t r = i , t h i s . _ s e t U p ( ) , j . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . _ d i a l o g u e . d i s p l a y ( ) } . b i n d ( t h i s ) ) , t h i s . _ p l a n I d ? ( t h i s . _ m e t h o d N a m e = " c o r e _ c o m p e t e n c y _ g r a d e _ c o m p e t e n c y _ i n _ p l a n " , t h i s . _ a r g s = { c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , p l a n i d : t h i s . _ p l a n I d } ) : t h i s . _ c o u r s e I d ? ( t h i s . _ m e t h o d N a m e = " c o r e _ c o m p e t e n c y _ g r a d e _ c o m p e t e n c y _ i n _ c o u r s e " , t h i s . _ a r g s = { c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , c o u r s e i d : t h i s . _ c o u r s e I d , u s e r i d : t h i s . _ u s e r I d } ) : ( t h i s . _ m e t h o d N a m e = " c o r e _ c o m p e t e n c y _ g r a d e _ c o m p e t e n c y " , t h i s . _ a r g s = { u s e r i d : t h i s . _ u s e r I d , c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d } ) } ; r e t u r n   h . p r o t o t y p e = O b j e c t . c r e a t e ( f . p r o t o t y p e ) , h . p r o t o t y p e . _ s e t U p = f u n c t i o n ( ) { v a r   a = [ ] , d = t h i s , f = g . g e t _ v a l u e s ( d . _ s c a l e I d ) ; f . d o n e ( f u n c t i o n ( f ) { a . p u s h ( { v a l u e : " " , n a m e : d . _ c h o o s e S t r } ) ; f o r ( v a r   g = 0 ; g < f . l e n g t h ; g + + ) { v a r   h = f [ g ] ; a . p u s h ( { v a l u e : h . i d , n a m e : h . n a m e } ) } d . _ d i a l o g u e = n e w   e ( a ) , d . _ d i a l o g u e . o n ( " r a t e d " , f u n c t i o n ( a , e ) { v a r   f = d . _ a r g s ; f . g r a d e = e . r a t i n g , f . n o t e = e . n o t e , c . c a l l ( [ { m e t h o d n a m e : d . _ m e t h o d N a m e , a r g s : f , d o n e : f u n c t i o n ( a ) { d . _ t r i g g e r ( " c o m p e t e n c y u p d a t e d " , { a r g s : f , e v i d e n c e : a } ) } , f a i l : b . e x c e p t i o n } ] ) } ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ s c a l e I d = n u l l , h . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , h . p r o t o t y p e . _ u s e r I d = n u l l , h . p r o t o t y p e . _ p l a n I d = n u l l , h . p r o t o t y p e . _ c o u r s e I d = n u l l , h . p r o t o t y p e . _ c h o o s e S t r = n u l l , h . p r o t o t y p e . _ d i a l o g u e = n u l l , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ r u l e _ a l l ' ,   [ " j q u e r y " , " c o r e / s t r " , " t o o l _ l p / c o m p e t e n c y _ r u l e " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( ) { c . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   d . p r o t o t y p e = O b j e c t . c r e a t e ( c . p r o t o t y p e ) , d . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " c o r e _ c o m p e t e n c y \ \ c o m p e t e n c y _ r u l e _ a l l " } , d . p r o t o t y p e . i s V a l i d = f u n c t i o n ( ) { r e t u r n ! 0 } , d } ) ; 
 d e f i n e ( ' t o o l _ l p / e v e n t _ b a s e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( ) { t h i s . _ e v e n t N o d e = a ( " < d i v > < / d i v > " ) } ; r e t u r n   b . p r o t o t y p e . _ e v e n t N o d e = n u l l , b . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , b . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , b } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ w o r k f l o w ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / e v e n t _ b a s e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( ) { g . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) } ; r e t u r n   h . p r o t o t y p e = O b j e c t . c r e a t e ( g . p r o t o t y p e ) , h . p r o t o t y p e . _ n o d e S e l e c t o r = ' [ d a t a - n o d e = " u s e r - c o m p e t e n c y " ] ' , h . p r o t o t y p e . _ c a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ c a n c e l _ r e v i e w _ r e q u e s t " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - r e q u e s t - c a n c e l l e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) , f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . c a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { t h i s . _ c a n c e l R e v i e w R e q u e s t ( a ) } , h . p r o t o t y p e . _ c a n c e l R e v i e w R e q u e s t H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . c a n c e l R e v i e w R e q u e s t ( c ) } , h . p r o t o t y p e . _ r e q u e s t R e v i e w = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ r e q u e s t _ r e v i e w " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - r e q u e s t e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) , f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . r e q u e s t R e v i e w = f u n c t i o n ( a ) { t h i s . _ r e q u e s t R e v i e w ( a ) } , h . p r o t o t y p e . _ r e q u e s t R e v i e w H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . r e q u e s t R e v i e w ( c ) } , h . p r o t o t y p e . _ s t a r t R e v i e w = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ s t a r t _ r e v i e w " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - s t a r t e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) , f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . s t a r t R e v i e w = f u n c t i o n ( a ) { t h i s . _ s t a r t R e v i e w ( a ) } , h . p r o t o t y p e . _ s t a r t R e v i e w H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . s t a r t R e v i e w ( c ) } , h . p r o t o t y p e . _ s t o p R e v i e w = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ s t o p _ r e v i e w " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - s t o p p e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) , f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . s t o p R e v i e w = f u n c t i o n ( a ) { t h i s . _ s t o p R e v i e w ( a ) } , h . p r o t o t y p e . _ s t o p R e v i e w H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . s t o p R e v i e w ( c ) } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " r e q u e s t - r e v i e w " ] ' : t h i s . _ r e q u e s t R e v i e w H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " c a n c e l - r e v i e w - r e q u e s t " ] ' : t h i s . _ c a n c e l R e v i e w R e q u e s t H a n d l e r . b i n d ( t h i s ) } ) } , h . p r o t o t y p e . _ f i n d U s e r C o m p e t e n c y D a t a = f u n c t i o n ( a ) { v a r   b , c = a . p a r e n t s ( t h i s . _ n o d e S e l e c t o r ) ; i f ( 1 ! = c . l e n g t h ) t h r o w   n e w   E r r o r ( " T h e   e v i d e n c e   n o d e   w a s   n o t   l o c a t e d . " ) ; i f ( b = c . d a t a ( ) , " u n d e f i n e d " = = t y p e o f   b | | " u n d e f i n e d " = = t y p e o f   b . u s e r i d | | " u n d e f i n e d " = = t y p e o f   b . c o m p e t e n c y i d ) t h r o w   n e w   E r r o r ( " U s e r   c o m p e t e n c y   d a t a   c o u l d   n o t   b e   f o u n d . " ) ; r e t u r n   b } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " r e q u e s t - r e v i e w " ] ' : t h i s . _ r e q u e s t R e v i e w H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " c a n c e l - r e v i e w - r e q u e s t " ] ' : t h i s . _ c a n c e l R e v i e w R e q u e s t H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " s t a r t - r e v i e w " ] ' : t h i s . _ s t a r t R e v i e w H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " s t o p - r e v i e w " ] ' : t h i s . _ s t o p R e v i e w H a n d l e r . b i n d ( t h i s ) } ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( b ) { v a r   c = a ( b ) ; c . f i n d ( ' [ d a t a - a c t i o n = " r e q u e s t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ r e q u e s t R e v i e w H a n d l e r . b i n d ( t h i s ) ) , c . f i n d ( ' [ d a t a - a c t i o n = " c a n c e l - r e v i e w - r e q u e s t " ] ' ) . c l i c k ( t h i s . _ c a n c e l R e v i e w R e q u e s t H a n d l e r . b i n d ( t h i s ) ) , c . f i n d ( ' [ d a t a - a c t i o n = " s t a r t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ s t a r t R e v i e w H a n d l e r . b i n d ( t h i s ) ) , c . f i n d ( ' [ d a t a - a c t i o n = " s t o p - r e v i e w " ] ' ) . c l i c k ( t h i s . _ s t o p R e v i e w H a n d l e r . b i n d ( t h i s ) ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / f o r m - u s e r - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h , i = a ( d ) . d a t a ( " c a p a b i l i t y " ) ; " u n d e f i n e d " = = t y p e o f   i & & ( i = " " ) , h = b . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ s e a r c h _ u s e r s " , a r g s : { q u e r y : e , c a p a b i l i t y : i } } ] ) , h [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   d = [ ] , e = 0 ; r e t u r n   a . e a c h ( b . u s e r s , f u n c t i o n ( b , e ) { v a r   f = e , g = [ ] ; a . e a c h ( [ " i d n u m b e r " , " e m a i l " , " p h o n e 1 " , " p h o n e 2 " , " d e p a r t m e n t " , " i n s t i t u t i o n " ] , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   e [ b ] & & " " ! = = e [ b ] & & ( f . h a s i d e n t i t y = ! 0 , g . p u s h ( e [ b ] ) ) } ) , f . i d e n t i t y = g . j o i n ( " ,   " ) , d . p u s h ( c . r e n d e r ( " t o o l _ l p / f o r m - u s e r - s e l e c t o r - s u g g e s t i o n " , f ) ) } ) , a . w h e n . a p p l y ( a . w h e n , d ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s ; a . e a c h ( b . u s e r s , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ e ] , e + + } ) , f ( b . u s e r s ) } ) } , g ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c i e s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / c o m p e t e n c y p i c k e r " , " t o o l _ l p / d r a g d r o p - r e o r d e r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c , d ) { t h i s . i t e m i d = b , t h i s . i t e m t y p e = c , t h i s . p a g e C o n t e x t I d = d , t h i s . p i c k e r I n s t a n c e = n u l l , a ( ' [ d a t a - r e g i o n = " a c t i o n s " ]   b u t t o n ' ) . p r o p ( " d i s a b l e d " , ! 1 ) , t h i s . r e g i s t e r E v e n t s ( ) , t h i s . r e g i s t e r D r a g D r o p ( ) } ; r e t u r n   h . p r o t o t y p e . r e g i s t e r D r a g D r o p = f u n c t i o n ( ) { v a r   a = t h i s ; e . g e t _ s t r i n g ( " m o v e c o m p e t e n c y " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { g . d r a g d r o p ( " m o v e c o m p e t e n c y " , b , { i d e n t i f i e r : " m o v e c o m p e t e n c y " , c o m p o n e n t : " t o o l _ l p " } , { i d e n t i f i e r : " m o v e c o m p e t e n c y a f t e r " , c o m p o n e n t : " t o o l _ l p " } , " d r a g - s a m e n o d e " , " d r a g - p a r e n t n o d e " , " d r a g - h a n d l e c o n t a i n e r " , f u n c t i o n ( b , c ) { a . h a n d l e D r o p ( b , c ) } ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . h a n d l e D r o p = f u n c t i o n ( d , e ) { v a r   f = a ( d ) . d a t a ( " i d " ) , g = a ( e ) . d a t a ( " i d " ) , h = t h i s , i = [ ] ; i f ( " c o u r s e " = = h . i t e m t y p e ) i = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o r d e r _ c o u r s e _ c o m p e t e n c y " , a r g s : { c o u r s e i d : h . i t e m i d , c o m p e t e n c y i d f r o m : f , c o m p e t e n c y i d t o : g } } ] ) ; e l s e   i f ( " t e m p l a t e " = = h . i t e m t y p e ) i = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o r d e r _ t e m p l a t e _ c o m p e t e n c y " , a r g s : { t e m p l a t e i d : h . i t e m i d , c o m p e t e n c y i d f r o m : f , c o m p e t e n c y i d t o : g } } ] ) ; e l s e { i f ( " p l a n " ! = h . i t e m t y p e ) r e t u r n ; i = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o r d e r _ p l a n _ c o m p e t e n c y " , a r g s : { p l a n i d : h . i t e m i d , c o m p e t e n c y i d f r o m : f , c o m p e t e n c y i d t o : g } } ] ) } i [ 0 ] . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . p i c k C o m p e t e n c y = f u n c t i o n ( ) { v a r   e , g , h , i , j = t h i s ; j . p i c k e r I n s t a n c e | | ( " t e m p l a t e " ! = = j . i t e m t y p e & & " c o u r s e " ! = = j . i t e m t y p e | | ( i = " p a r e n t s " ) , j . p i c k e r I n s t a n c e = n e w   f ( j . p a g e C o n t e x t I d , ( ! 1 ) , i ) , j . p i c k e r I n s t a n c e . o n ( " s a v e " , f u n c t i o n ( f , i ) { v a r   k = i . c o m p e t e n c y I d s ; " c o u r s e " = = = j . i t e m t y p e ? ( e = [ ] , a . e a c h ( k , f u n c t i o n ( a , b ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ c o m p e t e n c y _ t o _ c o u r s e " , a r g s : { c o u r s e i d : j . i t e m i d , c o m p e t e n c y i d : b } } ) } ) , e . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : j . i t e m i d } } ) , g = " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , h = " c o u r s e c o m p e t e n c i e s p a g e " ) : " t e m p l a t e " = = = j . i t e m t y p e ? ( e = [ ] , a . e a c h ( k , f u n c t i o n ( a , b ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ c o m p e t e n c y _ t o _ t e m p l a t e " , a r g s : { t e m p l a t e i d : j . i t e m i d , c o m p e t e n c y i d : b } } ) } ) , e . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , a r g s : { t e m p l a t e i d : j . i t e m i d , p a g e c o n t e x t : { c o n t e x t i d : j . p a g e C o n t e x t I d } } } ) , g = " t o o l _ l p / t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , h = " t e m p l a t e c o m p e t e n c i e s p a g e " ) : " p l a n " = = = j . i t e m t y p e & & ( e = [ ] , a . e a c h ( k , f u n c t i o n ( a , b ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ c o m p e t e n c y _ t o _ p l a n " , a r g s : { p l a n i d : j . i t e m i d , c o m p e t e n c y i d : b } } ) } ) , e . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " , a r g s : { p l a n i d : j . i t e m i d } } ) , g = " t o o l _ l p / p l a n _ p a g e " , h = " p l a n - p a g e " ) , c . c a l l ( e ) [ e . l e n g t h - 1 ] . t h e n ( f u n c t i o n ( b ) { r e t u r n   d . r e n d e r ( g , b ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " ' + h + ' " ] ' ) . r e p l a c e W i t h ( b ) , d . r u n T e m p l a t e J S ( c ) } ) } , b . e x c e p t i o n ) } ) ) , j . p i c k e r I n s t a n c e . d i s p l a y ( ) } , h . p r o t o t y p e . d o D e l e t e = f u n c t i o n ( e ) { v a r   f = t h i s , g = [ ] , h = " " , i = " " ; " c o u r s e " = = f . i t e m t y p e ? ( g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ c o m p e t e n c y _ f r o m _ c o u r s e " , a r g s : { c o u r s e i d : f . i t e m i d , c o m p e t e n c y i d : e } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : f . i t e m i d } } ] ) , h = " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , i = " c o u r s e c o m p e t e n c i e s p a g e " ) : " t e m p l a t e " = = f . i t e m t y p e ? ( g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ c o m p e t e n c y _ f r o m _ t e m p l a t e " , a r g s : { t e m p l a t e i d : f . i t e m i d , c o m p e t e n c y i d : e } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , a r g s : { t e m p l a t e i d : f . i t e m i d , p a g e c o n t e x t : { c o n t e x t i d : f . p a g e C o n t e x t I d } } } ] ) , h = " t o o l _ l p / t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , i = " t e m p l a t e c o m p e t e n c i e s p a g e " ) : " p l a n " = = f . i t e m t y p e & & ( g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ c o m p e t e n c y _ f r o m _ p l a n " , a r g s : { p l a n i d : f . i t e m i d , c o m p e t e n c y i d : e } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " , a r g s : { p l a n i d : f . i t e m i d } } ] ) , h = " t o o l _ l p / p l a n _ p a g e " , i = " p l a n - p a g e " ) , g [ 1 ] . d o n e ( f u n c t i o n ( c ) { d . r e n d e r ( h , c ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " ' + i + ' " ] ' ) . r e p l a c e W i t h ( b ) , d . r u n T e m p l a t e J S ( c ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . d e l e t e H a n d l e r = f u n c t i o n ( a ) { v a r   d , f = t h i s , g = [ ] ; i f ( " c o u r s e " = = f . i t e m t y p e ) d = " u n l i n k c o m p e t e n c y c o u r s e " ; e l s e   i f ( " t e m p l a t e " = = f . i t e m t y p e ) d = " u n l i n k c o m p e t e n c y t e m p l a t e " ; e l s e { i f ( " p l a n " ! = f . i t e m t y p e ) r e t u r n ; d = " u n l i n k c o m p e t e n c y p l a n " } g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y " , a r g s : { i d : a } } ] ) , g [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : d , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . s h o r t n a m e } , { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { f . d o D e l e t e ( a ) } ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   e = t h i s ; " c o u r s e " = = e . i t e m t y p e & & a ( ' [ d a t a - r e g i o n = " c o u r s e c o m p e t e n c i e s p a g e " ] ' ) . o n ( " c h a n g e " , ' s e l e c t [ d a t a - f i e l d = " r u l e o u t c o m e " ] ' , f u n c t i o n ( f ) { v a r   g = [ ] , h = " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , i = " c o u r s e c o m p e t e n c i e s p a g e " , j = a ( f . t a r g e t ) . d a t a ( " i d " ) , k = a ( f . t a r g e t ) . v a l ( ) ; g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e t _ c o u r s e _ c o m p e t e n c y _ r u l e o u t c o m e " , a r g s : { c o u r s e c o m p e t e n c y i d : j , r u l e o u t c o m e : k } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : e . i t e m i d } } ] ) , g [ 1 ] . d o n e ( f u n c t i o n ( c ) { d . r e n d e r ( h , c ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " ' + i + ' " ] ' ) . r e p l a c e W i t h ( b ) , d . r u n T e m p l a t e J S ( c ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } ) , a ( ' [ d a t a - r e g i o n = " a c t i o n s " ]   b u t t o n ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , e . p i c k C o m p e t e n c y ( ) } ) , a ( ' [ d a t a - a c t i o n = " d e l e t e - c o m p e t e n c y - l i n k " ] ' ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " [ d a t a - i d ] " ) . d a t a ( " i d " ) ; e . d e l e t e H a n d l e r ( c ) } ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ e v i d e n c e _ a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / c o m p e t e n c y p i c k e r _ u s e r _ p l a n s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a ) { i f ( t h i s . _ t y p e = a , " e v i d e n c e " = = = a ) t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - p a g e " ] ' , t h i s . _ e v i d e n c e N o d e = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - p a g e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / u s e r _ e v i d e n c e _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ u s e r _ e v i d e n c e _ p a g e " ; e l s e { i f ( " l i s t " ! = = a ) t h r o w   n e w   T y p e E r r o r ( " U n e x p e c t e d   t y p e . " ) ; t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - l i s t " ] ' , t h i s . _ e v i d e n c e N o d e = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - n o d e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / u s e r _ e v i d e n c e _ l i s t _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ u s e r _ e v i d e n c e _ l i s t _ p a g e " } } ; r e t u r n   h . p r o t o t y p e . _ c o n t e x t M e t h o d = n u l l , h . p r o t o t y p e . _ e v i d e n c e N o d e = n u l l , h . p r o t o t y p e . _ r e g i o n = n u l l , h . p r o t o t y p e . _ t e m p l a t e = n u l l , h . p r o t o t y p e . _ t y p e = n u l l , h . p r o t o t y p e . _ g e t C o n t e x t A r g s = f u n c t i o n ( a ) { v a r   b = t h i s , c = { } ; r e t u r n " e v i d e n c e " = = = b . _ t y p e ? c = { i d : a . i d } : " l i s t " = = = b . _ t y p e & & ( c = { u s e r i d : a . u s e r i d } ) , c } , h . p r o t o t y p e . _ r e n d e r V i e w = f u n c t i o n ( c ) { v a r   e = t h i s ; b . r e n d e r ( e . _ t e m p l a t e , c ) . d o n e ( f u n c t i o n ( c , d ) { b . r e p l a c e N o d e ( a ( e . _ r e g i o n ) , c , d ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ c a l l A n d R e f r e s h = f u n c t i o n ( b , e ) { v a r   f = t h i s ; r e t u r n   b . p u s h ( { m e t h o d n a m e : f . _ c o n t e x t M e t h o d , a r g s : f . _ g e t C o n t e x t A r g s ( e ) } ) , a . w h e n . a p p l y ( a . w h e n , c . c a l l ( b ) ) . t h e n ( f u n c t i o n ( ) { f . _ r e n d e r V i e w ( a r g u m e n t s [ a r g u m e n t s . l e n g t h - 1 ] ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o D e l e t e = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ u s e r _ e v i d e n c e " , a r g s : { i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . d e l e t e E v i d e n c e = f u n c t i o n ( a ) { v a r   b , f = t h i s ; b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ u s e r _ e v i d e n c e " , a r g s : { i d : a . i d } } ] ) , b [ 0 ] . d o n e ( f u n c t i o n ( b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e u s e r e v i d e n c e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { d . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , f u n c t i o n ( ) { f . _ d o D e l e t e ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d e l e t e E v i d e n c e H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . t a r g e t ) ) ; t h i s . d e l e t e E v i d e n c e ( c ) } , h . p r o t o t y p e . _ d o C r e a t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( b , c ) { v a r   d = t h i s , e = [ ] ; a . e a c h ( c , f u n c t i o n ( a , c ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c r e a t e _ u s e r _ e v i d e n c e _ c o m p e t e n c y " , a r g s : { u s e r e v i d e n c e i d : b . i d , c o m p e t e n c y i d : c } } ) } ) , d . _ c a l l A n d R e f r e s h ( e , b ) } , h . p r o t o t y p e . c r e a t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( a ) { v a r   b = t h i s , c = n e w   g ( a . u s e r i d ) ; c . o n ( " s a v e " , f u n c t i o n ( c , d ) { v a r   e = d . c o m p e t e n c y I d s ; b . _ d o C r e a t e U s e r E v i d e n c e C o m p e t e n c y ( a , e , d . r e q u e s t R e v i e w ) } ) , c . d i s p l a y ( ) } , h . p r o t o t y p e . _ c r e a t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . t a r g e t ) ) ; t h i s . c r e a t e U s e r E v i d e n c e C o m p e t e n c y ( c ) } , h . p r o t o t y p e . _ d o D e l e t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( a , b ) { v a r   c = t h i s , d = [ ] ; d . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ u s e r _ e v i d e n c e _ c o m p e t e n c y " , a r g s : { u s e r e v i d e n c e i d : a . i d , c o m p e t e n c y i d : b } } ) , c . _ c a l l A n d R e f r e s h ( d , a ) } , h . p r o t o t y p e . d e l e t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( a , b ) { t h i s . _ d o D e l e t e U s e r E v i d e n c e C o m p e t e n c y ( a , b ) } , h . p r o t o t y p e . _ d e l e t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r = f u n c t i o n ( b ) { v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . c u r r e n t T a r g e t ) ) , d = a ( b . c u r r e n t T a r g e t ) . d a t a ( " i d " ) ; b . p r e v e n t D e f a u l t ( ) , t h i s . d e l e t e U s e r E v i d e n c e C o m p e t e n c y ( c , d ) } , h . p r o t o t y p e . _ d o R e v i e w U s e r E v i d e n c e C o m p e t e n c i e s = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e q u e s t _ r e v i e w _ o f _ u s e r _ e v i d e n c e _ l i n k e d _ c o m p e t e n c i e s " , a r g s : { i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s = f u n c t i o n ( a ) { v a r   b , f = t h i s ; b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ u s e r _ e v i d e n c e " , a r g s : { i d : a . i d } } ] ) , b [ 0 ] . d o n e ( f u n c t i o n ( b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " s e n d a l l c o m p e t e n c i e s t o r e v i e w " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . n a m e } , { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { d . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , f u n c t i o n ( ) { f . _ d o R e v i e w U s e r E v i d e n c e C o m p e t e n c i e s ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . t a r g e t ) ) ; t h i s . r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s ( c ) } , h . p r o t o t y p e . _ f i n d E v i d e n c e D a t a = f u n c t i o n ( b ) { v a r   c , d = b . p a r e n t s U n t i l ( a ( t h i s . _ r e g i o n ) . p a r e n t ( ) , t h i s . _ e v i d e n c e N o d e ) ; i f ( 1 ! = d . l e n g t h ) t h r o w   n e w   E r r o r ( " T h e   e v i d e n c e   n o d e   w a s   n o t   l o c a t e d . " ) ; i f ( c = d . d a t a ( ) , " u n d e f i n e d " = = t y p e o f   c | | " u n d e f i n e d " = = t y p e o f   c . i d ) t h r o w   n e w   E r r o r ( " E v i d e n c e   d a t a   c o u l d   n o t   b e   f o u n d . " ) ; r e t u r n   c } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { v a r   b = t h i s ; f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " u s e r - e v i d e n c e - d e l e t e " ] ' : b . _ d e l e t e E v i d e n c e H a n d l e r . b i n d ( b ) , ' [ d a t a - a c t i o n = " l i n k - c o m p e t e n c y " ] ' : b . _ c r e a t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r . b i n d ( b ) , ' [ d a t a - a c t i o n = " s e n d - c o m p e t e n c i e s - r e v i e w " ] ' : b . _ r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s H a n d l e r . b i n d ( b ) } ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   b = a ( t h i s . _ r e g i o n ) , c = t h i s ; b . f i n d ( ' [ d a t a - a c t i o n = " u s e r - e v i d e n c e - d e l e t e " ] ' ) . c l i c k ( c . _ d e l e t e E v i d e n c e H a n d l e r . b i n d ( c ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " l i n k - c o m p e t e n c y " ] ' ) . c l i c k ( c . _ c r e a t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r . b i n d ( c ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " d e l e t e - c o m p e t e n c y - l i n k " ] ' ) . c l i c k ( c . _ d e l e t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r . b i n d ( c ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " s e n d - c o m p e t e n c i e s - r e v i e w " ] ' ) . c l i c k ( c . _ r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s H a n d l e r . b i n d ( c ) ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y a c t i o n s ' ,   [ " j q u e r y " , " c o r e / u r l " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / a j a x " , " t o o l _ l p / d r a g d r o p - r e o r d e r " , " t o o l _ l p / t r e e " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / c o m p e t e n c y p i c k e r " , " t o o l _ l p / c o m p e t e n c y _ o u t c o m e s " , " t o o l _ l p / c o m p e t e n c y r u l e c o n f i g " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m ) { v a r   n , o , p , q , r , s , t = n u l l , u = n u l l , v = n u l l , w = n u l l , x = f u n c t i o n ( ) { v a r   c = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , f = { c o m p e t e n c y f r a m e w o r k i d : t . g e t C o m p e t e n c y F r a m e w o r k I d ( ) , p a g e c o n t e x t i d : n } ; n u l l ! = = c & & ( f . p a r e n t i d = c . i d ) ; v a r   g = f u n c t i o n ( ) { v a r   c = a . p a r a m ( f ) ; w i n d o w . l o c a t i o n = b . r e l a t i v e U r l ( " / a d m i n / t o o l / l p / e d i t c o m p e t e n c y . p h p ? " + c ) } ; n u l l ! = = c & & t . h a s R u l e ( c . i d ) ? e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " a d d i n g c o m p e t e n c y w i l l r e s e t p a r e n t r u l e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . s h o r t n a m e } , { k e y : " y e s " , c o m p o n e n t : " c o r e " } , { k e y : " n o " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , g ) } ) . f a i l ( d . e x c e p t i o n ) : g ( ) } , y = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ] ' ) . d a t a ( " f r a m e w o r k i d " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e t _ p a r e n t _ c o m p e t e n c y " , a r g s : { c o m p e t e n c y i d : u , p a r e n t i d : v } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , z = f u n c t i o n ( ) { i f ( v = " u n d e f i n e d " = = t y p e o f   v ? 0 : v , v ! = u ) { v a r   a = t . g e t C o m p e t e n c y ( v ) | | { } , b = t . g e t C o m p e t e n c y ( u ) | | { } , c = " m o v e c o m p e t e n c y w i l l r e s e t r u l e s " , f = ! 1 ; b . p a r e n t i d ! = v & & ( a . p a t h & & a . p a t h . i n d e x O f ( " / " + b . i d + " / " ) > = 0 & & ( c = " m o v e c o m p e t e n c y t o c h i l d o f s e l f w i l l r e s e t r u l e s " , f = f | | t . h a s R u l e ( b . i d ) ) , f = f | | t . h a s R u l e ( a . i d ) | | t . h a s R u l e ( b . p a r e n t i d ) , f ? e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : c , c o m p o n e n t : " t o o l _ l p " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , y ) } ) . f a i l ( d . e x c e p t i o n ) : y ( ) ) } } , A = f u n c t i o n ( b ) { v a r   c = a ( b . g e t C o n t e n t ( ) ) , d = c . f i n d ( " [ d a t a - e n h a n c e = m o v e t r e e ] " ) , e = n e w   h ( d , ( ! 1 ) ) ; e . o n ( " s e l e c t i o n c h a n g e d " , f u n c t i o n ( b , c ) { v a r   d = c . s e l e c t e d ; v = a ( d ) . d a t a ( " i d " ) } ) , d . s h o w ( ) , c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " m o v e " ] ' , f u n c t i o n ( ) { b . c l o s e ( ) , z ( ) } ) , c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " c a n c e l " ] ' , f u n c t i o n ( ) { b . c l o s e ( ) } ) } , B = f u n c t i o n ( a , b ) { v a r   c ; f o r ( c = 0 ; c < b . l e n g t h ; c + + ) b [ c ] . p a r e n t i d = = a . i d & & ( a . h a s c h i l d r e n = ! 0 , b [ c ] . c h i l d r e n = [ ] , b [ c ] . h a s c h i l d r e n = ! 1 , a . c h i l d r e n [ a . c h i l d r e n . l e n g t h ] = b [ c ] , B ( b [ c ] , b ) ) } , C = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   g = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) ; u = g . i d ; v a r   h = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e a r c h _ c o m p e t e n c i e s " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : g . c o m p e t e n c y f r a m e w o r k i d , s e a r c h t e x t : " " } } , { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g . c o m p e t e n c y f r a m e w o r k i d } } ] ) ; a . w h e n . a p p l y ( n u l l , h ) . d o n e ( f u n c t i o n ( a , b ) { v a r   f , h = [ ] ; f o r ( f = 0 ; f < a . l e n g t h ; f + + ) { v a r   j = a [ f ] ; " 0 " = = j . p a r e n t i d & & ( j . c h i l d r e n = [ ] , j . h a s c h i l d r e n = 0 , h [ h . l e n g t h ] = j , B ( j , a ) ) } e . g e t _ s t r i n g s ( [ { k e y : " m o v e c o m p e t e n c y " , c o m p o n e n t : " t o o l _ l p " , p a r a m : g . s h o r t n a m e } , { k e y : " m o v e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { v a r   e = { f r a m e w o r k : b , c o m p e t e n c i e s : h } ; c . r e n d e r ( " t o o l _ l p / c o m p e t e n c i e s _ m o v e _ t r e e " , e ) . d o n e ( f u n c t i o n ( b ) { n e w   i ( a [ 0 ] , b , A ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , D = f u n c t i o n ( ) { v a r   c = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , d = { c o m p e t e n c y f r a m e w o r k i d : t . g e t C o m p e t e n c y F r a m e w o r k I d ( ) , i d : c . i d , p a r e n t i d : c . p a r e n t i d , p a g e c o n t e x t i d : n } , e = a . p a r a m ( d ) ; w i n d o w . l o c a t i o n = b . r e l a t i v e U r l ( " / a d m i n / t o o l / l p / e d i t c o m p e t e n c y . p h p ? " + e ) } , E = f u n c t i o n ( b ) { c . r e n d e r ( " t o o l _ l p / m a n a g e _ c o m p e t e n c i e s _ p a g e " , b ) . d o n e ( f u n c t i o n ( b , d ) { a ( ' [ d a t a - r e g i o n = " m a n a g e c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , c . r u n T e m p l a t e J S ( d ) } ) . f a i l ( d . e x c e p t i o n ) } , F = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ] ' ) . d a t a ( " f r a m e w o r k i d " ) , e = f . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : c , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; e [ 0 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , G = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ m o v e _ u p _ c o m p e t e n c y " , a r g s : { i d : b . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b . c o m p e t e n c y f r a m e w o r k i d , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , H = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ m o v e _ d o w n _ c o m p e t e n c y " , a r g s : { i d : b . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b . c o m p e t e n c y f r a m e w o r k i d , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , I = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , g = f . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ l i s t _ c o u r s e s _ u s i n g _ c o m p e t e n c y " , a r g s : { i d : b . i d } } ] ) ; g [ 0 ] . d o n e ( f u n c t i o n ( a ) { v a r   b = { c o u r s e s : a } ; c . r e n d e r ( " t o o l _ l p / l i n k e d _ c o u r s e s _ s u m m a r y " , b ) . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g ( " l i n k e d c o u r s e s " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { n e w   i ( b , a , A ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , J = f u n c t i o n ( ) { q = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , o | | ( o = n e w   k ( n , q . c o m p e t e n c y f r a m e w o r k i d ) , o . o n ( " s a v e " , f u n c t i o n ( b , e ) { v a r   g = e . c o m p e t e n c y I d s , h = [ ] ; a . e a c h ( g , f u n c t i o n ( a , b ) { h . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ r e l a t e d _ c o m p e t e n c y " , a r g s : { c o m p e t e n c y i d : b , r e l a t e d c o m p e t e n c y i d : q . i d } } ) } ) , h . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ r e l a t e d _ c o m p e t e n c i e s _ s e c t i o n " , a r g s : { c o m p e t e n c y i d : q . i d } } ) ; v a r   i = f . c a l l ( h ) ; i [ h . l e n g t h - 1 ] . t h e n ( f u n c t i o n ( b ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / r e l a t e d _ c o m p e t e n c i e s " , b ) . d o n e ( f u n c t i o n ( b , d ) { a ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , c . r u n T e m p l a t e J S ( d ) , U ( ) } ) } , d . e x c e p t i o n ) } ) ) , o . s e t D i s a l l o w e d C o m p e t e n c y I D s ( [ q . i d ] ) , o . d i s p l a y ( ) } , K = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , q = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , p . s e t T a r g e t C o m p e t e n c y I d ( q . i d ) , p . d i s p l a y ( ) } , L = f u n c t i o n ( a , b ) { v a r   c = { i d : q . i d , s h o r t n a m e : q . s h o r t n a m e , i d n u m b e r : q . i d n u m b e r , d e s c r i p t i o n : q . d e s c r i p t i o n , d e s c r i p t i o n f o r m a t : q . d e s c r i p t i o n f o r m a t , r u l e t y p e : b . r u l e t y p e , r u l e o u t c o m e : b . r u l e o u t c o m e , r u l e c o n f i g : b . r u l e c o n f i g } , e = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u p d a t e _ c o m p e t e n c y " , a r g s : { c o m p e t e n c y : c } } ] ) ; e [ 0 ] . t h e n ( f u n c t i o n ( a ) { a & & ( q . r u l e t y p e = b . r u l e t y p e , q . r u l e o u t c o m e = b . r u l e o u t c o m e , q . r u l e c o n f i g = b . r u l e c o n f i g , X ( q ) ) } , d . e x c e p t i o n ) } , M = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ c o m p e t e n c y " , a r g s : { i d : b . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b . c o m p e t e n c y f r a m e w o r k i d , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 0 ] . d o n e ( f u n c t i o n ( a ) { a = = = ! 1 & & e . g e t _ s t r i n g s ( [ { k e y : " c o m p e t e n c y c a n n o t b e d e l e t e d " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . s h o r t n a m e } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . a l e r t ( n u l l , a [ 0 ] ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) , c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , N = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = " d e l e t e c o m p e t e n c y " ; t . h a s R u l e ( b . p a r e n t i d ) & & ( c = " d e l e t e c o m p e t e n c y p a r e n t h a s r u l e " ) , e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : c , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . s h o r t n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , M ) } ) . f a i l ( d . e x c e p t i o n ) } , O = f u n c t i o n ( b ) { b . o r i g i n a l E v e n t . d a t a T r a n s f e r . s e t D a t a ( " t e x t " , a ( b . t a r g e t ) . p a r e n t ( ) . d a t a ( " i d " ) ) } , P = f u n c t i o n ( a ) { a . o r i g i n a l E v e n t . d a t a T r a n s f e r . d r o p E f f e c t = " m o v e " , a . p r e v e n t D e f a u l t ( ) } , Q = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( t h i s ) . a d d C l a s s ( " c u r r e n t d r a g t a r g e t " ) } , R = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( t h i s ) . r e m o v e C l a s s ( " c u r r e n t d r a g t a r g e t " ) } , S = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , u = b . o r i g i n a l E v e n t . d a t a T r a n s f e r . g e t D a t a ( " t e x t " ) , v = a ( b . t a r g e t ) . p a r e n t ( ) . d a t a ( " i d " ) , a ( t h i s ) . r e m o v e C l a s s ( " c u r r e n t d r a g t a r g e t " ) , z ( ) } , T = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = t h i s . i d . s u b s t r ( 1 1 ) , g = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , h = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ r e l a t e d _ c o m p e t e n c y " , a r g s : { r e l a t e d c o m p e t e n c y i d : e , c o m p e t e n c y i d : g . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ r e l a t e d _ c o m p e t e n c i e s _ s e c t i o n " , a r g s : { c o m p e t e n c y i d : g . i d } } ] ) ; h [ 1 ] . d o n e ( f u n c t i o n ( b ) { c . r e n d e r ( " t o o l _ l p / r e l a t e d _ c o m p e t e n c i e s " , b ) . d o n e ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , U ( ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , U = f u n c t i o n ( ) { a ( ' [ d a t a - a c t i o n = " d e l e t e r e l a t i o n " ] ' ) . o n ( " c l i c k " , T ) } , V = f u n c t i o n ( a ) { a . i d ! = = w & & ( w = a . i d , f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c o m p e t e n c y _ v i e w e d " , a r g s : { i d : a . i d } } ] ) ) } , W = f u n c t i o n ( a ) { v a r   b = r [ a ] ; r e t u r n   b | | ( b = " c o m p e t e n c y " ) , b } , X = f u n c t i o n ( b ) { v a r   e = a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) , g = { } ; g . c o m p e t e n c y = b , g . s h o w d e l e t e r e l a t e d a c t i o n = ! 0 , g . s h o w r e l a t e d c o m p e t e n c i e s = ! 0 , g . s h o w r u l e = ! 1 , b . r u l e o u t c o m e ! = l . N O N E & & ( e = l . g e t S t r i n g ( b . r u l e o u t c o m e ) . t h e n ( f u n c t i o n ( c ) { v a r   d ; r e t u r n   a . e a c h ( s , f u n c t i o n ( a , c ) { c . t y p e = = b . r u l e t y p e & & ( d = c . n a m e ) } ) , [ c , d ] } ) ) , e . t h e n ( f u n c t i o n ( a ) { " u n d e f i n e d " ! = t y p e o f   a & & ( g . s h o w r u l e = ! 0 , g . r u l e = { o u t c o m e : a [ 0 ] , t y p e : a [ 1 ] } ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ s u m m a r y " , g ) . t h e n ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y i n f o " ] ' ) . h t m l ( b ) , a ( ' [ d a t a - a c t i o n = " d e l e t e r e l a t i o n " ] ' ) . o n ( " c l i c k " , T ) } ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / l o a d i n g " , { } ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' , a , b ) } ) . d o n e ( f u n c t i o n ( ) { f . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ r e l a t e d _ c o m p e t e n c i e s _ s e c t i o n " , a r g s : { c o m p e t e n c y i d : b . i d } , d o n e : f u n c t i o n ( b ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / r e l a t e d _ c o m p e t e n c i e s " , b ) . d o n e ( f u n c t i o n ( b , d ) { a ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , c . r u n T e m p l a t e J S ( d ) , U ( ) } ) } } ] ) } ) . f a i l ( d . e x c e p t i o n ) } , Y = f u n c t i o n ( a ) { r e t u r n   e . g e t _ s t r i n g ( " t a x o n o m y _ a d d _ " + W ( a ) , " t o o l _ l p " ) } , Z = f u n c t i o n ( a ) { r e t u r n   e . g e t _ s t r i n g ( " t a x o n o m y _ s e l e c t e d _ " + W ( a ) , " t o o l _ l p " ) } , $ = f u n c t i o n ( b , c ) { v a r   d = c . s e l e c t e d , e = a ( d ) . d a t a ( " i d " ) , f = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ]   [ d a t a - a c t i o n = " a d d " ] ' ) , g = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s m e n u " ] ' ) , h = a ( ' [ d a t a - r e g i o n = " s e l e c t e d - c o m p e t e n c y " ] ' ) , i = 0 , k = 1 ; i f ( j . c l o s e A l l ( ) , " u n d e f i n e d " = = t y p e o f   e ) a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y i n f o " ] ' ) . h t m l ( d . c l o n e ( ) . c h i l d r e n ( ) . r e m o v e ( ) . e n d ( ) . t e x t ( ) ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " , n u l l ) , g . h i d e ( ) ; e l s e { v a r   l = t . g e t C o m p e t e n c y ( e ) ; i = t . g e t C o m p e t e n c y L e v e l ( e ) , k = i + 1 , g . s h o w ( ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " , l ) , X ( l ) , V ( l ) } r e t u r n   Z ( i ) . t h e n ( f u n c t i o n ( a ) { h . t e x t ( a ) } ) , Y ( k ) . t h e n ( f u n c t i o n ( a ) { f . s h o w ( ) . f i n d ( ' [ d a t a - r e g i o n = " t e r m " ] ' ) . t e x t ( a ) } ) , b . p r e v e n t D e f a u l t ( ) , ! 1 } , _ = f u n c t i o n ( a ) { v a r   b = a . s p l i t ( " , " ) ; r e t u r n   b . u n s h i f t ( " " ) , d e l e t e   b [ 0 ] , b } ; r e t u r n { i n i t : f u n c t i o n ( b , c , d , e ) { t = b , n = c , r = _ ( d ) , s = e , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . o n ( " c l i c k " , x ) , j . e n h a n c e ( " . c o m p e t e n c y a c t i o n s m e n u " , { ' [ d a t a - a c t i o n = " e d i t " ] ' : D , ' [ d a t a - a c t i o n = " d e l e t e " ] ' : N , ' [ d a t a - a c t i o n = " m o v e " ] ' : C , ' [ d a t a - a c t i o n = " m o v e u p " ] ' : G , ' [ d a t a - a c t i o n = " m o v e d o w n " ] ' : H , ' [ d a t a - a c t i o n = " l i n k e d c o u r s e s " ] ' : I , ' [ d a t a - a c t i o n = " r e l a t e d c o m p e t e n c i e s " ] ' : J . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " c o m p e t e n c y r u l e s " ] ' : K . b i n d ( t h i s ) } ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s m e n u " ] ' ) . h i d e ( ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . h i d e ( ) , a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ] ' ) . o n ( " s u b m i t " , F ) ; v a r   f = a ( ' [ d a t a - r e g i o n = " m a n a g e c o m p e t e n c i e s " ]   [ d a t a - e n h a n c e = " t r e e " ] ' ) ; f . o n ( " d r a g s t a r t " , " l i > s p a n " , O ) . o n ( " d r a g o v e r " , " l i > s p a n " , P ) . o n ( " d r a g e n t e r " , " l i > s p a n " , Q ) . o n ( " d r a g l e a v e " , " l i > s p a n " , R ) . o n ( " d r o p " , " l i > s p a n " , S ) , b . o n ( " s e l e c t i o n c h a n g e d " , $ ) , p = n e w   m ( t , s ) , p . o n ( " s a v e " , L . b i n d ( t h i s ) ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / a c t i o n s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / e v e n t _ b a s e " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( a , b , c , d , e ) { v a r   g = t h i s ; f . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) , g . _ t i t l e = a , g . _ m e s s a g e = b , g . _ a c t i o n s = c , g . _ c o n f i r m = d , g . _ c a n c e l = e , g . _ s e l e c t e d V a l u e = n u l l , g . _ r e s e t ( ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( f . p r o t o t y p e ) , g . p r o t o t y p e . _ s e l e c t e d V a l u e = n u l l , g . p r o t o t y p e . _ p o p u p = n u l l , g . p r o t o t y p e . _ t i t l e = n u l l , g . p r o t o t y p e . _ m e s s a g e = n u l l , g . p r o t o t y p e . _ a c t i o n s = n u l l , g . p r o t o t y p e . _ c o n f i r m = n u l l , g . p r o t o t y p e . _ c a n c e l = n u l l , g . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c o n f i r m " ] ' ) . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) , b . _ f i n d ( ' [ d a t a - r e g i o n = " a c t i o n - s e l e c t o r - r a d i o - b u t t o n s " ] ' ) . c h a n g e ( f u n c t i o n ( ) { b . _ s e l e c t e d V a l u e = a ( " i n p u t [ t y p e = ' r a d i o ' ] : c h e c k e d " ) . v a l ( ) , b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c o n f i r m " ] ' ) . r e m o v e A t t r ( " d i s a b l e d " ) , b . _ r e f r e s h . b i n d ( b ) } ) , b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c a n c e l " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . c l o s e ( ) } ) , b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c o n f i r m " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . _ s e l e c t e d V a l u e . l e n g t h & & ( b . _ t r i g g e r ( " s a v e " , { a c t i o n : b . _ s e l e c t e d V a l u e } ) , b . c l o s e ( ) ) } ) } , g . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { v a r   a = t h i s ; a . _ p o p u p . c l o s e ( ) , a . _ r e s e t ( ) } , g . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { a . _ p o p u p = n e w   e ( a . _ t i t l e , b , a . _ a f t e r R e n d e r . b i n d ( a ) ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , g . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { a . _ f i n d ( ' [ d a t a - r e g i o n = " a c t i o n - s e l e c t o r " ] ' ) . r e p l a c e W i t h ( b ) , a . _ a f t e r R e n d e r ( ) } ) } , g . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   a = t h i s , b = [ ] ; f o r ( v a r   c   i n   a . _ a c t i o n s ) b . p u s h ( a . _ a c t i o n s [ c ] ) ; v a r   e = { m e s s a g e : a . _ m e s s a g e , c h o i c e s : b , c o n f i r m : a . _ c o n f i r m , c a n c e l : a . _ c a n c e l } ; r e t u r n   d . r e n d e r ( " t o o l _ l p / a c t i o n _ s e l e c t o r " , e ) } , g . p r o t o t y p e . _ r e s e t = f u n c t i o n ( ) { t h i s . _ p o p u p = n u l l , t h i s . _ s e l e c t e d V a l u e = " " } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / t e m p l a t e a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / a c t i o n s e l e c t o r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = 0 , h = 0 , i = ! 0 , j = f u n c t i o n ( c , d ) { a ( ' [ d a t a - r e g i o n = " m a n a g e t e m p l a t e s " ] ' ) . r e p l a c e W i t h ( c ) , b . r u n T e m p l a t e J S ( d ) } , k = f u n c t i o n ( a ) { b . r e n d e r ( " t o o l _ l p / m a n a g e _ t e m p l a t e s _ p a g e " , a ) . d o n e ( j ) . f a i l ( d . e x c e p t i o n ) } , l = f u n c t i o n ( ) { v a r   a = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ t e m p l a t e " , a r g s : { i d : h , d e l e t e p l a n s : i } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : g } } } ] ) ; a [ 1 ] . d o n e ( k ) . f a i l ( d . e x c e p t i o n ) } , m = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , h = a ( t h i s ) . a t t r ( " d a t a - t e m p l a t e i d " ) ; v a r   e = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d u p l i c a t e _ t e m p l a t e " , a r g s : { i d : h } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : g } } } ] ) ; e [ 1 ] . d o n e ( k ) . f a i l ( d . e x c e p t i o n ) } , n = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   g = a ( t h i s ) . a t t r ( " d a t a - t e m p l a t e i d " ) ; h = g , i = ! 0 ; v a r   j = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ t e m p l a t e " , a r g s : { i d : h } } , { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ t e m p l a t e _ h a s _ r e l a t e d _ d a t a " , a r g s : { i d : h } } ] ) ; j [ 0 ] . d o n e ( f u n c t i o n ( a ) { j [ 1 ] . d o n e ( f u n c t i o n ( b ) { b ? e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " d e l e t e t e m p l a t e w i t h p l a n s " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " d e l e t e p l a n s " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " u n l i n k p l a n s t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { v a r   b = [ { t e x t : a [ 2 ] , v a l u e : " d e l e t e " } , { t e x t : a [ 3 ] , v a l u e : " u n l i n k " } ] , c = n e w   f ( a [ 0 ] , a [ 1 ] , b , a [ 4 ] , a [ 5 ] ) ; c . d i s p l a y ( ) , c . o n ( " s a v e " , f u n c t i o n ( a , b ) { " d e l e t e " ! = b . a c t i o n & & ( i = ! 1 ) , l ( ) } ) } ) . f a i l ( d . e x c e p t i o n ) : e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , l ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n { d e l e t e H a n d l e r : n , d u p l i c a t e H a n d l e r : m , i n i t : f u n c t i o n ( a ) { g = a } } } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ p l a n _ p o p u p ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b , c , d ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r = c , t h i s . _ p l a n I d = d , a ( t h i s . _ r e g i o n S e l e c t o r ) . o n ( " c l i c k " , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r , t h i s . _ h a n d l e C l i c k . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . _ h a n d l e C l i c k = f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( c . t a r g e t ) . c l o s e s t ( " t r " ) , f = a ( e ) . d a t a ( " c o m p e t e n c y i d " ) , g = a ( e ) . d a t a ( " u s e r i d " ) , h = t h i s . _ p l a n I d , i = d . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " , a r g s : { c o m p e t e n c y i d : f , p l a n i d : h } , d o n e : t h i s . _ c o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) ; i [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   c = " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ v i e w e d _ i n _ p l a n " ; a . p l a n . i s c o m p l e t e d & & ( c = " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ p l a n _ v i e w e d " ) , d . c a l l ( [ { m e t h o d n a m e : c , a r g s : { c o m p e t e n c y i d : f , u s e r i d : g , p l a n i d : h } , f a i l : b . e x c e p t i o n } ] ) } ) } , g . p r o t o t y p e . _ c o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   d = t h i s ; e . r e n d e r ( " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " , a ) . d o n e ( f u n c t i o n ( a , g ) { c . g e t _ s t r i n g ( " u s e r c o m p e t e n c y s u m m a r y " , " r e p o r t _ c o m p e t e n c y " ) . d o n e ( f u n c t i o n ( b ) { n e w   f ( b , a , e . r u n T e m p l a t e J S . b i n d ( e , g ) , d . _ r e f r e s h . b i n d ( d ) , ( ! 0 ) ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   a = t h i s . _ p l a n I d ; d . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " , a r g s : { p l a n i d : a } , d o n e : t h i s . _ p a g e C o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) } , g . p r o t o t y p e . _ p a g e C o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   c = t h i s ; e . r e n d e r ( " t o o l _ l p / p l a n _ p a g e " , a ) . d o n e ( f u n c t i o n ( a , b ) { e . r e p l a c e N o d e ( c . _ r e g i o n S e l e c t o r , a , b ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , g . p r o t o t y p e . _ u s e r C o m p e t e n c y S e l e c t o r = n u l l , g . p r o t o t y p e . _ p l a n I d = n u l l , g } ) ; 
 d e f i n e ( ' t o o l _ l p / e v i d e n c e _ d e l e t e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { } , g = f u n c t i o n ( g , h ) { " u n d e f i n e d " = = t y p e o f   f [ g ] & & ( f [ g ] = a ( " b o d y " ) . d e l e g a t e ( g , " c l i c k " , f u n c t i o n ( f ) { v a r   g = a ( f . c u r r e n t T a r g e t ) . p a r e n t s ( h ) ; i f ( ! g . l e n g t h | | g . l e n g t h > 1 ) r e t u r n   v o i d   e . e r r o r ( " N o n e   o r   t o o   m a n y   e v i d e n c e   c o n t a i n e r   w e r e   f o u n d . " ) ; v a r   i = g . d a t a ( " i d " ) ; r e t u r n   i ? ( f . p r e v e n t D e f a u l t ( ) , f . s t o p P r o p a g a t i o n ( ) , v o i d   d . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " a r e y o u s u r e " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { b . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { v a r   a = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ e v i d e n c e " , a r g s : { i d : i } } ] ) ; a [ 0 ] . t h e n ( f u n c t i o n ( ) { g . r e m o v e ( ) } ) . f a i l ( b . e x c e p t i o n ) } ) } ) . f a i l ( b . e x c e p t i o n ) ) : v o i d   e . e r r o r ( " E v i d e n c e   I D   w a s   n o t   f o u n d . " ) } ) ) } ; r e t u r n { r e g i s t e r : g } } ) ; 
 d e f i n e ( ' t o o l _ l p / g r a d e _ d i a l o g u e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / e v e n t _ b a s e " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( a ) { e . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) , t h i s . _ r a t i n g O p t i o n s = a } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( e . p r o t o t y p e ) , g . p r o t o t y p e . _ p o p u p = n u l l , g . p r o t o t y p e . _ r a t i n g O p t i o n s = n u l l , g . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " r a t e " ] ' ) , c = t h i s . _ f i n d ( ' [ n a m e = " r a t i n g " ] ' ) , d = t h i s . _ f i n d ( ' [ n a m e = " c o m m e n t " ] ' ) ; t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " c a n c e l " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . _ t r i g g e r ( " c a n c e l l e d " ) , t h i s . c l o s e ( ) } . b i n d ( t h i s ) ) , c . c h a n g e ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) ; c . v a l ( ) ? b . p r o p ( " d i s a b l e d " , ! 1 ) : b . p r o p ( " d i s a b l e d " , ! 0 ) } ) . c h a n g e ( ) , b . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = c . v a l ( ) ; b & & ( t h i s . _ t r i g g e r ( " r a t e d " , { r a t i n g : b , n o t e : d . v a l ( ) } ) , t h i s . c l o s e ( ) ) } . b i n d ( t h i s ) ) } , g . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . _ p o p u p . c l o s e ( ) , t h i s . _ p o p u p = n u l l } , g . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . g e t _ s t r i n g ( " r a t e " , " t o o l _ l p " ) . t h e n ( f u n c t i o n ( b ) { t h i s . _ p o p u p = n e w   d ( b , a , t h i s . _ a f t e r R e n d e r . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , g . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   a = { c a n g r a d e : t h i s . _ c a n G r a d e , r a t i n g s : t h i s . _ r a t i n g O p t i o n s } ; r e t u r n   c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ g r a d e r " , a ) } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / p l a n a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a ) { i f ( t h i s . _ t y p e = a , " p l a n " = = = a ) t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " p l a n - p a g e " ] ' , t h i s . _ p l a n N o d e = ' [ d a t a - r e g i o n = " p l a n - p a g e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / p l a n _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " ; e l s e { i f ( " p l a n s " ! = = a ) t h r o w   n e w   T y p e E r r o r ( " U n e x p e c t e d   t y p e . " ) ; t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " p l a n s " ] ' , t h i s . _ p l a n N o d e = ' [ d a t a - r e g i o n = " p l a n - n o d e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / p l a n s _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ p l a n s _ p a g e " } } ; r e t u r n   h . p r o t o t y p e . _ c o n t e x t M e t h o d = n u l l , h . p r o t o t y p e . _ p l a n N o d e = n u l l , h . p r o t o t y p e . _ r e g i o n = n u l l , h . p r o t o t y p e . _ t e m p l a t e = n u l l , h . p r o t o t y p e . _ t y p e = n u l l , h . p r o t o t y p e . _ g e t C o n t e x t A r g s = f u n c t i o n ( a ) { v a r   b = t h i s , c = { } ; r e t u r n " p l a n " = = = b . _ t y p e ? c = { p l a n i d : a . i d } : " p l a n s " = = = b . _ t y p e & & ( c = { u s e r i d : a . u s e r i d } ) , c } , h . p r o t o t y p e . r e f r e s h = f u n c t i o n ( b ) { v a r   c = t h i s . _ f i n d P l a n D a t a ( a ( b ) ) ; t h i s . _ c a l l A n d R e f r e s h ( [ ] , c ) } , h . p r o t o t y p e . _ r e n d e r V i e w = f u n c t i o n ( c ) { v a r   e = t h i s ; b . r e n d e r ( e . _ t e m p l a t e , c ) . d o n e ( f u n c t i o n ( c , d ) { a ( e . _ r e g i o n ) . r e p l a c e W i t h ( c ) , b . r u n T e m p l a t e J S ( d ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ c a l l A n d R e f r e s h = f u n c t i o n ( b , e ) { v a r   f = t h i s ; r e t u r n   b . p u s h ( { m e t h o d n a m e : f . _ c o n t e x t M e t h o d , a r g s : f . _ g e t C o n t e x t A r g s ( e ) } ) , a . w h e n . a p p l y ( a . w h e n , c . c a l l ( b ) ) . t h e n ( f u n c t i o n ( ) { f . _ r e n d e r V i e w ( a r g u m e n t s [ a r g u m e n t s . l e n g t h - 1 ] ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o D e l e t e = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ p l a n " , a r g s : { i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . d e l e t e P l a n = f u n c t i o n ( a ) { v a r   b , f = t h i s ; b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) , b [ 0 ] . d o n e ( f u n c t i o n ( b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e p l a n " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { d . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , f u n c t i o n ( ) { f . _ d o D e l e t e ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o R e o p e n P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o p e n _ p l a n " , a r g s : { p l a n i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . r e o p e n P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , f = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) ; f [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " r e o p e n p l a n c o n f i r m " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . n a m e } , { k e y : " r e o p e n p l a n " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { b . _ d o R e o p e n P l a n ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o C o m p l e t e P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c o m p l e t e _ p l a n " , a r g s : { p l a n i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . c o m p l e t e P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , f = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) ; f [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c o m p l e t e p l a n c o n f i r m " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . n a m e } , { k e y : " c o m p l e t e p l a n " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { b . _ d o C o m p l e t e P l a n ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o U n l i n k P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u n l i n k _ p l a n _ f r o m _ t e m p l a t e " , a r g s : { p l a n i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . u n l i n k P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , f = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) ; f [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " u n l i n k p l a n t e m p l a t e c o n f i r m " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . n a m e } , { k e y : " u n l i n k p l a n t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { b . _ d o U n l i n k P l a n ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o R e q u e s t R e v i e w = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ r e q u e s t _ r e v i e w " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . r e q u e s t R e v i e w = f u n c t i o n ( a ) { t h i s . _ d o R e q u e s t R e v i e w ( a ) } , h . p r o t o t y p e . _ d o C a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ c a n c e l _ r e v i e w _ r e q u e s t " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . c a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { t h i s . _ d o C a n c e l R e v i e w R e q u e s t ( a ) } , h . p r o t o t y p e . _ d o S t a r t R e v i e w = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ s t a r t _ r e v i e w " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . s t a r t R e v i e w = f u n c t i o n ( a ) { t h i s . _ d o S t a r t R e v i e w ( a ) } , h . p r o t o t y p e . _ d o S t o p R e v i e w = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ s t o p _ r e v i e w " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . s t o p R e v i e w = f u n c t i o n ( a ) { t h i s . _ d o S t o p R e v i e w ( a ) } , h . p r o t o t y p e . _ d o A p p r o v e = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a p p r o v e _ p l a n " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . a p p r o v e = f u n c t i o n ( a ) { t h i s . _ d o A p p r o v e ( a ) } , h . p r o t o t y p e . _ d o U n a p p r o v e = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u n a p p r o v e _ p l a n " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . u n a p p r o v e = f u n c t i o n ( a ) { t h i s . _ d o U n a p p r o v e ( a ) } , h . p r o t o t y p e . _ s h o w L i n k e d C o u r s e s H a n d l e r = f u n c t i o n ( f ) { f . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( f . t a r g e t ) . d a t a ( " i d " ) , i = c . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ l i s t _ c o u r s e s _ u s i n g _ c o m p e t e n c y " , a r g s : { i d : h } } ] ) ; i [ 0 ] . d o n e ( f u n c t i o n ( a ) { v a r   c = { c o u r s e s : a } ; b . r e n d e r ( " t o o l _ l p / l i n k e d _ c o u r s e s _ s u m m a r y " , c ) . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g ( " l i n k e d c o u r s e s " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { n e w   g ( b , a ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ e v e n t H a n d l e r = f u n c t i o n ( b , c ) { c . p r e v e n t D e f a u l t ( ) ; v a r   d = t h i s . _ f i n d P l a n D a t a ( a ( c . t a r g e t ) ) ; t h i s [ b ] ( d ) } , h . p r o t o t y p e . _ f i n d P l a n D a t a = f u n c t i o n ( b ) { v a r   c , d = b . p a r e n t s U n t i l ( a ( t h i s . _ r e g i o n ) . p a r e n t ( ) , t h i s . _ p l a n N o d e ) ; i f ( 1 ! = d . l e n g t h ) t h r o w   n e w   E r r o r ( " T h e   p l a n   n o d e   w a s   n o t   l o c a t e d . " ) ; i f ( c = d . d a t a ( ) , " u n d e f i n e d " = = t y p e o f   c | | " u n d e f i n e d " = = t y p e o f   c . i d ) t h r o w   n e w   E r r o r ( " P l a n   d a t a   c o u l d   n o t   b e   f o u n d . " ) ; r e t u r n   c } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " p l a n - d e l e t e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " d e l e t e P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - c o m p l e t e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c o m p l e t e P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - r e o p e n " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e o p e n P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - u n l i n k " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n l i n k P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - r e q u e s t - r e v i e w " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e q u e s t R e v i e w " ) , ' [ d a t a - a c t i o n = " p l a n - c a n c e l - r e v i e w - r e q u e s t " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c a n c e l R e v i e w R e q u e s t " ) , ' [ d a t a - a c t i o n = " p l a n - s t a r t - r e v i e w " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t a r t R e v i e w " ) , ' [ d a t a - a c t i o n = " p l a n - s t o p - r e v i e w " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t o p R e v i e w " ) , ' [ d a t a - a c t i o n = " p l a n - a p p r o v e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " a p p r o v e " ) , ' [ d a t a - a c t i o n = " p l a n - u n a p p r o v e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n a p p r o v e " ) } ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   b = a ( t h i s . _ r e g i o n ) ; b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - d e l e t e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " d e l e t e P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - c o m p l e t e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c o m p l e t e P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - r e o p e n " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e o p e n P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - u n l i n k " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n l i n k P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - r e q u e s t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e q u e s t R e v i e w " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - c a n c e l - r e v i e w - r e q u e s t " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c a n c e l R e v i e w R e q u e s t " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - s t a r t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t a r t R e v i e w " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - s t o p - r e v i e w " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t o p R e v i e w " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - a p p r o v e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " a p p r o v e " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - u n a p p r o v e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n a p p r o v e " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " f i n d - c o u r s e s - l i n k " ] ' ) . c l i c k ( t h i s . _ s h o w L i n k e d C o u r s e s H a n d l e r . b i n d ( t h i s ) ) } , h } ) ; 
 d e f i n e ( ' t o o l _ t e m p l a t e l i b r a r y / d i s p l a y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / c o n f i g " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a , b ) { i f ( ! a ) r e t u r n ! 1 ; v a r   c = " @ t e m p l a t e   " + b , d = 0 , e = [ ] ; i f ( e = a . m a t c h ( / { { ! ( [ \ s \ S ] * ? ) } } / g ) , n u l l ! = = e ) f o r ( d = 0 ; d < e . l e n g t h ; d + + ) { v a r   f = e [ d ] , g = f . i n d e x O f ( c ) ; i f ( g ! = = - 1 ) { v a r   h = g + c . l e n g t h + 1 ; r e t u r n   f = f . s u b s t r ( h , f . l e n g t h - 2 - h ) } } r e t u r n ! 1 } , i = f u n c t i o n ( b , f , i ) { g . g e t _ s t r i n g ( " t e m p l a t e s e l e c t e d " , " t o o l _ t e m p l a t e l i b r a r y " , b ) . d o n e ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e h e a d e r " ] ' ) . t e x t ( b ) } ) . f a i l ( d . e x c e p t i o n ) ; v a r   j = h ( f , b ) ; j = = = ! 1 & & ( j = h ( i , b ) ) , j & & ( f = j ) , a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e s o u r c e " ] ' ) . t e x t ( f ) ; v a r   k = f . m a t c h ( / E x a m p l e   c o n t e x t   \ ( j s o n \ ) : ( [ \ s \ S ] * ) / ) , l = ! 1 ; i f ( k ) { v a r   m = k [ 1 ] . t r i m ( ) ; t r y { l = a . p a r s e J S O N ( m ) } c a t c h ( n ) { c . d e b u g ( " C o u l d   n o t   p a r s e   j s o n   e x a m p l e   c o n t e x t   f o r   t e m p l a t e . " ) , c . d e b u g ( n ) } } l ? e . r e n d e r ( b , l ) . d o n e ( f u n c t i o n ( b , c ) { e . r e p l a c e N o d e C o n t e n t s ( a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e e x a m p l e " ] ' ) , b , c ) } ) . f a i l ( d . e x c e p t i o n ) : g . g e t _ s t r i n g ( " t e m p l a t e h a s n o e x a m p l e " , " t o o l _ t e m p l a t e l i b r a r y " ) . d o n e ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e e x a m p l e " ] ' ) . t e x t ( b ) } ) . f a i l ( d . e x c e p t i o n ) } , j = f u n c t i o n ( c ) { v a r   e = c . s p l i t ( " / " ) , g = e . s h i f t ( ) , h = e . s h i f t ( ) , j = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ o u t p u t _ l o a d _ t e m p l a t e " , a r g s : { c o m p o n e n t : g , t e m p l a t e : h , t h e m e n a m e : f . t h e m e } } , { m e t h o d n a m e : " t o o l _ t e m p l a t e l i b r a r y _ l o a d _ c a n o n i c a l _ t e m p l a t e " , a r g s : { c o m p o n e n t : g , t e m p l a t e : h } } ] , ! 0 , ! 1 ) ; a . w h e n . a p p l y ( a , j ) . d o n e ( f u n c t i o n ( a , b ) { i ( c , a , b ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n   a ( ' [ d a t a - r e g i o n = " l i s t - t e m p l a t e s " ] ' ) . o n ( " c l i c k " , " [ d a t a - t e m p l a t e n a m e ] " , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) . d a t a ( " t e m p l a t e n a m e " ) ; b . p r e v e n t D e f a u l t ( ) , j ( c ) } ) , { } } ) ; 
 d e f i n e ( ' t o o l _ t e m p l a t e l i b r a r y / s e a r c h ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / c o n f i g " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b ) { e . r e n d e r ( " t o o l _ t e m p l a t e l i b r a r y / s e a r c h _ r e s u l t s " , { t e m p l a t e s : b } ) . d o n e ( f u n c t i o n ( b , c ) { e . r e p l a c e N o d e ( a ( ' [ d a t a - r e g i o n = " s e a r c h r e s u l t s " ] ' ) , b , c ) } ) . f a i l ( d . e x c e p t i o n ) } , h = f u n c t i o n ( c ) { v a r   e = a ( ' [ d a t a - f i e l d = " c o m p o n e n t " ] ' ) . v a l ( ) , f = a ( ' [ d a t a - f i e l d = " s e a r c h " ] ' ) . v a l ( ) ; d o c u m e n t . l o c a t i o n . h a s h = f , b . c a l l ( [ { m e t h o d n a m e : " t o o l _ t e m p l a t e l i b r a r y _ l i s t _ t e m p l a t e s " , a r g s : { c o m p o n e n t : e , s e a r c h : f , t h e m e n a m e : c } , d o n e : g , f a i l : d . e x c e p t i o n } ] , ! 0 , ! 1 ) } , i = n u l l , j = f u n c t i o n ( a , b ) { n u l l ! = = i & & w i n d o w . c l e a r T i m e o u t ( i ) , i = w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a ( ) , i = n u l l } , b ) } , k = f u n c t i o n ( ) { j ( h . b i n d ( t h i s , f . t h e m e ) , 4 0 0 ) } ; r e t u r n   a ( ' [ d a t a - r e g i o n = " l i s t - t e m p l a t e s " ] ' ) . o n ( " c h a n g e " , ' [ d a t a - f i e l d = " c o m p o n e n t " ] ' , k ) , a ( ' [ d a t a - r e g i o n = " l i s t - t e m p l a t e s " ] ' ) . o n ( " i n p u t " , ' [ d a t a - f i e l d = " s e a r c h " ] ' , k ) , a ( ' [ d a t a - f i e l d = " s e a r c h " ] ' ) . v a l ( d o c u m e n t . l o c a t i o n . h a s h . r e p l a c e ( " # " , " " ) ) , h ( f . t h e m e ) , { } } ) ; 
 ! f u n c t i o n ( a , b ) { " o b j e c t " = = t y p e o f   e x p o r t s & & " u n d e f i n e d " ! = t y p e o f   m o d u l e ? m o d u l e . e x p o r t s = b ( ) : " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' t o o l _ u s e r t o u r s / p o p p e r ' ,   b ) : a . P o p p e r = b ( ) } ( t h i s , f u n c t i o n ( ) { " u s e   s t r i c t " ; f u n c t i o n   a ( a ) { v a r   b = a . o f f s e t P a r e n t , c = b & & b . n o d e N a m e ; r e t u r n   c & & " B O D Y " ! = = c & & " H T M L " ! = = c ? b : w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t } f u n c t i o n   b ( a , b ) { i f ( 1 ! = = a . n o d e T y p e ) r e t u r n [ ] ; v a r   c = w i n d o w . g e t C o m p u t e d S t y l e ( a , n u l l ) ; r e t u r n   b ? c [ b ] : c } f u n c t i o n   c ( a ) { r e t u r n " H T M L " = = = a . n o d e N a m e ? a : a . p a r e n t N o d e | | a . h o s t } f u n c t i o n   d ( a ) { i f ( ! a | | [ " H T M L " , " B O D Y " , " # d o c u m e n t " ] . i n d e x O f ( a . n o d e N a m e ) ! = = - 1 ) r e t u r n   w i n d o w . d o c u m e n t . b o d y ; v a r   e = b ( a ) , f = e . o v e r f l o w , g = e . o v e r f l o w X , h = e . o v e r f l o w Y ; r e t u r n / ( a u t o | s c r o l l ) / . t e s t ( f + h + g ) ? a : d ( c ( a ) ) } f u n c t i o n   e ( a ) { v a r   d = a . n o d e N a m e ; r e t u r n " B O D Y " ! = = d & & " H T M L " ! = = d & & ( " f i x e d " = = = b ( a , " p o s i t i o n " ) | | e ( c ( a ) ) ) } f u n c t i o n   f ( b ) { v a r   c = a ( b ) , d = e ( c ) ; r e t u r n   d ? " f i x e d " : " a b s o l u t e " } f u n c t i o n   g ( a , b ) { v a r   c = " x " = = = b ? " L e f t " : " T o p " , d = " L e f t " = = = c ? " R i g h t " : " B o t t o m " ; r e t u r n   N u m b e r ( a [ " b o r d e r " + c + " W i d t h " ] . s p l i t ( " p x " ) [ 0 ] ) + N u m b e r ( a [ " b o r d e r " + d + " W i d t h " ] . s p l i t ( " p x " ) [ 0 ] ) } f u n c t i o n   h ( a ) { v a r   c = n a v i g a t o r . a p p V e r s i o n . i n d e x O f ( " M S I E   1 0 " ) ! = = - 1 , d = v o i d   0 ; i f ( c ) t r y { d = a . g e t B o u n d i n g C l i e n t R e c t ( ) } c a t c h ( e ) { d = { } } e l s e   d = a . g e t B o u n d i n g C l i e n t R e c t ( ) ; v a r   f = { l e f t : d . l e f t , t o p : d . t o p , r i g h t : d . r i g h t , b o t t o m : d . b o t t o m , w i d t h : d . r i g h t - d . l e f t , h e i g h t : d . b o t t o m - d . t o p } ; i f ( " H T M L " = = = a . n o d e N a m e & & c ) { v a r   h = w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t , i = h . s c r o l l T o p , j = h . s c r o l l L e f t ; f . t o p - = i , f . b o t t o m - = i , f . l e f t - = j , f . r i g h t - = j } v a r   k = d . w i d t h - ( a . c l i e n t W i d t h | | d . r i g h t - d . l e f t ) , l = d . h e i g h t - ( a . c l i e n t H e i g h t | | d . b o t t o m - d . t o p ) ; i f ( k | | l ) { v a r   m = b ( a ) ; k - = g ( m , " x " ) , l - = g ( m , " y " ) } r e t u r n   f . r i g h t - = k , f . w i d t h - = k , f . b o t t o m - = l , f . h e i g h t - = l , f } f u n c t i o n   i ( a ) { v a r   b = a r g u m e n t s . l e n g t h > 1 & & v o i d   0 ! = = a r g u m e n t s [ 1 ] ? a r g u m e n t s [ 1 ] : " t o p " , c = " t o p " = = = b ? " s c r o l l T o p " : " s c r o l l L e f t " , d = a . n o d e N a m e ; i f ( " B O D Y " = = = d | | " H T M L " = = = d ) { v a r   e = w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t , f = w i n d o w . d o c u m e n t . s c r o l l i n g E l e m e n t | | e ; r e t u r n   f [ c ] } r e t u r n   a [ c ] } f u n c t i o n   j ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h > 2 & & v o i d   0 ! = = a r g u m e n t s [ 2 ] & & a r g u m e n t s [ 2 ] , d = i ( b , " t o p " ) , e = i ( b , " l e f t " ) , f = c ? - 1 : 1 ; r e t u r n   a . t o p + = d * f , a . b o t t o m + = d * f , a . l e f t + = e * f , a . r i g h t + = e * f , a } f u n c t i o n   k ( c , e ) { v a r   f = a r g u m e n t s . l e n g t h > 2 & & v o i d   0 ! = = a r g u m e n t s [ 2 ] & & a r g u m e n t s [ 2 ] , g = a r g u m e n t s . l e n g t h > 3 & & v o i d   0 ! = = a r g u m e n t s [ 3 ] & & a r g u m e n t s [ 3 ] , i = d ( e ) , k = h ( c ) , l = h ( e ) , m = { t o p : k . t o p - l . t o p , l e f t : k . l e f t - l . l e f t , b o t t o m : k . t o p - l . t o p + k . h e i g h t , r i g h t : k . l e f t - l . l e f t + k . w i d t h , w i d t h : k . w i d t h , h e i g h t : k . h e i g h t } ; f & & ! g ? m = j ( m , i , ! 0 ) : a ( c ) . c o n t a i n s ( i ) & & " B O D Y " ! = = i . n o d e N a m e & & ( m = j ( m , e ) ) ; v a r   n = b ( e ) , o = N u m b e r ( n . b o r d e r T o p W i d t h . s p l i t ( " p x " ) [ 0 ] ) , p = N u m b e r ( n . b o r d e r L e f t W i d t h . s p l i t ( " p x " ) [ 0 ] ) ; r e t u r n   m . t o p - = o , m . b o t t o m - = o , m . l e f t - = p , m . r i g h t - = p , m } f u n c t i o n   l ( ) { v a r   a = w i n d o w . d o c u m e n t . b o d y , b = w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t ; r e t u r n { h e i g h t : M a t h . m a x ( a . s c r o l l H e i g h t , a . o f f s e t H e i g h t , b . c l i e n t H e i g h t , b . s c r o l l H e i g h t , b . o f f s e t H e i g h t ) , w i d t h : M a t h . m a x ( a . s c r o l l W i d t h , a . o f f s e t W i d t h , b . c l i e n t W i d t h , b . s c r o l l W i d t h , b . o f f s e t W i d t h ) } } f u n c t i o n   m ( a ) { v a r   b = v o i d   0 ; i f ( " H T M L " = = = a . n o d e N a m e ) { v a r   c = l ( ) , d = c . w i d t h , e = c . h e i g h t ; b = { w i d t h : d , h e i g h t : e , l e f t : 0 , t o p : 0 } } e l s e   b = { w i d t h : a . o f f s e t W i d t h , h e i g h t : a . o f f s e t H e i g h t , l e f t : a . o f f s e t L e f t , t o p : a . o f f s e t T o p } ; r e t u r n   b . r i g h t = b . l e f t + b . w i d t h , b . b o t t o m = b . t o p + b . h e i g h t , b } f u n c t i o n   n ( b ) { v a r   c = m ( b ) ; i f ( " H T M L " ! = = b . n o d e N a m e ) { v a r   d = a ( b ) , e = n ( d ) , f = { w i d t h : c . o f f s e t W i d t h , h e i g h t : c . o f f s e t H e i g h t , l e f t : c . l e f t + e . l e f t , t o p : c . t o p + e . t o p , r i g h t : c . r i g h t - e . r i g h t , b o t t o m : c . b o t t o m - e . b o t t o m } ; r e t u r n   f } r e t u r n   c } f u n c t i o n   o ( a ) { v a r   b = a r g u m e n t s . l e n g t h > 1 & & v o i d   0 ! = = a r g u m e n t s [ 1 ] ? a r g u m e n t s [ 1 ] : " t o p " , e = d ( a ) , f = i ( e , b ) ; r e t u r n [ " B O D Y " , " H T M L " ] . i n d e x O f ( e . n o d e N a m e ) = = = - 1 ? f + o ( c ( e ) , b ) : f } f u n c t i o n   p ( b , g , h ) { v a r   i = { t o p : 0 , l e f t : 0 } , j = a ( b ) ; i f ( " v i e w p o r t " = = = h ) { v a r   m = n ( j ) , p = m . l e f t , q = m . t o p , r = w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t , s = r . c l i e n t W i d t h , t = r . c l i e n t H e i g h t ; i f ( " f i x e d " = = = f ( b ) ) i . r i g h t = s , i . b o t t o m = t ; e l s e { v a r   u = o ( b , " l e f t " ) , v = o ( b , " t o p " ) ; i = { t o p : 0 - q , r i g h t : s - p + u , b o t t o m : t - q + v , l e f t : 0 - p } } } e l s e { v a r   w = v o i d   0 ; i f ( w = " s c r o l l P a r e n t " = = = h ? d ( c ( b ) ) : " w i n d o w " = = = h ? w i n d o w . d o c u m e n t . b o d y : h , " B O D Y " = = = w . n o d e N a m e ) { v a r   x = l ( ) , y = x . h e i g h t , z = x . w i d t h ; i . r i g h t = z , i . b o t t o m = y } e l s e   i = k ( w , j , e ( b ) ) } r e t u r n   i . l e f t + = g , i . t o p + = g , i . r i g h t - = g , i . b o t t o m - = g , i } f u n c t i o n   q ( a , b , c ) { i f ( a . i n d e x O f ( " a u t o " ) = = = - 1 ) r e t u r n   a ; v a r   d = p ( c , 0 , " s c r o l l P a r e n t " ) , e = { t o p : b . t o p - d . t o p , r i g h t : d . r i g h t - b . r i g h t , b o t t o m : d . b o t t o m - b . b o t t o m , l e f t : b . l e f t - d . l e f t } , f = O b j e c t . k e y s ( e ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   e [ b ] - e [ a ] } ) [ 0 ] , g = a . s p l i t ( " - " ) [ 1 ] ; r e t u r n   f + ( g ? " - " + g : " " ) } f u n c t i o n   r ( a ) { v a r   b = ! 1 , c = 0 , d = d o c u m e n t . c r e a t e E l e m e n t ( " s p a n " ) , e = n e w   M u t a t i o n O b s e r v e r ( f u n c t i o n ( ) { a ( ) , b = ! 1 } ) ; r e t u r n   e . o b s e r v e ( d , { a t t r i b u t e s : ! 0 } ) , f u n c t i o n ( ) { b | | ( b = ! 0 , d . s e t A t t r i b u t e ( " x - i n d e x " , c ) , c + = 1 ) } } f u n c t i o n   s ( a ) { v a r   b = ! 1 ; r e t u r n   f u n c t i o n ( ) { b | | ( b = ! 0 , s e t T i m e o u t ( f u n c t i o n ( ) { b = ! 1 , a ( ) } , _ ) ) } } f u n c t i o n   t ( a , b ) { r e t u r n   A r r a y . p r o t o t y p e . f i n d ? a . f i n d ( b ) : a . f i l t e r ( b ) [ 0 ] } f u n c t i o n   u ( a , b , c ) { i f ( A r r a y . p r o t o t y p e . f i n d I n d e x ) r e t u r n   a . f i n d I n d e x ( f u n c t i o n ( a ) { r e t u r n   a [ b ] = = = c } ) ; v a r   d = t ( a , f u n c t i o n ( a ) { r e t u r n   a [ b ] = = = c } ) ; r e t u r n   a . i n d e x O f ( d ) } f u n c t i o n   v ( a ) { r e t u r n   g a ( { } , a , { r i g h t : a . l e f t + a . w i d t h , b o t t o m : a . t o p + a . h e i g h t } ) } f u n c t i o n   w ( a ) { v a r   b = w i n d o w . g e t C o m p u t e d S t y l e ( a ) , c = p a r s e F l o a t ( b . m a r g i n T o p ) + p a r s e F l o a t ( b . m a r g i n B o t t o m ) , d = p a r s e F l o a t ( b . m a r g i n L e f t ) + p a r s e F l o a t ( b . m a r g i n R i g h t ) , e = { w i d t h : a . o f f s e t W i d t h + d , h e i g h t : a . o f f s e t H e i g h t + c } ; r e t u r n   e } f u n c t i o n   x ( a ) { v a r   b = { l e f t : " r i g h t " , r i g h t : " l e f t " , b o t t o m : " t o p " , t o p : " b o t t o m " } ; r e t u r n   a . r e p l a c e ( / l e f t | r i g h t | b o t t o m | t o p / g , f u n c t i o n ( a ) { r e t u r n   b [ a ] } ) } f u n c t i o n   y ( a , b , c , d ) { d = d . s p l i t ( " - " ) [ 0 ] ; v a r   e = w ( b ) , f = { p o s i t i o n : a , w i d t h : e . w i d t h , h e i g h t : e . h e i g h t } , g = [ " r i g h t " , " l e f t " ] . i n d e x O f ( d ) ! = = - 1 , h = g ? " t o p " : " l e f t " , i = g ? " l e f t " : " t o p " , j = g ? " h e i g h t " : " w i d t h " , k = g ? " w i d t h " : " h e i g h t " ; r e t u r n   f [ h ] = c [ h ] + c [ j ] / 2 - e [ j ] / 2 , d = = = i ? f [ i ] = c [ i ] - e [ k ] : f [ i ] = c [ x ( i ) ] , f } f u n c t i o n   z ( b , c , d ) { v a r   e = " f i x e d " = = = b . p o s i t i o n , f = b . i s P a r e n t T r a n s f o r m e d , g = a ( e & & f ? d : c ) ; r e t u r n   k ( d , g , e , f ) } f u n c t i o n   A ( a ) { f o r ( v a r   b = [ ! 1 , " m s " , " w e b k i t " , " m o z " , " o " ] , c = a . c h a r A t ( 0 ) . t o U p p e r C a s e ( ) + a . s l i c e ( 1 ) , d = 0 ; d < b . l e n g t h - 1 ; d + + ) { v a r   e = b [ d ] , f = e ? " " + e + c : a ; i f ( " u n d e f i n e d " ! = t y p e o f   w i n d o w . d o c u m e n t . b o d y . s t y l e [ f ] ) r e t u r n   f } r e t u r n   n u l l } f u n c t i o n   B ( a ) { v a r   b = { } ; r e t u r n   a & & " [ o b j e c t   F u n c t i o n ] " = = = b . t o S t r i n g . c a l l ( a ) } f u n c t i o n   C ( a , b ) { r e t u r n   a . s o m e ( f u n c t i o n ( a ) { v a r   c = a . n a m e , d = a . e n a b l e d ; r e t u r n   d & & c = = = b } ) } f u n c t i o n   D ( a , b , c ) { v a r   d = t ( a , f u n c t i o n ( a ) { v a r   c = a . n a m e ; r e t u r n   c = = = b } ) ; r e t u r n ! ! d & & a . s o m e ( f u n c t i o n ( a ) { r e t u r n   a . n a m e = = = c & & a . e n a b l e d & & a . o r d e r < d . o r d e r } ) } f u n c t i o n   E ( a ) { r e t u r n " " ! = = a & & ! i s N a N ( p a r s e F l o a t ( a ) ) & & i s F i n i t e ( a ) } f u n c t i o n   F ( a ) { r e t u r n " B O D Y " ! = = a . n o d e N a m e & & ( " n o n e " ! = = b ( a , " t r a n s f o r m " ) | | ( c ( a ) ? F ( c ( a ) ) : a ) ) } f u n c t i o n   G ( a , b ) { r e t u r n   w i n d o w . r e m o v e E v e n t L i s t e n e r ( " r e s i z e " , b . u p d a t e B o u n d ) , b . s c r o l l P a r e n t s . f o r E a c h ( f u n c t i o n ( a ) { a . r e m o v e E v e n t L i s t e n e r ( " s c r o l l " , b . u p d a t e B o u n d ) } ) , b . u p d a t e B o u n d = n u l l , b . s c r o l l P a r e n t s = [ ] , b . s c r o l l E l e m e n t = n u l l , b . e v e n t s E n a b l e d = ! 1 , b } f u n c t i o n   H ( a , b , c ) { v a r   d = v o i d   0 = = = c ? a : a . s l i c e ( 0 , u ( a , " n a m e " , c ) ) ; r e t u r n   d . f o r E a c h ( f u n c t i o n ( a ) { a . e n a b l e d & & B ( a [ " f u n c t i o n " ] ) & & ( b = a [ " f u n c t i o n " ] ( b , a ) ) } ) , b } f u n c t i o n   I ( a , b ) { O b j e c t . k e y s ( b ) . f o r E a c h ( f u n c t i o n ( c ) { v a r   d = b [ c ] ; d ! = = ! 1 ? a . s e t A t t r i b u t e ( c , b [ c ] ) : a . r e m o v e A t t r i b u t e ( c ) } ) } f u n c t i o n   J ( a , b ) { O b j e c t . k e y s ( b ) . f o r E a c h ( f u n c t i o n ( c ) { v a r   d = " " ; [ " w i d t h " , " h e i g h t " , " t o p " , " r i g h t " , " b o t t o m " , " l e f t " ] . i n d e x O f ( c ) ! = = - 1 & & E ( b [ c ] ) & & ( d = " p x " ) , a . s t y l e [ c ] = b [ c ] + d } ) } f u n c t i o n   K ( a , b , c , e ) { v a r   f = " B O D Y " = = = a . n o d e N a m e , g = f ? w i n d o w : a ; g . a d d E v e n t L i s t e n e r ( b , c , { p a s s i v e : ! 0 } ) , f | | K ( d ( g . p a r e n t N o d e ) , b , c , e ) , e . p u s h ( g ) } f u n c t i o n   L ( a , b , c , e ) { c . u p d a t e B o u n d = e , w i n d o w . a d d E v e n t L i s t e n e r ( " r e s i z e " , c . u p d a t e B o u n d , { p a s s i v e : ! 0 } ) ; v a r   f = d ( a ) ; r e t u r n   K ( f , " s c r o l l " , c . u p d a t e B o u n d , c . s c r o l l P a r e n t s ) , c . s c r o l l E l e m e n t = f , c . e v e n t s E n a b l e d = ! 0 , c } f u n c t i o n   M ( a , b ) { v a r   c = { p o s i t i o n : a . o f f s e t s . p o p p e r . p o s i t i o n } , d = { " x - p l a c e m e n t " : a . p l a c e m e n t } , e = M a t h . r o u n d ( a . o f f s e t s . p o p p e r . l e f t ) , f = M a t h . r o u n d ( a . o f f s e t s . p o p p e r . t o p ) , g = A ( " t r a n s f o r m " ) ; r e t u r n   b . g p u A c c e l e r a t i o n & & g ? ( c [ g ] = " t r a n s l a t e 3 d ( " + e + " p x ,   " + f + " p x ,   0 ) " , c . t o p = 0 , c . l e f t = 0 , c . w i l l C h a n g e = " t r a n s f o r m " ) : ( c . l e f t = e , c . t o p = f , c . w i l l C h a n g e = " t o p ,   l e f t " ) , J ( a . i n s t a n c e . p o p p e r , g a ( { } , c , a . s t y l e s ) ) , I ( a . i n s t a n c e . p o p p e r , g a ( { } , d , a . a t t r i b u t e s ) ) , a . o f f s e t s . a r r o w & & J ( a . a r r o w E l e m e n t , a . o f f s e t s . a r r o w ) , a } f u n c t i o n   N ( a , b , c , d , e ) { v a r   f = z ( e , b , a ) ; r e t u r n   c . p l a c e m e n t = q ( c . p l a c e m e n t , f , b ) , b . s e t A t t r i b u t e ( " x - p l a c e m e n t " , c . p l a c e m e n t ) , c } f u n c t i o n   O ( a , b ) { i f ( ! D ( a . i n s t a n c e . m o d i f i e r s , " a r r o w " , " k e e p T o g e t h e r " ) ) r e t u r n   c o n s o l e . w a r n ( " W A R N I N G :   ` k e e p T o g e t h e r `   m o d i f i e r   i s   r e q u i r e d   b y   a r r o w   m o d i f i e r   i n   o r d e r   t o   w o r k ,   b e   s u r e   t o   i n c l u d e   i t   b e f o r e   ` a r r o w ` ! " ) , a ; v a r   c = b . e l e m e n t ; i f ( " s t r i n g " = = t y p e o f   c ) { i f ( c = a . i n s t a n c e . p o p p e r . q u e r y S e l e c t o r ( c ) , ! c ) r e t u r n   a } e l s e   i f ( ! a . i n s t a n c e . p o p p e r . c o n t a i n s ( c ) ) r e t u r n   c o n s o l e . w a r n ( " W A R N I N G :   ` a r r o w . e l e m e n t `   m u s t   b e   c h i l d   o f   i t s   p o p p e r   e l e m e n t ! " ) , a ; v a r   d = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , e = v ( a . o f f s e t s . p o p p e r ) , f = a . o f f s e t s . r e f e r e n c e , g = [ " l e f t " , " r i g h t " ] . i n d e x O f ( d ) ! = = - 1 , h = g ? " h e i g h t " : " w i d t h " , i = g ? " t o p " : " l e f t " , j = g ? " l e f t " : " t o p " , k = g ? " b o t t o m " : " r i g h t " , l = w ( c ) [ h ] ; f [ k ] - l < e [ i ] & & ( a . o f f s e t s . p o p p e r [ i ] - = e [ i ] - ( f [ k ] - l ) ) , f [ i ] + l > e [ k ] & & ( a . o f f s e t s . p o p p e r [ i ] + = f [ i ] + l - e [ k ] ) ; v a r   m = f [ i ] + f [ h ] / 2 - l / 2 , n = m - v ( a . o f f s e t s . p o p p e r ) [ i ] ; r e t u r n   n = M a t h . m a x ( M a t h . m i n ( e [ h ] - l , n ) , 0 ) , a . a r r o w E l e m e n t = c , a . o f f s e t s . a r r o w = { } , a . o f f s e t s . a r r o w [ i ] = n , a . o f f s e t s . a r r o w [ j ] = " " , a } f u n c t i o n   P ( a ) { r e t u r n " e n d " = = = a ? " s t a r t " : " s t a r t " = = = a ? " e n d " : a } f u n c t i o n   Q ( a , b ) { i f ( C ( a . i n s t a n c e . m o d i f i e r s , " i n n e r " ) ) r e t u r n   a ; i f ( a . f l i p p e d & & a . p l a c e m e n t = = = a . o r i g i n a l P l a c e m e n t ) r e t u r n   a ; v a r   c = p ( a . i n s t a n c e . p o p p e r , b . p a d d i n g , b . b o u n d a r i e s E l e m e n t ) , d = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , e = x ( d ) , f = a . p l a c e m e n t . s p l i t ( " - " ) [ 1 ] | | " " , g = [ ] ; r e t u r n   g = " f l i p " = = = b . b e h a v i o r ? [ d , e ] : b . b e h a v i o r , g . f o r E a c h ( f u n c t i o n ( h , i ) { i f ( d ! = = h | | g . l e n g t h = = = i + 1 ) r e t u r n   a ; d = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , e = x ( d ) ; v a r   j = v ( a . o f f s e t s . p o p p e r ) , k = a . o f f s e t s . r e f e r e n c e , l = M a t h . f l o o r , m = " l e f t " = = = d & & l ( j . r i g h t ) > l ( k . l e f t ) | | " r i g h t " = = = d & & l ( j . l e f t ) < l ( k . r i g h t ) | | " t o p " = = = d & & l ( j . b o t t o m ) > l ( k . t o p ) | | " b o t t o m " = = = d & & l ( j . t o p ) < l ( k . b o t t o m ) , n = l ( j . l e f t ) < l ( c . l e f t ) , o = l ( j . r i g h t ) > l ( c . r i g h t ) , p = l ( j . t o p ) < l ( c . t o p ) , q = l ( j . b o t t o m ) > l ( c . b o t t o m ) , r = " l e f t " = = = d & & n | | " r i g h t " = = = d & & o | | " t o p " = = = d & & p | | " b o t t o m " = = = d & & q , s = [ " t o p " , " b o t t o m " ] . i n d e x O f ( d ) ! = = - 1 , t = ! ! b . f l i p V a r i a t i o n s & & ( s & & " s t a r t " = = = f & & n | | s & & " e n d " = = = f & & o | | ! s & & " s t a r t " = = = f & & p | | ! s & & " e n d " = = = f & & q ) ; ( m | | r | | t ) & & ( a . f l i p p e d = ! 0 , ( m | | r ) & & ( d = g [ i + 1 ] ) , t & & ( f = P ( f ) ) , a . p l a c e m e n t = d + ( f ? " - " + f : " " ) , a . o f f s e t s . p o p p e r = y ( a . i n s t a n c e . s t a t e . p o s i t i o n , a . i n s t a n c e . p o p p e r , a . o f f s e t s . r e f e r e n c e , a . p l a c e m e n t ) , a = H ( a . i n s t a n c e . m o d i f i e r s , a , " f l i p " ) ) } ) , a } f u n c t i o n   R ( a ) { v a r   b = v ( a . o f f s e t s . p o p p e r ) , c = a . o f f s e t s . r e f e r e n c e , d = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , e = M a t h . f l o o r , f = [ " t o p " , " b o t t o m " ] . i n d e x O f ( d ) ! = = - 1 , g = f ? " r i g h t " : " b o t t o m " , h = f ? " l e f t " : " t o p " , i = f ? " w i d t h " : " h e i g h t " ; r e t u r n   b [ g ] < e ( c [ h ] ) & & ( a . o f f s e t s . p o p p e r [ h ] = e ( c [ h ] ) - b [ i ] ) , b [ h ] > e ( c [ g ] ) & & ( a . o f f s e t s . p o p p e r [ h ] = e ( c [ g ] ) ) , a } f u n c t i o n   S ( a , b ) { v a r   c = a . p l a c e m e n t , d = a . o f f s e t s . p o p p e r , e = v o i d   0 ; r e t u r n   E ( b . o f f s e t ) ? e = [ b . o f f s e t , 0 ] : ( e = b . o f f s e t . s p l i t ( "   " ) , e = e . m a p ( f u n c t i o n ( b , d ) { v a r   e = b . m a t c h ( / ( \ d * \ . ? \ d * ) ( . * ) / ) , f = + e [ 1 ] , g = e [ 2 ] , h = c . i n d e x O f ( " r i g h t " ) ! = = - 1 | | c . i n d e x O f ( " l e f t " ) ! = = - 1 ; 1 = = = d & & ( h = ! h ) ; v a r   i = h ? " h e i g h t " : " w i d t h " ; i f ( 0 = = = g . i n d e x O f ( " % " ) ) { v a r   j = v o i d   0 ; s w i t c h ( g ) { c a s e " % p " : j = a . o f f s e t s . p o p p e r ; b r e a k ; c a s e " % " : c a s e " $ r " : d e f a u l t : j = a . o f f s e t s . r e f e r e n c e } v a r   k = v ( j ) , l = k [ i ] ; r e t u r n   l / 1 0 0 * f } i f ( " v h " = = = g | | " v w " = = = g ) { v a r   m = v o i d   0 ; r e t u r n   m = " v h " = = = g ? M a t h . m a x ( d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t H e i g h t , w i n d o w . i n n e r H e i g h t | | 0 ) : M a t h . m a x ( d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t W i d t h , w i n d o w . i n n e r W i d t h | | 0 ) , m / 1 0 0 * f } r e t u r n " p x " = = = g ? + f : + b } ) ) , a . p l a c e m e n t . i n d e x O f ( " l e f t " ) ! = = - 1 ? ( d . t o p + = e [ 0 ] , d . l e f t - = e [ 1 ] | | 0 ) : a . p l a c e m e n t . i n d e x O f ( " r i g h t " ) ! = = - 1 ? ( d . t o p + = e [ 0 ] , d . l e f t + = e [ 1 ] | | 0 ) : a . p l a c e m e n t . i n d e x O f ( " t o p " ) ! = = - 1 ? ( d . l e f t + = e [ 0 ] , d . t o p - = e [ 1 ] | | 0 ) : a . p l a c e m e n t . i n d e x O f ( " b o t t o m " ) ! = = - 1 & & ( d . l e f t + = e [ 0 ] , d . t o p + = e [ 1 ] | | 0 ) , a } f u n c t i o n   T ( b , c ) { v a r   d = c . b o u n d a r i e s E l e m e n t | | a ( b . i n s t a n c e . p o p p e r ) , e = p ( b . i n s t a n c e . p o p p e r , c . p a d d i n g , d ) ; c . b o u n d a r i e s = e ; v a r   f = c . p r i o r i t y , g = v ( b . o f f s e t s . p o p p e r ) , h = { p r i m a r y : f u n c t i o n ( a ) { v a r   b = g [ a ] ; r e t u r n   g [ a ] < e [ a ] & & ! c . e s c a p e W i t h R e f e r e n c e & & ( b = M a t h . m a x ( g [ a ] , e [ a ] ) ) , f a ( { } , a , b ) } , s e c o n d a r y : f u n c t i o n ( a ) { v a r   b = " r i g h t " = = = a ? " l e f t " : " t o p " , d = g [ b ] ; r e t u r n   g [ a ] > e [ a ] & & ! c . e s c a p e W i t h R e f e r e n c e & & ( d = M a t h . m i n ( g [ b ] , e [ a ] - ( " r i g h t " = = = a ? g . w i d t h : g . h e i g h t ) ) ) , f a ( { } , b , d ) } } ; r e t u r n   f . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = [ " l e f t " , " t o p " ] . i n d e x O f ( a ) ! = = - 1 ? " p r i m a r y " : " s e c o n d a r y " ; g = g a ( { } , g , h [ b ] ( a ) ) } ) , b . o f f s e t s . p o p p e r = g , b } f u n c t i o n   U ( a ) { v a r   b = a . p l a c e m e n t , c = b . s p l i t ( " - " ) [ 0 ] , d = b . s p l i t ( " - " ) [ 1 ] ; i f ( d ) { v a r   e = a . o f f s e t s . r e f e r e n c e , f = v ( a . o f f s e t s . p o p p e r ) , g = [ " b o t t o m " , " t o p " ] . i n d e x O f ( c ) ! = = - 1 , h = g ? " l e f t " : " t o p " , i = g ? " w i d t h " : " h e i g h t " , j = { s t a r t : f a ( { } , h , e [ h ] ) , e n d : f a ( { } , h , e [ h ] + e [ i ] - f [ i ] ) } ; a . o f f s e t s . p o p p e r = g a ( { } , f , j [ d ] ) } r e t u r n   a } f u n c t i o n   V ( a ) { i f ( ! D ( a . i n s t a n c e . m o d i f i e r s , " h i d e " , " p r e v e n t O v e r f l o w " ) ) r e t u r n   c o n s o l e . w a r n ( " W A R N I N G :   p r e v e n t O v e r f l o w   m o d i f i e r   i s   r e q u i r e d   b y   h i d e   m o d i f i e r   i n   o r d e r   t o   w o r k ,   b e   s u r e   t o   i n c l u d e   i t   b e f o r e   h i d e ! " ) , a ; v a r   b = a . o f f s e t s . r e f e r e n c e , c = t ( a . i n s t a n c e . m o d i f i e r s , f u n c t i o n ( a ) { r e t u r n " p r e v e n t O v e r f l o w " = = = a . n a m e } ) . b o u n d a r i e s ; i f ( b . b o t t o m < c . t o p | | b . l e f t > c . r i g h t | | b . t o p > c . b o t t o m | | b . r i g h t < c . l e f t ) { i f ( a . h i d e = = = ! 0 ) r e t u r n   a ; a . h i d e = ! 0 , a . a t t r i b u t e s [ " x - o u t - o f - b o u n d a r i e s " ] = " " } e l s e { i f ( a . h i d e = = = ! 1 ) r e t u r n   a ; a . h i d e = ! 1 , a . a t t r i b u t e s [ " x - o u t - o f - b o u n d a r i e s " ] = ! 1 } r e t u r n   a } f u n c t i o n   W ( a ) { v a r   b = a . p l a c e m e n t , c = b . s p l i t ( " - " ) [ 0 ] , d = v ( a . o f f s e t s . p o p p e r ) , e = v ( a . o f f s e t s . r e f e r e n c e ) , f = [ " l e f t " , " r i g h t " ] . i n d e x O f ( c ) ! = = - 1 , g = [ " t o p " , " l e f t " ] . i n d e x O f ( c ) = = = - 1 ; r e t u r n   d [ f ? " l e f t " : " t o p " ] = e [ b ] - ( g ? d [ f ? " w i d t h " : " h e i g h t " ] : 0 ) , a . p l a c e m e n t = x ( b ) , a . o f f s e t s . p o p p e r = v ( d ) , a } f o r ( v a r   X = [ " n a t i v e   c o d e " , " [ o b j e c t   M u t a t i o n O b s e r v e r C o n s t r u c t o r ] " ] , Y = f u n c t i o n ( a ) { r e t u r n   X . s o m e ( f u n c t i o n ( b ) { r e t u r n ( a | | " " ) . t o S t r i n g ( ) . i n d e x O f ( b ) > - 1 } ) } , Z = " u n d e f i n e d " ! = t y p e o f   w i n d o w , $ = [ " E d g e " , " T r i d e n t " , " F i r e f o x " ] , _ = 0 , a a = 0 ; a a < $ . l e n g t h ; a a + = 1 ) i f ( Z & & n a v i g a t o r . u s e r A g e n t . i n d e x O f ( $ [ a a ] ) > = 0 ) { _ = 1 ; b r e a k } v a r   b a = Z & & Y ( w i n d o w . M u t a t i o n O b s e r v e r ) , c a = b a ? r : s , d a = f u n c t i o n ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } , e a = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , f a = f u n c t i o n ( a , b , c ) { r e t u r n   b   i n   a ? O b j e c t . d e f i n e P r o p e r t y ( a , b , { v a l u e : c , e n u m e r a b l e : ! 0 , c o n f i g u r a b l e : ! 0 , w r i t a b l e : ! 0 } ) : a [ b ] = c , a } , g a = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , h a = { c o m p u t e A u t o P l a c e m e n t : q , d e b o u n c e : c a , f i n d I n d e x : u , g e t B o r d e r s S i z e : g , g e t B o u n d a r i e s : p , g e t B o u n d i n g C l i e n t R e c t : h , g e t C l i e n t R e c t : v , g e t O f f s e t P a r e n t : a , g e t O f f s e t R e c t : m , g e t O f f s e t R e c t R e l a t i v e T o C u s t o m P a r e n t : k , g e t O u t e r S i z e s : w , g e t P a r e n t N o d e : c , g e t P o p p e r O f f s e t s : y , g e t P o s i t i o n : f , g e t R e f e r e n c e O f f s e t s : z , g e t S c r o l l : i , g e t S c r o l l P a r e n t : d , g e t S t y l e C o m p u t e d P r o p e r t y : b , g e t S u p p o r t e d P r o p e r t y N a m e : A , g e t T o t a l S c r o l l : o , g e t W i n d o w S i z e s : l , i n c l u d e S c r o l l : j , i s F i x e d : e , i s F u n c t i o n : B , i s M o d i f i e r E n a b l e d : C , i s M o d i f i e r R e q u i r e d : D , i s N a t i v e : Y , i s N u m e r i c : E , i s T r a n s f o r m e d : F , r e m o v e E v e n t L i s t e n e r s : G , r u n M o d i f i e r s : H , s e t A t t r i b u t e s : I , s e t S t y l e s : J , s e t u p E v e n t L i s t e n e r s : L } , i a = { s h i f t : { o r d e r : 1 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : U } , o f f s e t : { o r d e r : 2 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : S , o f f s e t : 0 } , p r e v e n t O v e r f l o w : { o r d e r : 3 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : T , p r i o r i t y : [ " l e f t " , " r i g h t " , " t o p " , " b o t t o m " ] , p a d d i n g : 5 , b o u n d a r i e s E l e m e n t : " s c r o l l P a r e n t " } , k e e p T o g e t h e r : { o r d e r : 4 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : R } , a r r o w : { o r d e r : 5 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : O , e l e m e n t : " [ x - a r r o w ] " } , f l i p : { o r d e r : 6 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : Q , b e h a v i o r : " f l i p " , p a d d i n g : 5 , b o u n d a r i e s E l e m e n t : " v i e w p o r t " } , i n n e r : { o r d e r : 7 0 0 , e n a b l e d : ! 1 , " f u n c t i o n " : W } , h i d e : { o r d e r : 8 0 0 , e n a b l e d : ! 0 , " f u n c t i o n " : V } , a p p l y S t y l e : { o r d e r : 9 0 0 , e n a b l e d : ! 0 , g p u A c c e l e r a t i o n : ! 0 , " f u n c t i o n " : M , o n L o a d : N } } , j a = { p l a c e m e n t : " b o t t o m " , e v e n t s E n a b l e d : ! 0 , o n C r e a t e : f u n c t i o n ( ) { } , o n U p d a t e : f u n c t i o n ( ) { } , m o d i f i e r s : i a } , k a = f u n c t i o n ( ) { f u n c t i o n   a ( b , c ) { v a r   d = t h i s , e = a r g u m e n t s . l e n g t h > 2 & & v o i d   0 ! = = a r g u m e n t s [ 2 ] ? a r g u m e n t s [ 2 ] : { } ; d a ( t h i s , a ) , t h i s . s c h e d u l e U p d a t e = f u n c t i o n ( ) { r e t u r n   r e q u e s t A n i m a t i o n F r a m e ( d . u p d a t e ) } , t h i s . u p d a t e = c a ( t h i s . u p d a t e . b i n d ( t h i s ) ) , t h i s . o p t i o n s = g a ( { } , a . D e f a u l t s , e ) , t h i s . s t a t e = { i s D e s t r o y e d : ! 1 , i s C r e a t e d : ! 1 , s c r o l l P a r e n t s : [ ] } , t h i s . r e f e r e n c e = b . j q u e r y ? b [ 0 ] : b , t h i s . p o p p e r = c . j q u e r y ? c [ 0 ] : c , t h i s . m o d i f i e r s = O b j e c t . k e y s ( a . D e f a u l t s . m o d i f i e r s ) . m a p ( f u n c t i o n ( b ) { r e t u r n   g a ( { n a m e : b } , a . D e f a u l t s . m o d i f i e r s [ b ] ) } ) , t h i s . m o d i f i e r s = t h i s . m o d i f i e r s . m a p ( f u n c t i o n ( a ) { v a r   b = e . m o d i f i e r s & & e . m o d i f i e r s [ a . n a m e ] | | { } ; r e t u r n   g a ( { } , a , b ) } ) , e . m o d i f i e r s & & ( t h i s . o p t i o n s . m o d i f i e r s = g a ( { } , a . D e f a u l t s . m o d i f i e r s , e . m o d i f i e r s ) , O b j e c t . k e y s ( e . m o d i f i e r s ) . f o r E a c h ( f u n c t i o n ( b ) { i f ( v o i d   0 = = = a . D e f a u l t s . m o d i f i e r s [ b ] ) { v a r   c = e . m o d i f i e r s [ b ] ; c . n a m e = b , d . m o d i f i e r s . p u s h ( c ) } } ) ) , t h i s . s t a t e . p o s i t i o n = f ( t h i s . r e f e r e n c e ) , t h i s . m o d i f i e r s = t h i s . m o d i f i e r s . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a . o r d e r - b . o r d e r } ) , t h i s . m o d i f i e r s . f o r E a c h ( f u n c t i o n ( a ) { a . e n a b l e d & & B ( a . o n L o a d ) & & a . o n L o a d ( d . r e f e r e n c e , d . p o p p e r , d . o p t i o n s , a , d . s t a t e ) } ) , t h i s . s t a t e . i s P a r e n t T r a n s f o r m e d = F ( t h i s . p o p p e r . p a r e n t N o d e ) , t h i s . u p d a t e ( ) ; v a r   g = t h i s . o p t i o n s . e v e n t s E n a b l e d ; g & & t h i s . e n a b l e E v e n t L i s t e n e r s ( ) , t h i s . s t a t e . e v e n t s E n a b l e d = g } r e t u r n   e a ( a , [ { k e y : " u p d a t e " , v a l u e : f u n c t i o n ( ) { i f ( ! t h i s . s t a t e . i s D e s t r o y e d ) { v a r   a = { i n s t a n c e : t h i s , s t y l e s : { } , a t t r i b u t e s : { } , f l i p p e d : ! 1 , o f f s e t s : { } } ; t h i s . s t a t e . p o s i t i o n = f ( t h i s . r e f e r e n c e ) , J ( t h i s . p o p p e r , { p o s i t i o n : t h i s . s t a t e . p o s i t i o n } ) , a . o f f s e t s . r e f e r e n c e = z ( t h i s . s t a t e , t h i s . p o p p e r , t h i s . r e f e r e n c e ) , a . p l a c e m e n t = q ( t h i s . o p t i o n s . p l a c e m e n t , a . o f f s e t s . r e f e r e n c e , t h i s . p o p p e r ) , a . o r i g i n a l P l a c e m e n t = t h i s . o p t i o n s . p l a c e m e n t , a . o f f s e t s . p o p p e r = y ( t h i s . s t a t e , t h i s . p o p p e r , a . o f f s e t s . r e f e r e n c e , a . p l a c e m e n t ) , a = H ( t h i s . m o d i f i e r s , a ) , t h i s . s t a t e . i s C r e a t e d ? t h i s . o p t i o n s . o n U p d a t e ( a ) : ( t h i s . s t a t e . i s C r e a t e d = ! 0 , t h i s . o p t i o n s . o n C r e a t e ( a ) ) } } } , { k e y : " d e s t r o y " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . s t a t e . i s D e s t r o y e d = ! 0 , C ( t h i s . m o d i f i e r s , " a p p l y S t y l e " ) & & ( t h i s . p o p p e r . r e m o v e A t t r i b u t e ( " x - p l a c e m e n t " ) , t h i s . p o p p e r . s t y l e . l e f t = " " , t h i s . p o p p e r . s t y l e . p o s i t i o n = " " , t h i s . p o p p e r . s t y l e . t o p = " " , t h i s . p o p p e r . s t y l e [ A ( " t r a n s f o r m " ) ] = " " ) , t h i s . d i s a b l e E v e n t L i s t e n e r s ( ) , t h i s . o p t i o n s . r e m o v e O n D e s t r o y & & t h i s . p o p p e r . p a r e n t N o d e . r e m o v e C h i l d ( t h i s . p o p p e r ) , t h i s } } , { k e y : " e n a b l e E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { t h i s . s t a t e . e v e n t s E n a b l e d | | ( t h i s . s t a t e = L ( t h i s . r e f e r e n c e , t h i s . o p t i o n s , t h i s . s t a t e , t h i s . s c h e d u l e U p d a t e ) ) } } , { k e y : " d i s a b l e E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { t h i s . s t a t e . e v e n t s E n a b l e d & & ( w i n d o w . c a n c e l A n i m a t i o n F r a m e ( t h i s . s c h e d u l e U p d a t e ) , t h i s . s t a t e = G ( t h i s . r e f e r e n c e , t h i s . s t a t e ) ) } } ] ) , a } ( ) ; r e t u r n   k a . U t i l s = h a , k a . p l a c e m e n t s = [ " a u t o " , " a u t o - s t a r t " , " a u t o - e n d " , " t o p " , " t o p - s t a r t " , " t o p - e n d " , " r i g h t " , " r i g h t - s t a r t " , " r i g h t - e n d " , " b o t t o m " , " b o t t o m - s t a r t " , " b o t t o m - e n d " , " l e f t " , " l e f t - s t a r t " , " l e f t - e n d " ] , k a . D e f a u l t s = j a , k a } ) ; 
 d e f i n e ( ' t o o l _ u s e r t o u r s / m a n a g e s t e p s ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = { r e m o v e S t e p : f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) , b . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m s t e p r e m o v a l t i t l e " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " c o n f i r m s t e p r e m o v a l q u e s t i o n " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { c . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , a . p r o x y ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = a ( t h i s ) . a t t r ( " h r e f " ) } , d . c u r r e n t T a r g e t ) ) } ) } , s e t u p : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " d e l e t e " ] ' , " c l i c k " , d . r e m o v e S t e p ) } } ; r e t u r n { s e t u p : d . s e t u p } } ) ; 
 ! f u n c t i o n ( a , b ) { " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' t o o l _ u s e r t o u r s / t o u r ' ,   [ " j q u e r y " , " . / p o p p e r " ] , f u n c t i o n ( c , d ) { r e t u r n   a . T o u r = b ( c , d ) } ) : " o b j e c t " = = t y p e o f   m o d u l e & & m o d u l e . e x p o r t s ? m o d u l e . e x p o r t s = b ( r e q u i r e ( " j q u e r y " ) , r e q u i r e ( " p o p p e r . j s " ) ) : a . T o u r = b ( a . $ , a . P o p p e r ) } ( t h i s , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { t h i s . i n i t ( a ) } v a r   d = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ; r e t u r n   c . p r o t o t y p e . t o u r N a m e , c . p r o t o t y p e . s t o r a g e K e y , c . p r o t o t y p e . s t o r a g e , c . p r o t o t y p e . o r i g i n a l C o n f i g u r a t i o n , c . p r o t o t y p e . l i s t e n e r s , c . p r o t o t y p e . e v e n t H a n d l e r s , c . p r o t o t y p e . s t e p s , c . p r o t o t y p e . c u r r e n t S t e p N o d e , c . p r o t o t y p e . c u r r e n t S t e p N u m b e r , c . p r o t o t y p e . c u r r e n t S t e p P o p p e r , c . p r o t o t y p e . c u r r e n t S t e p C o n f i g , c . p r o t o t y p e . t e m p l a t e C o n t e n t , c . p r o t o t y p e . i n i t = f u n c t i o n ( a ) { t h i s . e v e n t H a n d l e r s = { } , t h i s . r e s e t ( ) , t h i s . o r i g i n a l C o n f i g u r a t i o n = a | | { } , t h i s . c o n f i g u r e . a p p l y ( t h i s , a r g u m e n t s ) ; t r y { t h i s . s t o r a g e = w i n d o w . s e s s i o n S t o r a g e , t h i s . s t o r a g e K e y = " t o u r s t a t e _ " + t h i s . t o u r N a m e } c a t c h ( b ) { t h i s . s t o r a g e = ! 1 , t h i s . s t o r a g e K e y = " " } r e t u r n   t h i s } , c . p r o t o t y p e . r e s e t = f u n c t i o n ( ) { r e t u r n   t h i s . h i d e ( ) , t h i s . e v e n t H a n d l e r s = [ ] , t h i s . r e s e t S t e p L i s t e n e r s ( ) , t h i s . o r i g i n a l C o n f i g u r a t i o n = { } , t h i s . s t e p s = [ ] , t h i s . c u r r e n t S t e p N u m b e r = 0 , t h i s } , c . p r o t o t y p e . c o n f i g u r e = f u n c t i o n ( a ) { v a r   b = t h i s ; r e t u r n " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   a ? " u n d e f i n e d " : d ( a ) ) & & ( " u n d e f i n e d " ! = t y p e o f   a . t o u r N a m e & & ( t h i s . t o u r N a m e = a . t o u r N a m e ) , a . e v e n t H a n d l e r s & & ! f u n c t i o n ( ) { v a r   c = v o i d   0 ; f o r ( c   i n   a . e v e n t H a n d l e r s ) a . e v e n t H a n d l e r s [ c ] . f o r E a c h ( f u n c t i o n ( a ) { t h i s . a d d E v e n t H a n d l e r ( c , a ) } , b ) } ( ) , t h i s . r e s e t S t e p D e f a u l t s ( ! 0 ) , " o b j e c t " = = = d ( a . s t e p s ) & & ( t h i s . s t e p s = a . s t e p s ) , " u n d e f i n e d " ! = t y p e o f   a . t e m p l a t e & & ( t h i s . t e m p l a t e C o n t e n t = a . t e m p l a t e ) ) , t h i s . c h e c k M i n i m u m R e q u i r e m e n t s ( ) , t h i s } , c . p r o t o t y p e . c h e c k M i n i m u m R e q u i r e m e n t s = f u n c t i o n ( ) { i f ( ! t h i s . t o u r N a m e ) t h r o w   n e w   E r r o r ( " T o u r   N a m e   r e q u i r e d " ) ; i f ( ! t h i s . s t e p s | | ! t h i s . s t e p s . l e n g t h ) t h r o w   n e w   E r r o r ( " S t e p s   m u s t   b e   s p e c i f i e d " ) } , c . p r o t o t y p e . r e s e t S t e p D e f a u l t s = f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " = = t y p e o f   a & & ( a = ! 0 ) , t h i s . s t e p D e f a u l t s = { } , a & & " u n d e f i n e d " ! = t y p e o f   t h i s . o r i g i n a l C o n f i g u r a t i o n . s t e p D e f a u l t s ? t h i s . s e t S t e p D e f a u l t s ( t h i s . o r i g i n a l C o n f i g u r a t i o n . s t e p D e f a u l t s ) : t h i s . s e t S t e p D e f a u l t s ( { } ) , t h i s } , c . p r o t o t y p e . s e t S t e p D e f a u l t s = f u n c t i o n ( b ) { r e t u r n   t h i s . s t e p D e f a u l t s | | ( t h i s . s t e p D e f a u l t s = { } ) , a . e x t e n d ( t h i s . s t e p D e f a u l t s , { e l e m e n t : " " , p l a c e m e n t : " t o p " , d e l a y : 0 , m o v e O n C l i c k : ! 1 , m o v e A f t e r T i m e : 0 , o r p h a n : ! 1 , d i r e c t i o n : 1 } , b ) , t h i s } , c . p r o t o t y p e . g e t C u r r e n t S t e p N u m b e r = f u n c t i o n ( ) { r e t u r n   p a r s e I n t ( t h i s . c u r r e n t S t e p N u m b e r , 1 0 ) } , c . p r o t o t y p e . s e t C u r r e n t S t e p N u m b e r = f u n c t i o n ( a ) { i f ( t h i s . c u r r e n t S t e p N u m b e r = a , t h i s . s t o r a g e ) t r y { t h i s . s t o r a g e . s e t I t e m ( t h i s . s t o r a g e K e y , a ) } c a t c h ( b ) { b . c o d e = = = D O M E x c e p t i o n . Q U O T A _ E X C E E D E D _ E R R & & t h i s . s t o r a g e . r e m o v e I t e m ( t h i s . s t o r a g e K e y ) } } , c . p r o t o t y p e . g e t N e x t S t e p N u m b e r = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; f o r ( v a r   b = a + 1 ; b < = t h i s . s t e p s . l e n g t h ; ) { i f ( t h i s . i s S t e p P o t e n t i a l l y V i s i b l e ( t h i s . g e t S t e p C o n f i g ( b ) ) ) r e t u r n   b ; b + + } r e t u r n   n u l l } , c . p r o t o t y p e . g e t P r e v i o u s S t e p N u m b e r = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; f o r ( v a r   b = a - 1 ; b > = 0 ; ) { i f ( t h i s . i s S t e p P o t e n t i a l l y V i s i b l e ( t h i s . g e t S t e p C o n f i g ( b ) ) ) r e t u r n   b ; b - - } r e t u r n   n u l l } , c . p r o t o t y p e . i s L a s t S t e p = f u n c t i o n ( a ) { v a r   b = t h i s . g e t N e x t S t e p N u m b e r ( a ) ; r e t u r n   n u l l = = = b } , c . p r o t o t y p e . i s F i r s t S t e p = f u n c t i o n ( a ) { v a r   b = t h i s . g e t P r e v i o u s S t e p N u m b e r ( a ) ; r e t u r n   n u l l = = = b } , c . p r o t o t y p e . i s S t e p P o t e n t i a l l y V i s i b l e = f u n c t i o n ( a ) { r e t u r n ! ! a & & ( ! ! t h i s . i s S t e p A c t u a l l y V i s i b l e ( a ) | | ( ! ( " u n d e f i n e d " = = t y p e o f   a . o r p h a n | | ! a . o r p h a n ) | | ! ( " u n d e f i n e d " = = t y p e o f   a . d e l a y | | ! a . d e l a y ) ) ) } , c . p r o t o t y p e . i s S t e p A c t u a l l y V i s i b l e = f u n c t i o n ( a ) { i f ( ! a ) r e t u r n ! 1 ; v a r   b = t h i s . g e t S t e p T a r g e t ( a ) ; r e t u r n ! ! ( b & & b . l e n g t h & & b . i s ( " : v i s i b l e " ) ) & & ! ! b . l e n g t h } , c . p r o t o t y p e . n e x t = f u n c t i o n ( ) { r e t u r n   t h i s . g o t o S t e p ( t h i s . g e t N e x t S t e p N u m b e r ( ) ) } , c . p r o t o t y p e . p r e v i o u s = f u n c t i o n ( ) { r e t u r n   t h i s . g o t o S t e p ( t h i s . g e t P r e v i o u s S t e p N u m b e r ( ) , - 1 ) } , c . p r o t o t y p e . g o t o S t e p = f u n c t i o n ( a , b ) { i f ( a < 0 ) r e t u r n   t h i s . e n d T o u r ( ) ; v a r   c = t h i s . g e t S t e p C o n f i g ( a ) ; r e t u r n   n u l l = = = c ? t h i s . e n d T o u r ( ) : t h i s . _ g o t o S t e p ( c , b ) } , c . p r o t o t y p e . _ g o t o S t e p = f u n c t i o n ( a , b ) { i f ( ! a ) r e t u r n   t h i s . e n d T o u r ( ) ; i f ( " u n d e f i n e d " ! = t y p e o f   a . d e l a y & & a . d e l a y & & ! a . d e l a y e d ) r e t u r n   a . d e l a y e d = ! 0 , w i n d o w . s e t T i m e o u t ( t h i s . _ g o t o S t e p . b i n d ( t h i s ) , a . d e l a y , a , b ) , t h i s ; i f ( ! a . o r p h a n & & ! t h i s . i s S t e p A c t u a l l y V i s i b l e ( a ) ) { v a r   c = b = = - 1 ? " g e t P r e v i o u s S t e p N u m b e r " : " g e t N e x t S t e p N u m b e r " ; r e t u r n   t h i s . g o t o S t e p ( t h i s [ c ] ( a . s t e p N u m b e r ) , b ) } r e t u r n   t h i s . h i d e ( ) , t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e R e n d e r " , a ) , t h i s . r e n d e r S t e p ( a ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r R e n d e r " , a ) , t h i s } , c . p r o t o t y p e . g e t S t e p C o n f i g = f u n c t i o n ( b ) { i f ( n u l l = = = b | | b < 0 | | b > = t h i s . s t e p s . l e n g t h ) r e t u r n   n u l l ; v a r   c = t h i s . n o r m a l i z e S t e p C o n f i g ( t h i s . s t e p s [ b ] ) ; r e t u r n   c = a . e x t e n d ( c , { s t e p N u m b e r : b } ) } , c . p r o t o t y p e . n o r m a l i z e S t e p C o n f i g = f u n c t i o n ( b ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   b . r e f l e x & & " u n d e f i n e d " = = t y p e o f   b . m o v e A f t e r C l i c k & & ( b . m o v e A f t e r C l i c k = b . r e f l e x ) , " u n d e f i n e d " ! = t y p e o f   b . e l e m e n t & & " u n d e f i n e d " = = t y p e o f   b . t a r g e t & & ( b . t a r g e t = b . e l e m e n t ) , " u n d e f i n e d " ! = t y p e o f   b . c o n t e n t & & " u n d e f i n e d " = = t y p e o f   b . b o d y & & ( b . b o d y = b . c o n t e n t ) , b = a . e x t e n d ( { } , t h i s . s t e p D e f a u l t s , b ) , b = a . e x t e n d ( { } , { a t t a c h T o : b . t a r g e t , a t t a c h P o i n t : " a f t e r " } , b ) , b . a t t a c h T o & & ( b . a t t a c h T o = a ( b . a t t a c h T o ) . f i r s t ( ) ) , b } , c . p r o t o t y p e . g e t S t e p T a r g e t = f u n c t i o n ( b ) { r e t u r n   b . t a r g e t ? a ( b . t a r g e t ) : n u l l } , c . p r o t o t y p e . f i r e E v e n t H a n d l e r s = f u n c t i o n ( a , b ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . e v e n t H a n d l e r s [ a ] ? t h i s : ( t h i s . e v e n t H a n d l e r s [ a ] . f o r E a c h ( f u n c t i o n ( a ) { a . c a l l ( t h i s , b ) } , t h i s ) , t h i s ) } , c . p r o t o t y p e . a d d E v e n t H a n d l e r = f u n c t i o n ( a , b ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . e v e n t H a n d l e r s [ a ] & & ( t h i s . e v e n t H a n d l e r s [ a ] = [ ] ) , t h i s . e v e n t H a n d l e r s [ a ] . p u s h ( b ) , t h i s } , c . p r o t o t y p e . p r o c e s s S t e p L i s t e n e r s = f u n c t i o n ( b ) { i f ( t h i s . l i s t e n e r s . p u s h ( { n o d e : t h i s . c u r r e n t S t e p N o d e , a r g s : [ " c l i c k " , ' [ d a t a - r o l e = " n e x t " ] ' , a . p r o x y ( t h i s . n e x t , t h i s ) ] } , { n o d e : t h i s . c u r r e n t S t e p N o d e , a r g s : [ " c l i c k " , ' [ d a t a - r o l e = " p r e v i o u s " ] ' , a . p r o x y ( t h i s . p r e v i o u s , t h i s ) ] } , { n o d e : t h i s . c u r r e n t S t e p N o d e , a r g s : [ " c l i c k " , ' [ d a t a - r o l e = " e n d " ] ' , a . p r o x y ( t h i s . e n d T o u r , t h i s ) ] } , { n o d e : a ( " b o d y " ) , a r g s : [ " k e y d o w n " , a . p r o x y ( t h i s . h a n d l e K e y D o w n , t h i s ) ] } ) , b . m o v e O n C l i c k ) { v a r   c = t h i s . g e t S t e p T a r g e t ( b ) ; t h i s . l i s t e n e r s . p u s h ( { n o d e : c , a r g s : [ " c l i c k " , a . p r o x y ( f u n c t i o n ( b ) { 0 = = = a ( b . t a r g e t ) . p a r e n t s ( ' [ d a t a - f l e x i t o u r = " c o n t a i n e r " ] ' ) . l e n g t h & & w i n d o w . s e t T i m e o u t ( a . p r o x y ( t h i s . n e x t , t h i s ) , 5 0 0 ) } , t h i s ) ] } ) } r e t u r n   t h i s . l i s t e n e r s . f o r E a c h ( f u n c t i o n ( a ) { a . n o d e . o n . a p p l y ( a . n o d e , a . a r g s ) } ) , t h i s } , c . p r o t o t y p e . r e s e t S t e p L i s t e n e r s = f u n c t i o n ( ) { r e t u r n   t h i s . l i s t e n e r s & & t h i s . l i s t e n e r s . f o r E a c h ( f u n c t i o n ( a ) { a . n o d e . o f f . a p p l y ( a . n o d e , a . a r g s ) } ) , t h i s . l i s t e n e r s = [ ] , t h i s } , c . p r o t o t y p e . r e n d e r S t e p = f u n c t i o n ( b ) { t h i s . c u r r e n t S t e p C o n f i g = b , t h i s . s e t C u r r e n t S t e p N u m b e r ( b . s t e p N u m b e r ) ; v a r   c = a ( t h i s . g e t T e m p l a t e C o n t e n t ( ) ) ; r e t u r n   c . f i n d ( ' [ d a t a - p l a c e h o l d e r = " t i t l e " ] ' ) . h t m l ( b . t i t l e ) , c . f i n d ( ' [ d a t a - p l a c e h o l d e r = " b o d y " ] ' ) . h t m l ( b . b o d y ) , t h i s . i s F i r s t S t e p ( b . s t e p N u m b e r ) ? c . f i n d ( ' [ d a t a - r o l e = " p r e v i o u s " ] ' ) . p r o p ( " d i s a b l e d " , ! 0 ) : c . f i n d ( ' [ d a t a - r o l e = " p r e v i o u s " ] ' ) . p r o p ( " d i s a b l e d " , ! 1 ) , t h i s . i s L a s t S t e p ( b . s t e p N u m b e r ) ? c . f i n d ( ' [ d a t a - r o l e = " n e x t " ] ' ) . p r o p ( " d i s a b l e d " , ! 0 ) : c . f i n d ( ' [ d a t a - r o l e = " n e x t " ] ' ) . p r o p ( " d i s a b l e d " , ! 1 ) , c . f i n d ( ' [ d a t a - r o l e = " p r e v i o u s " ] ' ) . a t t r ( " r o l e " , " b u t t o n " ) , c . f i n d ( ' [ d a t a - r o l e = " n e x t " ] ' ) . a t t r ( " r o l e " , " b u t t o n " ) , c . f i n d ( ' [ d a t a - r o l e = " e n d " ] ' ) . a t t r ( " r o l e " , " b u t t o n " ) , b . t e m p l a t e = c , t h i s . a d d S t e p T o P a g e ( b ) , t h i s . p r o c e s s S t e p L i s t e n e r s ( b ) , t h i s } , c . p r o t o t y p e . g e t T e m p l a t e C o n t e n t = f u n c t i o n ( ) { r e t u r n   a ( t h i s . t e m p l a t e C o n t e n t ) . c l o n e ( ) } , c . p r o t o t y p e . a d d S t e p T o P a g e = f u n c t i o n ( c ) { v a r   d = ( c . t e m p l a t e , a ( ' < s p a n   d a t a - f l e x i t o u r = " c o n t a i n e r " > < / s p a n > ' ) . h t m l ( c . t e m p l a t e ) . h i d e ( ) ) , e = a ( " b o d y ,   h t m l " ) . s t o p ( ! 0 , ! 0 ) ; i f ( t h i s . i s S t e p A c t u a l l y V i s i b l e ( c ) ) { v a r   f = t h i s . g e t S t e p T a r g e t ( c ) ; f . d a t a ( " f l e x i t o u r " , " t a r g e t " ) ; v a r   g = t h i s . c a l c u l a t e Z I n d e x ( f ) ; g & & ( c . z I n d e x = g + 1 ) , c . z I n d e x & & d . c s s ( " z I n d e x " , c . z I n d e x + 1 ) , t h i s . p o s i t i o n B a c k d r o p ( c ) , a ( d o c u m e n t . b o d y ) . a p p e n d ( d ) , t h i s . c u r r e n t S t e p N o d e = d , t h i s . c u r r e n t S t e p N o d e . c s s ( { t o p : 0 , l e f t : 0 } ) , e . a n i m a t e ( { s c r o l l T o p : t h i s . c a l c u l a t e S c r o l l T o p ( c ) } ) . p r o m i s e ( ) . t h e n ( f u n c t i o n ( ) { t h i s . p o s i t i o n S t e p ( c ) , t h i s . r e v e a l S t e p ( c ) } . b i n d ( t h i s ) ) } e l s e   c . o r p h a n & & ( c . i s O r p h a n = ! 0 , c . a t t a c h T o = a ( " b o d y " ) . f i r s t ( ) , c . a t t a c h P o i n t = " a p p e n d " , t h i s . p o s i t i o n B a c k d r o p ( c ) , d . a d d C l a s s ( " o r p h a n " ) , a ( d o c u m e n t . b o d y ) . a p p e n d ( d ) , t h i s . c u r r e n t S t e p N o d e = d , t h i s . c u r r e n t S t e p N o d e . o f f s e t ( t h i s . c a l c u l a t e S t e p P o s i t i o n I n P a g e ( ) ) , t h i s . c u r r e n t S t e p N o d e . c s s ( " p o s i t i o n " , " f i x e d " ) , t h i s . c u r r e n t S t e p P o p p e r = n e w   b ( a ( " b o d y " ) , t h i s . c u r r e n t S t e p N o d e [ 0 ] , { r e m o v e O n D e s t r o y : ! 0 , p l a c e m e n t : c . p l a c e m e n t + " - s t a r t " , a r r o w E l e m e n t : ' [ d a t a - r o l e = " a r r o w " ] ' , m o d i f i e r s : { h i d e : { e n a b l e d : ! 1 } , a p p l y S t y l e : { o n L o a d : n u l l , e n a b l e d : ! 1 } } } ) , t h i s . r e v e a l S t e p ( c ) ) ; r e t u r n   t h i s } , c . p r o t o t y p e . r e v e a l S t e p = f u n c t i o n ( b ) { r e t u r n   t h i s . c u r r e n t S t e p N o d e . f a d e I n ( " " , a . p r o x y ( f u n c t i o n ( ) { t h i s . a n n o u n c e S t e p ( b ) , t h i s . c u r r e n t S t e p N o d e . f o c u s ( ) , w i n d o w . s e t T i m e o u t ( a . p r o x y ( f u n c t i o n ( ) { t h i s . c u r r e n t S t e p N o d e & & t h i s . c u r r e n t S t e p N o d e . f o c u s ( ) } , t h i s ) , 1 0 0 ) } , t h i s ) ) , t h i s } , c . p r o t o t y p e . a n n o u n c e S t e p = f u n c t i o n ( a ) { v a r   b = " t o u r - s t e p - " + t h i s . t o u r N a m e + " - " + a . s t e p N u m b e r ; t h i s . c u r r e n t S t e p N o d e . a t t r ( " i d " , b ) ; v a r   c = t h i s . c u r r e n t S t e p N o d e . f i n d ( ' [ d a t a - p l a c e h o l d e r = " b o d y " ] ' ) . f i r s t ( ) ; c . a t t r ( " i d " , b + " - b o d y " ) , c . a t t r ( " r o l e " , " d o c u m e n t " ) ; v a r   d = t h i s . c u r r e n t S t e p N o d e . f i n d ( ' [ d a t a - p l a c e h o l d e r = " t i t l e " ] ' ) . f i r s t ( ) ; d . a t t r ( " i d " , b + " - t i t l e " ) , d . a t t r ( " a r i a - l a b e l l e d b y " , b + " - b o d y " ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " r o l e " , " d i a l o g " ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " t a b i n d e x " , 0 ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " a r i a - l a b e l l e d b y " , b + " - t i t l e " ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " a r i a - d e s c r i b e d b y " , b + " - b o d y " ) ; v a r   e = t h i s . g e t S t e p T a r g e t ( a ) ; r e t u r n   e & & ( e . a t t r ( " t a b i n d e x " ) | | e . a t t r ( " t a b i n d e x " , 0 ) , e . d a t a ( " o r i g i n a l - d e s c r i b e d b y " , e . a t t r ( " a r i a - d e s c r i b e d b y " ) ) . a t t r ( " a r i a - d e s c r i b e d b y " , b + " - b o d y " ) ) , t h i s . a c c e s s i b i l i t y S h o w ( a ) , t h i s } , c . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( b ) { v a r   c = " a [ h r e f ] ,   l i n k [ h r e f ] ,   [ d r a g g a b l e = t r u e ] ,   [ c o n t e n t e d i t a b l e = t r u e ] ,   : i n p u t : e n a b l e d ,   [ t a b i n d e x ] ,   b u t t o n " ; s w i t c h ( b . k e y C o d e ) { c a s e   2 7 : t h i s . e n d T o u r ( ) ; b r e a k ; c a s e   9 : ( f u n c t i o n ( ) { i f ( t h i s . c u r r e n t S t e p C o n f i g . h a s B a c k d r o p ) { v a r   d = a ( d o c u m e n t . a c t i v e E l e m e n t ) , e = t h i s . g e t S t e p T a r g e t ( t h i s . c u r r e n t S t e p C o n f i g ) , f = a ( c ) , g = v o i d   0 ; f . f i l t e r ( f u n c t i o n ( a , b ) { i f ( d . i s ( b ) ) r e t u r n   g = a , ! 1 } ) ; v a r   h = v o i d   0 , i = v o i d   0 , j = v o i d   0 ; i f ( g ) { v a r   k = 1 ; b . s h i f t K e y & & ( k = - 1 ) , h = g ; d o   h + = k , i = a ( f [ h ] ) ; w h i l e ( i . l e n g t h & & i . i s ( " : d i s a b l e d " ) | | i . i s ( " : h i d d e n " ) ) ; i . l e n g t h ? ( j = i . c l o s e s t ( e ) . l e n g t h , j = j | | i . c l o s e s t ( t h i s . c u r r e n t S t e p N o d e ) . l e n g t h ) : j = ! 1 } j ? i . f o c u s ( ) : b . s h i f t K e y ? t h i s . c u r r e n t S t e p N o d e . f i n d ( c ) . l a s t ( ) . f o c u s ( ) : t h i s . c u r r e n t S t e p C o n f i g . i s O r p h a n ? t h i s . c u r r e n t S t e p N o d e . f o c u s ( ) : e . f o c u s ( ) , b . p r e v e n t D e f a u l t ( ) } } ) . c a l l ( t h i s ) } } , c . p r o t o t y p e . s t a r t T o u r = f u n c t i o n ( a ) { i f ( t h i s . s t o r a g e & & " u n d e f i n e d " = = t y p e o f   a ) { v a r   b = t h i s . s t o r a g e . g e t I t e m ( t h i s . s t o r a g e K e y ) ; i f ( b ) { v a r   c = p a r s e I n t ( b , 1 0 ) ; c < = t h i s . s t e p s . l e n g t h & & ( a = c ) } } r e t u r n " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) , t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e S t a r t " , a ) , t h i s . g o t o S t e p ( a ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r S t a r t " , a ) , t h i s } , c . p r o t o t y p e . r e s t a r t T o u r = f u n c t i o n ( ) { r e t u r n   t h i s . s t a r t T o u r ( 0 ) } , c . p r o t o t y p e . e n d T o u r = f u n c t i o n ( ) { i f ( t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e E n d " ) , t h i s . c u r r e n t S t e p C o n f i g ) { v a r   a = t h i s . g e t S t e p T a r g e t ( t h i s . c u r r e n t S t e p C o n f i g ) ; a & & ( a . a t t r ( " t a b i n d e x " ) | | a . a t t r ( " t a b i n d e x " , " - 1 " ) , a . f o c u s ( ) ) } r e t u r n   t h i s . h i d e ( ! 0 ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r E n d " ) , t h i s } , c . p r o t o t y p e . h i d e = f u n c t i o n ( b ) { i f ( t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e H i d e " ) , t h i s . c u r r e n t S t e p N o d e & & t h i s . c u r r e n t S t e p N o d e . l e n g t h & & ( t h i s . c u r r e n t S t e p N o d e . h i d e ( ) , t h i s . c u r r e n t S t e p P o p p e r & & t h i s . c u r r e n t S t e p P o p p e r . d e s t r o y ( ) ) , t h i s . c u r r e n t S t e p C o n f i g ) { v a r   c = t h i s . g e t S t e p T a r g e t ( t h i s . c u r r e n t S t e p C o n f i g ) ; c & & ( c . d a t a ( " o r i g i n a l - l a b e l l e d b y " ) & & c . a t t r ( " a r i a - l a b e l l e d b y " , c . d a t a ( " o r i g i n a l - l a b e l l e d b y " ) ) , c . d a t a ( " o r i g i n a l - d e s c r i b e d b y " ) & & c . a t t r ( " a r i a - d e s c r i b e d b y " , c . d a t a ( " o r i g i n a l - d e s c r i b e d b y " ) ) , c . d a t a ( " o r i g i n a l - t a b i n d e x " ) & & c . a t t r ( " t a b i n d e x " , c . d a t a ( " t a b i n d e x " ) ) ) , t h i s . c u r r e n t S t e p C o n f i g = n u l l } v a r   d = 0 ; r e t u r n   b & & ( d = 4 0 0 ) , a ( ' [ d a t a - f l e x i t o u r = " s t e p - b a c k g r o u n d " ] ' ) . r e m o v e ( ) , a ( ' [ d a t a - f l e x i t o u r = " s t e p - b a c k d r o p " ] ' ) . r e m o v e A t t r ( " d a t a - f l e x i t o u r " ) , a ( ' [ d a t a - f l e x i t o u r = " b a c k d r o p " ] ' ) . f a d e O u t ( d , f u n c t i o n ( ) { a ( t h i s ) . r e m o v e ( ) } ) , t h i s . r e s e t S t e p L i s t e n e r s ( ) , t h i s . a c c e s s i b i l i t y H i d e ( ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r H i d e " ) , t h i s . c u r r e n t S t e p N o d e = n u l l , t h i s . c u r r e n t S t e p P o p p e r = n u l l , t h i s } , c . p r o t o t y p e . s h o w = f u n c t i o n ( ) { v a r   a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ; r e t u r n   t h i s . g o t o S t e p ( a ) } , c . p r o t o t y p e . g e t S t e p C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   a ( t h i s . c u r r e n t S t e p N o d e ) } , c . p r o t o t y p e . c a l c u l a t e S c r o l l T o p = f u n c t i o n ( b ) { v a r   c = a ( w i n d o w ) . s c r o l l T o p ( ) , d = a ( w i n d o w ) . h e i g h t ( ) , e = t h i s . g e t S t e p T a r g e t ( b ) ; r e t u r n   c = " t o p " = = = b . p l a c e m e n t ? e . o f f s e t ( ) . t o p - d / 2 : " b o t t o m " = = = b . p l a c e m e n t ? e . o f f s e t ( ) . t o p + e . h e i g h t ( ) - d / 2 : e . h e i g h t ( ) < = . 8 * d ? e . o f f s e t ( ) . t o p - ( d - e . h e i g h t ( ) ) / 2 : e . o f f s e t ( ) . t o p - . 2 * d , c = M a t h . m a x ( 0 , c ) , c = M a t h . m i n ( a ( d o c u m e n t ) . h e i g h t ( ) - d , c ) , M a t h . c e i l ( c ) } , c . p r o t o t y p e . c a l c u l a t e S t e p P o s i t i o n I n P a g e = f u n c t i o n ( ) { v a r   b = a ( w i n d o w ) . h e i g h t ( ) , c = t h i s . c u r r e n t S t e p N o d e . h e i g h t ( ) , d = a ( w i n d o w ) . w i d t h ( ) , e = t h i s . c u r r e n t S t e p N o d e . w i d t h ( ) ; r e t u r n { t o p : M a t h . c e i l ( ( b - c ) / 2 ) , l e f t : M a t h . c e i l ( ( d - e ) / 2 ) } } , c . p r o t o t y p e . p o s i t i o n S t e p = f u n c t i o n ( c ) { v a r   d = t h i s . c u r r e n t S t e p N o d e ; i f ( ! d | | ! d . l e n g t h ) r e t u r n   t h i s ; v a r   e = v o i d   0 ; s w i t c h ( c . p l a c e m e n t ) { c a s e " l e f t " : e = [ " l e f t " , " r i g h t " , " t o p " , " b o t t o m " ] ; b r e a k ; c a s e " r i g h t " : e = [ " r i g h t " , " l e f t " , " t o p " , " b o t t o m " ] ; b r e a k ; c a s e " t o p " : e = [ " t o p " , " b o t t o m " , " r i g h t " , " l e f t " ] ; b r e a k ; c a s e " b o t t o m " : e = [ " b o t t o m " , " t o p " , " r i g h t " , " l e f t " ] ; b r e a k ; d e f a u l t : e = " f l i p " } v a r   f = t h i s . g e t S t e p T a r g e t ( c ) , g = { p l a c e m e n t : c . p l a c e m e n t + " - s t a r t " , r e m o v e O n D e s t r o y : ! 0 , m o d i f i e r s : { f l i p : { b e h a v i o u r : e } , a r r o w : { e l e m e n t : ' [ d a t a - r o l e = " a r r o w " ] ' } } } , h = a ( ' [ d a t a - f l e x i t o u r = " s t e p - b a c k g r o u n d " ] ' ) ; r e t u r n   h . l e n g t h & & ( f = h ) , t h i s . c u r r e n t S t e p P o p p e r = n e w   b ( f , d [ 0 ] , g ) , t h i s } , c . p r o t o t y p e . p o s i t i o n B a c k d r o p = f u n c t i o n ( b ) { i f ( b . b a c k d r o p ) { t h i s . c u r r e n t S t e p C o n f i g . h a s B a c k d r o p = ! 0 ; v a r   c = a ( ' < d i v   d a t a - f l e x i t o u r = " b a c k d r o p " > < / d i v > ' ) ; i f ( b . z I n d e x ? " a p p e n d " = = = b . a t t a c h P o i n t ? b . a t t a c h T o . a p p e n d ( c ) : c . i n s e r t A f t e r ( b . a t t a c h T o ) : a ( " b o d y " ) . a p p e n d ( c ) , t h i s . i s S t e p A c t u a l l y V i s i b l e ( b ) ) { v a r   d = a ( ' < d i v   d a t a - f l e x i t o u r = " s t e p - b a c k g r o u n d " > < / d i v > ' ) , e = t h i s . g e t S t e p T a r g e t ( b ) , f = 1 0 , g = e ; f & & ( g = a ( " b o d y " ) ) , d . c s s ( { w i d t h : e . o u t e r W i d t h ( ) + f + f , h e i g h t : e . o u t e r H e i g h t ( ) + f + f , l e f t : e . o f f s e t ( ) . l e f t - f , t o p : e . o f f s e t ( ) . t o p - f , b a c k g r o u n d C o l o r : t h i s . c a l c u l a t e I n h e r i t t e d B a c k g r o u n d C o l o r ( g ) } ) , e . o f f s e t ( ) . l e f t < f & & d . c s s ( { w i d t h : e . o u t e r W i d t h ( ) + e . o f f s e t ( ) . l e f t + f , l e f t : e . o f f s e t ( ) . l e f t } ) , e . o f f s e t ( ) . t o p < f & & d . c s s ( { h e i g h t : e . o u t e r H e i g h t ( ) + e . o f f s e t ( ) . t o p + f , t o p : e . o f f s e t ( ) . t o p } ) ; v a r   h = e . c s s ( " b o r d e r R a d i u s " ) ; h & & h ! = = a ( " b o d y " ) . c s s ( " b o r d e r R a d i u s " ) & & d . c s s ( " b o r d e r R a d i u s " , h ) ; v a r   i = t h i s . c a l c u l a t e P o s i t i o n ( e ) ; " f i x e d " = = = i ? d . c s s ( " t o p " , 0 ) : " a b s o l u t e " = = = i & & d . c s s ( " p o s i t i o n " , " f i x e d " ) ; v a r   j = d . c l o n e ( ) ; j . c s s ( { b a c k g r o u n d C o l o r : c . c s s ( " b a c k g r o u n d C o l o r " ) , o p a c i t y : c . c s s ( " o p a c i t y " ) } ) , j . a t t r ( " d a t a - f l e x i t o u r " , " s t e p - b a c k g r o u n d - f a d e r " ) , b . z I n d e x ? " a p p e n d " = = = b . a t t a c h P o i n t ? b . a t t a c h T o . a p p e n d ( d ) : ( j . i n s e r t A f t e r ( b . a t t a c h T o ) , d . i n s e r t A f t e r ( b . a t t a c h T o ) ) : ( a ( " b o d y " ) . a p p e n d ( j ) , a ( " b o d y " ) . a p p e n d ( d ) ) , e . a t t r ( " d a t a - f l e x i t o u r " , " s t e p - b a c k d r o p " ) , b . z I n d e x & & ( c . c s s ( " z I n d e x " , b . z I n d e x ) , d . c s s ( " z I n d e x " , b . z I n d e x + 1 ) , e . c s s ( " z I n d e x " , b . z I n d e x + 2 ) ) , j . f a d e O u t ( " 2 0 0 0 " , f u n c t i o n ( ) { a ( t h i s ) . r e m o v e ( ) } ) } } r e t u r n   t h i s } , c . p r o t o t y p e . c a l c u l a t e Z I n d e x = f u n c t i o n ( b ) { f o r ( b = a ( b ) ; b . l e n g t h & & b [ 0 ] ! = = d o c u m e n t ; ) { v a r   c = b . c s s ( " p o s i t i o n " ) ; i f ( " a b s o l u t e " = = = c | | " r e l a t i v e " = = = c | | " f i x e d " = = = c ) { v a r   d = p a r s e I n t ( b . c s s ( " z I n d e x " ) , 1 0 ) ; i f ( ! i s N a N ( d ) & & 0 ! = = d ) r e t u r n   d } b = b . p a r e n t ( ) } r e t u r n   0 } , c . p r o t o t y p e . c a l c u l a t e I n h e r i t t e d B a c k g r o u n d C o l o r = f u n c t i o n ( b ) { v a r   c = a ( " < d i v > " ) . h i d e ( ) ; a ( " b o d y " ) . a p p e n d ( c ) ; v a r   d = c . c s s ( " b a c k g r o u n d C o l o r " ) ; f o r ( c . r e m o v e ( ) , b = a ( b ) ; b . l e n g t h & & b [ 0 ] ! = = d o c u m e n t ; ) { v a r   e = b . c s s ( " b a c k g r o u n d C o l o r " ) ; i f ( e ! = = d ) r e t u r n   e ; b = b . p a r e n t ( ) } r e t u r n   n u l l } , c . p r o t o t y p e . c a l c u l a t e P o s i t i o n = f u n c t i o n ( b ) { f o r ( b = a ( b ) ; b . l e n g t h & & b [ 0 ] ! = = d o c u m e n t ; ) { v a r   c = b . c s s ( " p o s i t i o n " ) ; i f ( " s t a t i c " ! = = c ) r e t u r n   c ; b = b . p a r e n t ( ) } r e t u r n   n u l l } , c . p r o t o t y p e . a c c e s s i b i l i t y S h o w = f u n c t i o n ( ) { v a r   b = " d a t a - h a s - h i d d e n " , c = " a r i a - h i d d e n " , d = f u n c t i o n ( a ) { v a r   d = a . d a t a ( " f l e x i t o u r " ) ; i f ( d ) s w i t c h ( d ) { c a s e " c o n t a i n e r " : c a s e " t a r g e t " : r e t u r n } v a r   e = a . a t t r ( c ) ; e | | ( a . a t t r ( b , ! 0 ) , a . a t t r ( c , ! 0 ) ) } ; t h i s . c u r r e n t S t e p N o d e . s i b l i n g s ( ) . e a c h ( f u n c t i o n ( b , c ) { d ( a ( c ) ) } ) , t h i s . c u r r e n t S t e p N o d e . p a r e n t s U n t i l ( " b o d y " ) . s i b l i n g s ( ) . e a c h ( f u n c t i o n ( b , c ) { d ( a ( c ) ) } ) } , c . p r o t o t y p e . a c c e s s i b i l i t y H i d e = f u n c t i o n ( ) { v a r   b = " d a t a - h a s - h i d d e n " , c = " a r i a - h i d d e n " , d = f u n c t i o n ( a ) { v a r   d = a . a t t r ( b ) ; " u n d e f i n e d " ! = t y p e o f   d & & ( a . r e m o v e A t t r ( b ) , a . r e m o v e A t t r ( c ) ) } ; a ( " [ " + b + " ] " ) . e a c h ( f u n c t i o n ( b , c ) { d ( a ( c ) ) } ) } , " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   e x p o r t s ? " u n d e f i n e d " : d ( e x p o r t s ) ) & & ( m o d u l e . e x p o r t s = c ) , c } ) ; 
 d e f i n e ( ' t o o l _ u s e r t o u r s / m a n a g e t o u r s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { r e m o v e T o u r : f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , c . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m t o u r r e m o v a l t i t l e " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " c o n f i r m t o u r r e m o v a l q u e s t i o n " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , a . p r o x y ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = a ( t h i s ) . a t t r ( " h r e f " ) } , b . c u r r e n t T a r g e t ) ) } ) } , s e t u p : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " d e l e t e " ] ' , " c l i c k " , e . r e m o v e T o u r ) } } ; r e t u r n { s e t u p : e . s e t u p } } ) ; 
 d e f i n e ( ' t o o l _ u s e r t o u r s / u s e r t o u r s ' ,   [ " c o r e / a j a x " , " t o o l _ u s e r t o u r s / t o u r " , " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { t o u r I d : n u l l , c u r r e n t T o u r : n u l l , c o n t e x t : n u l l , i n i t : f u n c t i o n ( a , b , d ) { h . t o u r I d = a , h . c o n t e x t = d , " u n d e f i n e d " = = t y p e o f   b & & ( b = ! 0 ) , b & & h . f e t c h T o u r ( a ) , h . a d d R e s e t L i n k ( ) , c ( " b o d y " ) . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " t o o l _ u s e r t o u r s / r e s e t p a g e t o u r " ] ' , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , h . r e s e t T o u r S t a t e ( h . t o u r I d ) } ) } , f e t c h T o u r : f u n c t i o n ( b ) { c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ f e t c h _ a n d _ s t a r t _ t o u r " , a r g s : { t o u r i d : b , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f } } ] ) [ 0 ] , d . r e n d e r ( " t o o l _ u s e r t o u r s / t o u r s t e p " , { } ) ) . t h e n ( f u n c t i o n ( a , c ) { h . s t a r t B o o t s t r a p T o u r ( b , c [ 0 ] , a . t o u r c o n f i g ) } ) . f a i l ( g . e x c e p t i o n ) } , a d d R e s e t L i n k : f u n c t i o n ( ) { e . g e t _ s t r i n g ( " r e s e t t o u r o n p a g e " , " t o o l _ u s e r t o u r s " ) . d o n e ( f u n c t i o n ( a ) { c ( " f o o t e r ,   . l o g i n i n f o " ) . l a s t ( ) . a p p e n d ( ' < d i v   c l a s s = " u s e r t o u r " > < a   h r e f = " # "   d a t a - a c t i o n = " t o o l _ u s e r t o u r s / r e s e t p a g e t o u r " > ' + a + " < / a > < / d i v > " ) } ) } , s t a r t B o o t s t r a p T o u r : f u n c t i o n ( a , c , d ) { h . c u r r e n t T o u r & & ( d . o n E n d = n u l l , h . c u r r e n t T o u r . e n d T o u r ( ) , d e l e t e   h . c u r r e n t T o u r ) , d . e v e n t H a n d l e r s = { a f t e r E n d : [ h . m a r k T o u r C o m p l e t e ] , a f t e r R e n d e r : [ h . m a r k S t e p S h o w n ] } , d . t o u r N a m e = d . n a m e , d e l e t e   d . n a m e , d . t e m p l a t e = c , d . s t e p s = d . s t e p s . m a p ( f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   a . e l e m e n t & & ( a . t a r g e t = a . e l e m e n t , d e l e t e   a . e l e m e n t ) , " u n d e f i n e d " ! = t y p e o f   a . r e f l e x & & ( a . m o v e O n C l i c k = ! ! a . r e f l e x , d e l e t e   a . r e f l e x ) , " u n d e f i n e d " ! = t y p e o f   a . c o n t e n t & & ( a . b o d y = a . c o n t e n t , d e l e t e   a . c o n t e n t ) , a } ) , h . c u r r e n t T o u r = n e w   b ( d ) , h . c u r r e n t T o u r . s t a r t T o u r ( ) } , m a r k S t e p S h o w n : f u n c t i o n ( ) { v a r   b = t h i s . g e t S t e p C o n f i g ( t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ s t e p _ s h o w n " , a r g s : { t o u r i d : h . t o u r I d , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f , s t e p i d : b . s t e p i d , s t e p i n d e x : t h i s . g e t C u r r e n t S t e p N u m b e r ( ) } } ] ) [ 0 ] ) . f a i l ( f . e r r o r ) } , m a r k T o u r C o m p l e t e : f u n c t i o n ( ) { v a r   b = t h i s . g e t S t e p C o n f i g ( t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ c o m p l e t e _ t o u r " , a r g s : { t o u r i d : h . t o u r I d , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f , s t e p i d : b . s t e p i d , s t e p i n d e x : t h i s . g e t C u r r e n t S t e p N u m b e r ( ) } } ] ) [ 0 ] ) . f a i l ( f . e r r o r ) } , r e s e t T o u r S t a t e : f u n c t i o n ( b ) { c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ r e s e t _ t o u r " , a r g s : { t o u r i d : b , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f } } ] ) [ 0 ] ) . t h e n ( f u n c t i o n ( a ) { a . s t a r t T o u r & & h . f e t c h T o u r ( a . s t a r t T o u r ) } ) . f a i l ( g . e x c e p t i o n ) } } ; r e t u r n { i n i t : h . i n i t , r e s e t T o u r S t a t e : h . r e s e t T o u r S t a t e } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / a l e r t ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , g = f u n c t i o n ( a ) { v a r   b = " a l e r t " , c = " 4 . 0 . 0 - a l p h a . 4 " , g = " b s . a l e r t " , h = " . " + g , i = " . d a t a - a p i " , j = a . f n [ b ] , k = 1 5 0 , l = { D I S M I S S : ' [ d a t a - d i s m i s s = " a l e r t " ] ' } , m = { C L O S E : " c l o s e " + h , C L O S E D : " c l o s e d " + h , C L I C K _ D A T A _ A P I : " c l i c k " + h + i } , n = { A L E R T : " a l e r t " , F A D E : " f a d e " , I N : " i n " } , o = f u n c t i o n ( ) { f u n c t i o n   b ( a ) { d ( t h i s , b ) , t h i s . _ e l e m e n t = a } r e t u r n   f ( b , [ { k e y : " c l o s e " , v a l u e : f u n c t i o n ( a ) { a = a | | t h i s . _ e l e m e n t ; v a r   b = t h i s . _ g e t R o o t E l e m e n t ( a ) , c = t h i s . _ t r i g g e r C l o s e E v e n t ( b ) ; c . i s D e f a u l t P r e v e n t e d ( ) | | t h i s . _ r e m o v e E l e m e n t ( b ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , g ) , t h i s . _ e l e m e n t = n u l l } } , { k e y : " _ g e t R o o t E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) , d = ! 1 ; r e t u r n   c & & ( d = a ( c ) [ 0 ] ) , d | | ( d = a ( b ) . c l o s e s t ( " . " + n . A L E R T ) [ 0 ] ) , d } } , { k e y : " _ t r i g g e r C l o s e E v e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = a . E v e n t ( m . C L O S E ) ; r e t u r n   a ( b ) . t r i g g e r ( c ) , c } } , { k e y : " _ r e m o v e E l e m e n t " , v a l u e : f u n c t i o n ( b ) { r e t u r n   a ( b ) . r e m o v e C l a s s ( n . I N ) , e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( b ) . h a s C l a s s ( n . F A D E ) ? v o i d   a ( b ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , a . p r o x y ( t h i s . _ d e s t r o y E l e m e n t , t h i s , b ) ) . e m u l a t e T r a n s i t i o n E n d ( k ) : v o i d   t h i s . _ d e s t r o y E l e m e n t ( b ) } } , { k e y : " _ d e s t r o y E l e m e n t " , v a l u e : f u n c t i o n ( b ) { a ( b ) . d e t a c h ( ) . t r i g g e r ( m . C L O S E D ) . r e m o v e ( ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   d = a ( t h i s ) , e = d . d a t a ( g ) ; e | | ( e = n e w   b ( t h i s ) , d . d a t a ( g , e ) ) , " c l o s e " = = = c & & e [ c ] ( t h i s ) } ) } } , { k e y : " _ h a n d l e D i s m i s s " , v a l u e : f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( b ) { b & & b . p r e v e n t D e f a u l t ( ) , a . c l o s e ( t h i s ) } } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } ] ) , b } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( m . C L I C K _ D A T A _ A P I , l . D I S M I S S , o . _ h a n d l e D i s m i s s ( n e w   o ) ) , a . f n [ b ] = o . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = o , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = j , o . _ j Q u e r y I n t e r f a c e } , o } ( j Q u e r y ) ; a [ " d e f a u l t " ] = g } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / t a b ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , g = f u n c t i o n ( a ) { v a r   b = " t a b " , c = " 4 . 0 . 0 - a l p h a . 4 " , g = " b s . t a b " , h = " . " + g , i = " . d a t a - a p i " , j = a . f n [ b ] , k = 1 5 0 , l = { H I D E : " h i d e " + h , H I D D E N : " h i d d e n " + h , S H O W : " s h o w " + h , S H O W N : " s h o w n " + h , C L I C K _ D A T A _ A P I : " c l i c k " + h + i } , m = { D R O P D O W N _ M E N U : " d r o p d o w n - m e n u " , A C T I V E : " a c t i v e " , F A D E : " f a d e " , I N : " i n " } , n = { A : " a " , L I : " l i " , D R O P D O W N : " . d r o p d o w n " , U L : " u l : n o t ( . d r o p d o w n - m e n u ) " , F A D E _ C H I L D : " >   . n a v - i t e m   . f a d e ,   >   . f a d e " , A C T I V E : " . a c t i v e " , A C T I V E _ C H I L D : " >   . n a v - i t e m   >   . a c t i v e ,   >   . a c t i v e " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " t a b " ] ,   [ d a t a - t o g g l e = " p i l l " ] ' , D R O P D O W N _ T O G G L E : " . d r o p d o w n - t o g g l e " , D R O P D O W N _ A C T I V E _ C H I L D : " >   . d r o p d o w n - m e n u   . a c t i v e " } , o = f u n c t i o n ( ) { f u n c t i o n   b ( a ) { d ( t h i s , b ) , t h i s . _ e l e m e n t = a } r e t u r n   f ( b , [ { k e y : " s h o w " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( ! t h i s . _ e l e m e n t . p a r e n t N o d e | | t h i s . _ e l e m e n t . p a r e n t N o d e . n o d e T y p e ! = = N o d e . E L E M E N T _ N O D E | | ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( m . A C T I V E ) ) { v a r   c = v o i d   0 , d = v o i d   0 , f = a ( t h i s . _ e l e m e n t ) . c l o s e s t ( n . U L ) [ 0 ] , g = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s . _ e l e m e n t ) ; f & & ( d = a . m a k e A r r a y ( a ( f ) . f i n d ( n . A C T I V E ) ) , d = d [ d . l e n g t h - 1 ] ) ; v a r   h = a . E v e n t ( l . H I D E , { r e l a t e d T a r g e t : t h i s . _ e l e m e n t } ) , i = a . E v e n t ( l . S H O W , { r e l a t e d T a r g e t : d } ) ; i f ( d & & a ( d ) . t r i g g e r ( h ) , a ( t h i s . _ e l e m e n t ) . t r i g g e r ( i ) , ! i . i s D e f a u l t P r e v e n t e d ( ) & & ! h . i s D e f a u l t P r e v e n t e d ( ) ) { g & & ( c = a ( g ) [ 0 ] ) , t h i s . _ a c t i v a t e ( t h i s . _ e l e m e n t , f ) ; v a r   j = f u n c t i o n ( ) { v a r   c = a . E v e n t ( l . H I D D E N , { r e l a t e d T a r g e t : b . _ e l e m e n t } ) , e = a . E v e n t ( l . S H O W N , { r e l a t e d T a r g e t : d } ) ; a ( d ) . t r i g g e r ( c ) , a ( b . _ e l e m e n t ) . t r i g g e r ( e ) } ; c ? t h i s . _ a c t i v a t e ( c , c . p a r e n t N o d e , j ) : j ( ) } } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e C l a s s ( t h i s . _ e l e m e n t , g ) , t h i s . _ e l e m e n t = n u l l } } , { k e y : " _ a c t i v a t e " , v a l u e : f u n c t i o n ( b , c , d ) { v a r   f = a ( c ) . f i n d ( n . A C T I V E _ C H I L D ) [ 0 ] , g = d & & e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & ( f & & a ( f ) . h a s C l a s s ( m . F A D E ) | | B o o l e a n ( a ( c ) . f i n d ( n . F A D E _ C H I L D ) [ 0 ] ) ) , h = a . p r o x y ( t h i s . _ t r a n s i t i o n C o m p l e t e , t h i s , b , f , g , d ) ; f & & g ? a ( f ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , h ) . e m u l a t e T r a n s i t i o n E n d ( k ) : h ( ) , f & & a ( f ) . r e m o v e C l a s s ( m . I N ) } } , { k e y : " _ t r a n s i t i o n C o m p l e t e " , v a l u e : f u n c t i o n ( b , c , d , f ) { i f ( c ) { a ( c ) . r e m o v e C l a s s ( m . A C T I V E ) ; v a r   g = a ( c ) . f i n d ( n . D R O P D O W N _ A C T I V E _ C H I L D ) [ 0 ] ; g & & a ( g ) . r e m o v e C l a s s ( m . A C T I V E ) , c . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 1 ) } i f ( a ( b ) . a d d C l a s s ( m . A C T I V E ) , b . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 0 ) , d ? ( e [ " d e f a u l t " ] . r e f l o w ( b ) , a ( b ) . a d d C l a s s ( m . I N ) ) : a ( b ) . r e m o v e C l a s s ( m . F A D E ) , b . p a r e n t N o d e & & a ( b . p a r e n t N o d e ) . h a s C l a s s ( m . D R O P D O W N _ M E N U ) ) { v a r   h = a ( b ) . c l o s e s t ( n . D R O P D O W N ) [ 0 ] ; h & & a ( h ) . f i n d ( n . D R O P D O W N _ T O G G L E ) . a d d C l a s s ( m . A C T I V E ) , b . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 0 ) } f & & f ( ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   d = a ( t h i s ) , e = d . d a t a ( g ) ; i f ( e | | ( e = e = n e w   b ( t h i s ) , d . d a t a ( g , e ) ) , " s t r i n g " = = t y p e o f   c ) { i f ( v o i d   0 = = = e [ c ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + c + ' " ' ) ; e [ c ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } ] ) , b } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( l . C L I C K _ D A T A _ A P I , n . D A T A _ T O G G L E , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , o . _ j Q u e r y I n t e r f a c e . c a l l ( a ( t h i s ) , " s h o w " ) } ) , a . f n [ b ] = o . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = o , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = j , o . _ j Q u e r y I n t e r f a c e } , o } ( j Q u e r y ) ; a [ " d e f a u l t " ] = g } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / l o a d e r ' ,   [ " j q u e r y " , " . / t e t h e r " , " c o r e / e v e n t " ] , f u n c t i o n ( a , b , c ) { r e t u r n   w i n d o w . j Q u e r y = a , w i n d o w . T e t h e r = b , r e q u i r e ( [ " t h e m e _ b o o s t / u t i l " , " t h e m e _ b o o s t / a l e r t " , " t h e m e _ b o o s t / b u t t o n " , " t h e m e _ b o o s t / c a r o u s e l " , " t h e m e _ b o o s t / c o l l a p s e " , " t h e m e _ b o o s t / d r o p d o w n " , " t h e m e _ b o o s t / m o d a l " , " t h e m e _ b o o s t / s c r o l l s p y " , " t h e m e _ b o o s t / t a b " , " t h e m e _ b o o s t / t o o l t i p " , " t h e m e _ b o o s t / p o p o v e r " ] , f u n c t i o n ( ) { a ( " b o d y " ) . p o p o v e r ( { t r i g g e r : " f o c u s " , s e l e c t o r : " [ d a t a - t o g g l e = p o p o v e r ] [ d a t a - t r i g g e r ! = h o v e r ] " } ) , a ( " h t m l " ) . p o p o v e r ( { c o n t a i n e r : " b o d y " , s e l e c t o r : " [ d a t a - t o g g l e = p o p o v e r ] [ d a t a - t r i g g e r = h o v e r ] " , t r i g g e r : " h o v e r " , d e l a y : { h i d e : 5 0 0 } } ) , c . g e t L e g a c y E v e n t s ( ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . o n ( b . F I L T E R _ C O N T E N T _ U P D A T E D , f u n c t i o n ( ) { a ( " b o d y " ) . p o p o v e r ( { s e l e c t o r : ' [ d a t a - t o g g l e = " p o p o v e r " ] ' , t r i g g e r : " f o c u s " } ) } ) } ) } ) , { } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / c o l l a p s e ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l ? " s y m b o l " : t y p e o f   a } , g = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , h = f u n c t i o n ( a ) { v a r   b = " c o l l a p s e " , c = " 4 . 0 . 0 - a l p h a . 4 " , h = " b s . c o l l a p s e " , i = " . " + h , j = " . d a t a - a p i " , k = a . f n [ b ] , l = 6 0 0 , m = { t o g g l e : ! 0 , p a r e n t : " " } , n = { t o g g l e : " b o o l e a n " , p a r e n t : " s t r i n g " } , o = { S H O W : " s h o w " + i , S H O W N : " s h o w n " + i , H I D E : " h i d e " + i , H I D D E N : " h i d d e n " + i , C L I C K _ D A T A _ A P I : " c l i c k " + i + j } , p = { I N : " i n " , C O L L A P S E : " c o l l a p s e " , C O L L A P S I N G : " c o l l a p s i n g " , C O L L A P S E D : " c o l l a p s e d " } , q = { W I D T H : " w i d t h " , H E I G H T : " h e i g h t " } , r = { A C T I V E S : " . p a n e l   >   . i n ,   . p a n e l   >   . c o l l a p s i n g " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " c o l l a p s e " ] ' } , s = f u n c t i o n ( ) { f u n c t i o n   i ( b , c ) { d ( t h i s , i ) , t h i s . _ i s T r a n s i t i o n i n g = ! 1 , t h i s . _ e l e m e n t = b , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ t r i g g e r A r r a y = a . m a k e A r r a y ( a ( ' [ d a t a - t o g g l e = " c o l l a p s e " ] [ h r e f = " # ' + b . i d + ' " ] , ' + ( ' [ d a t a - t o g g l e = " c o l l a p s e " ] [ d a t a - t a r g e t = " # ' + b . i d + ' " ] ' ) ) ) , t h i s . _ p a r e n t = t h i s . _ c o n f i g . p a r e n t ? t h i s . _ g e t P a r e n t ( ) : n u l l , t h i s . _ c o n f i g . p a r e n t | | t h i s . _ a d d A r i a A n d C o l l a p s e d C l a s s ( t h i s . _ e l e m e n t , t h i s . _ t r i g g e r A r r a y ) , t h i s . _ c o n f i g . t o g g l e & & t h i s . t o g g l e ( ) } r e t u r n   g ( i , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( p . I N ) ? t h i s . h i d e ( ) : t h i s . s h o w ( ) } } , { k e y : " s h o w " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( ! t h i s . _ i s T r a n s i t i o n i n g & & ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( p . I N ) ) { v a r   c = v o i d   0 , d = v o i d   0 ; i f ( t h i s . _ p a r e n t & & ( c = a . m a k e A r r a y ( a ( r . A C T I V E S ) ) , c . l e n g t h | | ( c = n u l l ) ) , ! ( c & & ( d = a ( c ) . d a t a ( h ) , d & & d . _ i s T r a n s i t i o n i n g ) ) ) { v a r   f = a . E v e n t ( o . S H O W ) ; i f ( a ( t h i s . _ e l e m e n t ) . t r i g g e r ( f ) , ! f . i s D e f a u l t P r e v e n t e d ( ) ) { c & & ( i . _ j Q u e r y I n t e r f a c e . c a l l ( a ( c ) , " h i d e " ) , d | | a ( c ) . d a t a ( h , n u l l ) ) ; v a r   g = t h i s . _ g e t D i m e n s i o n ( ) ; a ( t h i s . _ e l e m e n t ) . r e m o v e C l a s s ( p . C O L L A P S E ) . a d d C l a s s ( p . C O L L A P S I N G ) , t h i s . _ e l e m e n t . s t y l e [ g ] = 0 , t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 0 ) , t h i s . _ t r i g g e r A r r a y . l e n g t h & & a ( t h i s . _ t r i g g e r A r r a y ) . r e m o v e C l a s s ( p . C O L L A P S E D ) . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , t h i s . s e t T r a n s i t i o n i n g ( ! 0 ) ; v a r   j = f u n c t i o n ( ) { a ( b . _ e l e m e n t ) . r e m o v e C l a s s ( p . C O L L A P S I N G ) . a d d C l a s s ( p . C O L L A P S E ) . a d d C l a s s ( p . I N ) , b . _ e l e m e n t . s t y l e [ g ] = " " , b . s e t T r a n s i t i o n i n g ( ! 1 ) , a ( b . _ e l e m e n t ) . t r i g g e r ( o . S H O W N ) } ; i f ( ! e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) ) r e t u r n   v o i d   j ( ) ; v a r   k = g [ 0 ] . t o U p p e r C a s e ( ) + g . s l i c e ( 1 ) , m = " s c r o l l " + k ; a ( t h i s . _ e l e m e n t ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , j ) . e m u l a t e T r a n s i t i o n E n d ( l ) , t h i s . _ e l e m e n t . s t y l e [ g ] = t h i s . _ e l e m e n t [ m ] + " p x " } } } } } , { k e y : " h i d e " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( ! t h i s . _ i s T r a n s i t i o n i n g & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( p . I N ) ) { v a r   c = a . E v e n t ( o . H I D E ) ; i f ( a ( t h i s . _ e l e m e n t ) . t r i g g e r ( c ) , ! c . i s D e f a u l t P r e v e n t e d ( ) ) { v a r   d = t h i s . _ g e t D i m e n s i o n ( ) , f = d = = = q . W I D T H ? " o f f s e t W i d t h " : " o f f s e t H e i g h t " ; t h i s . _ e l e m e n t . s t y l e [ d ] = t h i s . _ e l e m e n t [ f ] + " p x " , e [ " d e f a u l t " ] . r e f l o w ( t h i s . _ e l e m e n t ) , a ( t h i s . _ e l e m e n t ) . a d d C l a s s ( p . C O L L A P S I N G ) . r e m o v e C l a s s ( p . C O L L A P S E ) . r e m o v e C l a s s ( p . I N ) , t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 1 ) , t h i s . _ t r i g g e r A r r a y . l e n g t h & & a ( t h i s . _ t r i g g e r A r r a y ) . a d d C l a s s ( p . C O L L A P S E D ) . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) , t h i s . s e t T r a n s i t i o n i n g ( ! 0 ) ; v a r   g = f u n c t i o n ( ) { b . s e t T r a n s i t i o n i n g ( ! 1 ) , a ( b . _ e l e m e n t ) . r e m o v e C l a s s ( p . C O L L A P S I N G ) . a d d C l a s s ( p . C O L L A P S E ) . t r i g g e r ( o . H I D D E N ) } ; r e t u r n   t h i s . _ e l e m e n t . s t y l e [ d ] = 0 , e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) ? v o i d   a ( t h i s . _ e l e m e n t ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , g ) . e m u l a t e T r a n s i t i o n E n d ( l ) : v o i d   g ( ) } } } } , { k e y : " s e t T r a n s i t i o n i n g " , v a l u e : f u n c t i o n ( a ) { t h i s . _ i s T r a n s i t i o n i n g = a } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , h ) , t h i s . _ c o n f i g = n u l l , t h i s . _ p a r e n t = n u l l , t h i s . _ e l e m e n t = n u l l , t h i s . _ t r i g g e r A r r a y = n u l l , t h i s . _ i s T r a n s i t i o n i n g = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { r e t u r n   c = a . e x t e n d ( { } , m , c ) , c . t o g g l e = B o o l e a n ( c . t o g g l e ) , e [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , n ) , c } } , { k e y : " _ g e t D i m e n s i o n " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( q . W I D T H ) ; r e t u r n   b ? q . W I D T H : q . H E I G H T } } , { k e y : " _ g e t P a r e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = a ( t h i s . _ c o n f i g . p a r e n t ) [ 0 ] , d = ' [ d a t a - t o g g l e = " c o l l a p s e " ] [ d a t a - p a r e n t = " ' + t h i s . _ c o n f i g . p a r e n t + ' " ] ' ; r e t u r n   a ( c ) . f i n d ( d ) . e a c h ( f u n c t i o n ( a , c ) { b . _ a d d A r i a A n d C o l l a p s e d C l a s s ( i . _ g e t T a r g e t F r o m E l e m e n t ( c ) , [ c ] ) } ) , c } } , { k e y : " _ a d d A r i a A n d C o l l a p s e d C l a s s " , v a l u e : f u n c t i o n ( b , c ) { i f ( b ) { v a r   d = a ( b ) . h a s C l a s s ( p . I N ) ; b . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , d ) , c . l e n g t h & & a ( c ) . t o g g l e C l a s s ( p . C O L L A P S E D , ! d ) . a t t r ( " a r i a - e x p a n d e d " , d ) } } } ] , [ { k e y : " _ g e t T a r g e t F r o m E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) ; r e t u r n   c ? a ( c ) [ 0 ] : n u l l } } , { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( h ) , e = a . e x t e n d ( { } , m , c . d a t a ( ) , " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   b ? " u n d e f i n e d " : f ( b ) ) & & b ) ; i f ( ! d & & e . t o g g l e & & / s h o w | h i d e / . t e s t ( b ) & & ( e . t o g g l e = ! 1 ) , d | | ( d = n e w   i ( t h i s , e ) , c . d a t a ( h , d ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( v o i d   0 = = = d [ b ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + b + ' " ' ) ; d [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   m } } ] ) , i } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( o . C L I C K _ D A T A _ A P I , r . D A T A _ T O G G L E , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = s . _ g e t T a r g e t F r o m E l e m e n t ( t h i s ) , d = a ( c ) . d a t a ( h ) , e = d ? " t o g g l e " : a ( t h i s ) . d a t a ( ) ; s . _ j Q u e r y I n t e r f a c e . c a l l ( a ( c ) , e ) } ) , a . f n [ b ] = s . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = s , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = k , s . _ j Q u e r y I n t e r f a c e } , s } ( j Q u e r y ) ; a [ " d e f a u l t " ] = h } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / d r a w e r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = { T O G G L E _ R E G I O N : ' [ d a t a - r e g i o n = " d r a w e r - t o g g l e " ] ' , T O G G L E _ A C T I O N : ' [ d a t a - a c t i o n = " t o g g l e - d r a w e r " ] ' , T O G G L E _ T A R G E T : " a r i a - c o n t r o l s " , T O G G L E _ S I D E : " l e f t " , B O D Y : " b o d y " } , e = f u n c t i o n ( ) { a ( d . T O G G L E _ R E G I O N ) . l e n g t h | | c . d e b u g ( " P a g e   i s   m i s s i n g   a   d r a w e r   r e g i o n " ) , a ( d . T O G G L E _ A C T I O N ) . l e n g t h | | c . d e b u g ( " P a g e   i s   m i s s i n g   a   d r a w e r   t o g g l e   l i n k " ) , a ( d . T O G G L E _ R E G I O N ) . e a c h ( f u n c t i o n ( b , c ) { v a r   e = a ( c ) . f i n d ( d . T O G G L E _ A C T I O N ) , f = e . a t t r ( " a r i a - c o n t r o l s " ) , g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f ) ) , h = " f a l s e " = = e . a t t r ( " a r i a - e x p a n d e d " ) , i = e . a t t r ( " d a t a - s i d e " ) , j = a ( d . B O D Y ) ; g . o n ( " m o u s e w h e e l   D O M M o u s e S c r o l l " , t h i s . p r e v e n t P a g e S c r o l l ) , h ? e . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) : ( j . a d d C l a s s ( " d r a w e r - o p e n - " + i ) , e . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) ) } . b i n d ( t h i s ) ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) ; v a r   b = a ( d o c u m e n t ) . w i d t h ( ) < 7 6 8 ; b & & t h i s . c l o s e A l l ( ) } ; r e t u r n   e . p r o t o t y p e . c l o s e A l l = f u n c t i o n ( ) { a ( d . T O G G L E _ R E G I O N ) . e a c h ( f u n c t i o n ( b , c ) { v a r   e = a ( c ) . f i n d ( d . T O G G L E _ A C T I O N ) , f = e . a t t r ( " d a t a - s i d e " ) , g = a ( d . B O D Y ) , h = e . a t t r ( " a r i a - c o n t r o l s " ) , i = a ( d o c u m e n t . g e t E l e m e n t B y I d ( h ) ) , j = e . a t t r ( " d a t a - p r e f e r e n c e " ) ; e . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , g . r e m o v e C l a s s ( " d r a w e r - o p e n - " + f ) , i . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , i . a d d C l a s s ( " c l o s e d " ) , M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( j , " f a l s e " ) } ) } , e . p r o t o t y p e . t o g g l e D r a w e r = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " [ d a t a - a c t i o n = t o g g l e - d r a w e r ] " ) , e = c . a t t r ( " a r i a - c o n t r o l s " ) , f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( e ) ) , g = a ( d . B O D Y ) , h = c . a t t r ( " d a t a - s i d e " ) , i = c . a t t r ( " d a t a - p r e f e r e n c e " ) ; g . a d d C l a s s ( " d r a w e r - e a s e " ) ; v a r   j = " t r u e " = = c . a t t r ( " a r i a - e x p a n d e d " ) ; i f ( j ) g . r e m o v e C l a s s ( " d r a w e r - o p e n - " + h ) , c . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , f . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , f . a d d C l a s s ( " c l o s e d " ) , M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( i , " f a l s e " ) ; e l s e { v a r   k = a ( d o c u m e n t ) . w i d t h ( ) < 7 6 8 ; k & & t h i s . c l o s e A l l ( ) , c . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , f . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , f . f o c u s ( ) , g . a d d C l a s s ( " d r a w e r - o p e n - " + h ) , f . r e m o v e C l a s s ( " c l o s e d " ) , M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( i , " t r u e " ) } } , e . p r o t o t y p e . p r e v e n t P a g e S c r o l l = f u n c t i o n ( b ) { v a r   c = b . w h e e l D e l t a | | b . o r i g i n a l E v e n t & & b . o r i g i n a l E v e n t . w h e e l D e l t a | | - b . o r i g i n a l E v e n t . d e t a i l , d = t h i s . s c r o l l T o p + a ( t h i s ) . o u t e r H e i g h t ( ) - t h i s . s c r o l l H e i g h t > = 0 , e = t h i s . s c r o l l T o p < = 0 ; ( c < 0 & & d | | c > 0 & & e ) & & b . p r e v e n t D e f a u l t ( ) } , e . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { a ( d . T O G G L E _ A C T I O N ) . e a c h ( f u n c t i o n ( c , d ) { b . d e f i n e ( a ( d ) , [ b . e v e n t s . a c t i v a t e ] ) , a ( d ) . o n ( b . e v e n t s . a c t i v a t e , f u n c t i o n ( a , b ) { t h i s . t o g g l e D r a w e r ( b . o r i g i n a l E v e n t ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   e } } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / b u t t o n ' ,   [ " e x p o r t s " ] , f u n c t i o n ( a ) { " u s e   s t r i c t " ; f u n c t i o n   b ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   c = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , d = f u n c t i o n ( a ) { v a r   d = " b u t t o n " , e = " 4 . 0 . 0 - a l p h a . 4 " , f = " b s . b u t t o n " , g = " . " + f , h = " . d a t a - a p i " , i = a . f n [ d ] , j = { A C T I V E : " a c t i v e " , B U T T O N : " b t n " , F O C U S : " f o c u s " } , k = { D A T A _ T O G G L E _ C A R R O T : ' [ d a t a - t o g g l e ^ = " b u t t o n " ] ' , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " b u t t o n s " ] ' , I N P U T : " i n p u t " , A C T I V E : " . a c t i v e " , B U T T O N : " . b t n " } , l = { C L I C K _ D A T A _ A P I : " c l i c k " + g + h , F O C U S _ B L U R _ D A T A _ A P I : " f o c u s " + g + h + "   " + ( " b l u r " + g + h ) } , m = f u n c t i o n ( ) { f u n c t i o n   d ( a ) { b ( t h i s , d ) , t h i s . _ e l e m e n t = a } r e t u r n   c ( d , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( ) { v a r   b = ! 0 , c = a ( t h i s . _ e l e m e n t ) . c l o s e s t ( k . D A T A _ T O G G L E ) [ 0 ] ; i f ( c ) { v a r   d = a ( t h i s . _ e l e m e n t ) . f i n d ( k . I N P U T ) [ 0 ] ; i f ( d ) { i f ( " r a d i o " = = = d . t y p e ) i f ( d . c h e c k e d & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( j . A C T I V E ) ) b = ! 1 ; e l s e { v a r   e = a ( c ) . f i n d ( k . A C T I V E ) [ 0 ] ; e & & a ( e ) . r e m o v e C l a s s ( j . A C T I V E ) } b & & ( d . c h e c k e d = ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( j . A C T I V E ) , a ( t h i s . _ e l e m e n t ) . t r i g g e r ( " c h a n g e " ) ) , d . f o c u s ( ) } } e l s e   t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - p r e s s e d " , ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( j . A C T I V E ) ) ; b & & a ( t h i s . _ e l e m e n t ) . t o g g l e C l a s s ( j . A C T I V E ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , f ) , t h i s . _ e l e m e n t = n u l l } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( f ) ; c | | ( c = n e w   d ( t h i s ) , a ( t h i s ) . d a t a ( f , c ) ) , " t o g g l e " = = = b & & c [ b ] ( ) } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   e } } ] ) , d } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( l . C L I C K _ D A T A _ A P I , k . D A T A _ T O G G L E _ C A R R O T , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = b . t a r g e t ; a ( c ) . h a s C l a s s ( j . B U T T O N ) | | ( c = a ( c ) . c l o s e s t ( k . B U T T O N ) ) , m . _ j Q u e r y I n t e r f a c e . c a l l ( a ( c ) , " t o g g l e " ) } ) . o n ( l . F O C U S _ B L U R _ D A T A _ A P I , k . D A T A _ T O G G L E _ C A R R O T , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( k . B U T T O N ) [ 0 ] ; a ( c ) . t o g g l e C l a s s ( j . F O C U S , / ^ f o c u s ( i n ) ? $ / . t e s t ( b . t y p e ) ) } ) , a . f n [ d ] = m . _ j Q u e r y I n t e r f a c e , a . f n [ d ] . C o n s t r u c t o r = m , a . f n [ d ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ d ] = i , m . _ j Q u e r y I n t e r f a c e } , m } ( j Q u e r y ) ; a [ " d e f a u l t " ] = d } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / f o r m - d i s p l a y - e r r o r s ' ,   [ " j q u e r y " , " c o r e / e v e n t " ] , f u n c t i o n ( a , b ) { r e t u r n { e n h a n c e : f u n c t i o n ( c ) { v a r   d = d o c u m e n t . g e t E l e m e n t B y I d ( c ) ; a ( d ) . o n ( b . E v e n t s . F O R M _ F I E L D _ V A L I D A T I O N , f u n c t i o n ( b , c ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( d ) . c l o s e s t ( " . f o r m - g r o u p " ) , f = e . f i n d ( " . f o r m - c o n t r o l - f e e d b a c k " ) ; " T E X T A R E A " = = a ( d ) . p r o p ( " t a g N a m e " ) & & e . f i n d ( " [ c o n t e n t e d i t a b l e ] " ) & & ( d = e . f i n d ( " [ c o n t e n t e d i t a b l e ] " ) ) , " " ! = = c ? ( e . a d d C l a s s ( " h a s - d a n g e r " ) , e . d a t a ( " c l i e n t - v a l i d a t i o n - e r r o r " , ! 0 ) , a ( d ) . a d d C l a s s ( " f o r m - c o n t r o l - d a n g e r " ) , a ( d ) . a t t r ( " a r i a - d e s c r i b e d b y " , f . a t t r ( " i d " ) ) , a ( d ) . a t t r ( " a r i a - i n v a l i d " , ! 0 ) , f . a t t r ( " t a b i n d e x " , 0 ) , f . h t m l ( c ) , f . i s ( " : v i s i b l e " ) | | ( f . s h o w ( ) , f . f o c u s ( ) ) ) : e . d a t a ( " c l i e n t - v a l i d a t i o n - e r r o r " ) = = = ! 0 & & ( e . r e m o v e C l a s s ( " h a s - d a n g e r " ) , e . d a t a ( " c l i e n t - v a l i d a t i o n - e r r o r " , ! 1 ) , a ( d ) . r e m o v e C l a s s ( " f o r m - c o n t r o l - d a n g e r " ) , a ( d ) . r e m o v e A t t r ( " a r i a - d e s c r i b e d b y " ) , a ( d ) . a t t r ( " a r i a - i n v a l i d " , ! 1 ) , f . h i d e ( ) ) } ) } } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / s c r o l l s p y ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l ? " s y m b o l " : t y p e o f   a } , g = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , h = f u n c t i o n ( a ) { v a r   b = " s c r o l l s p y " , c = " 4 . 0 . 0 - a l p h a . 4 " , h = " b s . s c r o l l s p y " , i = " . " + h , j = " . d a t a - a p i " , k = a . f n [ b ] , l = { o f f s e t : 1 0 , m e t h o d : " a u t o " , t a r g e t : " " } , m = { o f f s e t : " n u m b e r " , m e t h o d : " s t r i n g " , t a r g e t : " ( s t r i n g | e l e m e n t ) " } , n = { A C T I V A T E : " a c t i v a t e " + i , S C R O L L : " s c r o l l " + i , L O A D _ D A T A _ A P I : " l o a d " + i + j } , o = { D R O P D O W N _ I T E M : " d r o p d o w n - i t e m " , D R O P D O W N _ M E N U : " d r o p d o w n - m e n u " , N A V _ L I N K : " n a v - l i n k " , N A V : " n a v " , A C T I V E : " a c t i v e " } , p = { D A T A _ S P Y : ' [ d a t a - s p y = " s c r o l l " ] ' , A C T I V E : " . a c t i v e " , L I S T _ I T E M : " . l i s t - i t e m " , L I : " l i " , L I _ D R O P D O W N : " l i . d r o p d o w n " , N A V _ L I N K S : " . n a v - l i n k " , D R O P D O W N : " . d r o p d o w n " , D R O P D O W N _ I T E M S : " . d r o p d o w n - i t e m " , D R O P D O W N _ T O G G L E : " . d r o p d o w n - t o g g l e " } , q = { O F F S E T : " o f f s e t " , P O S I T I O N : " p o s i t i o n " } , r = f u n c t i o n ( ) { f u n c t i o n   j ( b , c ) { d ( t h i s , j ) , t h i s . _ e l e m e n t = b , t h i s . _ s c r o l l E l e m e n t = " B O D Y " = = = b . t a g N a m e ? w i n d o w : b , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ s e l e c t o r = t h i s . _ c o n f i g . t a r g e t + "   " + p . N A V _ L I N K S + " , " + ( t h i s . _ c o n f i g . t a r g e t + "   " + p . D R O P D O W N _ I T E M S ) , t h i s . _ o f f s e t s = [ ] , t h i s . _ t a r g e t s = [ ] , t h i s . _ a c t i v e T a r g e t = n u l l , t h i s . _ s c r o l l H e i g h t = 0 , a ( t h i s . _ s c r o l l E l e m e n t ) . o n ( n . S C R O L L , a . p r o x y ( t h i s . _ p r o c e s s , t h i s ) ) , t h i s . r e f r e s h ( ) , t h i s . _ p r o c e s s ( ) } r e t u r n   g ( j , [ { k e y : " r e f r e s h " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = t h i s . _ s c r o l l E l e m e n t ! = = t h i s . _ s c r o l l E l e m e n t . w i n d o w ? q . P O S I T I O N : q . O F F S E T , d = " a u t o " = = = t h i s . _ c o n f i g . m e t h o d ? c : t h i s . _ c o n f i g . m e t h o d , f = d = = = q . P O S I T I O N ? t h i s . _ g e t S c r o l l T o p ( ) : 0 ; t h i s . _ o f f s e t s = [ ] , t h i s . _ t a r g e t s = [ ] , t h i s . _ s c r o l l H e i g h t = t h i s . _ g e t S c r o l l H e i g h t ( ) ; v a r   g = a . m a k e A r r a y ( a ( t h i s . _ s e l e c t o r ) ) ; g . m a p ( f u n c t i o n ( b ) { v a r   c = v o i d   0 , g = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) ; r e t u r n   g & & ( c = a ( g ) [ 0 ] ) , c & & ( c . o f f s e t W i d t h | | c . o f f s e t H e i g h t ) ? [ a ( c ) [ d ] ( ) . t o p + f , g ] : n u l l } ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a } ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a [ 0 ] - b [ 0 ] } ) . f o r E a c h ( f u n c t i o n ( a ) { b . _ o f f s e t s . p u s h ( a [ 0 ] ) , b . _ t a r g e t s . p u s h ( a [ 1 ] ) } ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , h ) , a ( t h i s . _ s c r o l l E l e m e n t ) . o f f ( i ) , t h i s . _ e l e m e n t = n u l l , t h i s . _ s c r o l l E l e m e n t = n u l l , t h i s . _ c o n f i g = n u l l , t h i s . _ s e l e c t o r = n u l l , t h i s . _ o f f s e t s = n u l l , t h i s . _ t a r g e t s = n u l l , t h i s . _ a c t i v e T a r g e t = n u l l , t h i s . _ s c r o l l H e i g h t = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { i f ( c = a . e x t e n d ( { } , l , c ) , " s t r i n g " ! = t y p e o f   c . t a r g e t ) { v a r   d = a ( c . t a r g e t ) . a t t r ( " i d " ) ; d | | ( d = e [ " d e f a u l t " ] . g e t U I D ( b ) , a ( c . t a r g e t ) . a t t r ( " i d " , d ) ) , c . t a r g e t = " # " + d } r e t u r n   e [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , m ) , c } } , { k e y : " _ g e t S c r o l l T o p " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . _ s c r o l l E l e m e n t = = = w i n d o w ? t h i s . _ s c r o l l E l e m e n t . s c r o l l Y : t h i s . _ s c r o l l E l e m e n t . s c r o l l T o p } } , { k e y : " _ g e t S c r o l l H e i g h t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . _ s c r o l l E l e m e n t . s c r o l l H e i g h t | | M a t h . m a x ( d o c u m e n t . b o d y . s c r o l l H e i g h t , d o c u m e n t . d o c u m e n t E l e m e n t . s c r o l l H e i g h t ) } } , { k e y : " _ p r o c e s s " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t S c r o l l T o p ( ) + t h i s . _ c o n f i g . o f f s e t , b = t h i s . _ g e t S c r o l l H e i g h t ( ) , c = t h i s . _ c o n f i g . o f f s e t + b - t h i s . _ s c r o l l E l e m e n t . o f f s e t H e i g h t ; i f ( t h i s . _ s c r o l l H e i g h t ! = = b & & t h i s . r e f r e s h ( ) , a > = c ) { v a r   d = t h i s . _ t a r g e t s [ t h i s . _ t a r g e t s . l e n g t h - 1 ] ; t h i s . _ a c t i v e T a r g e t ! = = d & & t h i s . _ a c t i v a t e ( d ) } i f ( t h i s . _ a c t i v e T a r g e t & & a < t h i s . _ o f f s e t s [ 0 ] ) r e t u r n   t h i s . _ a c t i v e T a r g e t = n u l l , v o i d   t h i s . _ c l e a r ( ) ; f o r ( v a r   e = t h i s . _ o f f s e t s . l e n g t h ; e - - ; ) { v a r   f = t h i s . _ a c t i v e T a r g e t ! = = t h i s . _ t a r g e t s [ e ] & & a > = t h i s . _ o f f s e t s [ e ] & & ( v o i d   0 = = = t h i s . _ o f f s e t s [ e + 1 ] | | a < t h i s . _ o f f s e t s [ e + 1 ] ) ; f & & t h i s . _ a c t i v a t e ( t h i s . _ t a r g e t s [ e ] ) } } } , { k e y : " _ a c t i v a t e " , v a l u e : f u n c t i o n ( b ) { t h i s . _ a c t i v e T a r g e t = b , t h i s . _ c l e a r ( ) ; v a r   c = t h i s . _ s e l e c t o r . s p l i t ( " , " ) ; c = c . m a p ( f u n c t i o n ( a ) { r e t u r n   a + ' [ d a t a - t a r g e t = " ' + b + ' " ] , ' + ( a + ' [ h r e f = " ' + b + ' " ] ' ) } ) ; v a r   d = a ( c . j o i n ( " , " ) ) ; d . h a s C l a s s ( o . D R O P D O W N _ I T E M ) ? ( d . c l o s e s t ( p . D R O P D O W N ) . f i n d ( p . D R O P D O W N _ T O G G L E ) . a d d C l a s s ( o . A C T I V E ) , d . a d d C l a s s ( o . A C T I V E ) ) : d . p a r e n t s ( p . L I ) . f i n d ( p . N A V _ L I N K S ) . a d d C l a s s ( o . A C T I V E ) , a ( t h i s . _ s c r o l l E l e m e n t ) . t r i g g e r ( n . A C T I V A T E , { r e l a t e d T a r g e t : b } ) } } , { k e y : " _ c l e a r " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ s e l e c t o r ) . f i l t e r ( p . A C T I V E ) . r e m o v e C l a s s ( o . A C T I V E ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( h ) , d = " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   b ? " u n d e f i n e d " : f ( b ) ) & & b | | n u l l ; i f ( c | | ( c = n e w   j ( t h i s , d ) , a ( t h i s ) . d a t a ( h , c ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( v o i d   0 = = = c [ b ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + b + ' " ' ) ; c [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   l } } ] ) , j } ( ) ; r e t u r n   a ( w i n d o w ) . o n ( n . L O A D _ D A T A _ A P I , f u n c t i o n ( ) { f o r ( v a r   b = a . m a k e A r r a y ( a ( p . D A T A _ S P Y ) ) , c = b . l e n g t h ; c - - ; ) { v a r   d = a ( b [ c ] ) ; r . _ j Q u e r y I n t e r f a c e . c a l l ( d , d . d a t a ( ) ) } } ) , a . f n [ b ] = r . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = r , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = k , r . _ j Q u e r y I n t e r f a c e } , r } ( j Q u e r y ) ; a [ " d e f a u l t " ] = h } ) ; 
 ! f u n c t i o n ( a , b ) { " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' t h e m e _ b o o s t / t e t h e r ' ,   b ) : " o b j e c t " = = t y p e o f   e x p o r t s ? m o d u l e . e x p o r t s = b ( r e q u i r e , e x p o r t s , m o d u l e ) : a . T e t h e r = b ( ) } ( t h i s , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   e ( a ) { v a r   b = a . g e t B o u n d i n g C l i e n t R e c t ( ) , c = { } ; f o r ( v a r   d   i n   b ) c [ d ] = b [ d ] ; i f ( a . o w n e r D o c u m e n t ! = = d o c u m e n t ) { v a r   f = a . o w n e r D o c u m e n t . d e f a u l t V i e w . f r a m e E l e m e n t ; i f ( f ) { v a r   g = e ( f ) ; c . t o p + = g . t o p , c . b o t t o m + = g . t o p , c . l e f t + = g . l e f t , c . r i g h t + = g . l e f t } } r e t u r n   c } f u n c t i o n   f ( a ) { v a r   b = g e t C o m p u t e d S t y l e ( a ) | | { } , c = b . p o s i t i o n , d = [ ] ; i f ( " f i x e d " = = = c ) r e t u r n [ a ] ; f o r ( v a r   e = a ; ( e = e . p a r e n t N o d e ) & & e & & 1 = = = e . n o d e T y p e ; ) { v a r   f = v o i d   0 ; t r y { f = g e t C o m p u t e d S t y l e ( e ) } c a t c h ( g ) { } i f ( " u n d e f i n e d " = = t y p e o f   f | | n u l l = = = f ) r e t u r n   d . p u s h ( e ) , d ; v a r   h = f , i = h . o v e r f l o w , j = h . o v e r f l o w X , k = h . o v e r f l o w Y ; / ( a u t o | s c r o l l ) / . t e s t ( i + k + j ) & & ( " a b s o l u t e " ! = = c | | [ " r e l a t i v e " , " a b s o l u t e " , " f i x e d " ] . i n d e x O f ( f . p o s i t i o n ) > = 0 ) & & d . p u s h ( e ) } r e t u r n   d . p u s h ( a . o w n e r D o c u m e n t . b o d y ) , a . o w n e r D o c u m e n t ! = = d o c u m e n t & & d . p u s h ( a . o w n e r D o c u m e n t . d e f a u l t V i e w ) , d } f u n c t i o n   g ( ) { z & & d o c u m e n t . b o d y . r e m o v e C h i l d ( z ) , z = n u l l } f u n c t i o n   h ( a ) { v a r   b = v o i d   0 ; a = = = d o c u m e n t ? ( b = d o c u m e n t , a = d o c u m e n t . d o c u m e n t E l e m e n t ) : b = a . o w n e r D o c u m e n t ; v a r   c = b . d o c u m e n t E l e m e n t , d = e ( a ) , f = C ( ) ; r e t u r n   d . t o p - = f . t o p , d . l e f t - = f . l e f t , " u n d e f i n e d " = = t y p e o f   d . w i d t h & & ( d . w i d t h = d o c u m e n t . b o d y . s c r o l l W i d t h - d . l e f t - d . r i g h t ) , " u n d e f i n e d " = = t y p e o f   d . h e i g h t & & ( d . h e i g h t = d o c u m e n t . b o d y . s c r o l l H e i g h t - d . t o p - d . b o t t o m ) , d . t o p = d . t o p - c . c l i e n t T o p , d . l e f t = d . l e f t - c . c l i e n t L e f t , d . r i g h t = b . b o d y . c l i e n t W i d t h - d . w i d t h - d . l e f t , d . b o t t o m = b . b o d y . c l i e n t H e i g h t - d . h e i g h t - d . t o p , d } f u n c t i o n   i ( a ) { r e t u r n   a . o f f s e t P a r e n t | | d o c u m e n t . d o c u m e n t E l e m e n t } f u n c t i o n   j ( ) { v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; a . s t y l e . w i d t h = " 1 0 0 % " , a . s t y l e . h e i g h t = " 2 0 0 p x " ; v a r   b = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; k ( b . s t y l e , { p o s i t i o n : " a b s o l u t e " , t o p : 0 , l e f t : 0 , p o i n t e r E v e n t s : " n o n e " , v i s i b i l i t y : " h i d d e n " , w i d t h : " 2 0 0 p x " , h e i g h t : " 1 5 0 p x " , o v e r f l o w : " h i d d e n " } ) , b . a p p e n d C h i l d ( a ) , d o c u m e n t . b o d y . a p p e n d C h i l d ( b ) ; v a r   c = a . o f f s e t W i d t h ; b . s t y l e . o v e r f l o w = " s c r o l l " ; v a r   d = a . o f f s e t W i d t h ; c = = = d & & ( d = b . c l i e n t W i d t h ) , d o c u m e n t . b o d y . r e m o v e C h i l d ( b ) ; v a r   e = c - d ; r e t u r n { w i d t h : e , h e i g h t : e } } f u n c t i o n   k ( ) { v a r   a = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] ? { } : a r g u m e n t s [ 0 ] , b = [ ] ; r e t u r n   A r r a y . p r o t o t y p e . p u s h . a p p l y ( b , a r g u m e n t s ) , b . s l i c e ( 1 ) . f o r E a c h ( f u n c t i o n ( b ) { i f ( b ) f o r ( v a r   c   i n   b ) ( { } ) . h a s O w n P r o p e r t y . c a l l ( b , c ) & & ( a [ c ] = b [ c ] ) } ) , a } f u n c t i o n   l ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   a . c l a s s L i s t ) b . s p l i t ( "   " ) . f o r E a c h ( f u n c t i o n ( b ) { b . t r i m ( ) & & a . c l a s s L i s t . r e m o v e ( b ) } ) ; e l s e { v a r   c = n e w   R e g E x p ( " ( ^ |   ) " + b . s p l i t ( "   " ) . j o i n ( " | " ) + " (   | $ ) " , " g i " ) , d = o ( a ) . r e p l a c e ( c , "   " ) ; p ( a , d ) } } f u n c t i o n   m ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   a . c l a s s L i s t ) b . s p l i t ( "   " ) . f o r E a c h ( f u n c t i o n ( b ) { b . t r i m ( ) & & a . c l a s s L i s t . a d d ( b ) } ) ; e l s e { l ( a , b ) ; v a r   c = o ( a ) + ( "   " + b ) ; p ( a , c ) } } f u n c t i o n   n ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   a . c l a s s L i s t ) r e t u r n   a . c l a s s L i s t . c o n t a i n s ( b ) ; v a r   c = o ( a ) ; r e t u r n   n e w   R e g E x p ( " ( ^ |   ) " + b + " (   | $ ) " , " g i " ) . t e s t ( c ) } f u n c t i o n   o ( a ) { r e t u r n   a . c l a s s N a m e   i n s t a n c e o f   a . o w n e r D o c u m e n t . d e f a u l t V i e w . S V G A n i m a t e d S t r i n g ? a . c l a s s N a m e . b a s e V a l : a . c l a s s N a m e } f u n c t i o n   p ( a , b ) { a . s e t A t t r i b u t e ( " c l a s s " , b ) } f u n c t i o n   q ( a , b , c ) { c . f o r E a c h ( f u n c t i o n ( c ) { b . i n d e x O f ( c ) = = = - 1 & & n ( a , c ) & & l ( a , c ) } ) , b . f o r E a c h ( f u n c t i o n ( b ) { n ( a , b ) | | m ( a , b ) } ) } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   r ( a , b ) { i f ( " f u n c t i o n " ! = t y p e o f   b & & n u l l ! = = b ) t h r o w   n e w   T y p e E r r o r ( " S u p e r   e x p r e s s i o n   m u s t   e i t h e r   b e   n u l l   o r   a   f u n c t i o n ,   n o t   " + t y p e o f   b ) ; a . p r o t o t y p e = O b j e c t . c r e a t e ( b & & b . p r o t o t y p e , { c o n s t r u c t o r : { v a l u e : a , e n u m e r a b l e : ! 1 , w r i t a b l e : ! 0 , c o n f i g u r a b l e : ! 0 } } ) , b & & ( O b j e c t . s e t P r o t o t y p e O f ? O b j e c t . s e t P r o t o t y p e O f ( a , b ) : a . _ _ p r o t o _ _ = b ) } f u n c t i o n   s ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h < = 2 | | v o i d   0 = = = a r g u m e n t s [ 2 ] ? 1 : a r g u m e n t s [ 2 ] ; r e t u r n   a + c > = b & & b > = a - c } f u n c t i o n   t ( ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   p e r f o r m a n c e & & " u n d e f i n e d " ! = t y p e o f   p e r f o r m a n c e . n o w ? p e r f o r m a n c e . n o w ( ) : + n e w   D a t e } f u n c t i o n   u ( ) { f o r ( v a r   a = { t o p : 0 , l e f t : 0 } , b = a r g u m e n t s . l e n g t h , c = A r r a y ( b ) , d = 0 ; d < b ; d + + ) c [ d ] = a r g u m e n t s [ d ] ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = b . t o p , d = b . l e f t ; " s t r i n g " = = t y p e o f   c & & ( c = p a r s e F l o a t ( c , 1 0 ) ) , " s t r i n g " = = t y p e o f   d & & ( d = p a r s e F l o a t ( d , 1 0 ) ) , a . t o p + = c , a . l e f t + = d } ) , a } f u n c t i o n   v ( a , b ) { r e t u r n " s t r i n g " = = t y p e o f   a . l e f t & & a . l e f t . i n d e x O f ( " % " ) ! = = - 1 & & ( a . l e f t = p a r s e F l o a t ( a . l e f t , 1 0 ) / 1 0 0 * b . w i d t h ) , " s t r i n g " = = t y p e o f   a . t o p & & a . t o p . i n d e x O f ( " % " ) ! = = - 1 & & ( a . t o p = p a r s e F l o a t ( a . t o p , 1 0 ) / 1 0 0 * b . h e i g h t ) , a } f u n c t i o n   w ( a , b ) { r e t u r n " s c r o l l P a r e n t " = = = b ? b = a . s c r o l l P a r e n t s [ 0 ] : " w i n d o w " = = = b & & ( b = [ p a g e X O f f s e t , p a g e Y O f f s e t , i n n e r W i d t h + p a g e X O f f s e t , i n n e r H e i g h t + p a g e Y O f f s e t ] ) , b = = = d o c u m e n t & & ( b = b . d o c u m e n t E l e m e n t ) , " u n d e f i n e d " ! = t y p e o f   b . n o d e T y p e & & ! f u n c t i o n ( ) { v a r   a = b , c = h ( b ) , d = c , e = g e t C o m p u t e d S t y l e ( b ) ; i f ( b = [ d . l e f t , d . t o p , c . w i d t h + d . l e f t , c . h e i g h t + d . t o p ] , a . o w n e r D o c u m e n t ! = = d o c u m e n t ) { v a r   f = a . o w n e r D o c u m e n t . d e f a u l t V i e w ; b [ 0 ] + = f . p a g e X O f f s e t , b [ 1 ] + = f . p a g e Y O f f s e t , b [ 2 ] + = f . p a g e X O f f s e t , b [ 3 ] + = f . p a g e Y O f f s e t } W . f o r E a c h ( f u n c t i o n ( a , c ) { a = a [ 0 ] . t o U p p e r C a s e ( ) + a . s u b s t r ( 1 ) , " T o p " = = = a | | " L e f t " = = = a ? b [ c ] + = p a r s e F l o a t ( e [ " b o r d e r " + a + " W i d t h " ] ) : b [ c ] - = p a r s e F l o a t ( e [ " b o r d e r " + a + " W i d t h " ] ) } ) } ( ) , b } v a r   x = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , y = v o i d   0 ; " u n d e f i n e d " = = t y p e o f   y & & ( y = { m o d u l e s : [ ] } ) ; v a r   z = n u l l , A = f u n c t i o n ( ) { v a r   a = 0 ; r e t u r n   f u n c t i o n ( ) { r e t u r n + + a } } ( ) , B = { } , C = f u n c t i o n ( ) { v a r   a = z ; a | | ( a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) , a . s e t A t t r i b u t e ( " d a t a - t e t h e r - i d " , A ( ) ) , k ( a . s t y l e , { t o p : 0 , l e f t : 0 , p o s i t i o n : " a b s o l u t e " } ) , d o c u m e n t . b o d y . a p p e n d C h i l d ( a ) , z = a ) ; v a r   b = a . g e t A t t r i b u t e ( " d a t a - t e t h e r - i d " ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   B [ b ] & & ( B [ b ] = e ( a ) , E ( f u n c t i o n ( ) { d e l e t e   B [ b ] } ) ) , B [ b ] } , D = [ ] , E = f u n c t i o n ( a ) { D . p u s h ( a ) } , F = f u n c t i o n ( ) { f o r ( v a r   a = v o i d   0 ; a = D . p o p ( ) ; ) a ( ) } , G = f u n c t i o n ( ) { f u n c t i o n   a ( ) { d ( t h i s , a ) } r e t u r n   x ( a , [ { k e y : " o n " , v a l u e : f u n c t i o n ( a , b , c ) { v a r   d = ! ( a r g u m e n t s . l e n g t h < = 3 | | v o i d   0 = = = a r g u m e n t s [ 3 ] ) & & a r g u m e n t s [ 3 ] ; " u n d e f i n e d " = = t y p e o f   t h i s . b i n d i n g s & & ( t h i s . b i n d i n g s = { } ) , " u n d e f i n e d " = = t y p e o f   t h i s . b i n d i n g s [ a ] & & ( t h i s . b i n d i n g s [ a ] = [ ] ) , t h i s . b i n d i n g s [ a ] . p u s h ( { h a n d l e r : b , c t x : c , o n c e : d } ) } } , { k e y : " o n c e " , v a l u e : f u n c t i o n ( a , b , c ) { t h i s . o n ( a , b , c , ! 0 ) } } , { k e y : " o f f " , v a l u e : f u n c t i o n ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . b i n d i n g s & & " u n d e f i n e d " ! = t y p e o f   t h i s . b i n d i n g s [ a ] ) i f ( " u n d e f i n e d " = = t y p e o f   b ) d e l e t e   t h i s . b i n d i n g s [ a ] ; e l s e   f o r ( v a r   c = 0 ; c < t h i s . b i n d i n g s [ a ] . l e n g t h ; ) t h i s . b i n d i n g s [ a ] [ c ] . h a n d l e r = = = b ? t h i s . b i n d i n g s [ a ] . s p l i c e ( c , 1 ) : + + c } } , { k e y : " t r i g g e r " , v a l u e : f u n c t i o n ( a ) { i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . b i n d i n g s & & t h i s . b i n d i n g s [ a ] ) { f o r ( v a r   b = 0 , c = a r g u m e n t s . l e n g t h , d = A r r a y ( c > 1 ? c - 1 : 0 ) , e = 1 ; e < c ; e + + ) d [ e - 1 ] = a r g u m e n t s [ e ] ; f o r ( ; b < t h i s . b i n d i n g s [ a ] . l e n g t h ; ) { v a r   f = t h i s . b i n d i n g s [ a ] [ b ] , g = f . h a n d l e r , h = f . c t x , i = f . o n c e , j = h ; " u n d e f i n e d " = = t y p e o f   j & & ( j = t h i s ) , g . a p p l y ( j , d ) , i ? t h i s . b i n d i n g s [ a ] . s p l i c e ( b , 1 ) : + + b } } } } ] ) , a } ( ) ; y . U t i l s = { g e t A c t u a l B o u n d i n g C l i e n t R e c t : e , g e t S c r o l l P a r e n t s : f , g e t B o u n d s : h , g e t O f f s e t P a r e n t : i , e x t e n d : k , a d d C l a s s : m , r e m o v e C l a s s : l , h a s C l a s s : n , u p d a t e C l a s s e s : q , d e f e r : E , f l u s h : F , u n i q u e I d : A , E v e n t e d : G , g e t S c r o l l B a r S i z e : j , r e m o v e U t i l E l e m e n t s : g } ; v a r   H = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) , x = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , I = f u n c t i o n ( a , b , c ) { f o r ( v a r   d = ! 0 ; d ; ) { v a r   e = a , f = b , g = c ; d = ! 1 , n u l l = = = e & & ( e = F u n c t i o n . p r o t o t y p e ) ; v a r   h = O b j e c t . g e t O w n P r o p e r t y D e s c r i p t o r ( e , f ) ; i f ( v o i d   0 ! = = h ) { i f ( " v a l u e " i n   h ) r e t u r n   h . v a l u e ; v a r   i = h . g e t ; i f ( v o i d   0 = = = i ) r e t u r n ; r e t u r n   i . c a l l ( g ) } v a r   j = O b j e c t . g e t P r o t o t y p e O f ( e ) ; i f ( n u l l = = = j ) r e t u r n ; a = j , b = f , c = g , d = ! 0 , h = j = v o i d   0 } } ; i f ( " u n d e f i n e d " = = t y p e o f   y ) t h r o w   n e w   E r r o r ( " Y o u   m u s t   i n c l u d e   t h e   u t i l s . j s   f i l e   b e f o r e   t e t h e r . j s " ) ; v a r   J = y . U t i l s , f = J . g e t S c r o l l P a r e n t s , h = J . g e t B o u n d s , i = J . g e t O f f s e t P a r e n t , k = J . e x t e n d , m = J . a d d C l a s s , l = J . r e m o v e C l a s s , q = J . u p d a t e C l a s s e s , E = J . d e f e r , F = J . f l u s h , j = J . g e t S c r o l l B a r S i z e , g = J . r e m o v e U t i l E l e m e n t s , K = f u n c t i o n ( ) { i f ( " u n d e f i n e d " = = t y p e o f   d o c u m e n t ) r e t u r n " " ; f o r ( v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) , b = [ " t r a n s f o r m " , " W e b k i t T r a n s f o r m " , " O T r a n s f o r m " , " M o z T r a n s f o r m " , " m s T r a n s f o r m " ] , c = 0 ; c < b . l e n g t h ; + + c ) { v a r   d = b [ c ] ; i f ( v o i d   0 ! = = a . s t y l e [ d ] ) r e t u r n   d } } ( ) , L = [ ] , M = f u n c t i o n ( ) { L . f o r E a c h ( f u n c t i o n ( a ) { a . p o s i t i o n ( ! 1 ) } ) , F ( ) } ; ! f u n c t i o n ( ) { v a r   a = n u l l , b = n u l l , c = n u l l , d = f u n c t i o n   e ( ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   b & & b > 1 6 ? ( b = M a t h . m i n ( b - 1 6 , 2 5 0 ) , v o i d ( c = s e t T i m e o u t ( e , 2 5 0 ) ) ) : v o i d ( " u n d e f i n e d " ! = t y p e o f   a & & t ( ) - a < 1 0 | | ( n u l l ! = c & & ( c l e a r T i m e o u t ( c ) , c = n u l l ) , a = t ( ) , M ( ) , b = t ( ) - a ) ) } ; " u n d e f i n e d " ! = t y p e o f   w i n d o w & & " u n d e f i n e d " ! = t y p e o f   w i n d o w . a d d E v e n t L i s t e n e r & & [ " r e s i z e " , " s c r o l l " , " t o u c h m o v e " ] . f o r E a c h ( f u n c t i o n ( a ) { w i n d o w . a d d E v e n t L i s t e n e r ( a , d ) } ) } ( ) ; v a r   N = { c e n t e r : " c e n t e r " , l e f t : " r i g h t " , r i g h t : " l e f t " } , O = { m i d d l e : " m i d d l e " , t o p : " b o t t o m " , b o t t o m : " t o p " } , P = { t o p : 0 , l e f t : 0 , m i d d l e : " 5 0 % " , c e n t e r : " 5 0 % " , b o t t o m : " 1 0 0 % " , r i g h t : " 1 0 0 % " } , Q = f u n c t i o n ( a , b ) { v a r   c = a . l e f t , d = a . t o p ; r e t u r n " a u t o " = = = c & & ( c = N [ b . l e f t ] ) , " a u t o " = = = d & & ( d = O [ b . t o p ] ) , { l e f t : c , t o p : d } } , R = f u n c t i o n ( a ) { v a r   b = a . l e f t , c = a . t o p ; r e t u r n " u n d e f i n e d " ! = t y p e o f   P [ a . l e f t ] & & ( b = P [ a . l e f t ] ) , " u n d e f i n e d " ! = t y p e o f   P [ a . t o p ] & & ( c = P [ a . t o p ] ) , { l e f t : b , t o p : c } } , S = f u n c t i o n ( a ) { v a r   b = a . s p l i t ( "   " ) , c = H ( b , 2 ) , d = c [ 0 ] , e = c [ 1 ] ; r e t u r n { t o p : d , l e f t : e } } , T = S , U = f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { v a r   c = t h i s ; d ( t h i s , b ) , I ( O b j e c t . g e t P r o t o t y p e O f ( b . p r o t o t y p e ) , " c o n s t r u c t o r " , t h i s ) . c a l l ( t h i s ) , t h i s . p o s i t i o n = t h i s . p o s i t i o n . b i n d ( t h i s ) , L . p u s h ( t h i s ) , t h i s . h i s t o r y = [ ] , t h i s . s e t O p t i o n s ( a , ! 1 ) , y . m o d u l e s . f o r E a c h ( f u n c t i o n ( a ) { " u n d e f i n e d " ! = t y p e o f   a . i n i t i a l i z e & & a . i n i t i a l i z e . c a l l ( c ) } ) , t h i s . p o s i t i o n ( ) } r e t u r n   r ( b , a ) , x ( b , [ { k e y : " g e t C l a s s " , v a l u e : f u n c t i o n ( ) { v a r   a = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] ? " " : a r g u m e n t s [ 0 ] , b = t h i s . o p t i o n s . c l a s s e s ; r e t u r n " u n d e f i n e d " ! = t y p e o f   b & & b [ a ] ? t h i s . o p t i o n s . c l a s s e s [ a ] : t h i s . o p t i o n s . c l a s s P r e f i x ? t h i s . o p t i o n s . c l a s s P r e f i x + " - " + a : a } } , { k e y : " s e t O p t i o n s " , v a l u e : f u n c t i o n ( a ) { v a r   b = t h i s , c = a r g u m e n t s . l e n g t h < = 1 | | v o i d   0 = = = a r g u m e n t s [ 1 ] | | a r g u m e n t s [ 1 ] , d = { o f f s e t : " 0   0 " , t a r g e t O f f s e t : " 0   0 " , t a r g e t A t t a c h m e n t : " a u t o   a u t o " , c l a s s P r e f i x : " t e t h e r " } ; t h i s . o p t i o n s = k ( d , a ) ; v a r   e = t h i s . o p t i o n s , g = e . e l e m e n t , h = e . t a r g e t , i = e . t a r g e t M o d i f i e r ; i f ( t h i s . e l e m e n t = g , t h i s . t a r g e t = h , t h i s . t a r g e t M o d i f i e r = i , " v i e w p o r t " = = = t h i s . t a r g e t ? ( t h i s . t a r g e t = d o c u m e n t . b o d y , t h i s . t a r g e t M o d i f i e r = " v i s i b l e " ) : " s c r o l l - h a n d l e " = = = t h i s . t a r g e t & & ( t h i s . t a r g e t = d o c u m e n t . b o d y , t h i s . t a r g e t M o d i f i e r = " s c r o l l - h a n d l e " ) , [ " e l e m e n t " , " t a r g e t " ] . f o r E a c h ( f u n c t i o n ( a ) { i f ( " u n d e f i n e d " = = t y p e o f   b [ a ] ) t h r o w   n e w   E r r o r ( " T e t h e r   E r r o r :   B o t h   e l e m e n t   a n d   t a r g e t   m u s t   b e   d e f i n e d " ) ; " u n d e f i n e d " ! = t y p e o f   b [ a ] . j q u e r y ? b [ a ] = b [ a ] [ 0 ] : " s t r i n g " = = t y p e o f   b [ a ] & & ( b [ a ] = d o c u m e n t . q u e r y S e l e c t o r ( b [ a ] ) ) } ) , m ( t h i s . e l e m e n t , t h i s . g e t C l a s s ( " e l e m e n t " ) ) , t h i s . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & m ( t h i s . t a r g e t , t h i s . g e t C l a s s ( " t a r g e t " ) ) , ! t h i s . o p t i o n s . a t t a c h m e n t ) t h r o w   n e w   E r r o r ( " T e t h e r   E r r o r :   Y o u   m u s t   p r o v i d e   a n   a t t a c h m e n t " ) ; t h i s . t a r g e t A t t a c h m e n t = T ( t h i s . o p t i o n s . t a r g e t A t t a c h m e n t ) , t h i s . a t t a c h m e n t = T ( t h i s . o p t i o n s . a t t a c h m e n t ) , t h i s . o f f s e t = S ( t h i s . o p t i o n s . o f f s e t ) , t h i s . t a r g e t O f f s e t = S ( t h i s . o p t i o n s . t a r g e t O f f s e t ) , " u n d e f i n e d " ! = t y p e o f   t h i s . s c r o l l P a r e n t s & & t h i s . d i s a b l e ( ) , " s c r o l l - h a n d l e " = = = t h i s . t a r g e t M o d i f i e r ? t h i s . s c r o l l P a r e n t s = [ t h i s . t a r g e t ] : t h i s . s c r o l l P a r e n t s = f ( t h i s . t a r g e t ) , t h i s . o p t i o n s . e n a b l e d ! = = ! 1 & & t h i s . e n a b l e ( c ) } } , { k e y : " g e t T a r g e t B o u n d s " , v a l u e : f u n c t i o n ( ) { i f ( " u n d e f i n e d " = = t y p e o f   t h i s . t a r g e t M o d i f i e r ) r e t u r n   h ( t h i s . t a r g e t ) ; i f ( " v i s i b l e " = = = t h i s . t a r g e t M o d i f i e r ) { i f ( t h i s . t a r g e t = = = d o c u m e n t . b o d y ) r e t u r n { t o p : p a g e Y O f f s e t , l e f t : p a g e X O f f s e t , h e i g h t : i n n e r H e i g h t , w i d t h : i n n e r W i d t h } ; v a r   a = h ( t h i s . t a r g e t ) , b = { h e i g h t : a . h e i g h t , w i d t h : a . w i d t h , t o p : a . t o p , l e f t : a . l e f t } ; r e t u r n   b . h e i g h t = M a t h . m i n ( b . h e i g h t , a . h e i g h t - ( p a g e Y O f f s e t - a . t o p ) ) , b . h e i g h t = M a t h . m i n ( b . h e i g h t , a . h e i g h t - ( a . t o p + a . h e i g h t - ( p a g e Y O f f s e t + i n n e r H e i g h t ) ) ) , b . h e i g h t = M a t h . m i n ( i n n e r H e i g h t , b . h e i g h t ) , b . h e i g h t - = 2 , b . w i d t h = M a t h . m i n ( b . w i d t h , a . w i d t h - ( p a g e X O f f s e t - a . l e f t ) ) , b . w i d t h = M a t h . m i n ( b . w i d t h , a . w i d t h - ( a . l e f t + a . w i d t h - ( p a g e X O f f s e t + i n n e r W i d t h ) ) ) , b . w i d t h = M a t h . m i n ( i n n e r W i d t h , b . w i d t h ) , b . w i d t h - = 2 , b . t o p < p a g e Y O f f s e t & & ( b . t o p = p a g e Y O f f s e t ) , b . l e f t < p a g e X O f f s e t & & ( b . l e f t = p a g e X O f f s e t ) , b } i f ( " s c r o l l - h a n d l e " = = = t h i s . t a r g e t M o d i f i e r ) { v a r   a = v o i d   0 , c = t h i s . t a r g e t ; c = = = d o c u m e n t . b o d y ? ( c = d o c u m e n t . d o c u m e n t E l e m e n t , a = { l e f t : p a g e X O f f s e t , t o p : p a g e Y O f f s e t , h e i g h t : i n n e r H e i g h t , w i d t h : i n n e r W i d t h } ) : a = h ( c ) ; v a r   d = g e t C o m p u t e d S t y l e ( c ) , e = c . s c r o l l W i d t h > c . c l i e n t W i d t h | | [ d . o v e r f l o w , d . o v e r f l o w X ] . i n d e x O f ( " s c r o l l " ) > = 0 | | t h i s . t a r g e t ! = = d o c u m e n t . b o d y , f = 0 ; e & & ( f = 1 5 ) ; v a r   g = a . h e i g h t - p a r s e F l o a t ( d . b o r d e r T o p W i d t h ) - p a r s e F l o a t ( d . b o r d e r B o t t o m W i d t h ) - f , b = { w i d t h : 1 5 , h e i g h t : . 9 7 5 * g * ( g / c . s c r o l l H e i g h t ) , l e f t : a . l e f t + a . w i d t h - p a r s e F l o a t ( d . b o r d e r L e f t W i d t h ) - 1 5 } , i = 0 ; g < 4 0 8 & & t h i s . t a r g e t = = = d o c u m e n t . b o d y & & ( i = - 1 1 e - 5 * M a t h . p o w ( g , 2 ) - . 0 0 7 2 7 * g + 2 2 . 5 8 ) , t h i s . t a r g e t ! = = d o c u m e n t . b o d y & & ( b . h e i g h t = M a t h . m a x ( b . h e i g h t , 2 4 ) ) ; v a r   j = t h i s . t a r g e t . s c r o l l T o p / ( c . s c r o l l H e i g h t - g ) ; r e t u r n   b . t o p = j * ( g - b . h e i g h t - i ) + a . t o p + p a r s e F l o a t ( d . b o r d e r T o p W i d t h ) , t h i s . t a r g e t = = = d o c u m e n t . b o d y & & ( b . h e i g h t = M a t h . m a x ( b . h e i g h t , 2 4 ) ) , b } } } , { k e y : " c l e a r C a c h e " , v a l u e : f u n c t i o n ( ) { t h i s . _ c a c h e = { } } } , { k e y : " c a c h e " , v a l u e : f u n c t i o n ( a , b ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . _ c a c h e & & ( t h i s . _ c a c h e = { } ) , " u n d e f i n e d " = = t y p e o f   t h i s . _ c a c h e [ a ] & & ( t h i s . _ c a c h e [ a ] = b . c a l l ( t h i s ) ) , t h i s . _ c a c h e [ a ] } } , { k e y : " e n a b l e " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] | | a r g u m e n t s [ 0 ] ; t h i s . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & m ( t h i s . t a r g e t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , m ( t h i s . e l e m e n t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , t h i s . e n a b l e d = ! 0 , t h i s . s c r o l l P a r e n t s . f o r E a c h ( f u n c t i o n ( b ) { b ! = = a . t a r g e t . o w n e r D o c u m e n t & & b . a d d E v e n t L i s t e n e r ( " s c r o l l " , a . p o s i t i o n ) } ) , b & & t h i s . p o s i t i o n ( ) } } , { k e y : " d i s a b l e " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s ; l ( t h i s . t a r g e t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , l ( t h i s . e l e m e n t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , t h i s . e n a b l e d = ! 1 , " u n d e f i n e d " ! = t y p e o f   t h i s . s c r o l l P a r e n t s & & t h i s . s c r o l l P a r e n t s . f o r E a c h ( f u n c t i o n ( b ) { b . r e m o v e E v e n t L i s t e n e r ( " s c r o l l " , a . p o s i t i o n ) } ) } } , { k e y : " d e s t r o y " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . d i s a b l e ( ) , L . f o r E a c h ( f u n c t i o n ( b , c ) { b = = = a & & L . s p l i c e ( c , 1 ) } ) , 0 = = = L . l e n g t h & & g ( ) } } , { k e y : " u p d a t e A t t a c h C l a s s e s " , v a l u e : f u n c t i o n ( a , b ) { v a r   c = t h i s ; a = a | | t h i s . a t t a c h m e n t , b = b | | t h i s . t a r g e t A t t a c h m e n t ; v a r   d = [ " l e f t " , " t o p " , " b o t t o m " , " r i g h t " , " m i d d l e " , " c e n t e r " ] ; " u n d e f i n e d " ! = t y p e o f   t h i s . _ a d d A t t a c h C l a s s e s & & t h i s . _ a d d A t t a c h C l a s s e s . l e n g t h & & t h i s . _ a d d A t t a c h C l a s s e s . s p l i c e ( 0 , t h i s . _ a d d A t t a c h C l a s s e s . l e n g t h ) , " u n d e f i n e d " = = t y p e o f   t h i s . _ a d d A t t a c h C l a s s e s & & ( t h i s . _ a d d A t t a c h C l a s s e s = [ ] ) ; v a r   e = t h i s . _ a d d A t t a c h C l a s s e s ; a . t o p & & e . p u s h ( t h i s . g e t C l a s s ( " e l e m e n t - a t t a c h e d " ) + " - " + a . t o p ) , a . l e f t & & e . p u s h ( t h i s . g e t C l a s s ( " e l e m e n t - a t t a c h e d " ) + " - " + a . l e f t ) , b . t o p & & e . p u s h ( t h i s . g e t C l a s s ( " t a r g e t - a t t a c h e d " ) + " - " + b . t o p ) , b . l e f t & & e . p u s h ( t h i s . g e t C l a s s ( " t a r g e t - a t t a c h e d " ) + " - " + b . l e f t ) ; v a r   f = [ ] ; d . f o r E a c h ( f u n c t i o n ( a ) { f . p u s h ( c . g e t C l a s s ( " e l e m e n t - a t t a c h e d " ) + " - " + a ) , f . p u s h ( c . g e t C l a s s ( " t a r g e t - a t t a c h e d " ) + " - " + a ) } ) , E ( f u n c t i o n ( ) { " u n d e f i n e d " ! = t y p e o f   c . _ a d d A t t a c h C l a s s e s & & ( q ( c . e l e m e n t , c . _ a d d A t t a c h C l a s s e s , f ) , c . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & q ( c . t a r g e t , c . _ a d d A t t a c h C l a s s e s , f ) , d e l e t e   c . _ a d d A t t a c h C l a s s e s ) } ) } } , { k e y : " p o s i t i o n " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] | | a r g u m e n t s [ 0 ] ; i f ( t h i s . e n a b l e d ) { t h i s . c l e a r C a c h e ( ) ; v a r   c = Q ( t h i s . t a r g e t A t t a c h m e n t , t h i s . a t t a c h m e n t ) ; t h i s . u p d a t e A t t a c h C l a s s e s ( t h i s . a t t a c h m e n t , c ) ; v a r   d = t h i s . c a c h e ( " e l e m e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( a . e l e m e n t ) } ) , e = d . w i d t h , f = d . h e i g h t ; i f ( 0 = = = e & & 0 = = = f & & " u n d e f i n e d " ! = t y p e o f   t h i s . l a s t S i z e ) { v a r   g = t h i s . l a s t S i z e ; e = g . w i d t h , f = g . h e i g h t } e l s e   t h i s . l a s t S i z e = { w i d t h : e , h e i g h t : f } ; v a r   k = t h i s . c a c h e ( " t a r g e t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   a . g e t T a r g e t B o u n d s ( ) } ) , l = k , m = v ( R ( t h i s . a t t a c h m e n t ) , { w i d t h : e , h e i g h t : f } ) , n = v ( R ( c ) , l ) , o = v ( t h i s . o f f s e t , { w i d t h : e , h e i g h t : f } ) , p = v ( t h i s . t a r g e t O f f s e t , l ) ; m = u ( m , o ) , n = u ( n , p ) ; f o r ( v a r   q = k . l e f t + n . l e f t - m . l e f t , r = k . t o p + n . t o p - m . t o p , s = 0 ; s < y . m o d u l e s . l e n g t h ; + + s ) { v a r   t = y . m o d u l e s [ s ] , w = t . p o s i t i o n . c a l l ( t h i s , { l e f t : q , t o p : r , t a r g e t A t t a c h m e n t : c , t a r g e t P o s : k , e l e m e n t P o s : d , o f f s e t : m , t a r g e t O f f s e t : n , m a n u a l O f f s e t : o , m a n u a l T a r g e t O f f s e t : p , s c r o l l b a r S i z e : B , a t t a c h m e n t : t h i s . a t t a c h m e n t } ) ; i f ( w = = = ! 1 ) r e t u r n ! 1 ; " u n d e f i n e d " ! = t y p e o f   w & & " o b j e c t " = = t y p e o f   w & & ( r = w . t o p , q = w . l e f t ) } v a r   x = { p a g e : { t o p : r , l e f t : q } , v i e w p o r t : { t o p : r - p a g e Y O f f s e t , b o t t o m : p a g e Y O f f s e t - r - f + i n n e r H e i g h t , l e f t : q - p a g e X O f f s e t , r i g h t : p a g e X O f f s e t - q - e + i n n e r W i d t h } } , z = t h i s . t a r g e t . o w n e r D o c u m e n t , A = z . d e f a u l t V i e w , B = v o i d   0 ; r e t u r n   z . b o d y . s c r o l l W i d t h > A . i n n e r W i d t h & & ( B = t h i s . c a c h e ( " s c r o l l b a r - s i z e " , j ) , x . v i e w p o r t . b o t t o m - = B . h e i g h t ) , z . b o d y . s c r o l l H e i g h t > A . i n n e r H e i g h t & & ( B = t h i s . c a c h e ( " s c r o l l b a r - s i z e " , j ) , x . v i e w p o r t . r i g h t - = B . w i d t h ) , [ " " , " s t a t i c " ] . i n d e x O f ( z . b o d y . s t y l e . p o s i t i o n ) ! = = - 1 & & [ " " , " s t a t i c " ] . i n d e x O f ( z . b o d y . p a r e n t E l e m e n t . s t y l e . p o s i t i o n ) ! = = - 1 | | ( x . p a g e . b o t t o m = z . b o d y . s c r o l l H e i g h t - r - f , x . p a g e . r i g h t = z . b o d y . s c r o l l W i d t h - q - e ) , " u n d e f i n e d " ! = t y p e o f   t h i s . o p t i o n s . o p t i m i z a t i o n s & & t h i s . o p t i o n s . o p t i m i z a t i o n s . m o v e E l e m e n t ! = = ! 1 & & " u n d e f i n e d " = = t y p e o f   t h i s . t a r g e t M o d i f i e r & & ! f u n c t i o n ( ) { v a r   b = a . c a c h e ( " t a r g e t - o f f s e t p a r e n t " , f u n c t i o n ( ) { r e t u r n   i ( a . t a r g e t ) } ) , c = a . c a c h e ( " t a r g e t - o f f s e t p a r e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( b ) } ) , d = g e t C o m p u t e d S t y l e ( b ) , e = c , f = { } ; i f ( [ " T o p " , " L e f t " , " B o t t o m " , " R i g h t " ] . f o r E a c h ( f u n c t i o n ( a ) { f [ a . t o L o w e r C a s e ( ) ] = p a r s e F l o a t ( d [ " b o r d e r " + a + " W i d t h " ] ) } ) , c . r i g h t = z . b o d y . s c r o l l W i d t h - c . l e f t - e . w i d t h + f . r i g h t , c . b o t t o m = z . b o d y . s c r o l l H e i g h t - c . t o p - e . h e i g h t + f . b o t t o m , x . p a g e . t o p > = c . t o p + f . t o p & & x . p a g e . b o t t o m > = c . b o t t o m & & x . p a g e . l e f t > = c . l e f t + f . l e f t & & x . p a g e . r i g h t > = c . r i g h t ) { v a r   g = b . s c r o l l T o p , j = b . s c r o l l L e f t ; x . o f f s e t = { t o p : x . p a g e . t o p - c . t o p + g - f . t o p , l e f t : x . p a g e . l e f t - c . l e f t + j - f . l e f t } } } ( ) , t h i s . m o v e ( x ) , t h i s . h i s t o r y . u n s h i f t ( x ) , t h i s . h i s t o r y . l e n g t h > 3 & & t h i s . h i s t o r y . p o p ( ) , b & & F ( ) , ! 0 } } } , { k e y : " m o v e " , v a l u e : f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . e l e m e n t . p a r e n t N o d e ) { v a r   c = { } ; f o r ( v a r   d   i n   a ) { c [ d ] = { } ; f o r ( v a r   e   i n   a [ d ] ) { f o r ( v a r   f = ! 1 , g = 0 ; g < t h i s . h i s t o r y . l e n g t h ; + + g ) { v a r   h = t h i s . h i s t o r y [ g ] ; i f ( " u n d e f i n e d " ! = t y p e o f   h [ d ] & & ! s ( h [ d ] [ e ] , a [ d ] [ e ] ) ) { f = ! 0 ; b r e a k } } f | | ( c [ d ] [ e ] = ! 0 ) } } v a r   j = { t o p : " " , l e f t : " " , r i g h t : " " , b o t t o m : " " } , l = f u n c t i o n ( a , c ) { v a r   d = " u n d e f i n e d " ! = t y p e o f   b . o p t i o n s . o p t i m i z a t i o n s , e = d ? b . o p t i o n s . o p t i m i z a t i o n s . g p u : n u l l ; i f ( e ! = = ! 1 ) { v a r   f = v o i d   0 , g = v o i d   0 ; a . t o p ? ( j . t o p = 0 , f = c . t o p ) : ( j . b o t t o m = 0 , f = - c . b o t t o m ) , a . l e f t ? ( j . l e f t = 0 , g = c . l e f t ) : ( j . r i g h t = 0 , g = - c . r i g h t ) , j [ K ] = " t r a n s l a t e X ( " + M a t h . r o u n d ( g ) + " p x )   t r a n s l a t e Y ( " + M a t h . r o u n d ( f ) + " p x ) " , " m s T r a n s f o r m " ! = = K & & ( j [ K ] + = "   t r a n s l a t e Z ( 0 ) " ) } e l s e   a . t o p ? j . t o p = c . t o p + " p x " : j . b o t t o m = c . b o t t o m + " p x " , a . l e f t ? j . l e f t = c . l e f t + " p x " : j . r i g h t = c . r i g h t + " p x " } , m = ! 1 ; i f ( ( c . p a g e . t o p | | c . p a g e . b o t t o m ) & & ( c . p a g e . l e f t | | c . p a g e . r i g h t ) ? ( j . p o s i t i o n = " a b s o l u t e " , l ( c . p a g e , a . p a g e ) ) : ( c . v i e w p o r t . t o p | | c . v i e w p o r t . b o t t o m ) & & ( c . v i e w p o r t . l e f t | | c . v i e w p o r t . r i g h t ) ? ( j . p o s i t i o n = " f i x e d " , l ( c . v i e w p o r t , a . v i e w p o r t ) ) : " u n d e f i n e d " ! = t y p e o f   c . o f f s e t & & c . o f f s e t . t o p & & c . o f f s e t . l e f t ? ! f u n c t i o n ( ) { j . p o s i t i o n = " a b s o l u t e " ; v a r   d = b . c a c h e ( " t a r g e t - o f f s e t p a r e n t " , f u n c t i o n ( ) { r e t u r n   i ( b . t a r g e t ) } ) ; i ( b . e l e m e n t ) ! = = d & & E ( f u n c t i o n ( ) { b . e l e m e n t . p a r e n t N o d e . r e m o v e C h i l d ( b . e l e m e n t ) , d . a p p e n d C h i l d ( b . e l e m e n t ) } ) , l ( c . o f f s e t , a . o f f s e t ) , m = ! 0 } ( ) : ( j . p o s i t i o n = " a b s o l u t e " , l ( { t o p : ! 0 , l e f t : ! 0 } , a . p a g e ) ) , ! m ) { f o r ( v a r   n = ! 0 , o = t h i s . e l e m e n t . p a r e n t N o d e ; o & & 1 = = = o . n o d e T y p e & & " B O D Y " ! = = o . t a g N a m e ; ) { i f ( " s t a t i c " ! = = g e t C o m p u t e d S t y l e ( o ) . p o s i t i o n ) { n = ! 1 ; b r e a k } o = o . p a r e n t N o d e } n | | ( t h i s . e l e m e n t . p a r e n t N o d e . r e m o v e C h i l d ( t h i s . e l e m e n t ) , t h i s . e l e m e n t . o w n e r D o c u m e n t . b o d y . a p p e n d C h i l d ( t h i s . e l e m e n t ) ) } v a r   p = { } , q = ! 1 ; f o r ( v a r   e   i n   j ) { v a r   r = j [ e ] , t = t h i s . e l e m e n t . s t y l e [ e ] ; t ! = = r & & ( q = ! 0 , p [ e ] = r ) } q & & E ( f u n c t i o n ( ) { k ( b . e l e m e n t . s t y l e , p ) } ) } } } ] ) , b } ( G ) ; U . m o d u l e s = [ ] , y . p o s i t i o n = M ; v a r   V = k ( U , y ) , H = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) , J = y . U t i l s , h = J . g e t B o u n d s , k = J . e x t e n d , q = J . u p d a t e C l a s s e s , E = J . d e f e r , W = [ " l e f t " , " t o p " , " r i g h t " , " b o t t o m " ] ; y . m o d u l e s . p u s h ( { p o s i t i o n : f u n c t i o n ( a ) { v a r   b = t h i s , c = a . t o p , d = a . l e f t , e = a . t a r g e t A t t a c h m e n t ; i f ( ! t h i s . o p t i o n s . c o n s t r a i n t s ) r e t u r n ! 0 ; v a r   f = t h i s . c a c h e ( " e l e m e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( b . e l e m e n t ) } ) , g = f . h e i g h t , i = f . w i d t h ; i f ( 0 = = = i & & 0 = = = g & & " u n d e f i n e d " ! = t y p e o f   t h i s . l a s t S i z e ) { v a r   j = t h i s . l a s t S i z e ; i = j . w i d t h , g = j . h e i g h t } v a r   l = t h i s . c a c h e ( " t a r g e t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   b . g e t T a r g e t B o u n d s ( ) } ) , m = l . h e i g h t , n = l . w i d t h , o = [ t h i s . g e t C l a s s ( " p i n n e d " ) , t h i s . g e t C l a s s ( " o u t - o f - b o u n d s " ) ] ; t h i s . o p t i o n s . c o n s t r a i n t s . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a . o u t O f B o u n d s C l a s s , c = a . p i n n e d C l a s s ; b & & o . p u s h ( b ) , c & & o . p u s h ( c ) } ) , o . f o r E a c h ( f u n c t i o n ( a ) { [ " l e f t " , " t o p " , " r i g h t " , " b o t t o m " ] . f o r E a c h ( f u n c t i o n ( b ) { o . p u s h ( a + " - " + b ) } ) } ) ; v a r   p = [ ] , r = k ( { } , e ) , s = k ( { } , t h i s . a t t a c h m e n t ) ; r e t u r n   t h i s . o p t i o n s . c o n s t r a i n t s . f o r E a c h ( f u n c t i o n ( a ) { v a r   f = a . t o , h = a . a t t a c h m e n t , j = a . p i n ; " u n d e f i n e d " = = t y p e o f   h & & ( h = " " ) ; v a r   k = v o i d   0 , l = v o i d   0 ; i f ( h . i n d e x O f ( "   " ) > = 0 ) { v a r   o = h . s p l i t ( "   " ) , q = H ( o , 2 ) ; l = q [ 0 ] , k = q [ 1 ] } e l s e   k = l = h ; v a r   t = w ( b , f ) ; " t a r g e t " ! = = l & & " b o t h " ! = = l | | ( c < t [ 1 ] & & " t o p " = = = r . t o p & & ( c + = m , r . t o p = " b o t t o m " ) , c + g > t [ 3 ] & & " b o t t o m " = = = r . t o p & & ( c - = m , r . t o p = " t o p " ) ) , " t o g e t h e r " = = = l & & ( " t o p " = = = r . t o p & & ( " b o t t o m " = = = s . t o p & & c < t [ 1 ] ? ( c + = m , r . t o p = " b o t t o m " , c + = g , s . t o p = " t o p " ) : " t o p " = = = s . t o p & & c + g > t [ 3 ] & & c - ( g - m ) > = t [ 1 ] & & ( c - = g - m , r . t o p = " b o t t o m " , s . t o p = " b o t t o m " ) ) , " b o t t o m " = = = r . t o p & & ( " t o p " = = = s . t o p & & c + g > t [ 3 ] ? ( c - = m , r . t o p = " t o p " , c - = g , s . t o p = " b o t t o m " ) : " b o t t o m " = = = s . t o p & & c < t [ 1 ] & & c + ( 2 * g - m ) < = t [ 3 ] & & ( c + = g - m , r . t o p = " t o p " , s . t o p = " t o p " ) ) , " m i d d l e " = = = r . t o p & & ( c + g > t [ 3 ] & & " t o p " = = = s . t o p ? ( c - = g , s . t o p = " b o t t o m " ) : c < t [ 1 ] & & " b o t t o m " = = = s . t o p & & ( c + = g , s . t o p = " t o p " ) ) ) , " t a r g e t " ! = = k & & " b o t h " ! = = k | | ( d < t [ 0 ] & & " l e f t " = = = r . l e f t & & ( d + = n , r . l e f t = " r i g h t " ) , d + i > t [ 2 ] & & " r i g h t " = = = r . l e f t & & ( d - = n , r . l e f t = " l e f t " ) ) , " t o g e t h e r " = = = k & & ( d < t [ 0 ] & & " l e f t " = = = r . l e f t ? " r i g h t " = = = s . l e f t ? ( d + = n , r . l e f t = " r i g h t " , d + = i , s . l e f t = " l e f t " ) : " l e f t " = = = s . l e f t & & ( d + = n , r . l e f t = " r i g h t " , d - = i , s . l e f t = " r i g h t " ) : d + i > t [ 2 ] & & " r i g h t " = = = r . l e f t ? " l e f t " = = = s . l e f t ? ( d - = n , r . l e f t = " l e f t " , d - = i , s . l e f t = " r i g h t " ) : " r i g h t " = = = s . l e f t & & ( d - = n , r . l e f t = " l e f t " , d + = i , s . l e f t = " l e f t " ) : " c e n t e r " = = = r . l e f t & & ( d + i > t [ 2 ] & & " l e f t " = = = s . l e f t ? ( d - = i , s . l e f t = " r i g h t " ) : d < t [ 0 ] & & " r i g h t " = = = s . l e f t & & ( d + = i , s . l e f t = " l e f t " ) ) ) , " e l e m e n t " ! = = l & & " b o t h " ! = = l | | ( c < t [ 1 ] & & " b o t t o m " = = = s . t o p & & ( c + = g , s . t o p = " t o p " ) , c + g > t [ 3 ] & & " t o p " = = = s . t o p & & ( c - = g , s . t o p = " b o t t o m " ) ) , " e l e m e n t " ! = = k & & " b o t h " ! = = k | | ( d < t [ 0 ] & & ( " r i g h t " = = = s . l e f t ? ( d + = i , s . l e f t = " l e f t " ) : " c e n t e r " = = = s . l e f t & & ( d + = i / 2 , s . l e f t = " l e f t " ) ) , d + i > t [ 2 ] & & ( " l e f t " = = = s . l e f t ? ( d - = i , s . l e f t = " r i g h t " ) : " c e n t e r " = = = s . l e f t & & ( d - = i / 2 , s . l e f t = " r i g h t " ) ) ) , " s t r i n g " = = t y p e o f   j ? j = j . s p l i t ( " , " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) } ) : j = = = ! 0 & & ( j = [ " t o p " , " l e f t " , " r i g h t " , " b o t t o m " ] ) , j = j | | [ ] ; v a r   u = [ ] , v = [ ] ; c < t [ 1 ] & & ( j . i n d e x O f ( " t o p " ) > = 0 ? ( c = t [ 1 ] , u . p u s h ( " t o p " ) ) : v . p u s h ( " t o p " ) ) , c + g > t [ 3 ] & & ( j . i n d e x O f ( " b o t t o m " ) > = 0 ? ( c = t [ 3 ] - g , u . p u s h ( " b o t t o m " ) ) : v . p u s h ( " b o t t o m " ) ) , d < t [ 0 ] & & ( j . i n d e x O f ( " l e f t " ) > = 0 ? ( d = t [ 0 ] , u . p u s h ( " l e f t " ) ) : v . p u s h ( " l e f t " ) ) , d + i > t [ 2 ] & & ( j . i n d e x O f ( " r i g h t " ) > = 0 ? ( d = t [ 2 ] - i , u . p u s h ( " r i g h t " ) ) : v . p u s h ( " r i g h t " ) ) , u . l e n g t h & & ! f u n c t i o n ( ) { v a r   a = v o i d   0 ; a = " u n d e f i n e d " ! = t y p e o f   b . o p t i o n s . p i n n e d C l a s s ? b . o p t i o n s . p i n n e d C l a s s : b . g e t C l a s s ( " p i n n e d " ) , p . p u s h ( a ) , u . f o r E a c h ( f u n c t i o n ( b ) { p . p u s h ( a + " - " + b ) } ) } ( ) , v . l e n g t h & & ! f u n c t i o n ( ) { v a r   a = v o i d   0 ; a = " u n d e f i n e d " ! = t y p e o f   b . o p t i o n s . o u t O f B o u n d s C l a s s ? b . o p t i o n s . o u t O f B o u n d s C l a s s : b . g e t C l a s s ( " o u t - o f - b o u n d s " ) , p . p u s h ( a ) , v . f o r E a c h ( f u n c t i o n ( b ) { p . p u s h ( a + " - " + b ) } ) } ( ) , ( u . i n d e x O f ( " l e f t " ) > = 0 | | u . i n d e x O f ( " r i g h t " ) > = 0 ) & & ( s . l e f t = r . l e f t = ! 1 ) , ( u . i n d e x O f ( " t o p " ) > = 0 | | u . i n d e x O f ( " b o t t o m " ) > = 0 ) & & ( s . t o p = r . t o p = ! 1 ) , r . t o p = = = e . t o p & & r . l e f t = = = e . l e f t & & s . t o p = = = b . a t t a c h m e n t . t o p & & s . l e f t = = = b . a t t a c h m e n t . l e f t | | ( b . u p d a t e A t t a c h C l a s s e s ( s , r ) , b . t r i g g e r ( " u p d a t e " , { a t t a c h m e n t : s , t a r g e t A t t a c h m e n t : r } ) ) } ) , E ( f u n c t i o n ( ) { b . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & q ( b . t a r g e t , p , o ) , q ( b . e l e m e n t , p , o ) } ) , { t o p : c , l e f t : d } } } ) ; v a r   J = y . U t i l s , h = J . g e t B o u n d s , q = J . u p d a t e C l a s s e s , E = J . d e f e r ; y . m o d u l e s . p u s h ( { p o s i t i o n : f u n c t i o n ( a ) { v a r   b = t h i s , c = a . t o p , d = a . l e f t , e = t h i s . c a c h e ( " e l e m e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( b . e l e m e n t ) } ) , f = e . h e i g h t , g = e . w i d t h , i = t h i s . g e t T a r g e t B o u n d s ( ) , j = c + f , k = d + g , l = [ ] ; c < = i . b o t t o m & & j > = i . t o p & & [ " l e f t " , " r i g h t " ] . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = i [ a ] ; b ! = = d & & b ! = = k | | l . p u s h ( a ) } ) , d < = i . r i g h t & & k > = i . l e f t & & [ " t o p " , " b o t t o m " ] . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = i [ a ] ; b ! = = c & & b ! = = j | | l . p u s h ( a ) } ) ; v a r   m = [ ] , n = [ ] , o = [ " l e f t " , " t o p " , " r i g h t " , " b o t t o m " ] ; r e t u r n   m . p u s h ( t h i s . g e t C l a s s ( " a b u t t e d " ) ) , o . f o r E a c h ( f u n c t i o n ( a ) { m . p u s h ( b . g e t C l a s s ( " a b u t t e d " ) + " - " + a ) } ) , l . l e n g t h & & n . p u s h ( t h i s . g e t C l a s s ( " a b u t t e d " ) ) , l . f o r E a c h ( f u n c t i o n ( a ) { n . p u s h ( b . g e t C l a s s ( " a b u t t e d " ) + " - " + a ) } ) , E ( f u n c t i o n ( ) { b . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & q ( b . t a r g e t , n , m ) , q ( b . e l e m e n t , n , m ) } ) , ! 0 } } ) ; v a r   H = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) ; r e t u r n   y . m o d u l e s . p u s h ( { p o s i t i o n : f u n c t i o n ( a ) { v a r   b = a . t o p , c = a . l e f t ; i f ( t h i s . o p t i o n s . s h i f t ) { v a r   d = t h i s . o p t i o n s . s h i f t ; " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . s h i f t & & ( d = t h i s . o p t i o n s . s h i f t . c a l l ( t h i s , { t o p : b , l e f t : c } ) ) ; v a r   e = v o i d   0 , f = v o i d   0 ; i f ( " s t r i n g " = = t y p e o f   d ) { d = d . s p l i t ( "   " ) , d [ 1 ] = d [ 1 ] | | d [ 0 ] ; v a r   g = d , h = H ( g , 2 ) ; e = h [ 0 ] , f = h [ 1 ] , e = p a r s e F l o a t ( e , 1 0 ) , f = p a r s e F l o a t ( f , 1 0 ) } e l s e   e = d . t o p , f = d . l e f t ; r e t u r n   b + = e , c + = f , { t o p : b , l e f t : c } } } } ) , V } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / m o d a l ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l ? " s y m b o l " : t y p e o f   a } , g = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , h = f u n c t i o n ( a ) { v a r   b = " m o d a l " , c = " 4 . 0 . 0 - a l p h a . 4 " , h = " b s . m o d a l " , i = " . " + h , j = " . d a t a - a p i " , k = a . f n [ b ] , l = 3 0 0 , m = 1 5 0 , n = 2 7 , o = { b a c k d r o p : ! 0 , k e y b o a r d : ! 0 , f o c u s : ! 0 , s h o w : ! 0 } , p = { b a c k d r o p : " ( b o o l e a n | s t r i n g ) " , k e y b o a r d : " b o o l e a n " , f o c u s : " b o o l e a n " , s h o w : " b o o l e a n " } , q = { H I D E : " h i d e " + i , H I D D E N : " h i d d e n " + i , S H O W : " s h o w " + i , S H O W N : " s h o w n " + i , F O C U S I N : " f o c u s i n " + i , R E S I Z E : " r e s i z e " + i , C L I C K _ D I S M I S S : " c l i c k . d i s m i s s " + i , K E Y D O W N _ D I S M I S S : " k e y d o w n . d i s m i s s " + i , M O U S E U P _ D I S M I S S : " m o u s e u p . d i s m i s s " + i , M O U S E D O W N _ D I S M I S S : " m o u s e d o w n . d i s m i s s " + i , C L I C K _ D A T A _ A P I : " c l i c k " + i + j } , r = { S C R O L L B A R _ M E A S U R E R : " m o d a l - s c r o l l b a r - m e a s u r e " , B A C K D R O P : " m o d a l - b a c k d r o p " , O P E N : " m o d a l - o p e n " , F A D E : " f a d e " , I N : " i n " } , s = { D I A L O G : " . m o d a l - d i a l o g " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " m o d a l " ] ' , D A T A _ D I S M I S S : ' [ d a t a - d i s m i s s = " m o d a l " ] ' , F I X E D _ C O N T E N T : " . n a v b a r - f i x e d - t o p ,   . n a v b a r - f i x e d - b o t t o m ,   . i s - f i x e d " } , t = f u n c t i o n ( ) { f u n c t i o n   j ( b , c ) { d ( t h i s , j ) , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ e l e m e n t = b , t h i s . _ d i a l o g = a ( b ) . f i n d ( s . D I A L O G ) [ 0 ] , t h i s . _ b a c k d r o p = n u l l , t h i s . _ i s S h o w n = ! 1 , t h i s . _ i s B o d y O v e r f l o w i n g = ! 1 , t h i s . _ i g n o r e B a c k d r o p C l i c k = ! 1 , t h i s . _ o r i g i n a l B o d y P a d d i n g = 0 , t h i s . _ s c r o l l b a r W i d t h = 0 } r e t u r n   g ( j , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( a ) { r e t u r n   t h i s . _ i s S h o w n ? t h i s . h i d e ( ) : t h i s . s h o w ( a ) } } , { k e y : " s h o w " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = a . E v e n t ( q . S H O W , { r e l a t e d T a r g e t : b } ) ; a ( t h i s . _ e l e m e n t ) . t r i g g e r ( d ) , t h i s . _ i s S h o w n | | d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . _ i s S h o w n = ! 0 , t h i s . _ c h e c k S c r o l l b a r ( ) , t h i s . _ s e t S c r o l l b a r ( ) , a ( d o c u m e n t . b o d y ) . a d d C l a s s ( r . O P E N ) , t h i s . _ s e t E s c a p e E v e n t ( ) , t h i s . _ s e t R e s i z e E v e n t ( ) , a ( t h i s . _ e l e m e n t ) . o n ( q . C L I C K _ D I S M I S S , s . D A T A _ D I S M I S S , a . p r o x y ( t h i s . h i d e , t h i s ) ) , a ( t h i s . _ d i a l o g ) . o n ( q . M O U S E D O W N _ D I S M I S S , f u n c t i o n ( ) { a ( c . _ e l e m e n t ) . o n e ( q . M O U S E U P _ D I S M I S S , f u n c t i o n ( b ) { a ( b . t a r g e t ) . i s ( c . _ e l e m e n t ) & & ( c . _ i g n o r e B a c k d r o p C l i c k = ! 0 ) } ) } ) , t h i s . _ s h o w B a c k d r o p ( a . p r o x y ( t h i s . _ s h o w E l e m e n t , t h i s , b ) ) ) } } , { k e y : " h i d e " , v a l u e : f u n c t i o n ( b ) { b & & b . p r e v e n t D e f a u l t ( ) ; v a r   c = a . E v e n t ( q . H I D E ) ; a ( t h i s . _ e l e m e n t ) . t r i g g e r ( c ) , t h i s . _ i s S h o w n & & ! c . i s D e f a u l t P r e v e n t e d ( ) & & ( t h i s . _ i s S h o w n = ! 1 , t h i s . _ s e t E s c a p e E v e n t ( ) , t h i s . _ s e t R e s i z e E v e n t ( ) , a ( d o c u m e n t ) . o f f ( q . F O C U S I N ) , a ( t h i s . _ e l e m e n t ) . r e m o v e C l a s s ( r . I N ) , a ( t h i s . _ e l e m e n t ) . o f f ( q . C L I C K _ D I S M I S S ) , a ( t h i s . _ d i a l o g ) . o f f ( q . M O U S E D O W N _ D I S M I S S ) , e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( r . F A D E ) ? a ( t h i s . _ e l e m e n t ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , a . p r o x y ( t h i s . _ h i d e M o d a l , t h i s ) ) . e m u l a t e T r a n s i t i o n E n d ( l ) : t h i s . _ h i d e M o d a l ( ) ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , h ) , a ( w i n d o w ) . o f f ( i ) , a ( d o c u m e n t ) . o f f ( i ) , a ( t h i s . _ e l e m e n t ) . o f f ( i ) , a ( t h i s . _ b a c k d r o p ) . o f f ( i ) , t h i s . _ c o n f i g = n u l l , t h i s . _ e l e m e n t = n u l l , t h i s . _ d i a l o g = n u l l , t h i s . _ b a c k d r o p = n u l l , t h i s . _ i s S h o w n = n u l l , t h i s . _ i s B o d y O v e r f l o w i n g = n u l l , t h i s . _ i g n o r e B a c k d r o p C l i c k = n u l l , t h i s . _ o r i g i n a l B o d y P a d d i n g = n u l l , t h i s . _ s c r o l l b a r W i d t h = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { r e t u r n   c = a . e x t e n d ( { } , o , c ) , e [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , p ) , c } } , { k e y : " _ s h o w E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( r . F A D E ) ; t h i s . _ e l e m e n t . p a r e n t N o d e & & t h i s . _ e l e m e n t . p a r e n t N o d e . n o d e T y p e = = = N o d e . E L E M E N T _ N O D E | | d o c u m e n t . b o d y . a p p e n d C h i l d ( t h i s . _ e l e m e n t ) , t h i s . _ e l e m e n t . s t y l e . d i s p l a y = " b l o c k " , t h i s . _ e l e m e n t . r e m o v e A t t r i b u t e ( " a r i a - h i d d e n " ) , t h i s . _ e l e m e n t . s c r o l l T o p = 0 , d & & e [ " d e f a u l t " ] . r e f l o w ( t h i s . _ e l e m e n t ) , a ( t h i s . _ e l e m e n t ) . a d d C l a s s ( r . I N ) , t h i s . _ c o n f i g . f o c u s & & t h i s . _ e n f o r c e F o c u s ( ) ; v a r   f = a . E v e n t ( q . S H O W N , { r e l a t e d T a r g e t : b } ) , g = f u n c t i o n ( ) { c . _ c o n f i g . f o c u s & & c . _ e l e m e n t . f o c u s ( ) , a ( c . _ e l e m e n t ) . t r i g g e r ( f ) } ; d ? a ( t h i s . _ d i a l o g ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , g ) . e m u l a t e T r a n s i t i o n E n d ( l ) : g ( ) } } , { k e y : " _ e n f o r c e F o c u s " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; a ( d o c u m e n t ) . o f f ( q . F O C U S I N ) . o n ( q . F O C U S I N , f u n c t i o n ( c ) { d o c u m e n t = = = c . t a r g e t | | b . _ e l e m e n t = = = c . t a r g e t | | a ( b . _ e l e m e n t ) . h a s ( c . t a r g e t ) . l e n g t h | | b . _ e l e m e n t . f o c u s ( ) } ) } } , { k e y : " _ s e t E s c a p e E v e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . _ i s S h o w n & & t h i s . _ c o n f i g . k e y b o a r d ? a ( t h i s . _ e l e m e n t ) . o n ( q . K E Y D O W N _ D I S M I S S , f u n c t i o n ( a ) { a . w h i c h = = = n & & b . h i d e ( ) } ) : t h i s . _ i s S h o w n | | a ( t h i s . _ e l e m e n t ) . o f f ( q . K E Y D O W N _ D I S M I S S ) } } , { k e y : " _ s e t R e s i z e E v e n t " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s S h o w n ? a ( w i n d o w ) . o n ( q . R E S I Z E , a . p r o x y ( t h i s . _ h a n d l e U p d a t e , t h i s ) ) : a ( w i n d o w ) . o f f ( q . R E S I Z E ) } } , { k e y : " _ h i d e M o d a l " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . _ e l e m e n t . s t y l e . d i s p l a y = " n o n e " , t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . _ s h o w B a c k d r o p ( f u n c t i o n ( ) { a ( d o c u m e n t . b o d y ) . r e m o v e C l a s s ( r . O P E N ) , b . _ r e s e t A d j u s t m e n t s ( ) , b . _ r e s e t S c r o l l b a r ( ) , a ( b . _ e l e m e n t ) . t r i g g e r ( q . H I D D E N ) } ) } } , { k e y : " _ r e m o v e B a c k d r o p " , v a l u e : f u n c t i o n ( ) { t h i s . _ b a c k d r o p & & ( a ( t h i s . _ b a c k d r o p ) . r e m o v e ( ) , t h i s . _ b a c k d r o p = n u l l ) } } , { k e y : " _ s h o w B a c k d r o p " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( r . F A D E ) ? r . F A D E : " " ; i f ( t h i s . _ i s S h o w n & & t h i s . _ c o n f i g . b a c k d r o p ) { v a r   f = e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & d ; i f ( t h i s . _ b a c k d r o p = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) , t h i s . _ b a c k d r o p . c l a s s N a m e = r . B A C K D R O P , d & & a ( t h i s . _ b a c k d r o p ) . a d d C l a s s ( d ) , a ( t h i s . _ b a c k d r o p ) . a p p e n d T o ( d o c u m e n t . b o d y ) , a ( t h i s . _ e l e m e n t ) . o n ( q . C L I C K _ D I S M I S S , f u n c t i o n ( a ) { r e t u r n   c . _ i g n o r e B a c k d r o p C l i c k ? v o i d ( c . _ i g n o r e B a c k d r o p C l i c k = ! 1 ) : v o i d ( a . t a r g e t = = = a . c u r r e n t T a r g e t & & ( " s t a t i c " = = = c . _ c o n f i g . b a c k d r o p ? c . _ e l e m e n t . f o c u s ( ) : c . h i d e ( ) ) ) } ) , f & & e [ " d e f a u l t " ] . r e f l o w ( t h i s . _ b a c k d r o p ) , a ( t h i s . _ b a c k d r o p ) . a d d C l a s s ( r . I N ) , ! b ) r e t u r n ; i f ( ! f ) r e t u r n   v o i d   b ( ) ; a ( t h i s . _ b a c k d r o p ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , b ) . e m u l a t e T r a n s i t i o n E n d ( m ) } e l s e   i f ( ! t h i s . _ i s S h o w n & & t h i s . _ b a c k d r o p ) { a ( t h i s . _ b a c k d r o p ) . r e m o v e C l a s s ( r . I N ) ; v a r   g = f u n c t i o n ( ) { c . _ r e m o v e B a c k d r o p ( ) , b & & b ( ) } ; e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( r . F A D E ) ? a ( t h i s . _ b a c k d r o p ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , g ) . e m u l a t e T r a n s i t i o n E n d ( m ) : g ( ) } e l s e   b & & b ( ) } } , { k e y : " _ h a n d l e U p d a t e " , v a l u e : f u n c t i o n ( ) { t h i s . _ a d j u s t D i a l o g ( ) } } , { k e y : " _ a d j u s t D i a l o g " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . _ e l e m e n t . s c r o l l H e i g h t > d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t H e i g h t ; ! t h i s . _ i s B o d y O v e r f l o w i n g & & a & & ( t h i s . _ e l e m e n t . s t y l e . p a d d i n g L e f t = t h i s . _ s c r o l l b a r W i d t h + " p x " ) , t h i s . _ i s B o d y O v e r f l o w i n g & & ! a & & ( t h i s . _ e l e m e n t . s t y l e . p a d d i n g R i g h t = t h i s . _ s c r o l l b a r W i d t h + " p x " ) } } , { k e y : " _ r e s e t A d j u s t m e n t s " , v a l u e : f u n c t i o n ( ) { t h i s . _ e l e m e n t . s t y l e . p a d d i n g L e f t = " " , t h i s . _ e l e m e n t . s t y l e . p a d d i n g R i g h t = " " } } , { k e y : " _ c h e c k S c r o l l b a r " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s B o d y O v e r f l o w i n g = d o c u m e n t . b o d y . c l i e n t W i d t h < w i n d o w . i n n e r W i d t h , t h i s . _ s c r o l l b a r W i d t h = t h i s . _ g e t S c r o l l b a r W i d t h ( ) } } , { k e y : " _ s e t S c r o l l b a r " , v a l u e : f u n c t i o n ( ) { v a r   b = p a r s e I n t ( a ( s . F I X E D _ C O N T E N T ) . c s s ( " p a d d i n g - r i g h t " ) | | 0 , 1 0 ) ; t h i s . _ o r i g i n a l B o d y P a d d i n g = d o c u m e n t . b o d y . s t y l e . p a d d i n g R i g h t | | " " , t h i s . _ i s B o d y O v e r f l o w i n g & & ( d o c u m e n t . b o d y . s t y l e . p a d d i n g R i g h t = b + t h i s . _ s c r o l l b a r W i d t h + " p x " ) } } , { k e y : " _ r e s e t S c r o l l b a r " , v a l u e : f u n c t i o n ( ) { d o c u m e n t . b o d y . s t y l e . p a d d i n g R i g h t = t h i s . _ o r i g i n a l B o d y P a d d i n g } } , { k e y : " _ g e t S c r o l l b a r W i d t h " , v a l u e : f u n c t i o n ( ) { v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; a . c l a s s N a m e = r . S C R O L L B A R _ M E A S U R E R , d o c u m e n t . b o d y . a p p e n d C h i l d ( a ) ; v a r   b = a . o f f s e t W i d t h - a . c l i e n t W i d t h ; r e t u r n   d o c u m e n t . b o d y . r e m o v e C h i l d ( a ) , b } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b , c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   d = a ( t h i s ) . d a t a ( h ) , e = a . e x t e n d ( { } , j . D e f a u l t , a ( t h i s ) . d a t a ( ) , " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   b ? " u n d e f i n e d " : f ( b ) ) & & b ) ; i f ( d | | ( d = n e w   j ( t h i s , e ) , a ( t h i s ) . d a t a ( h , d ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( v o i d   0 = = = d [ b ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + b + ' " ' ) ; d [ b ] ( c ) } e l s e   e . s h o w & & d . s h o w ( c ) } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   o } } ] ) , j } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( q . C L I C K _ D A T A _ A P I , s . D A T A _ T O G G L E , f u n c t i o n ( b ) { v a r   c = t h i s , d = v o i d   0 , f = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s ) ; f & & ( d = a ( f ) [ 0 ] ) ; v a r   g = a ( d ) . d a t a ( h ) ? " t o g g l e " : a . e x t e n d ( { } , a ( d ) . d a t a ( ) , a ( t h i s ) . d a t a ( ) ) ; " A " = = = t h i s . t a g N a m e & & b . p r e v e n t D e f a u l t ( ) ; v a r   i = a ( d ) . o n e ( q . S H O W , f u n c t i o n ( b ) { b . i s D e f a u l t P r e v e n t e d ( ) | | i . o n e ( q . H I D D E N , f u n c t i o n ( ) { a ( c ) . i s ( " : v i s i b l e " ) & & c . f o c u s ( ) } ) } ) ; t . _ j Q u e r y I n t e r f a c e . c a l l ( a ( d ) , g , t h i s ) } ) , a . f n [ b ] = t . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = t , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = k , t . _ j Q u e r y I n t e r f a c e } , t } ( j Q u e r y ) ; a [ " d e f a u l t " ] = h } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / t o o l t i p ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l ? " s y m b o l " : t y p e o f   a } , g = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , h = f u n c t i o n ( a ) { i f ( v o i d   0 = = = w i n d o w . T e t h e r ) t h r o w   n e w   E r r o r ( " B o o t s t r a p   t o o l t i p s   r e q u i r e   T e t h e r   ( h t t p : / / g i t h u b . h u b s p o t . c o m / t e t h e r / ) " ) ; v a r   b = " t o o l t i p " , c = " 4 . 0 . 0 - a l p h a . 4 " , h = " b s . t o o l t i p " , i = " . " + h , j = a . f n [ b ] , k = 1 5 0 , l = " b s - t e t h e r " , m = { a n i m a t i o n : ! 0 , t e m p l a t e : ' < d i v   c l a s s = " t o o l t i p "   r o l e = " t o o l t i p " > < d i v   c l a s s = " t o o l t i p - a r r o w " > < / d i v > < d i v   c l a s s = " t o o l t i p - i n n e r " > < / d i v > < / d i v > ' , t r i g g e r : " h o v e r   f o c u s " , t i t l e : " " , d e l a y : 0 , h t m l : ! 1 , s e l e c t o r : ! 1 , p l a c e m e n t : " t o p " , o f f s e t : " 0   0 " , c o n s t r a i n t s : [ ] } , n = { a n i m a t i o n : " b o o l e a n " , t e m p l a t e : " s t r i n g " , t i t l e : " ( s t r i n g | e l e m e n t | f u n c t i o n ) " , t r i g g e r : " s t r i n g " , d e l a y : " ( n u m b e r | o b j e c t ) " , h t m l : " b o o l e a n " , s e l e c t o r : " ( s t r i n g | b o o l e a n ) " , p l a c e m e n t : " ( s t r i n g | f u n c t i o n ) " , o f f s e t : " s t r i n g " , c o n s t r a i n t s : " a r r a y " } , o = { T O P : " b o t t o m   c e n t e r " , R I G H T : " m i d d l e   l e f t " , B O T T O M : " t o p   c e n t e r " , L E F T : " m i d d l e   r i g h t " } , p = { I N : " i n " , O U T : " o u t " } , q = { H I D E : " h i d e " + i , H I D D E N : " h i d d e n " + i , S H O W : " s h o w " + i , S H O W N : " s h o w n " + i , I N S E R T E D : " i n s e r t e d " + i , C L I C K : " c l i c k " + i , F O C U S I N : " f o c u s i n " + i , F O C U S O U T : " f o c u s o u t " + i , M O U S E E N T E R : " m o u s e e n t e r " + i , M O U S E L E A V E : " m o u s e l e a v e " + i } , r = { F A D E : " f a d e " , I N : " i n " } , s = { T O O L T I P : " . t o o l t i p " , T O O L T I P _ I N N E R : " . t o o l t i p - i n n e r " } , t = { e l e m e n t : ! 1 , e n a b l e d : ! 1 } , u = { H O V E R : " h o v e r " , F O C U S : " f o c u s " , C L I C K : " c l i c k " , M A N U A L : " m a n u a l " } , v = f u n c t i o n ( ) { f u n c t i o n   j ( a , b ) { d ( t h i s , j ) , t h i s . _ i s E n a b l e d = ! 0 , t h i s . _ t i m e o u t = 0 , t h i s . _ h o v e r S t a t e = " " , t h i s . _ a c t i v e T r i g g e r = { } , t h i s . _ t e t h e r = n u l l , t h i s . e l e m e n t = a , t h i s . c o n f i g = t h i s . _ g e t C o n f i g ( b ) , t h i s . t i p = n u l l , t h i s . _ s e t L i s t e n e r s ( ) } r e t u r n   g ( j , [ { k e y : " e n a b l e " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s E n a b l e d = ! 0 } } , { k e y : " d i s a b l e " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s E n a b l e d = ! 1 } } , { k e y : " t o g g l e E n a b l e d " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s E n a b l e d = ! t h i s . _ i s E n a b l e d } } , { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( b ) { i f ( b ) { v a r   c = t h i s . c o n s t r u c t o r . D A T A _ K E Y , d = a ( b . c u r r e n t T a r g e t ) . d a t a ( c ) ; d | | ( d = n e w   t h i s . c o n s t r u c t o r ( b . c u r r e n t T a r g e t , t h i s . _ g e t D e l e g a t e C o n f i g ( ) ) , a ( b . c u r r e n t T a r g e t ) . d a t a ( c , d ) ) , d . _ a c t i v e T r i g g e r . c l i c k = ! d . _ a c t i v e T r i g g e r . c l i c k , d . _ i s W i t h A c t i v e T r i g g e r ( ) ? d . _ e n t e r ( n u l l , d ) : d . _ l e a v e ( n u l l , d ) } e l s e { i f ( a ( t h i s . g e t T i p E l e m e n t ( ) ) . h a s C l a s s ( r . I N ) ) r e t u r n   v o i d   t h i s . _ l e a v e ( n u l l , t h i s ) ; t h i s . _ e n t e r ( n u l l , t h i s ) } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { c l e a r T i m e o u t ( t h i s . _ t i m e o u t ) , t h i s . c l e a n u p T e t h e r ( ) , a . r e m o v e D a t a ( t h i s . e l e m e n t , t h i s . c o n s t r u c t o r . D A T A _ K E Y ) , a ( t h i s . e l e m e n t ) . o f f ( t h i s . c o n s t r u c t o r . E V E N T _ K E Y ) , t h i s . t i p & & a ( t h i s . t i p ) . r e m o v e ( ) , t h i s . _ i s E n a b l e d = n u l l , t h i s . _ t i m e o u t = n u l l , t h i s . _ h o v e r S t a t e = n u l l , t h i s . _ a c t i v e T r i g g e r = n u l l , t h i s . _ t e t h e r = n u l l , t h i s . e l e m e n t = n u l l , t h i s . c o n f i g = n u l l , t h i s . t i p = n u l l } } , { k e y : " s h o w " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = a . E v e n t ( t h i s . c o n s t r u c t o r . E v e n t . S H O W ) ; i f ( t h i s . i s W i t h C o n t e n t ( ) & & t h i s . _ i s E n a b l e d ) { a ( t h i s . e l e m e n t ) . t r i g g e r ( c ) ; v a r   d = a . c o n t a i n s ( t h i s . e l e m e n t . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t , t h i s . e l e m e n t ) ; i f ( c . i s D e f a u l t P r e v e n t e d ( ) | | ! d ) r e t u r n ; v a r   f = t h i s . g e t T i p E l e m e n t ( ) , g = e [ " d e f a u l t " ] . g e t U I D ( t h i s . c o n s t r u c t o r . N A M E ) ; f . s e t A t t r i b u t e ( " i d " , g ) , t h i s . e l e m e n t . s e t A t t r i b u t e ( " a r i a - d e s c r i b e d b y " , g ) , t h i s . s e t C o n t e n t ( ) , t h i s . c o n f i g . a n i m a t i o n & & a ( f ) . a d d C l a s s ( r . F A D E ) ; v a r   h = " f u n c t i o n " = = t y p e o f   t h i s . c o n f i g . p l a c e m e n t ? t h i s . c o n f i g . p l a c e m e n t . c a l l ( t h i s , f , t h i s . e l e m e n t ) : t h i s . c o n f i g . p l a c e m e n t , i = t h i s . _ g e t A t t a c h m e n t ( h ) ; a ( f ) . d a t a ( t h i s . c o n s t r u c t o r . D A T A _ K E Y , t h i s ) . a p p e n d T o ( d o c u m e n t . b o d y ) , a ( t h i s . e l e m e n t ) . t r i g g e r ( t h i s . c o n s t r u c t o r . E v e n t . I N S E R T E D ) , t h i s . _ t e t h e r = n e w   T e t h e r ( { a t t a c h m e n t : i , e l e m e n t : f , t a r g e t : t h i s . e l e m e n t , c l a s s e s : t , c l a s s P r e f i x : l , o f f s e t : t h i s . c o n f i g . o f f s e t , c o n s t r a i n t s : t h i s . c o n f i g . c o n s t r a i n t s , a d d T a r g e t C l a s s e s : ! 1 } ) , e [ " d e f a u l t " ] . r e f l o w ( f ) , t h i s . _ t e t h e r . p o s i t i o n ( ) , a ( f ) . a d d C l a s s ( r . I N ) ; v a r   k = f u n c t i o n ( ) { v a r   c = b . _ h o v e r S t a t e ; b . _ h o v e r S t a t e = n u l l , a ( b . e l e m e n t ) . t r i g g e r ( b . c o n s t r u c t o r . E v e n t . S H O W N ) , c = = = p . O U T & & b . _ l e a v e ( n u l l , b ) } ; i f ( e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . t i p ) . h a s C l a s s ( r . F A D E ) ) r e t u r n   v o i d   a ( t h i s . t i p ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , k ) . e m u l a t e T r a n s i t i o n E n d ( j . _ T R A N S I T I O N _ D U R A T I O N ) ; k ( ) } } } , { k e y : " h i d e " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = t h i s . g e t T i p E l e m e n t ( ) , f = a . E v e n t ( t h i s . c o n s t r u c t o r . E v e n t . H I D E ) , g = f u n c t i o n ( ) { c . _ h o v e r S t a t e ! = = p . I N & & d . p a r e n t N o d e & & d . p a r e n t N o d e . r e m o v e C h i l d ( d ) , c . e l e m e n t . r e m o v e A t t r i b u t e ( " a r i a - d e s c r i b e d b y " ) , a ( c . e l e m e n t ) . t r i g g e r ( c . c o n s t r u c t o r . E v e n t . H I D D E N ) , c . c l e a n u p T e t h e r ( ) , b & & b ( ) } ; a ( t h i s . e l e m e n t ) . t r i g g e r ( f ) , f . i s D e f a u l t P r e v e n t e d ( ) | | ( a ( d ) . r e m o v e C l a s s ( r . I N ) , e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . t i p ) . h a s C l a s s ( r . F A D E ) ? a ( d ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , g ) . e m u l a t e T r a n s i t i o n E n d ( k ) : g ( ) , t h i s . _ h o v e r S t a t e = " " ) } } , { k e y : " i s W i t h C o n t e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   B o o l e a n ( t h i s . g e t T i t l e ( ) ) } } , { k e y : " g e t T i p E l e m e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . t i p = t h i s . t i p | | a ( t h i s . c o n f i g . t e m p l a t e ) [ 0 ] } } , { k e y : " s e t C o n t e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . g e t T i p E l e m e n t ( ) ) ; t h i s . s e t E l e m e n t C o n t e n t ( b . f i n d ( s . T O O L T I P _ I N N E R ) , t h i s . g e t T i t l e ( ) ) , b . r e m o v e C l a s s ( r . F A D E ) . r e m o v e C l a s s ( r . I N ) , t h i s . c l e a n u p T e t h e r ( ) } } , { k e y : " s e t E l e m e n t C o n t e n t " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . c o n f i g . h t m l ; " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   c ? " u n d e f i n e d " : f ( c ) ) & & ( c . n o d e T y p e | | c . j q u e r y ) ? d ? a ( c ) . p a r e n t ( ) . i s ( b ) | | b . e m p t y ( ) . a p p e n d ( c ) : b . t e x t ( a ( c ) . t e x t ( ) ) : b [ d ? " h t m l " : " t e x t " ] ( c ) } } , { k e y : " g e t T i t l e " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . e l e m e n t . g e t A t t r i b u t e ( " d a t a - o r i g i n a l - t i t l e " ) ; r e t u r n   a | | ( a = " f u n c t i o n " = = t y p e o f   t h i s . c o n f i g . t i t l e ? t h i s . c o n f i g . t i t l e . c a l l ( t h i s . e l e m e n t ) : t h i s . c o n f i g . t i t l e ) , a } } , { k e y : " c l e a n u p T e t h e r " , v a l u e : f u n c t i o n ( ) { t h i s . _ t e t h e r & & t h i s . _ t e t h e r . d e s t r o y ( ) } } , { k e y : " _ g e t A t t a c h m e n t " , v a l u e : f u n c t i o n ( a ) { r e t u r n   o [ a . t o U p p e r C a s e ( ) ] } } , { k e y : " _ s e t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = t h i s . c o n f i g . t r i g g e r . s p l i t ( "   " ) ; c . f o r E a c h ( f u n c t i o n ( c ) { i f ( " c l i c k " = = = c ) a ( b . e l e m e n t ) . o n ( b . c o n s t r u c t o r . E v e n t . C L I C K , b . c o n f i g . s e l e c t o r , a . p r o x y ( b . t o g g l e , b ) ) ; e l s e   i f ( c ! = = u . M A N U A L ) { v a r   d = c = = = u . H O V E R ? b . c o n s t r u c t o r . E v e n t . M O U S E E N T E R : b . c o n s t r u c t o r . E v e n t . F O C U S I N , e = c = = = u . H O V E R ? b . c o n s t r u c t o r . E v e n t . M O U S E L E A V E : b . c o n s t r u c t o r . E v e n t . F O C U S O U T ; a ( b . e l e m e n t ) . o n ( d , b . c o n f i g . s e l e c t o r , a . p r o x y ( b . _ e n t e r , b ) ) . o n ( e , b . c o n f i g . s e l e c t o r , a . p r o x y ( b . _ l e a v e , b ) ) } } ) , t h i s . c o n f i g . s e l e c t o r ? t h i s . c o n f i g = a . e x t e n d ( { } , t h i s . c o n f i g , { t r i g g e r : " m a n u a l " , s e l e c t o r : " " } ) : t h i s . _ f i x T i t l e ( ) } } , { k e y : " _ f i x T i t l e " , v a l u e : f u n c t i o n ( ) { v a r   a = f ( t h i s . e l e m e n t . g e t A t t r i b u t e ( " d a t a - o r i g i n a l - t i t l e " ) ) ; ( t h i s . e l e m e n t . g e t A t t r i b u t e ( " t i t l e " ) | | " s t r i n g " ! = = a ) & & ( t h i s . e l e m e n t . s e t A t t r i b u t e ( " d a t a - o r i g i n a l - t i t l e " , t h i s . e l e m e n t . g e t A t t r i b u t e ( " t i t l e " ) | | " " ) , t h i s . e l e m e n t . s e t A t t r i b u t e ( " t i t l e " , " " ) ) } } , { k e y : " _ e n t e r " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . c o n s t r u c t o r . D A T A _ K E Y ; r e t u r n   c = c | | a ( b . c u r r e n t T a r g e t ) . d a t a ( d ) , c | | ( c = n e w   t h i s . c o n s t r u c t o r ( b . c u r r e n t T a r g e t , t h i s . _ g e t D e l e g a t e C o n f i g ( ) ) , a ( b . c u r r e n t T a r g e t ) . d a t a ( d , c ) ) , b & & ( c . _ a c t i v e T r i g g e r [ " f o c u s i n " = = = b . t y p e ? u . F O C U S : u . H O V E R ] = ! 0 ) , a ( c . g e t T i p E l e m e n t ( ) ) . h a s C l a s s ( r . I N ) | | c . _ h o v e r S t a t e = = = p . I N ? v o i d ( c . _ h o v e r S t a t e = p . I N ) : ( c l e a r T i m e o u t ( c . _ t i m e o u t ) , c . _ h o v e r S t a t e = p . I N , c . c o n f i g . d e l a y & & c . c o n f i g . d e l a y . s h o w ? v o i d ( c . _ t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { c . _ h o v e r S t a t e = = = p . I N & & c . s h o w ( ) } , c . c o n f i g . d e l a y . s h o w ) ) : v o i d   c . s h o w ( ) ) } } , { k e y : " _ l e a v e " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . c o n s t r u c t o r . D A T A _ K E Y ; i f ( c = c | | a ( b . c u r r e n t T a r g e t ) . d a t a ( d ) , c | | ( c = n e w   t h i s . c o n s t r u c t o r ( b . c u r r e n t T a r g e t , t h i s . _ g e t D e l e g a t e C o n f i g ( ) ) , a ( b . c u r r e n t T a r g e t ) . d a t a ( d , c ) ) , b & & ( c . _ a c t i v e T r i g g e r [ " f o c u s o u t " = = = b . t y p e ? u . F O C U S : u . H O V E R ] = ! 1 ) , ! c . _ i s W i t h A c t i v e T r i g g e r ( ) ) r e t u r n   c l e a r T i m e o u t ( c . _ t i m e o u t ) , c . _ h o v e r S t a t e = p . O U T , c . c o n f i g . d e l a y & & c . c o n f i g . d e l a y . h i d e ? v o i d ( c . _ t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { c . _ h o v e r S t a t e = = = p . O U T & & c . h i d e ( ) } , c . c o n f i g . d e l a y . h i d e ) ) : v o i d   c . h i d e ( ) } } , { k e y : " _ i s W i t h A c t i v e T r i g g e r " , v a l u e : f u n c t i o n ( ) { f o r ( v a r   a   i n   t h i s . _ a c t i v e T r i g g e r ) i f ( t h i s . _ a c t i v e T r i g g e r [ a ] ) r e t u r n ! 0 ; r e t u r n ! 1 } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { r e t u r n   c = a . e x t e n d ( { } , t h i s . c o n s t r u c t o r . D e f a u l t , a ( t h i s . e l e m e n t ) . d a t a ( ) , c ) , c . d e l a y & & " n u m b e r " = = t y p e o f   c . d e l a y & & ( c . d e l a y = { s h o w : c . d e l a y , h i d e : c . d e l a y } ) , e [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , t h i s . c o n s t r u c t o r . D e f a u l t T y p e ) , c } } , { k e y : " _ g e t D e l e g a t e C o n f i g " , v a l u e : f u n c t i o n ( ) { v a r   a = { } ; i f ( t h i s . c o n f i g ) f o r ( v a r   b   i n   t h i s . c o n f i g ) t h i s . c o n s t r u c t o r . D e f a u l t [ b ] ! = = t h i s . c o n f i g [ b ] & & ( a [ b ] = t h i s . c o n f i g [ b ] ) ; r e t u r n   a } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( h ) , d = " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   b ? " u n d e f i n e d " : f ( b ) ) ? b : n u l l ; i f ( ( c | | ! / d e s t r o y | h i d e / . t e s t ( b ) ) & & ( c | | ( c = n e w   j ( t h i s , d ) , a ( t h i s ) . d a t a ( h , c ) ) , " s t r i n g " = = t y p e o f   b ) ) { i f ( v o i d   0 = = = c [ b ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + b + ' " ' ) ; c [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   m } } , { k e y : " N A M E " , g e t : f u n c t i o n ( ) { r e t u r n   b } } , { k e y : " D A T A _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   h } } , { k e y : " E v e n t " , g e t : f u n c t i o n ( ) { r e t u r n   q } } , { k e y : " E V E N T _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   i } } , { k e y : " D e f a u l t T y p e " , g e t : f u n c t i o n ( ) { r e t u r n   n } } ] ) , j } ( ) ; r e t u r n   a . f n [ b ] = v . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = v , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = j , v . _ j Q u e r y I n t e r f a c e } , v } ( j Q u e r y ) ; a [ " d e f a u l t " ] = h } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / u t i l ' ,   [ " e x p o r t s " ] , f u n c t i o n ( a ) { " u s e   s t r i c t " ; O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   b = f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { r e t u r n { } . t o S t r i n g . c a l l ( a ) . m a t c h ( / \ s ( [ a - z A - Z ] + ) / ) [ 1 ] . t o L o w e r C a s e ( ) } f u n c t i o n   c ( a ) { r e t u r n ( a [ 0 ] | | a ) . n o d e T y p e } f u n c t i o n   d ( ) { r e t u r n { b i n d T y p e : h . e n d , d e l e g a t e T y p e : h . e n d , h a n d l e : f u n c t i o n ( b ) { i f ( a ( b . t a r g e t ) . i s ( t h i s ) ) r e t u r n   b . h a n d l e O b j . h a n d l e r . a p p l y ( t h i s , a r g u m e n t s ) } } } f u n c t i o n   e ( ) { i f ( w i n d o w . Q U n i t ) r e t u r n ! 1 ; v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " b o o t s t r a p " ) ; f o r ( v a r   b   i n   j ) i f ( v o i d   0 ! = = a . s t y l e [ b ] ) r e t u r n { e n d : j [ b ] } ; r e t u r n ! 1 } f u n c t i o n   f ( b ) { v a r   c = t h i s , d = ! 1 ; r e t u r n   a ( t h i s ) . o n e ( k . T R A N S I T I O N _ E N D , f u n c t i o n ( ) { d = ! 0 } ) , s e t T i m e o u t ( f u n c t i o n ( ) { d | | k . t r i g g e r T r a n s i t i o n E n d ( c ) } , b ) , t h i s } f u n c t i o n   g ( ) { h = e ( ) , a . f n . e m u l a t e T r a n s i t i o n E n d = f , k . s u p p o r t s T r a n s i t i o n E n d ( ) & & ( a . e v e n t . s p e c i a l [ k . T R A N S I T I O N _ E N D ] = d ( ) ) } v a r   h = ! 1 , i = 1 e 6 , j = { W e b k i t T r a n s i t i o n : " w e b k i t T r a n s i t i o n E n d " , M o z T r a n s i t i o n : " t r a n s i t i o n e n d " , O T r a n s i t i o n : " o T r a n s i t i o n E n d   o t r a n s i t i o n e n d " , t r a n s i t i o n : " t r a n s i t i o n e n d " } , k = { T R A N S I T I O N _ E N D : " b s T r a n s i t i o n E n d " , g e t U I D : f u n c t i o n ( a ) { d o   a + = ~ ~ ( M a t h . r a n d o m ( ) * i ) ; w h i l e ( d o c u m e n t . g e t E l e m e n t B y I d ( a ) ) ; r e t u r n   a } , g e t S e l e c t o r F r o m E l e m e n t : f u n c t i o n ( a ) { v a r   b = a . g e t A t t r i b u t e ( " d a t a - t a r g e t " ) ; r e t u r n   b | | ( b = a . g e t A t t r i b u t e ( " h r e f " ) | | " " , b = / ^ # [ a - z ] / i . t e s t ( b ) ? b : n u l l ) , b } , r e f l o w : f u n c t i o n ( a ) { n e w   F u n c t i o n ( " b s " , " r e t u r n   b s " ) ( a . o f f s e t H e i g h t ) } , t r i g g e r T r a n s i t i o n E n d : f u n c t i o n ( b ) { a ( b ) . t r i g g e r ( h . e n d ) } , s u p p o r t s T r a n s i t i o n E n d : f u n c t i o n ( ) { r e t u r n   B o o l e a n ( h ) } , t y p e C h e c k C o n f i g : f u n c t i o n ( a , d , e ) { f o r ( v a r   f   i n   e ) i f ( e . h a s O w n P r o p e r t y ( f ) ) { v a r   g = e [ f ] , h = d [ f ] , i = v o i d   0 ; i f ( i = h & & c ( h ) ? " e l e m e n t " : b ( h ) , ! n e w   R e g E x p ( g ) . t e s t ( i ) ) t h r o w   n e w   E r r o r ( a . t o U p p e r C a s e ( ) + " :   " + ( ' O p t i o n   " ' + f + ' "   p r o v i d e d   t y p e   " ' + i + ' "   ' ) + ( ' b u t   e x p e c t e d   t y p e   " ' + g + ' " . ' ) ) } } } ; r e t u r n   g ( ) , k } ( j Q u e r y ) ; a [ " d e f a u l t " ] = b } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / c a r o u s e l ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l ? " s y m b o l " : t y p e o f   a } , g = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , h = f u n c t i o n ( a ) { v a r   b = " c a r o u s e l " , c = " 4 . 0 . 0 - a l p h a . 4 " , h = " b s . c a r o u s e l " , i = " . " + h , j = " . d a t a - a p i " , k = a . f n [ b ] , l = 6 0 0 , m = 3 7 , n = 3 9 , o = { i n t e r v a l : 5 e 3 , k e y b o a r d : ! 0 , s l i d e : ! 1 , p a u s e : " h o v e r " , w r a p : ! 0 } , p = { i n t e r v a l : " ( n u m b e r | b o o l e a n ) " , k e y b o a r d : " b o o l e a n " , s l i d e : " ( b o o l e a n | s t r i n g ) " , p a u s e : " ( s t r i n g | b o o l e a n ) " , w r a p : " b o o l e a n " } , q = { N E X T : " n e x t " , P R E V I O U S : " p r e v " } , r = { S L I D E : " s l i d e " + i , S L I D : " s l i d " + i , K E Y D O W N : " k e y d o w n " + i , M O U S E E N T E R : " m o u s e e n t e r " + i , M O U S E L E A V E : " m o u s e l e a v e " + i , L O A D _ D A T A _ A P I : " l o a d " + i + j , C L I C K _ D A T A _ A P I : " c l i c k " + i + j } , s = { C A R O U S E L : " c a r o u s e l " , A C T I V E : " a c t i v e " , S L I D E : " s l i d e " , R I G H T : " r i g h t " , L E F T : " l e f t " , I T E M : " c a r o u s e l - i t e m " } , t = { A C T I V E : " . a c t i v e " , A C T I V E _ I T E M : " . a c t i v e . c a r o u s e l - i t e m " , I T E M : " . c a r o u s e l - i t e m " , N E X T _ P R E V : " . n e x t ,   . p r e v " , I N D I C A T O R S : " . c a r o u s e l - i n d i c a t o r s " , D A T A _ S L I D E : " [ d a t a - s l i d e ] ,   [ d a t a - s l i d e - t o ] " , D A T A _ R I D E : ' [ d a t a - r i d e = " c a r o u s e l " ] ' } , u = f u n c t i o n ( ) { f u n c t i o n   j ( b , c ) { d ( t h i s , j ) , t h i s . _ i t e m s = n u l l , t h i s . _ i n t e r v a l = n u l l , t h i s . _ a c t i v e E l e m e n t = n u l l , t h i s . _ i s P a u s e d = ! 1 , t h i s . _ i s S l i d i n g = ! 1 , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ e l e m e n t = a ( b ) [ 0 ] , t h i s . _ i n d i c a t o r s E l e m e n t = a ( t h i s . _ e l e m e n t ) . f i n d ( t . I N D I C A T O R S ) [ 0 ] , t h i s . _ a d d E v e n t L i s t e n e r s ( ) } r e t u r n   g ( j , [ { k e y : " n e x t " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s S l i d i n g | | t h i s . _ s l i d e ( q . N E X T ) } } , { k e y : " n e x t W h e n V i s i b l e " , v a l u e : f u n c t i o n ( ) { d o c u m e n t . h i d d e n | | t h i s . n e x t ( ) } } , { k e y : " p r e v " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s S l i d i n g | | t h i s . _ s l i d e ( q . P R E V I O U S ) } } , { k e y : " p a u s e " , v a l u e : f u n c t i o n ( b ) { b | | ( t h i s . _ i s P a u s e d = ! 0 ) , a ( t h i s . _ e l e m e n t ) . f i n d ( t . N E X T _ P R E V ) [ 0 ] & & e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & ( e [ " d e f a u l t " ] . t r i g g e r T r a n s i t i o n E n d ( t h i s . _ e l e m e n t ) , t h i s . c y c l e ( ! 0 ) ) , c l e a r I n t e r v a l ( t h i s . _ i n t e r v a l ) , t h i s . _ i n t e r v a l = n u l l } } , { k e y : " c y c l e " , v a l u e : f u n c t i o n ( b ) { b | | ( t h i s . _ i s P a u s e d = ! 1 ) , t h i s . _ i n t e r v a l & & ( c l e a r I n t e r v a l ( t h i s . _ i n t e r v a l ) , t h i s . _ i n t e r v a l = n u l l ) , t h i s . _ c o n f i g . i n t e r v a l & & ! t h i s . _ i s P a u s e d & & ( t h i s . _ i n t e r v a l = s e t I n t e r v a l ( a . p r o x y ( d o c u m e n t . v i s i b i l i t y S t a t e ? t h i s . n e x t W h e n V i s i b l e : t h i s . n e x t , t h i s ) , t h i s . _ c o n f i g . i n t e r v a l ) ) } } , { k e y : " t o " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s ; t h i s . _ a c t i v e E l e m e n t = a ( t h i s . _ e l e m e n t ) . f i n d ( t . A C T I V E _ I T E M ) [ 0 ] ; v a r   d = t h i s . _ g e t I t e m I n d e x ( t h i s . _ a c t i v e E l e m e n t ) ; i f ( ! ( b > t h i s . _ i t e m s . l e n g t h - 1 | | b < 0 ) ) { i f ( t h i s . _ i s S l i d i n g ) r e t u r n   v o i d   a ( t h i s . _ e l e m e n t ) . o n e ( r . S L I D , f u n c t i o n ( ) { r e t u r n   c . t o ( b ) } ) ; i f ( d = = = b ) r e t u r n   t h i s . p a u s e ( ) , v o i d   t h i s . c y c l e ( ) ; v a r   e = b > d ? q . N E X T : q . P R E V I O U S ; t h i s . _ s l i d e ( e , t h i s . _ i t e m s [ b ] ) } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ e l e m e n t ) . o f f ( i ) , a . r e m o v e D a t a ( t h i s . _ e l e m e n t , h ) , t h i s . _ i t e m s = n u l l , t h i s . _ c o n f i g = n u l l , t h i s . _ e l e m e n t = n u l l , t h i s . _ i n t e r v a l = n u l l , t h i s . _ i s P a u s e d = n u l l , t h i s . _ i s S l i d i n g = n u l l , t h i s . _ a c t i v e E l e m e n t = n u l l , t h i s . _ i n d i c a t o r s E l e m e n t = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { r e t u r n   c = a . e x t e n d ( { } , o , c ) , e [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , p ) , c } } , { k e y : " _ a d d E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { t h i s . _ c o n f i g . k e y b o a r d & & a ( t h i s . _ e l e m e n t ) . o n ( r . K E Y D O W N , a . p r o x y ( t h i s . _ k e y d o w n , t h i s ) ) , " h o v e r " ! = = t h i s . _ c o n f i g . p a u s e | | " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t | | a ( t h i s . _ e l e m e n t ) . o n ( r . M O U S E E N T E R , a . p r o x y ( t h i s . p a u s e , t h i s ) ) . o n ( r . M O U S E L E A V E , a . p r o x y ( t h i s . c y c l e , t h i s ) ) } } , { k e y : " _ k e y d o w n " , v a l u e : f u n c t i o n ( a ) { i f ( a . p r e v e n t D e f a u l t ( ) , ! / i n p u t | t e x t a r e a / i . t e s t ( a . t a r g e t . t a g N a m e ) ) s w i t c h ( a . w h i c h ) { c a s e   m : t h i s . p r e v ( ) ; b r e a k ; c a s e   n : t h i s . n e x t ( ) ; b r e a k ; d e f a u l t : r e t u r n } } } , { k e y : " _ g e t I t e m I n d e x " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . _ i t e m s = a . m a k e A r r a y ( a ( b ) . p a r e n t ( ) . f i n d ( t . I T E M ) ) , t h i s . _ i t e m s . i n d e x O f ( b ) } } , { k e y : " _ g e t I t e m B y D i r e c t i o n " , v a l u e : f u n c t i o n ( a , b ) { v a r   c = a = = = q . N E X T , d = a = = = q . P R E V I O U S , e = t h i s . _ g e t I t e m I n d e x ( b ) , f = t h i s . _ i t e m s . l e n g t h - 1 , g = d & & 0 = = = e | | c & & e = = = f ; i f ( g & & ! t h i s . _ c o n f i g . w r a p ) r e t u r n   b ; v a r   h = a = = = q . P R E V I O U S ? - 1 : 1 , i = ( e + h ) % t h i s . _ i t e m s . l e n g t h ; r e t u r n   i = = = - 1 ? t h i s . _ i t e m s [ t h i s . _ i t e m s . l e n g t h - 1 ] : t h i s . _ i t e m s [ i ] } } , { k e y : " _ t r i g g e r S l i d e E v e n t " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( r . S L I D E , { r e l a t e d T a r g e t : b , d i r e c t i o n : c } ) ; r e t u r n   a ( t h i s . _ e l e m e n t ) . t r i g g e r ( d ) , d } } , { k e y : " _ s e t A c t i v e I n d i c a t o r E l e m e n t " , v a l u e : f u n c t i o n ( b ) { i f ( t h i s . _ i n d i c a t o r s E l e m e n t ) { a ( t h i s . _ i n d i c a t o r s E l e m e n t ) . f i n d ( t . A C T I V E ) . r e m o v e C l a s s ( s . A C T I V E ) ; v a r   c = t h i s . _ i n d i c a t o r s E l e m e n t . c h i l d r e n [ t h i s . _ g e t I t e m I n d e x ( b ) ] ; c & & a ( c ) . a d d C l a s s ( s . A C T I V E ) } } } , { k e y : " _ s l i d e " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s , f = a ( t h i s . _ e l e m e n t ) . f i n d ( t . A C T I V E _ I T E M ) [ 0 ] , g = c | | f & & t h i s . _ g e t I t e m B y D i r e c t i o n ( b , f ) , h = B o o l e a n ( t h i s . _ i n t e r v a l ) , i = b = = = q . N E X T ? s . L E F T : s . R I G H T ; i f ( g & & a ( g ) . h a s C l a s s ( s . A C T I V E ) ) r e t u r n   v o i d ( t h i s . _ i s S l i d i n g = ! 1 ) ; v a r   j = t h i s . _ t r i g g e r S l i d e E v e n t ( g , i ) ; i f ( ! j . i s D e f a u l t P r e v e n t e d ( ) & & f & & g ) { t h i s . _ i s S l i d i n g = ! 0 , h & & t h i s . p a u s e ( ) , t h i s . _ s e t A c t i v e I n d i c a t o r E l e m e n t ( g ) ; v a r   k = a . E v e n t ( r . S L I D , { r e l a t e d T a r g e t : g , d i r e c t i o n : i } ) ; e [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( s . S L I D E ) ? ( a ( g ) . a d d C l a s s ( b ) , e [ " d e f a u l t " ] . r e f l o w ( g ) , a ( f ) . a d d C l a s s ( i ) , a ( g ) . a d d C l a s s ( i ) , a ( f ) . o n e ( e [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f u n c t i o n ( ) { a ( g ) . r e m o v e C l a s s ( i ) . r e m o v e C l a s s ( b ) , a ( g ) . a d d C l a s s ( s . A C T I V E ) , a ( f ) . r e m o v e C l a s s ( s . A C T I V E ) . r e m o v e C l a s s ( b ) . r e m o v e C l a s s ( i ) , d . _ i s S l i d i n g = ! 1 , s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   a ( d . _ e l e m e n t ) . t r i g g e r ( k ) } , 0 ) } ) . e m u l a t e T r a n s i t i o n E n d ( l ) ) : ( a ( f ) . r e m o v e C l a s s ( s . A C T I V E ) , a ( g ) . a d d C l a s s ( s . A C T I V E ) , t h i s . _ i s S l i d i n g = ! 1 , a ( t h i s . _ e l e m e n t ) . t r i g g e r ( k ) ) , h & & t h i s . c y c l e ( ) } } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( h ) , d = a . e x t e n d ( { } , o , a ( t h i s ) . d a t a ( ) ) ; " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   b ? " u n d e f i n e d " : f ( b ) ) & & a . e x t e n d ( d , b ) ; v a r   e = " s t r i n g " = = t y p e o f   b ? b : d . s l i d e ; i f ( c | | ( c = n e w   j ( t h i s , d ) , a ( t h i s ) . d a t a ( h , c ) ) , " n u m b e r " = = t y p e o f   b ) c . t o ( b ) ; e l s e   i f ( " s t r i n g " = = t y p e o f   e ) { i f ( v o i d   0 = = = c [ e ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + e + ' " ' ) ; c [ e ] ( ) } e l s e   d . i n t e r v a l & & ( c . p a u s e ( ) , c . c y c l e ( ) ) } ) } } , { k e y : " _ d a t a A p i C l i c k H a n d l e r " , v a l u e : f u n c t i o n ( b ) { v a r   c = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s ) ; i f ( c ) { v a r   d = a ( c ) [ 0 ] ; i f ( d & & a ( d ) . h a s C l a s s ( s . C A R O U S E L ) ) { v a r   f = a . e x t e n d ( { } , a ( d ) . d a t a ( ) , a ( t h i s ) . d a t a ( ) ) , g = t h i s . g e t A t t r i b u t e ( " d a t a - s l i d e - t o " ) ; g & & ( f . i n t e r v a l = ! 1 ) , j . _ j Q u e r y I n t e r f a c e . c a l l ( a ( d ) , f ) , g & & a ( d ) . d a t a ( h ) . t o ( g ) , b . p r e v e n t D e f a u l t ( ) } } } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   o } } ] ) , j } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( r . C L I C K _ D A T A _ A P I , t . D A T A _ S L I D E , u . _ d a t a A p i C l i c k H a n d l e r ) , a ( w i n d o w ) . o n ( r . L O A D _ D A T A _ A P I , f u n c t i o n ( ) { a ( t . D A T A _ R I D E ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; u . _ j Q u e r y I n t e r f a c e . c a l l ( b , b . d a t a ( ) ) } ) } ) , a . f n [ b ] = u . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = u , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = k , u . _ j Q u e r y I n t e r f a c e } , u } ( j Q u e r y ) ; a [ " d e f a u l t " ] = h } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / p o p o v e r ' ,   [ " e x p o r t s " , " . / t o o l t i p " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   e ( a , b ) { i f ( ! a ) t h r o w   n e w   R e f e r e n c e E r r o r ( " t h i s   h a s n ' t   b e e n   i n i t i a l i s e d   -   s u p e r ( )   h a s n ' t   b e e n   c a l l e d " ) ; r e t u r n ! b | | " o b j e c t " ! = t y p e o f   b & & " f u n c t i o n " ! = t y p e o f   b ? a : b } f u n c t i o n   f ( a , b ) { i f ( " f u n c t i o n " ! = t y p e o f   b & & n u l l ! = = b ) t h r o w   n e w   T y p e E r r o r ( " S u p e r   e x p r e s s i o n   m u s t   e i t h e r   b e   n u l l   o r   a   f u n c t i o n ,   n o t   " + t y p e o f   b ) ; a . p r o t o t y p e = O b j e c t . c r e a t e ( b & & b . p r o t o t y p e , { c o n s t r u c t o r : { v a l u e : a , e n u m e r a b l e : ! 1 , w r i t a b l e : ! 0 , c o n f i g u r a b l e : ! 0 } } ) , b & & ( O b j e c t . s e t P r o t o t y p e O f ? O b j e c t . s e t P r o t o t y p e O f ( a , b ) : a . _ _ p r o t o _ _ = b ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   g = c ( b ) , h = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l ? " s y m b o l " : t y p e o f   a } , i = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , j = f u n c t i o n ( a ) { v a r   b = " p o p o v e r " , c = " 4 . 0 . 0 - a l p h a . 4 " , j = " b s . p o p o v e r " , k = " . " + j , l = a . f n [ b ] , m = a . e x t e n d ( { } , g [ " d e f a u l t " ] . D e f a u l t , { p l a c e m e n t : " r i g h t " , t r i g g e r : " c l i c k " , c o n t e n t : " " , t e m p l a t e : ' < d i v   c l a s s = " p o p o v e r "   r o l e = " t o o l t i p " > < d i v   c l a s s = " p o p o v e r - a r r o w " > < / d i v > < h 3   c l a s s = " p o p o v e r - t i t l e " > < / h 3 > < d i v   c l a s s = " p o p o v e r - c o n t e n t " > < / d i v > < / d i v > ' } ) , n = a . e x t e n d ( { } , g [ " d e f a u l t " ] . D e f a u l t T y p e , { c o n t e n t : " ( s t r i n g | e l e m e n t | f u n c t i o n ) " } ) , o = { F A D E : " f a d e " , I N : " i n " } , p = { T I T L E : " . p o p o v e r - t i t l e " , C O N T E N T : " . p o p o v e r - c o n t e n t " , A R R O W : " . p o p o v e r - a r r o w " } , q = { H I D E : " h i d e " + k , H I D D E N : " h i d d e n " + k , S H O W : " s h o w " + k , S H O W N : " s h o w n " + k , I N S E R T E D : " i n s e r t e d " + k , C L I C K : " c l i c k " + k , F O C U S I N : " f o c u s i n " + k , F O C U S O U T : " f o c u s o u t " + k , M O U S E E N T E R : " m o u s e e n t e r " + k , M O U S E L E A V E : " m o u s e l e a v e " + k } , r = f u n c t i o n ( g ) { f u n c t i o n   l ( ) { r e t u r n   d ( t h i s , l ) , e ( t h i s , ( l . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( l ) ) . a p p l y ( t h i s , a r g u m e n t s ) ) } r e t u r n   f ( l , g ) , i ( l , [ { k e y : " i s W i t h C o n t e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . g e t T i t l e ( ) | | t h i s . _ g e t C o n t e n t ( ) } } , { k e y : " g e t T i p E l e m e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . t i p = t h i s . t i p | | a ( t h i s . c o n f i g . t e m p l a t e ) [ 0 ] } } , { k e y : " s e t C o n t e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . g e t T i p E l e m e n t ( ) ) ; t h i s . s e t E l e m e n t C o n t e n t ( b . f i n d ( p . T I T L E ) , t h i s . g e t T i t l e ( ) ) , t h i s . s e t E l e m e n t C o n t e n t ( b . f i n d ( p . C O N T E N T ) , t h i s . _ g e t C o n t e n t ( ) ) , b . r e m o v e C l a s s ( o . F A D E ) . r e m o v e C l a s s ( o . I N ) , t h i s . c l e a n u p T e t h e r ( ) } } , { k e y : " _ g e t C o n t e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . e l e m e n t . g e t A t t r i b u t e ( " d a t a - c o n t e n t " ) | | ( " f u n c t i o n " = = t y p e o f   t h i s . c o n f i g . c o n t e n t ? t h i s . c o n f i g . c o n t e n t . c a l l ( t h i s . e l e m e n t ) : t h i s . c o n f i g . c o n t e n t ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( j ) , d = " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   b ? " u n d e f i n e d " : h ( b ) ) ? b : n u l l ; i f ( ( c | | ! / d e s t r o y | h i d e / . t e s t ( b ) ) & & ( c | | ( c = n e w   l ( t h i s , d ) , a ( t h i s ) . d a t a ( j , c ) ) , " s t r i n g " = = t y p e o f   b ) ) { i f ( v o i d   0 = = = c [ b ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + b + ' " ' ) ; c [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   m } } , { k e y : " N A M E " , g e t : f u n c t i o n ( ) { r e t u r n   b } } , { k e y : " D A T A _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   j } } , { k e y : " E v e n t " , g e t : f u n c t i o n ( ) { r e t u r n   q } } , { k e y : " E V E N T _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   k } } , { k e y : " D e f a u l t T y p e " , g e t : f u n c t i o n ( ) { r e t u r n   n } } ] ) , l } ( g [ " d e f a u l t " ] ) ; r e t u r n   a . f n [ b ] = r . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = r , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = l , r . _ j Q u e r y I n t e r f a c e } , r } ( j Q u e r y ) ; a [ " d e f a u l t " ] = j } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / d r o p d o w n ' ,   [ " e x p o r t s " , " . / u t i l " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   e = c ( b ) , f = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , g = f u n c t i o n ( a ) { v a r   b = " d r o p d o w n " , c = " 4 . 0 . 0 - a l p h a . 4 " , g = " b s . d r o p d o w n " , h = " . " + g , i = " . d a t a - a p i " , j = a . f n [ b ] , k = 2 7 , l = 3 8 , m = 4 0 , n = 3 , o = { H I D E : " h i d e " + h , H I D D E N : " h i d d e n " + h , S H O W : " s h o w " + h , S H O W N : " s h o w n " + h , C L I C K : " c l i c k " + h , C L I C K _ D A T A _ A P I : " c l i c k " + h + i , K E Y D O W N _ D A T A _ A P I : " k e y d o w n " + h + i } , p = { B A C K D R O P : " d r o p d o w n - b a c k d r o p " , D I S A B L E D : " d i s a b l e d " , O P E N : " o p e n " } , q = { B A C K D R O P : " . d r o p d o w n - b a c k d r o p " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " d r o p d o w n " ] ' , F O R M _ C H I L D : " . d r o p d o w n   f o r m " , R O L E _ M E N U : ' [ r o l e = " m e n u " ] ' , R O L E _ L I S T B O X : ' [ r o l e = " l i s t b o x " ] ' , N A V B A R _ N A V : " . n a v b a r - n a v " , V I S I B L E _ I T E M S : ' [ r o l e = " m e n u " ]   l i : n o t ( . d i s a b l e d )   a ,   [ r o l e = " l i s t b o x " ]   l i : n o t ( . d i s a b l e d )   a ' } , r = f u n c t i o n ( ) { f u n c t i o n   b ( a ) { d ( t h i s , b ) , t h i s . _ e l e m e n t = a , t h i s . _ a d d E v e n t L i s t e n e r s ( ) } r e t u r n   f ( b , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( ) { i f ( t h i s . d i s a b l e d | | a ( t h i s ) . h a s C l a s s ( p . D I S A B L E D ) ) r e t u r n ! 1 ; v a r   c = b . _ g e t P a r e n t F r o m E l e m e n t ( t h i s ) , d = a ( c ) . h a s C l a s s ( p . O P E N ) ; i f ( b . _ c l e a r M e n u s ( ) , d ) r e t u r n ! 1 ; i f ( " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & ! a ( c ) . c l o s e s t ( q . N A V B A R _ N A V ) . l e n g t h ) { v a r   e = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; e . c l a s s N a m e = p . B A C K D R O P , a ( e ) . i n s e r t B e f o r e ( t h i s ) , a ( e ) . o n ( " c l i c k " , b . _ c l e a r M e n u s ) } v a r   f = { r e l a t e d T a r g e t : t h i s } , g = a . E v e n t ( o . S H O W , f ) ; r e t u r n   a ( c ) . t r i g g e r ( g ) , ! g . i s D e f a u l t P r e v e n t e d ( ) & & ( t h i s . f o c u s ( ) , t h i s . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , " t r u e " ) , a ( c ) . t o g g l e C l a s s ( p . O P E N ) , a ( c ) . t r i g g e r ( a . E v e n t ( o . S H O W N , f ) ) , ! 1 ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , g ) , a ( t h i s . _ e l e m e n t ) . o f f ( h ) , t h i s . _ e l e m e n t = n u l l } } , { k e y : " _ a d d E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ e l e m e n t ) . o n ( o . C L I C K , t h i s . t o g g l e ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   d = a ( t h i s ) . d a t a ( g ) ; i f ( d | | a ( t h i s ) . d a t a ( g , d = n e w   b ( t h i s ) ) , " s t r i n g " = = t y p e o f   c ) { i f ( v o i d   0 = = = d [ c ] ) t h r o w   n e w   E r r o r ( ' N o   m e t h o d   n a m e d   " ' + c + ' " ' ) ; d [ c ] . c a l l ( t h i s ) } } ) } } , { k e y : " _ c l e a r M e n u s " , v a l u e : f u n c t i o n ( c ) { i f ( ! c | | c . w h i c h ! = = n ) { v a r   d = a ( q . B A C K D R O P ) [ 0 ] ; d & & d . p a r e n t N o d e . r e m o v e C h i l d ( d ) ; f o r ( v a r   e = a . m a k e A r r a y ( a ( q . D A T A _ T O G G L E ) ) , f = 0 ; f < e . l e n g t h ; f + + ) { v a r   g = b . _ g e t P a r e n t F r o m E l e m e n t ( e [ f ] ) , h = { r e l a t e d T a r g e t : e [ f ] } ; i f ( a ( g ) . h a s C l a s s ( p . O P E N ) & & ! ( c & & " c l i c k " = = = c . t y p e & & / i n p u t | t e x t a r e a / i . t e s t ( c . t a r g e t . t a g N a m e ) & & a . c o n t a i n s ( g , c . t a r g e t ) ) ) { v a r   i = a . E v e n t ( o . H I D E , h ) ; a ( g ) . t r i g g e r ( i ) , i . i s D e f a u l t P r e v e n t e d ( ) | | ( e [ f ] . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , " f a l s e " ) , a ( g ) . r e m o v e C l a s s ( p . O P E N ) . t r i g g e r ( a . E v e n t ( o . H I D D E N , h ) ) ) } } } } } , { k e y : " _ g e t P a r e n t F r o m E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = v o i d   0 , d = e [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) ; r e t u r n   d & & ( c = a ( d ) [ 0 ] ) , c | | b . p a r e n t N o d e } } , { k e y : " _ d a t a A p i K e y d o w n H a n d l e r " , v a l u e : f u n c t i o n ( c ) { i f ( / ( 3 8 | 4 0 | 2 7 | 3 2 ) / . t e s t ( c . w h i c h ) & & ! / i n p u t | t e x t a r e a / i . t e s t ( c . t a r g e t . t a g N a m e ) & & ( c . p r e v e n t D e f a u l t ( ) , c . s t o p P r o p a g a t i o n ( ) , ! t h i s . d i s a b l e d & & ! a ( t h i s ) . h a s C l a s s ( p . D I S A B L E D ) ) ) { v a r   d = b . _ g e t P a r e n t F r o m E l e m e n t ( t h i s ) , e = a ( d ) . h a s C l a s s ( p . O P E N ) ; i f ( ! e & & c . w h i c h ! = = k | | e & & c . w h i c h = = = k ) { i f ( c . w h i c h = = = k ) { v a r   f = a ( d ) . f i n d ( q . D A T A _ T O G G L E ) [ 0 ] ; a ( f ) . t r i g g e r ( " f o c u s " ) } r e t u r n   v o i d   a ( t h i s ) . t r i g g e r ( " c l i c k " ) } v a r   g = a . m a k e A r r a y ( a ( q . V I S I B L E _ I T E M S ) ) ; i f ( g = g . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . o f f s e t W i d t h | | a . o f f s e t H e i g h t } ) , g . l e n g t h ) { v a r   h = g . i n d e x O f ( c . t a r g e t ) ; c . w h i c h = = = l & & h > 0 & & h - - , c . w h i c h = = = m & & h < g . l e n g t h - 1 & & h + + , h < 0 & & ( h = 0 ) , g [ h ] . f o c u s ( ) } } } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } ] ) , b } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( o . K E Y D O W N _ D A T A _ A P I , q . D A T A _ T O G G L E , r . _ d a t a A p i K e y d o w n H a n d l e r ) . o n ( o . K E Y D O W N _ D A T A _ A P I , q . R O L E _ M E N U , r . _ d a t a A p i K e y d o w n H a n d l e r ) . o n ( o . K E Y D O W N _ D A T A _ A P I , q . R O L E _ L I S T B O X , r . _ d a t a A p i K e y d o w n H a n d l e r ) . o n ( o . C L I C K _ D A T A _ A P I , r . _ c l e a r M e n u s ) . o n ( o . C L I C K _ D A T A _ A P I , q . D A T A _ T O G G L E , r . p r o t o t y p e . t o g g l e ) . o n ( o . C L I C K _ D A T A _ A P I , q . F O R M _ C H I L D , f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } ) , a . f n [ b ] = r . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = r , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = j , r . _ j Q u e r y I n t e r f a c e } , r } ( j Q u e r y ) ; a [ " d e f a u l t " ] = g } ) ; 
 d e f i n e ( ' t h e m e _ b o o t s t r a p b a s e / b o o t s t r a p ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( b ) { a ( " . d r o p d o w n - b a c k d r o p " ) . r e m o v e ( ) , a ( k ) . e a c h ( f u n c t i o n ( ) { v a r   d = c ( a ( t h i s ) ) ; v o i d   0 ! = b & & 0 ! = d . f i n d ( b ) . l e n g t h | | d . r e m o v e C l a s s ( " o p e n " ) } ) } f u n c t i o n   c ( b ) { v a r   c , d = b . a t t r ( " d a t a - t a r g e t " ) ; r e t u r n   d | | ( d = b . a t t r ( " h r e f " ) , d = d & & / # / . t e s t ( d ) & & d . r e p l a c e ( / . * ( ? = # [ ^ \ s ] * $ ) / , " " ) ) , c = d & & a ( d ) , c & & c . l e n g t h | | ( c = b . p a r e n t ( ) ) , c } f u n c t i o n   d ( b , c ) { v a r   d , e = a . p r o x y ( t h i s . p r o c e s s , t h i s ) , f = a ( a ( b ) . i s ( " b o d y " ) ? w i n d o w : b ) ; t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . s c r o l l s p y . d e f a u l t s , c ) , t h i s . $ s c r o l l E l e m e n t = f . o n ( " s c r o l l . s c r o l l - s p y . d a t a - a p i " , e ) , t h i s . s e l e c t o r = ( t h i s . o p t i o n s . t a r g e t | | ( d = a ( b ) . a t t r ( " h r e f " ) ) & & d . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) | | " " ) + "   . n a v   l i   >   a " , t h i s . $ b o d y = a ( " b o d y " ) , t h i s . r e f r e s h ( ) , t h i s . p r o c e s s ( ) } a ( " . h 1 " ) . h i d e ( ) , a ( f u n c t i o n ( ) { a . s u p p o r t . t r a n s i t i o n = f u n c t i o n ( ) { v a r   a = f u n c t i o n ( ) { v a r   a , b = d o c u m e n t . c r e a t e E l e m e n t ( " b o o t s t r a p " ) , c = { W e b k i t T r a n s i t i o n : " w e b k i t T r a n s i t i o n E n d " , M o z T r a n s i t i o n : " t r a n s i t i o n e n d " , O T r a n s i t i o n : " o T r a n s i t i o n E n d   o t r a n s i t i o n e n d " , t r a n s i t i o n : " t r a n s i t i o n e n d " } ; f o r ( a   i n   c ) i f ( v o i d   0 ! = = b . s t y l e [ a ] ) r e t u r n   c [ a ] } ( ) ; r e t u r n   a & & { e n d : a } } ( ) } ) ; v a r   e = ' [ d a t a - d i s m i s s = " a l e r t " ] ' , f = f u n c t i o n ( b ) { a ( b ) . o n ( " c l i c k " , e , t h i s . c l o s e ) } ; f . p r o t o t y p e . c l o s e = f u n c t i o n ( b ) { f u n c t i o n   c ( ) { d . t r i g g e r ( " c l o s e d " ) . r e m o v e ( ) } v a r   d , e = a ( t h i s ) , f = e . a t t r ( " d a t a - t a r g e t " ) ; f | | ( f = e . a t t r ( " h r e f " ) , f = f & & f . r e p l a c e ( / . * ( ? = # [ ^ \ s ] * $ ) / , " " ) ) , d = a ( f ) , b & & b . p r e v e n t D e f a u l t ( ) , d . l e n g t h | | ( d = e . h a s C l a s s ( " a l e r t " ) ? e : e . p a r e n t ( ) ) , d . t r i g g e r ( b = a . E v e n t ( " c l o s e " ) ) , b . i s D e f a u l t P r e v e n t e d ( ) | | ( d . r e m o v e C l a s s ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & d . h a s C l a s s ( " f a d e " ) ? d . o n ( a . s u p p o r t . t r a n s i t i o n . e n d , c ) : c ( ) ) } ; v a r   g = a . f n . a l e r t ; a . f n . a l e r t = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " a l e r t " ) ; d | | c . d a t a ( " a l e r t " , d = n e w   f ( t h i s ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] . c a l l ( c ) } ) } , a . f n . a l e r t . C o n s t r u c t o r = f , a . f n . a l e r t . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . a l e r t = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . a l e r t . d a t a - a p i " , e , f . p r o t o t y p e . c l o s e ) ; v a r   h = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . b u t t o n . d e f a u l t s , c ) } ; h . p r o t o t y p e . s e t S t a t e = f u n c t i o n ( a ) { v a r   b = " d i s a b l e d " , c = t h i s . $ e l e m e n t , d = c . d a t a ( ) , e = c . i s ( " i n p u t " ) ? " v a l " : " h t m l " ; a + = " T e x t " , d . r e s e t T e x t | | c . d a t a ( " r e s e t T e x t " , c [ e ] ( ) ) , c [ e ] ( d [ a ] | | t h i s . o p t i o n s [ a ] ) , s e t T i m e o u t ( f u n c t i o n ( ) { " l o a d i n g T e x t " = = a ? c . a d d C l a s s ( b ) . a t t r ( b , b ) : c . r e m o v e C l a s s ( b ) . r e m o v e A t t r ( b ) } , 0 ) } , h . p r o t o t y p e . t o g g l e = f u n c t i o n ( ) { v a r   a = t h i s . $ e l e m e n t . c l o s e s t ( ' [ d a t a - t o g g l e = " b u t t o n s - r a d i o " ] ' ) ; a & & a . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . $ e l e m e n t . t o g g l e C l a s s ( " a c t i v e " ) } ; v a r   g = a . f n . b u t t o n ; a . f n . b u t t o n = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " b u t t o n " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " b u t t o n " , d = n e w   h ( t h i s , e ) ) , " t o g g l e " = = b ? d . t o g g l e ( ) : b & & d . s e t S t a t e ( b ) } ) } , a . f n . b u t t o n . d e f a u l t s = { l o a d i n g T e x t : " l o a d i n g . . . " } , a . f n . b u t t o n . C o n s t r u c t o r = h , a . f n . b u t t o n . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . b u t t o n = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . b u t t o n . d a t a - a p i " , " [ d a t a - t o g g l e ^ = b u t t o n ] " , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; c . h a s C l a s s ( " b t n " ) | | ( c = c . c l o s e s t ( " . b t n " ) ) , c . b u t t o n ( " t o g g l e " ) } ) ; v a r   i = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . $ i n d i c a t o r s = t h i s . $ e l e m e n t . f i n d ( " . c a r o u s e l - i n d i c a t o r s " ) , t h i s . o p t i o n s = c , " h o v e r " = = t h i s . o p t i o n s . p a u s e & & t h i s . $ e l e m e n t . o n ( " m o u s e e n t e r " , a . p r o x y ( t h i s . p a u s e , t h i s ) ) . o n ( " m o u s e l e a v e " , a . p r o x y ( t h i s . c y c l e , t h i s ) ) } ; i . p r o t o t y p e = { c y c l e : f u n c t i o n ( b ) { r e t u r n   b | | ( t h i s . p a u s e d = ! 1 ) , t h i s . i n t e r v a l & & c l e a r I n t e r v a l ( t h i s . i n t e r v a l ) , t h i s . o p t i o n s . i n t e r v a l & & ! t h i s . p a u s e d & & ( t h i s . i n t e r v a l = s e t I n t e r v a l ( a . p r o x y ( t h i s . n e x t , t h i s ) , t h i s . o p t i o n s . i n t e r v a l ) ) , t h i s } , g e t A c t i v e I n d e x : f u n c t i o n ( ) { r e t u r n   t h i s . $ a c t i v e = t h i s . $ e l e m e n t . f i n d ( " . i t e m . a c t i v e " ) , t h i s . $ i t e m s = t h i s . $ a c t i v e . p a r e n t ( ) . c h i l d r e n ( ) , t h i s . $ i t e m s . i n d e x ( t h i s . $ a c t i v e ) } , t o : f u n c t i o n ( b ) { v a r   c = t h i s . g e t A c t i v e I n d e x ( ) , d = t h i s ; i f ( ! ( b > t h i s . $ i t e m s . l e n g t h - 1 | | b < 0 ) ) r e t u r n   t h i s . s l i d i n g ? t h i s . $ e l e m e n t . o n e ( " s l i d " , f u n c t i o n ( ) { d . t o ( b ) } ) : c = = b ? t h i s . p a u s e ( ) . c y c l e ( ) : t h i s . s l i d e ( b > c ? " n e x t " : " p r e v " , a ( t h i s . $ i t e m s [ b ] ) ) } , p a u s e : f u n c t i o n ( b ) { r e t u r n   b | | ( t h i s . p a u s e d = ! 0 ) , t h i s . $ e l e m e n t . f i n d ( " . n e x t ,   . p r e v " ) . l e n g t h & & a . s u p p o r t . t r a n s i t i o n . e n d & & ( t h i s . $ e l e m e n t . t r i g g e r ( a . s u p p o r t . t r a n s i t i o n . e n d ) , t h i s . c y c l e ( ! 0 ) ) , c l e a r I n t e r v a l ( t h i s . i n t e r v a l ) , t h i s . i n t e r v a l = n u l l , t h i s } , n e x t : f u n c t i o n ( ) { i f ( ! t h i s . s l i d i n g ) r e t u r n   t h i s . s l i d e ( " n e x t " ) } , p r e v : f u n c t i o n ( ) { i f ( ! t h i s . s l i d i n g ) r e t u r n   t h i s . s l i d e ( " p r e v " ) } , s l i d e : f u n c t i o n ( b , c ) { v a r   d , e = t h i s . $ e l e m e n t . f i n d ( " . i t e m . a c t i v e " ) , f = c | | e [ b ] ( ) , g = t h i s . i n t e r v a l , h = " n e x t " = = b ? " l e f t " : " r i g h t " , i = " n e x t " = = b ? " f i r s t " : " l a s t " , j = t h i s ; i f ( t h i s . s l i d i n g = ! 0 , g & & t h i s . p a u s e ( ) , f = f . l e n g t h ? f : t h i s . $ e l e m e n t . f i n d ( " . i t e m " ) [ i ] ( ) , d = a . E v e n t ( " s l i d e " , { r e l a t e d T a r g e t : f [ 0 ] , d i r e c t i o n : h } ) , ! f . h a s C l a s s ( " a c t i v e " ) ) { i f ( t h i s . $ i n d i c a t o r s . l e n g t h & & ( t h i s . $ i n d i c a t o r s . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . $ e l e m e n t . o n e ( " s l i d " , f u n c t i o n ( ) { v a r   b = a ( j . $ i n d i c a t o r s . c h i l d r e n ( ) [ j . g e t A c t i v e I n d e x ( ) ] ) ; b & & b . a d d C l a s s ( " a c t i v e " ) } ) ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " s l i d e " ) ) { i f ( t h i s . $ e l e m e n t . t r i g g e r ( d ) , d . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n ; f . a d d C l a s s ( b ) , f [ 0 ] . o f f s e t W i d t h , e . a d d C l a s s ( h ) , f . a d d C l a s s ( h ) , t h i s . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { f . r e m o v e C l a s s ( [ b , h ] . j o i n ( "   " ) ) . a d d C l a s s ( " a c t i v e " ) , e . r e m o v e C l a s s ( [ " a c t i v e " , h ] . j o i n ( "   " ) ) , j . s l i d i n g = ! 1 , s e t T i m e o u t ( f u n c t i o n ( ) { j . $ e l e m e n t . t r i g g e r ( " s l i d " ) } , 0 ) } ) } e l s e { i f ( t h i s . $ e l e m e n t . t r i g g e r ( d ) , d . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n ; e . r e m o v e C l a s s ( " a c t i v e " ) , f . a d d C l a s s ( " a c t i v e " ) , t h i s . s l i d i n g = ! 1 , t h i s . $ e l e m e n t . t r i g g e r ( " s l i d " ) } r e t u r n   g & & t h i s . c y c l e ( ) , t h i s } } } ; v a r   g = a . f n . c a r o u s e l ; a . f n . c a r o u s e l = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " c a r o u s e l " ) , e = a . e x t e n d ( { } , a . f n . c a r o u s e l . d e f a u l t s , " o b j e c t " = = t y p e o f   b & & b ) , f = " s t r i n g " = = t y p e o f   b ? b : e . s l i d e ; d | | c . d a t a ( " c a r o u s e l " , d = n e w   i ( t h i s , e ) ) , " n u m b e r " = = t y p e o f   b ? d . t o ( b ) : f ? d [ f ] ( ) : e . i n t e r v a l & & d . p a u s e ( ) . c y c l e ( ) } ) } , a . f n . c a r o u s e l . d e f a u l t s = { i n t e r v a l : 5 e 3 , p a u s e : " h o v e r " } , a . f n . c a r o u s e l . C o n s t r u c t o r = i , a . f n . c a r o u s e l . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . c a r o u s e l = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . c a r o u s e l . d a t a - a p i " , " [ d a t a - s l i d e ] ,   [ d a t a - s l i d e - t o ] " , f u n c t i o n ( b ) { v a r   c , d , e = a ( t h i s ) , f = a ( e . a t t r ( " d a t a - t a r g e t " ) | | ( c = e . a t t r ( " h r e f " ) ) & & c . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) ) , g = a . e x t e n d ( { } , f . d a t a ( ) , e . d a t a ( ) ) ; f . c a r o u s e l ( g ) , ( d = e . a t t r ( " d a t a - s l i d e - t o " ) ) & & f . d a t a ( " c a r o u s e l " ) . p a u s e ( ) . t o ( d ) . c y c l e ( ) , b . p r e v e n t D e f a u l t ( ) } ) ; v a r   j = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . c o l l a p s e . d e f a u l t s , c ) , t h i s . o p t i o n s . p a r e n t & & ( t h i s . $ p a r e n t = a ( t h i s . o p t i o n s . p a r e n t ) ) , t h i s . o p t i o n s . t o g g l e & & t h i s . t o g g l e ( ) } ; j . p r o t o t y p e = { c o n s t r u c t o r : j , d i m e n s i o n : f u n c t i o n ( ) { v a r   a = t h i s . $ e l e m e n t . h a s C l a s s ( " w i d t h " ) ; r e t u r n   a ? " w i d t h " : " h e i g h t " } , s h o w : f u n c t i o n ( ) { v a r   b , c , d , e ; i f ( ! t h i s . t r a n s i t i o n i n g & & ! t h i s . $ e l e m e n t . h a s C l a s s ( " i n " ) ) { i f ( b = t h i s . d i m e n s i o n ( ) , c = a . c a m e l C a s e ( [ " s c r o l l " , b ] . j o i n ( " - " ) ) , d = t h i s . $ p a r e n t & & t h i s . $ p a r e n t . f i n d ( " >   . a c c o r d i o n - g r o u p   >   . i n " ) , d & & d . l e n g t h ) { i f ( e = d . d a t a ( " c o l l a p s e " ) , e & & e . t r a n s i t i o n i n g ) r e t u r n ; d . c o l l a p s e ( " h i d e " ) , e | | d . d a t a ( " c o l l a p s e " , n u l l ) } t h i s . $ e l e m e n t [ b ] ( 0 ) , t h i s . t r a n s i t i o n ( " a d d C l a s s " , a . E v e n t ( " s h o w " ) , " s h o w n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t [ b ] ( t h i s . $ e l e m e n t [ 0 ] [ c ] ) } } , h i d e : f u n c t i o n ( ) { v a r   b ; ! t h i s . t r a n s i t i o n i n g & & t h i s . $ e l e m e n t . h a s C l a s s ( " i n " ) & & ( b = t h i s . d i m e n s i o n ( ) , t h i s . r e s e t ( t h i s . $ e l e m e n t [ b ] ( ) ) , t h i s . t r a n s i t i o n ( " r e m o v e C l a s s " , a . E v e n t ( " h i d e " ) , " h i d d e n " ) , t h i s . $ e l e m e n t [ b ] ( 0 ) ) } , r e s e t : f u n c t i o n ( a ) { v a r   b = t h i s . d i m e n s i o n ( ) ; r e t u r n   t h i s . $ e l e m e n t . r e m o v e C l a s s ( " c o l l a p s e " ) [ b ] ( a | | " a u t o " ) [ 0 ] . o f f s e t W i d t h , t h i s . $ e l e m e n t [ n u l l ! = = a ? " a d d C l a s s " : " r e m o v e C l a s s " ] ( " c o l l a p s e " ) , t h i s } , t r a n s i t i o n : f u n c t i o n ( b , c , d ) { v a r   e = t h i s , f = f u n c t i o n ( ) { " s h o w " = = c . t y p e & & e . r e s e t ( ) , e . t r a n s i t i o n i n g = 0 , e . $ e l e m e n t . t r i g g e r ( d ) } ; t h i s . $ e l e m e n t . t r i g g e r ( c ) , c . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . t r a n s i t i o n i n g = 1 , t h i s . $ e l e m e n t [ b ] ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " c o l l a p s e " ) ? t h i s . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f ) : f ( ) ) } , t o g g l e : f u n c t i o n ( ) { t h i s [ t h i s . $ e l e m e n t . h a s C l a s s ( " i n " ) ? " h i d e " : " s h o w " ] ( ) } } ; v a r   g = a . f n . c o l l a p s e ; a . f n . c o l l a p s e = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " c o l l a p s e " ) , e = a . e x t e n d ( { } , a . f n . c o l l a p s e . d e f a u l t s , c . d a t a ( ) , " o b j e c t " = = t y p e o f   b & & b ) ; d | | c . d a t a ( " c o l l a p s e " , d = n e w   j ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . c o l l a p s e . d e f a u l t s = { t o g g l e : ! 0 } , a . f n . c o l l a p s e . C o n s t r u c t o r = j , a . f n . c o l l a p s e . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . c o l l a p s e = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . c o l l a p s e . d a t a - a p i " , " [ d a t a - t o g g l e = c o l l a p s e ] " , f u n c t i o n ( b ) { v a r   c , d = a ( t h i s ) , e = d . a t t r ( " d a t a - t a r g e t " ) | | b . p r e v e n t D e f a u l t ( ) | | ( c = d . a t t r ( " h r e f " ) ) & & c . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) , f = a ( e ) . d a t a ( " c o l l a p s e " ) ? " t o g g l e " : d . d a t a ( ) ; d [ a ( e ) . h a s C l a s s ( " i n " ) ? " a d d C l a s s " : " r e m o v e C l a s s " ] ( " c o l l a p s e d " ) , a ( e ) . c o l l a p s e ( f ) } ) ; v a r   k = " [ d a t a - t o g g l e = d r o p d o w n ] " , l = f u n c t i o n ( b ) { v a r   c = a ( b ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , t h i s . t o g g l e ) ; a ( " h t m l " ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , f u n c t i o n ( ) { c . p a r e n t ( ) . r e m o v e C l a s s ( " o p e n " ) } ) } ; l . p r o t o t y p e = { c o n s t r u c t o r : l , t o g g l e : f u n c t i o n ( d ) { v a r   e , f , g = a ( t h i s ) ; i f ( ! g . i s ( " . d i s a b l e d ,   : d i s a b l e d " ) ) r e t u r n   e = c ( g ) , f = e . h a s C l a s s ( " o p e n " ) , b ( g ) , f | | " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & a ( ' < d i v   c l a s s = " d r o p d o w n - b a c k d r o p " / > ' ) . i n s e r t B e f o r e ( a ( t h i s ) ) . o n ( " c l i c k " , b ) , e . t o g g l e C l a s s ( " o p e n " ) , g . f o c u s ( ) , ! 1 } , k e y d o w n : f u n c t i o n ( b ) { v a r   d , e , f , g , h ; i f ( / ( 3 8 | 4 0 | 2 7 ) / . t e s t ( b . k e y C o d e ) & & ( d = a ( t h i s ) , b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , ! d . i s ( " . d i s a b l e d ,   : d i s a b l e d " ) ) ) { i f ( f = c ( d ) , g = f . h a s C l a s s ( " o p e n " ) , ! g | | g & & 2 7 = = b . k e y C o d e ) r e t u r n   2 7 = = b . w h i c h & & f . f i n d ( k ) . f o c u s ( ) , d . c l i c k ( ) ; e = a ( " [ r o l e = m e n u ]   l i : n o t ( . d i v i d e r ) : v i s i b l e   a " , f ) , e . l e n g t h & & ( h = e . i n d e x ( e . f i l t e r ( " : f o c u s " ) ) , 3 8 = = b . k e y C o d e & & h > 0 & & h - - , 4 0 = = b . k e y C o d e & & h < e . l e n g t h - 1 & & h + + , ~ h | | ( h = 0 ) , e . e q ( h ) . f o c u s ( ) ) } } } ; v a r   g = a . f n . d r o p d o w n ; a . f n . d r o p d o w n = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " d r o p d o w n " ) ; d | | c . d a t a ( " d r o p d o w n " , d = n e w   l ( t h i s ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] . c a l l ( c ) } ) } , a . f n . d r o p d o w n . C o n s t r u c t o r = l , a . f n . d r o p d o w n . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . d r o p d o w n = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , b ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , " . d r o p d o w n   f o r m " , f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , k , l . p r o t o t y p e . t o g g l e ) . o n ( " k e y d o w n . d r o p d o w n . d a t a - a p i " , k + " ,   [ r o l e = m e n u ] " , l . p r o t o t y p e . k e y d o w n ) ; v a r   m = f u n c t i o n ( b , c ) { t h i s . o p t i o n s = c , t h i s . $ e l e m e n t = a ( b ) . d e l e g a t e ( ' [ d a t a - d i s m i s s = " m o d a l " ] ' , " c l i c k . d i s m i s s . m o d a l " , a . p r o x y ( t h i s . h i d e , t h i s ) ) , t h i s . o p t i o n s . r e m o t e & & t h i s . $ e l e m e n t . f i n d ( " . m o d a l - b o d y " ) . l o a d ( t h i s . o p t i o n s . r e m o t e ) } ; m . p r o t o t y p e = { c o n s t r u c t o r : m , t o g g l e : f u n c t i o n ( ) { r e t u r n   t h i s [ t h i s . i s S h o w n ? " h i d e " : " s h o w " ] ( ) } , s h o w : f u n c t i o n ( ) { v a r   b = t h i s , c = a . E v e n t ( " s h o w " ) ; t h i s . $ e l e m e n t . t r i g g e r ( c ) , t h i s . i s S h o w n | | c . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . i s S h o w n = ! 0 , t h i s . e s c a p e ( ) , t h i s . b a c k d r o p ( f u n c t i o n ( ) { v a r   c = a . s u p p o r t . t r a n s i t i o n & & b . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ; b . $ e l e m e n t . p a r e n t ( ) . l e n g t h | | b . $ e l e m e n t . a p p e n d T o ( d o c u m e n t . b o d y ) , b . $ e l e m e n t . s h o w ( ) , c & & b . $ e l e m e n t [ 0 ] . o f f s e t W i d t h , b . $ e l e m e n t . a d d C l a s s ( " i n " ) . a t t r ( " a r i a - h i d d e n " , ! 1 ) , b . e n f o r c e F o c u s ( ) , c ? b . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { b . $ e l e m e n t . f o c u s ( ) . t r i g g e r ( " s h o w n " ) } ) : b . $ e l e m e n t . f o c u s ( ) . t r i g g e r ( " s h o w n " ) } ) ) } , h i d e : f u n c t i o n ( b ) { b & & b . p r e v e n t D e f a u l t ( ) ; b = a . E v e n t ( " h i d e " ) , t h i s . $ e l e m e n t . t r i g g e r ( b ) , t h i s . i s S h o w n & & ! b . i s D e f a u l t P r e v e n t e d ( ) & & ( t h i s . i s S h o w n = ! 1 , t h i s . e s c a p e ( ) , a ( d o c u m e n t ) . o f f ( " f o c u s i n . m o d a l " ) , t h i s . $ e l e m e n t . r e m o v e C l a s s ( " i n " ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ? t h i s . h i d e W i t h T r a n s i t i o n ( ) : t h i s . h i d e M o d a l ( ) ) } , e n f o r c e F o c u s : f u n c t i o n ( ) { v a r   b = t h i s ; a ( d o c u m e n t ) . o n ( " f o c u s i n . m o d a l " , f u n c t i o n ( a ) { b . $ e l e m e n t [ 0 ] = = = a . t a r g e t | | b . $ e l e m e n t . h a s ( a . t a r g e t ) . l e n g t h | | b . $ e l e m e n t . f o c u s ( ) } ) } , e s c a p e : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . i s S h o w n & & t h i s . o p t i o n s . k e y b o a r d ? t h i s . $ e l e m e n t . o n ( " k e y u p . d i s m i s s . m o d a l " , f u n c t i o n ( b ) { 2 7 = = b . w h i c h & & a . h i d e ( ) } ) : t h i s . i s S h o w n | | t h i s . $ e l e m e n t . o f f ( " k e y u p . d i s m i s s . m o d a l " ) } , h i d e W i t h T r a n s i t i o n : f u n c t i o n ( ) { v a r   b = t h i s , c = s e t T i m e o u t ( f u n c t i o n ( ) { b . $ e l e m e n t . o f f ( a . s u p p o r t . t r a n s i t i o n . e n d ) , b . h i d e M o d a l ( ) } , 5 0 0 ) ; t h i s . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { c l e a r T i m e o u t ( c ) , b . h i d e M o d a l ( ) } ) } , h i d e M o d a l : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . $ e l e m e n t . h i d e ( ) , t h i s . b a c k d r o p ( f u n c t i o n ( ) { a . r e m o v e B a c k d r o p ( ) , a . $ e l e m e n t . t r i g g e r ( " h i d d e n " ) } ) } , r e m o v e B a c k d r o p : f u n c t i o n ( ) { t h i s . $ b a c k d r o p & & t h i s . $ b a c k d r o p . r e m o v e ( ) , t h i s . $ b a c k d r o p = n u l l } , b a c k d r o p : f u n c t i o n ( b ) { v a r   c = t h i s . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ? " f a d e " : " " ; i f ( t h i s . i s S h o w n & & t h i s . o p t i o n s . b a c k d r o p ) { v a r   d = a . s u p p o r t . t r a n s i t i o n & & c ; i f ( t h i s . $ b a c k d r o p = a ( ' < d i v   c l a s s = " m o d a l - b a c k d r o p   ' + c + ' "   / > ' ) . a p p e n d T o ( d o c u m e n t . b o d y ) , t h i s . $ b a c k d r o p . c l i c k ( " s t a t i c " = = t h i s . o p t i o n s . b a c k d r o p ? a . p r o x y ( t h i s . $ e l e m e n t [ 0 ] . f o c u s , t h i s . $ e l e m e n t [ 0 ] ) : a . p r o x y ( t h i s . h i d e , t h i s ) ) , d & & t h i s . $ b a c k d r o p [ 0 ] . o f f s e t W i d t h , t h i s . $ b a c k d r o p . a d d C l a s s ( " i n " ) , ! b ) r e t u r n ; d ? t h i s . $ b a c k d r o p . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , b ) : b ( ) } e l s e ! t h i s . i s S h o w n & & t h i s . $ b a c k d r o p ? ( t h i s . $ b a c k d r o p . r e m o v e C l a s s ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ? t h i s . $ b a c k d r o p . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , b ) : b ( ) ) : b & & b ( ) } } ; v a r   g = a . f n . m o d a l ; a . f n . m o d a l = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " m o d a l " ) , e = a . e x t e n d ( { } , a . f n . m o d a l . d e f a u l t s , c . d a t a ( ) , " o b j e c t " = = t y p e o f   b & & b ) ; d | | c . d a t a ( " m o d a l " , d = n e w   m ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b ? d [ b ] ( ) : e . s h o w & & d . s h o w ( ) } ) } , a . f n . m o d a l . d e f a u l t s = { b a c k d r o p : ! 0 , k e y b o a r d : ! 0 , s h o w : ! 0 } , a . f n . m o d a l . C o n s t r u c t o r = m , a . f n . m o d a l . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . m o d a l = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . m o d a l . d a t a - a p i " , ' [ d a t a - t o g g l e = " m o d a l " ] ' , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) , d = c . a t t r ( " h r e f " ) , e = a ( c . a t t r ( " d a t a - t a r g e t " ) | | d & & d . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) ) , f = e . d a t a ( " m o d a l " ) ? " t o g g l e " : a . e x t e n d ( { r e m o t e : ! / # / . t e s t ( d ) & & d } , e . d a t a ( ) , c . d a t a ( ) ) ; b . p r e v e n t D e f a u l t ( ) , e . m o d a l ( f ) . o n e ( " h i d e " , f u n c t i o n ( ) { c . f o c u s ( ) } ) } ) ; v a r   n = f u n c t i o n ( a , b ) { t h i s . i n i t ( " t o o l t i p " , a , b ) } ; n . p r o t o t y p e = { c o n s t r u c t o r : n , i n i t : f u n c t i o n ( b , c , d ) { v a r   e , f , g , h , i ; f o r ( t h i s . t y p e = b , t h i s . $ e l e m e n t = a ( c ) , t h i s . o p t i o n s = t h i s . g e t O p t i o n s ( d ) , t h i s . e n a b l e d = ! 0 , g = t h i s . o p t i o n s . t r i g g e r . s p l i t ( "   " ) , i = g . l e n g t h ; i - - ; ) h = g [ i ] , " c l i c k " = = h ? t h i s . $ e l e m e n t . o n ( " c l i c k . " + t h i s . t y p e , t h i s . o p t i o n s . s e l e c t o r , a . p r o x y ( t h i s . t o g g l e , t h i s ) ) : " m a n u a l " ! = h & & ( e = " h o v e r " = = h ? " m o u s e e n t e r " : " f o c u s " , f = " h o v e r " = = h ? " m o u s e l e a v e " : " b l u r " , t h i s . $ e l e m e n t . o n ( e + " . " + t h i s . t y p e , t h i s . o p t i o n s . s e l e c t o r , a . p r o x y ( t h i s . e n t e r , t h i s ) ) , t h i s . $ e l e m e n t . o n ( f + " . " + t h i s . t y p e , t h i s . o p t i o n s . s e l e c t o r , a . p r o x y ( t h i s . l e a v e , t h i s ) ) ) ; t h i s . o p t i o n s . s e l e c t o r ? t h i s . _ o p t i o n s = a . e x t e n d ( { } , t h i s . o p t i o n s , { t r i g g e r : " m a n u a l " , s e l e c t o r : " " } ) : t h i s . f i x T i t l e ( ) } , g e t O p t i o n s : f u n c t i o n ( b ) { r e t u r n   b = a . e x t e n d ( { } , a . f n [ t h i s . t y p e ] . d e f a u l t s , t h i s . $ e l e m e n t . d a t a ( ) , b ) , b . d e l a y & & " n u m b e r " = = t y p e o f   b . d e l a y & & ( b . d e l a y = { s h o w : b . d e l a y , h i d e : b . d e l a y } ) , b } , e n t e r : f u n c t i o n ( b ) { v a r   c , d = a . f n [ t h i s . t y p e ] . d e f a u l t s , e = { } ; r e t u r n   t h i s . _ o p t i o n s & & a . e a c h ( t h i s . _ o p t i o n s , f u n c t i o n ( a , b ) { d [ a ] ! = b & & ( e [ a ] = b ) } , t h i s ) , c = a ( b . c u r r e n t T a r g e t ) [ t h i s . t y p e ] ( e ) . d a t a ( t h i s . t y p e ) , c . o p t i o n s . d e l a y & & c . o p t i o n s . d e l a y . s h o w ? ( c l e a r T i m e o u t ( t h i s . t i m e o u t ) , c . h o v e r S t a t e = " i n " , v o i d ( t h i s . t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { " i n " = = c . h o v e r S t a t e & & c . s h o w ( ) } , c . o p t i o n s . d e l a y . s h o w ) ) ) : c . s h o w ( ) } , l e a v e : f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) [ t h i s . t y p e ] ( t h i s . _ o p t i o n s ) . d a t a ( t h i s . t y p e ) ; r e t u r n   t h i s . t i m e o u t & & c l e a r T i m e o u t ( t h i s . t i m e o u t ) , c . o p t i o n s . d e l a y & & c . o p t i o n s . d e l a y . h i d e ? ( c . h o v e r S t a t e = " o u t " , v o i d ( t h i s . t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { " o u t " = = c . h o v e r S t a t e & & c . h i d e ( ) } , c . o p t i o n s . d e l a y . h i d e ) ) ) : c . h i d e ( ) } , s h o w : f u n c t i o n ( ) { v a r   b , c , d , e , f , g , h = a . E v e n t ( " s h o w " ) ; i f ( t h i s . h a s C o n t e n t ( ) & & t h i s . e n a b l e d ) { i f ( t h i s . $ e l e m e n t . t r i g g e r ( h ) , h . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n ; s w i t c h ( b = t h i s . t i p ( ) , t h i s . s e t C o n t e n t ( ) , t h i s . o p t i o n s . a n i m a t i o n & & b . a d d C l a s s ( " f a d e " ) , f = " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . p l a c e m e n t ? t h i s . o p t i o n s . p l a c e m e n t . c a l l ( t h i s , b [ 0 ] , t h i s . $ e l e m e n t [ 0 ] ) : t h i s . o p t i o n s . p l a c e m e n t , b . d e t a c h ( ) . c s s ( { t o p : 0 , l e f t : 0 , d i s p l a y : " b l o c k " } ) , t h i s . o p t i o n s . c o n t a i n e r ? b . a p p e n d T o ( t h i s . o p t i o n s . c o n t a i n e r ) : b . i n s e r t A f t e r ( t h i s . $ e l e m e n t ) , c = t h i s . g e t P o s i t i o n ( ) , d = b [ 0 ] . o f f s e t W i d t h , e = b [ 0 ] . o f f s e t H e i g h t , f ) { c a s e " b o t t o m " : g = { t o p : c . t o p + c . h e i g h t , l e f t : c . l e f t + c . w i d t h / 2 - d / 2 } ; b r e a k ; c a s e " t o p " : g = { t o p : c . t o p - e , l e f t : c . l e f t + c . w i d t h / 2 - d / 2 } ; b r e a k ; c a s e " l e f t " : g = { t o p : c . t o p + c . h e i g h t / 2 - e / 2 , l e f t : c . l e f t - d } ; b r e a k ; c a s e " r i g h t " : g = { t o p : c . t o p + c . h e i g h t / 2 - e / 2 , l e f t : c . l e f t + c . w i d t h } } t h i s . a p p l y P l a c e m e n t ( g , f ) , t h i s . $ e l e m e n t . t r i g g e r ( " s h o w n " ) } } , a p p l y P l a c e m e n t : f u n c t i o n ( a , b ) { v a r   c , d , e , f , g = t h i s . t i p ( ) , h = g [ 0 ] . o f f s e t W i d t h , i = g [ 0 ] . o f f s e t H e i g h t ; g . o f f s e t ( a ) . a d d C l a s s ( b ) . a d d C l a s s ( " i n " ) , c = g [ 0 ] . o f f s e t W i d t h , d = g [ 0 ] . o f f s e t H e i g h t , " t o p " = = b & & d ! = i & & ( a . t o p = a . t o p + i - d , f = ! 0 ) , " b o t t o m " = = b | | " t o p " = = b ? ( e = 0 , a . l e f t < 0 & & ( e = a . l e f t * - 2 , a . l e f t = 0 , g . o f f s e t ( a ) , c = g [ 0 ] . o f f s e t W i d t h , d = g [ 0 ] . o f f s e t H e i g h t ) , t h i s . r e p l a c e A r r o w ( e - h + c , c , " l e f t " ) ) : t h i s . r e p l a c e A r r o w ( d - i , d , " t o p " ) , f & & g . o f f s e t ( a ) } , r e p l a c e A r r o w : f u n c t i o n ( a , b , c ) { t h i s . a r r o w ( ) . c s s ( c , a ? 5 0 * ( 1 - a / b ) + " % " : " " ) } , s e t C o n t e n t : f u n c t i o n ( ) { v a r   a = t h i s . t i p ( ) , b = t h i s . g e t T i t l e ( ) ; a . f i n d ( " . t o o l t i p - i n n e r " ) [ t h i s . o p t i o n s . h t m l ? " h t m l " : " t e x t " ] ( b ) , a . r e m o v e C l a s s ( " f a d e   i n   t o p   b o t t o m   l e f t   r i g h t " ) } , h i d e : f u n c t i o n ( ) { f u n c t i o n   b ( ) { v a r   b = s e t T i m e o u t ( f u n c t i o n ( ) { c . o f f ( a . s u p p o r t . t r a n s i t i o n . e n d ) . d e t a c h ( ) } , 5 0 0 ) ; c . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { c l e a r T i m e o u t ( b ) , c . d e t a c h ( ) } ) } v a r   c = t h i s . t i p ( ) , d = a . E v e n t ( " h i d e " ) ; i f ( t h i s . $ e l e m e n t . t r i g g e r ( d ) , ! d . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n   c . r e m o v e C l a s s ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ t i p . h a s C l a s s ( " f a d e " ) ? b ( ) : c . d e t a c h ( ) , t h i s . $ e l e m e n t . t r i g g e r ( " h i d d e n " ) , t h i s } , f i x T i t l e : f u n c t i o n ( ) { v a r   a = t h i s . $ e l e m e n t ; ( a . a t t r ( " t i t l e " ) | | " s t r i n g " ! = t y p e o f   a . a t t r ( " d a t a - o r i g i n a l - t i t l e " ) ) & & a . a t t r ( " d a t a - o r i g i n a l - t i t l e " , a . a t t r ( " t i t l e " ) | | " " ) . a t t r ( " t i t l e " , " " ) } , h a s C o n t e n t : f u n c t i o n ( ) { r e t u r n   t h i s . g e t T i t l e ( ) } , g e t P o s i t i o n : f u n c t i o n ( ) { v a r   b = t h i s . $ e l e m e n t [ 0 ] ; r e t u r n   a . e x t e n d ( { } , " f u n c t i o n " = = t y p e o f   b . g e t B o u n d i n g C l i e n t R e c t ? b . g e t B o u n d i n g C l i e n t R e c t ( ) : { w i d t h : b . o f f s e t W i d t h , h e i g h t : b . o f f s e t H e i g h t } , t h i s . $ e l e m e n t . o f f s e t ( ) ) } , g e t T i t l e : f u n c t i o n ( ) { v a r   a , b = t h i s . $ e l e m e n t , c = t h i s . o p t i o n s ; r e t u r n   a = b . a t t r ( " d a t a - o r i g i n a l - t i t l e " ) | | ( " f u n c t i o n " = = t y p e o f   c . t i t l e ? c . t i t l e . c a l l ( b [ 0 ] ) : c . t i t l e ) } , t i p : f u n c t i o n ( ) { r e t u r n   t h i s . $ t i p = t h i s . $ t i p | | a ( t h i s . o p t i o n s . t e m p l a t e ) } , a r r o w : f u n c t i o n ( ) { r e t u r n   t h i s . $ a r r o w = t h i s . $ a r r o w | | t h i s . t i p ( ) . f i n d ( " . t o o l t i p - a r r o w " ) } , v a l i d a t e : f u n c t i o n ( ) { t h i s . $ e l e m e n t [ 0 ] . p a r e n t N o d e | | ( t h i s . h i d e ( ) , t h i s . $ e l e m e n t = n u l l , t h i s . o p t i o n s = n u l l ) } , e n a b l e : f u n c t i o n ( ) { t h i s . e n a b l e d = ! 0 } , d i s a b l e : f u n c t i o n ( ) { t h i s . e n a b l e d = ! 1 } , t o g g l e E n a b l e d : f u n c t i o n ( ) { t h i s . e n a b l e d = ! t h i s . e n a b l e d } , t o g g l e : f u n c t i o n ( b ) { v a r   c = b ? a ( b . c u r r e n t T a r g e t ) [ t h i s . t y p e ] ( t h i s . _ o p t i o n s ) . d a t a ( t h i s . t y p e ) : t h i s ; c . t i p ( ) . h a s C l a s s ( " i n " ) ? c . h i d e ( ) : c . s h o w ( ) } , d e s t r o y : f u n c t i o n ( ) { t h i s . h i d e ( ) . $ e l e m e n t . o f f ( " . " + t h i s . t y p e ) . r e m o v e D a t a ( t h i s . t y p e ) } } ; v a r   g = a . f n . t o o l t i p ; a . f n . t o o l t i p = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " t o o l t i p " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " t o o l t i p " , d = n e w   n ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . t o o l t i p . C o n s t r u c t o r = n , a . f n . t o o l t i p . d e f a u l t s = { a n i m a t i o n : ! 0 , p l a c e m e n t : " t o p " , s e l e c t o r : ! 1 , t e m p l a t e : ' < d i v   c l a s s = " t o o l t i p " > < d i v   c l a s s = " t o o l t i p - a r r o w " > < / d i v > < d i v   c l a s s = " t o o l t i p - i n n e r " > < / d i v > < / d i v > ' , t r i g g e r : " h o v e r   f o c u s " , t i t l e : " " , d e l a y : 0 , h t m l : ! 1 , c o n t a i n e r : ! 1 } , a . f n . t o o l t i p . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . t o o l t i p = g , t h i s } ; v a r   o = f u n c t i o n ( a , b ) { t h i s . i n i t ( " p o p o v e r " , a , b ) } ; o . p r o t o t y p e = a . e x t e n d ( { } , a . f n . t o o l t i p . C o n s t r u c t o r . p r o t o t y p e , { c o n s t r u c t o r : o , s e t C o n t e n t : f u n c t i o n ( ) { v a r   a = t h i s . t i p ( ) , b = t h i s . g e t T i t l e ( ) , c = t h i s . g e t C o n t e n t ( ) ; a . f i n d ( " . p o p o v e r - t i t l e " ) [ t h i s . o p t i o n s . h t m l ? " h t m l " : " t e x t " ] ( b ) , a . f i n d ( " . p o p o v e r - c o n t e n t " ) [ t h i s . o p t i o n s . h t m l ? " h t m l " : " t e x t " ] ( c ) , a . r e m o v e C l a s s ( " f a d e   t o p   b o t t o m   l e f t   r i g h t   i n " ) } , h a s C o n t e n t : f u n c t i o n ( ) { r e t u r n   t h i s . g e t T i t l e ( ) | | t h i s . g e t C o n t e n t ( ) } , g e t C o n t e n t : f u n c t i o n ( ) { v a r   a , b = t h i s . $ e l e m e n t , c = t h i s . o p t i o n s ; r e t u r n   a = ( " f u n c t i o n " = = t y p e o f   c . c o n t e n t ? c . c o n t e n t . c a l l ( b [ 0 ] ) : c . c o n t e n t ) | | b . a t t r ( " d a t a - c o n t e n t " ) } , t i p : f u n c t i o n ( ) { r e t u r n   t h i s . $ t i p | | ( t h i s . $ t i p = a ( t h i s . o p t i o n s . t e m p l a t e ) ) , t h i s . $ t i p } , d e s t r o y : f u n c t i o n ( ) { t h i s . h i d e ( ) . $ e l e m e n t . o f f ( " . " + t h i s . t y p e ) . r e m o v e D a t a ( t h i s . t y p e ) } } ) ; v a r   g = a . f n . p o p o v e r ; a . f n . p o p o v e r = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " p o p o v e r " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " p o p o v e r " , d = n e w   o ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . p o p o v e r . C o n s t r u c t o r = o , a . f n . p o p o v e r . d e f a u l t s = a . e x t e n d ( { } , a . f n . t o o l t i p . d e f a u l t s , { p l a c e m e n t : " r i g h t " , t r i g g e r : " c l i c k " , c o n t e n t : " " , t e m p l a t e : ' < d i v   c l a s s = " p o p o v e r " > < d i v   c l a s s = " a r r o w " > < / d i v > < h 3   c l a s s = " p o p o v e r - t i t l e " > < / h 3 > < d i v   c l a s s = " p o p o v e r - c o n t e n t " > < / d i v > < / d i v > ' } ) , a . f n . p o p o v e r . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . p o p o v e r = g , t h i s } , d . p r o t o t y p e = { c o n s t r u c t o r : d , r e f r e s h : f u n c t i o n ( ) { v a r   b , c = t h i s ; t h i s . o f f s e t s = a ( [ ] ) , t h i s . t a r g e t s = a ( [ ] ) , b = t h i s . $ b o d y . f i n d ( t h i s . s e l e c t o r ) . m a p ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) , d = b . d a t a ( " t a r g e t " ) | | b . a t t r ( " h r e f " ) , e = / ^ # \ w / . t e s t ( d ) & & a ( d ) ; r e t u r n   e & & e . l e n g t h & & [ [ e . p o s i t i o n ( ) . t o p + ( ! a . i s W i n d o w ( c . $ s c r o l l E l e m e n t . g e t ( 0 ) ) & & c . $ s c r o l l E l e m e n t . s c r o l l T o p ( ) ) , d ] ] | | n u l l } ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a [ 0 ] - b [ 0 ] } ) . e a c h ( f u n c t i o n ( ) { c . o f f s e t s . p u s h ( t h i s [ 0 ] ) , c . t a r g e t s . p u s h ( t h i s [ 1 ] ) } ) } , p r o c e s s : f u n c t i o n ( ) { v a r   a , b = t h i s . $ s c r o l l E l e m e n t . s c r o l l T o p ( ) + t h i s . o p t i o n s . o f f s e t , c = t h i s . $ s c r o l l E l e m e n t [ 0 ] . s c r o l l H e i g h t | | t h i s . $ b o d y [ 0 ] . s c r o l l H e i g h t , d = c - t h i s . $ s c r o l l E l e m e n t . h e i g h t ( ) , e = t h i s . o f f s e t s , f = t h i s . t a r g e t s , g = t h i s . a c t i v e T a r g e t ; i f ( b > = d ) r e t u r n   g ! = ( a = f . l a s t ( ) [ 0 ] ) & & t h i s . a c t i v a t e ( a ) ; f o r ( a = e . l e n g t h ; a - - ; ) g ! = f [ a ] & & b > = e [ a ] & & ( ! e [ a + 1 ] | | b < = e [ a + 1 ] ) & & t h i s . a c t i v a t e ( f [ a ] ) } , a c t i v a t e : f u n c t i o n ( b ) { v a r   c , d ; t h i s . a c t i v e T a r g e t = b , a ( t h i s . s e l e c t o r ) . p a r e n t ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , d = t h i s . s e l e c t o r + ' [ d a t a - t a r g e t = " ' + b + ' " ] , ' + t h i s . s e l e c t o r + ' [ h r e f = " ' + b + ' " ] ' , c = a ( d ) . p a r e n t ( " l i " ) . a d d C l a s s ( " a c t i v e " ) , c . p a r e n t ( " . d r o p d o w n - m e n u " ) . l e n g t h & & ( c = c . c l o s e s t ( " l i . d r o p d o w n " ) . a d d C l a s s ( " a c t i v e " ) ) , c . t r i g g e r ( " a c t i v a t e " ) } } ; v a r   g = a . f n . s c r o l l s p y ; a . f n . s c r o l l s p y = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , e = c . d a t a ( " s c r o l l s p y " ) , f = " o b j e c t " = = t y p e o f   b & & b ; e | | c . d a t a ( " s c r o l l s p y " , e = n e w   d ( t h i s , f ) ) , " s t r i n g " = = t y p e o f   b & & e [ b ] ( ) } ) } , a . f n . s c r o l l s p y . C o n s t r u c t o r = d , a . f n . s c r o l l s p y . d e f a u l t s = { o f f s e t : 1 0 } , a . f n . s c r o l l s p y . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . s c r o l l s p y = g , t h i s } , a ( w i n d o w ) . o n ( " l o a d " , f u n c t i o n ( ) { a ( ' [ d a t a - s p y = " s c r o l l " ] ' ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; b . s c r o l l s p y ( b . d a t a ( ) ) } ) } ) ; v a r   p = f u n c t i o n ( b ) { t h i s . e l e m e n t = a ( b ) } ; p . p r o t o t y p e = { c o n s t r u c t o r : p , s h o w : f u n c t i o n ( ) { v a r   b , c , d , e = t h i s . e l e m e n t , f = e . c l o s e s t ( " u l : n o t ( . d r o p d o w n - m e n u ) " ) , g = e . a t t r ( " d a t a - t a r g e t " ) ; g | | ( g = e . a t t r ( " h r e f " ) , g = g & & g . r e p l a c e ( / . * ( ? = # [ ^ \ s ] * $ ) / , " " ) ) , e . p a r e n t ( " l i " ) . h a s C l a s s ( " a c t i v e " ) | | ( b = f . f i n d ( " . a c t i v e : l a s t   a " ) [ 0 ] , d = a . E v e n t ( " s h o w " , { r e l a t e d T a r g e t : b } ) , e . t r i g g e r ( d ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( c = a ( g ) , t h i s . a c t i v a t e ( e . p a r e n t ( " l i " ) , f ) , t h i s . a c t i v a t e ( c , c . p a r e n t ( ) , f u n c t i o n ( ) { e . t r i g g e r ( { t y p e : " s h o w n " , r e l a t e d T a r g e t : b } ) } ) ) ) } , a c t i v a t e : f u n c t i o n ( b , c , d ) { f u n c t i o n   e ( ) { f . r e m o v e C l a s s ( " a c t i v e " ) . f i n d ( " >   . d r o p d o w n - m e n u   >   . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , b . a d d C l a s s ( " a c t i v e " ) , g ? ( b [ 0 ] . o f f s e t W i d t h , b . a d d C l a s s ( " i n " ) ) : b . r e m o v e C l a s s ( " f a d e " ) , b . p a r e n t ( " . d r o p d o w n - m e n u " ) & & b . c l o s e s t ( " l i . d r o p d o w n " ) . a d d C l a s s ( " a c t i v e " ) , d & & d ( ) } v a r   f = c . f i n d ( " >   . a c t i v e " ) , g = d & & a . s u p p o r t . t r a n s i t i o n & & f . h a s C l a s s ( " f a d e " ) ; g ? f . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , e ) : e ( ) , f . r e m o v e C l a s s ( " i n " ) } } ; v a r   g = a . f n . t a b ; a . f n . t a b = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " t a b " ) ; d | | c . d a t a ( " t a b " , d = n e w   p ( t h i s ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . t a b . C o n s t r u c t o r = p , a . f n . t a b . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . t a b = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . t a b . d a t a - a p i " , ' [ d a t a - t o g g l e = " t a b " ] ,   [ d a t a - t o g g l e = " p i l l " ] ' , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( t h i s ) . t a b ( " s h o w " ) } ) ; v a r   q = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . t y p e a h e a d . d e f a u l t s , c ) , t h i s . m a t c h e r = t h i s . o p t i o n s . m a t c h e r | | t h i s . m a t c h e r , t h i s . s o r t e r = t h i s . o p t i o n s . s o r t e r | | t h i s . s o r t e r , t h i s . h i g h l i g h t e r = t h i s . o p t i o n s . h i g h l i g h t e r | | t h i s . h i g h l i g h t e r , t h i s . u p d a t e r = t h i s . o p t i o n s . u p d a t e r | | t h i s . u p d a t e r , t h i s . s o u r c e = t h i s . o p t i o n s . s o u r c e , t h i s . $ m e n u = a ( t h i s . o p t i o n s . m e n u ) , t h i s . s h o w n = ! 1 , t h i s . l i s t e n ( ) } ; q . p r o t o t y p e = { c o n s t r u c t o r : q , s e l e c t : f u n c t i o n ( ) { v a r   a = t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . a t t r ( " d a t a - v a l u e " ) ; r e t u r n   t h i s . $ e l e m e n t . v a l ( t h i s . u p d a t e r ( a ) ) . c h a n g e ( ) , t h i s . h i d e ( ) } , u p d a t e r : f u n c t i o n ( a ) { r e t u r n   a } , s h o w : f u n c t i o n ( ) { v a r   b = a . e x t e n d ( { } , t h i s . $ e l e m e n t . p o s i t i o n ( ) , { h e i g h t : t h i s . $ e l e m e n t [ 0 ] . o f f s e t H e i g h t } ) ; r e t u r n   t h i s . $ m e n u . i n s e r t A f t e r ( t h i s . $ e l e m e n t ) . c s s ( { t o p : b . t o p + b . h e i g h t , l e f t : b . l e f t } ) . s h o w ( ) , t h i s . s h o w n = ! 0 , t h i s } , h i d e : f u n c t i o n ( ) { r e t u r n   t h i s . $ m e n u . h i d e ( ) , t h i s . s h o w n = ! 1 , t h i s } , l o o k u p : f u n c t i o n ( b ) { v a r   c ; r e t u r n   t h i s . q u e r y = t h i s . $ e l e m e n t . v a l ( ) , ! t h i s . q u e r y | | t h i s . q u e r y . l e n g t h < t h i s . o p t i o n s . m i n L e n g t h ? t h i s . s h o w n ? t h i s . h i d e ( ) : t h i s : ( c = a . i s F u n c t i o n ( t h i s . s o u r c e ) ? t h i s . s o u r c e ( t h i s . q u e r y , a . p r o x y ( t h i s . p r o c e s s , t h i s ) ) : t h i s . s o u r c e , c ? t h i s . p r o c e s s ( c ) : t h i s ) } , p r o c e s s : f u n c t i o n ( b ) { v a r   c = t h i s ; r e t u r n   b = a . g r e p ( b , f u n c t i o n ( a ) { r e t u r n   c . m a t c h e r ( a ) } ) , b = t h i s . s o r t e r ( b ) , b . l e n g t h ? t h i s . r e n d e r ( b . s l i c e ( 0 , t h i s . o p t i o n s . i t e m s ) ) . s h o w ( ) : t h i s . s h o w n ? t h i s . h i d e ( ) : t h i s } , m a t c h e r : f u n c t i o n ( a ) { r e t u r n ~ a . t o L o w e r C a s e ( ) . i n d e x O f ( t h i s . q u e r y . t o L o w e r C a s e ( ) ) } , s o r t e r : f u n c t i o n ( a ) { f o r ( v a r   b , c = [ ] , d = [ ] , e = [ ] ; b = a . s h i f t ( ) ; ) b . t o L o w e r C a s e ( ) . i n d e x O f ( t h i s . q u e r y . t o L o w e r C a s e ( ) ) ? ~ b . i n d e x O f ( t h i s . q u e r y ) ? d . p u s h ( b ) : e . p u s h ( b ) : c . p u s h ( b ) ; r e t u r n   c . c o n c a t ( d , e ) } , h i g h l i g h t e r : f u n c t i o n ( a ) { v a r   b = t h i s . q u e r y . r e p l a c e ( / [ \ - \ [ \ ] { } ( ) * + ? . , \ \ \ ^ $ | # \ s ] / g , " \ \ $ & " ) ; r e t u r n   a . r e p l a c e ( n e w   R e g E x p ( " ( " + b + " ) " , " i g " ) , f u n c t i o n ( a , b ) { r e t u r n " < s t r o n g > " + b + " < / s t r o n g > " } ) } , r e n d e r : f u n c t i o n ( b ) { v a r   c = t h i s ; r e t u r n   b = a ( b ) . m a p ( f u n c t i o n ( b , d ) { r e t u r n   b = a ( c . o p t i o n s . i t e m ) . a t t r ( " d a t a - v a l u e " , d ) , b . f i n d ( " a " ) . h t m l ( c . h i g h l i g h t e r ( d ) ) , b [ 0 ] } ) , b . f i r s t ( ) . a d d C l a s s ( " a c t i v e " ) , t h i s . $ m e n u . h t m l ( b ) , t h i s } , n e x t : f u n c t i o n ( b ) { v a r   c = t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , d = c . n e x t ( ) ; d . l e n g t h | | ( d = a ( t h i s . $ m e n u . f i n d ( " l i " ) [ 0 ] ) ) , d . a d d C l a s s ( " a c t i v e " ) } , p r e v : f u n c t i o n ( a ) { v a r   b = t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , c = b . p r e v ( ) ; c . l e n g t h | | ( c = t h i s . $ m e n u . f i n d ( " l i " ) . l a s t ( ) ) , c . a d d C l a s s ( " a c t i v e " ) } , l i s t e n : f u n c t i o n ( ) { t h i s . $ e l e m e n t . o n ( " f o c u s " , a . p r o x y ( t h i s . f o c u s , t h i s ) ) . o n ( " b l u r " , a . p r o x y ( t h i s . b l u r , t h i s ) ) . o n ( " k e y p r e s s " , a . p r o x y ( t h i s . k e y p r e s s , t h i s ) ) . o n ( " k e y u p " , a . p r o x y ( t h i s . k e y u p , t h i s ) ) , t h i s . e v e n t S u p p o r t e d ( " k e y d o w n " ) & & t h i s . $ e l e m e n t . o n ( " k e y d o w n " , a . p r o x y ( t h i s . k e y d o w n , t h i s ) ) , t h i s . $ m e n u . o n ( " c l i c k " , a . p r o x y ( t h i s . c l i c k , t h i s ) ) . o n ( " m o u s e e n t e r " , " l i " , a . p r o x y ( t h i s . m o u s e e n t e r , t h i s ) ) . o n ( " m o u s e l e a v e " , " l i " , a . p r o x y ( t h i s . m o u s e l e a v e , t h i s ) ) } , e v e n t S u p p o r t e d : f u n c t i o n ( a ) { v a r   b = a   i n   t h i s . $ e l e m e n t ; r e t u r n   b | | ( t h i s . $ e l e m e n t . s e t A t t r i b u t e ( a , " r e t u r n ; " ) , b = " f u n c t i o n " = = t y p e o f   t h i s . $ e l e m e n t [ a ] ) , b } , m o v e : f u n c t i o n ( a ) { i f ( t h i s . s h o w n ) { s w i t c h ( a . k e y C o d e ) { c a s e   9 : c a s e   1 3 : c a s e   2 7 : a . p r e v e n t D e f a u l t ( ) ; b r e a k ; c a s e   3 8 : a . p r e v e n t D e f a u l t ( ) , t h i s . p r e v ( ) ; b r e a k ; c a s e   4 0 : a . p r e v e n t D e f a u l t ( ) , t h i s . n e x t ( ) } a . s t o p P r o p a g a t i o n ( ) } } , k e y d o w n : f u n c t i o n ( b ) { t h i s . s u p p r e s s K e y P r e s s R e p e a t = ~ a . i n A r r a y ( b . k e y C o d e , [ 4 0 , 3 8 , 9 , 1 3 , 2 7 ] ) , t h i s . m o v e ( b ) } , k e y p r e s s : f u n c t i o n ( a ) { t h i s . s u p p r e s s K e y P r e s s R e p e a t | | t h i s . m o v e ( a ) } , k e y u p : f u n c t i o n ( a ) { s w i t c h ( a . k e y C o d e ) { c a s e   4 0 : c a s e   3 8 : c a s e   1 6 : c a s e   1 7 : c a s e   1 8 : b r e a k ; c a s e   9 : c a s e   1 3 : i f ( ! t h i s . s h o w n ) r e t u r n ; t h i s . s e l e c t ( ) ; b r e a k ; c a s e   2 7 : i f ( ! t h i s . s h o w n ) r e t u r n ; t h i s . h i d e ( ) ; b r e a k ; d e f a u l t : t h i s . l o o k u p ( ) } a . s t o p P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) } , f o c u s : f u n c t i o n ( a ) { t h i s . f o c u s e d = ! 0 } , b l u r : f u n c t i o n ( a ) { t h i s . f o c u s e d = ! 1 , ! t h i s . m o u s e d o v e r & & t h i s . s h o w n & & t h i s . h i d e ( ) } , c l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , t h i s . s e l e c t ( ) , t h i s . $ e l e m e n t . f o c u s ( ) } , m o u s e e n t e r : f u n c t i o n ( b ) { t h i s . m o u s e d o v e r = ! 0 , t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , a ( b . c u r r e n t T a r g e t ) . a d d C l a s s ( " a c t i v e " ) } , m o u s e l e a v e : f u n c t i o n ( a ) { t h i s . m o u s e d o v e r = ! 1 , ! t h i s . f o c u s e d & & t h i s . s h o w n & & t h i s . h i d e ( ) } } ; v a r   g = a . f n . t y p e a h e a d ; a . f n . t y p e a h e a d = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " t y p e a h e a d " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " t y p e a h e a d " , d = n e w   q ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . t y p e a h e a d . d e f a u l t s = { s o u r c e : [ ] , i t e m s : 8 , m e n u : ' < u l   c l a s s = " t y p e a h e a d   d r o p d o w n - m e n u " > < / u l > ' , i t e m : ' < l i > < a   h r e f = " # " > < / a > < / l i > ' , m i n L e n g t h : 1 } , a . f n . t y p e a h e a d . C o n s t r u c t o r = q , a . f n . t y p e a h e a d . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . t y p e a h e a d = g , t h i s } , a ( d o c u m e n t ) . o n ( " f o c u s . t y p e a h e a d . d a t a - a p i " , ' [ d a t a - p r o v i d e = " t y p e a h e a d " ] ' , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) ; c . d a t a ( " t y p e a h e a d " ) | | c . t y p e a h e a d ( c . d a t a ( ) ) } ) ; v a r   r = f u n c t i o n ( b , c ) { t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . a f f i x . d e f a u l t s , c ) , t h i s . $ w i n d o w = a ( w i n d o w ) . o n ( " s c r o l l . a f f i x . d a t a - a p i " , a . p r o x y ( t h i s . c h e c k P o s i t i o n , t h i s ) ) . o n ( " c l i c k . a f f i x . d a t a - a p i " , a . p r o x y ( f u n c t i o n ( ) { s e t T i m e o u t ( a . p r o x y ( t h i s . c h e c k P o s i t i o n , t h i s ) , 1 ) } , t h i s ) ) , t h i s . $ e l e m e n t = a ( b ) , t h i s . c h e c k P o s i t i o n ( ) } ; r . p r o t o t y p e . c h e c k P o s i t i o n = f u n c t i o n ( ) { i f ( t h i s . $ e l e m e n t . i s ( " : v i s i b l e " ) ) { v a r   b , c = a ( d o c u m e n t ) . h e i g h t ( ) , d = t h i s . $ w i n d o w . s c r o l l T o p ( ) , e = t h i s . $ e l e m e n t . o f f s e t ( ) , f = t h i s . o p t i o n s . o f f s e t , g = f . b o t t o m , h = f . t o p , i = " a f f i x   a f f i x - t o p   a f f i x - b o t t o m " ; " o b j e c t " ! = t y p e o f   f & & ( g = h = f ) , " f u n c t i o n " = = t y p e o f   h & & ( h = f . t o p ( ) ) , " f u n c t i o n " = = t y p e o f   g & & ( g = f . b o t t o m ( ) ) , b = ! ( n u l l ! = t h i s . u n p i n & & d + t h i s . u n p i n < = e . t o p ) & & ( n u l l ! = g & & e . t o p + t h i s . $ e l e m e n t . h e i g h t ( ) > = c - g ? " b o t t o m " : n u l l ! = h & & d < = h & & " t o p " ) , t h i s . a f f i x e d ! = = b & & ( t h i s . a f f i x e d = b , t h i s . u n p i n = " b o t t o m " = = b ? e . t o p - d : n u l l , t h i s . $ e l e m e n t . r e m o v e C l a s s ( i ) . a d d C l a s s ( " a f f i x " + ( b ? " - " + b : " " ) ) ) } } ; v a r   g = a . f n . a f f i x ; a . f n . a f f i x = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " a f f i x " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " a f f i x " , d = n e w   r ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . a f f i x . C o n s t r u c t o r = r , a . f n . a f f i x . d e f a u l t s = { o f f s e t : 0 } , a . f n . a f f i x . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . a f f i x = g , t h i s } , a ( w i n d o w ) . o n ( " l o a d " , f u n c t i o n ( ) { a ( ' [ d a t a - s p y = " a f f i x " ] ' ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) , c = b . d a t a ( ) ; c . o f f s e t = c . o f f s e t | | { } , c . o f f s e t B o t t o m & & ( c . o f f s e t . b o t t o m = c . o f f s e t B o t t o m ) , c . o f f s e t T o p & & ( c . o f f s e t . t o p = c . o f f s e t T o p ) , b . a f f i x ( c ) } ) } ) } ) ; 
    B       https://c2.etf.unsa.ba/lib/requirejs.php/1543312098/core/first.js     J     J                           =   P        Q        =   P       Q        =   P       Q        =       Q        =   P       Q        =   P	   
    Q        =   P       Q        =   P       Q        =	       Q        =
   P       Q        =   P       Q        =       Q        =   P       Q      :  Q        =   P       Q        =   P       Q        =   P       Q        =   P        Q        =   P!   "    Q        =   P#   $    Q        =   P%   &    Q        =   P'   (    Q)   *   :  Q        =   P+   ,    Q        =   Z    -    Q        =   P.   /    Q        =   P0   1    Q        =   P2   3    Q        =   P4   5    Q        =   P6   7    Q        =   P8   9    Q        =   P:   ;    Q        =   P<   =    Q        =    P>   ?    Q        =!   P@   A    Q        ="   PB   C    Q        =#   PD   E    Q        =$   PF   G    Q        =%   PH   I    Q        =&   Z    J    Q        ='   PK   L    Q        =(   PM   N    Q        =)   PO   P    Q        =*   PQ   R    Q        =+   PS   T    Q        =,   PU   V    Q        =-   PW   X    Q        =.   Z    Y    Q        =/   PZ   [    Q        =0   P\   ]    Q        =1   P^   _    Q        =2   P`   a    Q        =3   Pb   c    Q        =4   Pd   e    Q        =5   f    Q        =6   Pg   h    Q        =7   Pi   j    Q        =8   Pk   l    Q        =9   Pm   n    Q        =:   Po   p    Q        =;   Pq   r    Q        =<   Ps   t    Q        ==   Pu   v    Q        =>   Pw   x    Q        =?   Py   z    Q        =@   Z    {    Q        =A   P|   }    Q        =B   P~       Q        =C   P       Q        =D   P       Q        =E   P       Q        =F   P       Q        =G   P       Q        =H   P       Q        =I   P       Q        =J   P       Q        =K   P       Q        =L   P       Q        =M       Q        =N   P       Q        =O   P       Q        =P   P       Q        =Q   P       Q        =R   P       Q        =S   P       Q        =T   Z        Q        =U   P       Q        =V   P       Q        =W   P       Q        =X   Z        Q        =Y   P       Q        =Z   P       Q        =[   P       Q        =\   P       Q        =]   P       Q        =^   P       Q        =_   Z        Q        =`   P       Q        =a   P       Q        =b   P       Q        =c   P       Q        =d   P       Q        =e   P       Q        =f   P       Q        =g   Z        Q        =h   P       Q        =i   P       Q        =j   P       Q        =k   P       Q        =l   P       Q        =m   P       Q        =n   P       Q        =o   P       Q        =p   P       Q        =q   P       Q        =r   P       Q        =s   P       Q        =t   P       Q        =u   P       Q        =v   P       Q        =w   P       Q        =x   P       Q        =y   P       Q        =z   P       Q        ={   P       Q        =|   P       Q        =}   P       Q        =~   P       Q        =   P       Q        =   P       Q        =   P       Q        =   P       Q        =   P       Q        =   P       Q        =   P       Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P	  
   Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P     Q        =   P      Q        =   P!  "   Q        =   P#  $   Q        =   P%  &   Q        =   P'  (   Q        =   P)  *   Q        =   P+  ,   Q        =   P-  .   Q        =   P/  0   Q        =   P1  2   Q3  4  :  Q        =   P5  6   Q7  8  :  Q        =   P9  :   Q        =   P;  <   Q        =   P=  >   Q        =   P?  @   Q        =   PA  B   Q        =   PC  D   Q        =   PE  F   Q        =   PG  H   Q        =   PI  J   Q        =   PK  L   QM  N  :  Q        =   PO  P   Q        =   PQ  R   Q        =   PS  T   Q        =   PU  V   Q        =   PW  X   Q        =   PY  Z   Q        =   P[  \   Q    define   core/tag   core/log   core/auto_rows   core/config   core/chart_base+   core/inplace_editable#   core/notification   core/chart_bar   core/yui3   core/chart_output_chartjs   core/tree%   core/backoff_timer   core/chart_pie#   core/modal_cancel-   core/chart_output_base3   core/form-course-selector#   core/chart_output'   core/storagewrapper   core/chartjs%   core/modal_confirm-   core/permissionmanager   core/modal#   core/chart_series   core/user_date   core/tooltip   core/templates%   core/modal_factory3   core/icon_system_standard   core/event-   core/modal_save_cancel%   core/chart_builder=   core/custom_interaction_events#   core/localstorage=   core/popover_region_controller'   core/sessionstorage'   core/modal_backdrop   core/url#   core/modal_events7   core/chart_output_htmltable9   core/icon_system_fontawesome%   core/addblockmodal   core/fragment   core/truncate'   core/modal_registry   core/first   core/chart_axis#   core/search-input-   core/form-autocomplete   core/chart_line!   core/icon_system   core/str   core/ajax   core/key_codes'   core_course/actions/   core_form/defaultcustom1   core_form/passwordunmask5   core_grades/edittree_index?   core_message/message_repositoryE   core_message/toggle_contact_buttonY   core_message/notification_processor_settingsI   core_message/notification_preferenceA   core_message/message_preferences3   core_message/message_areaA   core_message/message_area_eventsm   core_message/preferences_notifications_list_controllerC   core_message/message_area_profileO   core_message/preferences_processor_formG   core_message/notification_processorC   core_message/message_area_actionsE   core_message/message_area_contactsE   core_message/message_area_messages=   core_message/message_area_tabsA   core_message/message_area_searchY   core_message/message_notification_preference;   mod_assign/grading_navigation?   mod_assign/grading_review_panel3   mod_assign/grading_eventsM   mod_assign/grading_form_change_checker?   mod_assign/participant_selector1   mod_assign/grading_panelO   mod_assign/grading_navigation_user_info5   mod_assign/grading_actions#   mod_feedback/edit   mod_lti/events%   mod_lti/form-field9   mod_lti/tool_card_controllerE   mod_lti/tool_proxy_card_controllerI   mod_lti/external_registration_return#   mod_lti/tool_type;   mod_lti/external_registration5   mod_lti/contentitem_returnG   mod_lti/cartridge_registration_form'   mod_lti/contentitemC   mod_lti/tool_configure_controller   mod_lti/keys%   mod_lti/tool_proxy/   mod_quiz/preflightcheck+   mod_survey/validation3   mod_workshop/workshopview[   message_popup/notification_popover_controllerK   message_popup/notification_repositoryY   message_popup/notification_area_content_areaM   message_popup/notification_area_eventsQ   message_popup/message_popover_controllerY   message_popup/notification_area_control_area7   block_myoverview/event_listA   block_myoverview/tab_preferences7   block_myoverview/paging_bar?   block_myoverview/paging_contentK   block_myoverview/event_list_by_courseW   block_myoverview/calendar_events_repositoryE   block_navigation/site_admin_loader3   block_navigation/navblockO   block_navigation/ajax_response_renderer7   block_navigation/nav_loader9   block_settings/settingsblock)   media_videojs/loaderQ   report_competency/user_course_navigation?   report_competency/grading_popupC   gradingform_guide/comment_chooser1   tool_lp/dragdrop-reorder-   tool_lp/competencytree=   tool_lp/competency_rule_pointsE   tool_lp/competency_plan_navigation9   tool_lp/user_competency_info9   tool_lp/competencyruleconfig5   tool_lp/competencydialogue;   tool_lp/parentcompetency_form1   tool_lp/competencypicker!   tool_lp/dialogue   tool_lp/tree'   tool_lp/scalevalues   tool_lp/menubar'   tool_lp/scaleconfig/   tool_lp/competency_rule7   tool_lp/competency_outcomesS   tool_lp/user_competency_course_navigationG   tool_lp/competencypicker_user_plansE   tool_lp/course_competency_settings9   tool_lp/form-cohort-selector1   tool_lp/frameworkactions;   tool_lp/frameworks_datasourceI   tool_lp/grade_user_competency_inline7   tool_lp/competency_rule_all%   tool_lp/event_baseA   tool_lp/user_competency_workflow5   tool_lp/form-user-selector)   tool_lp/competencies;   tool_lp/user_evidence_actions3   tool_lp/competencyactions-   tool_lp/actionselector/   tool_lp/templateactionsE   tool_lp/user_competency_plan_popup/   tool_lp/evidence_delete-   tool_lp/grade_dialogue'   tool_lp/planactions9   tool_templatelibrary/display7   tool_templatelibrary/search5   tool_usertours/managesteps5   tool_usertours/managetours1   tool_usertours/usertours#   theme_boost/alert   theme_boost/tab%   theme_boost/loader)   theme_boost/collapse%   theme_boost/drawer%   theme_boost/button?   theme_boost/form-display-errors+   theme_boost/scrollspy#   theme_boost/modal'   theme_boost/tooltip!   theme_boost/util)   theme_boost/carousel'   theme_boost/popover)   theme_boost/dropdown;   theme_bootstrapbase/bootstrap!!            +H!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!   core/str!!   core/yui    !!       B m   q  e   q     m   p          a    b    c    d    e    f    B     c     c                  B    a     a        "          g    B m    e       m         5    B   _    _                 B H  ]  @  ]     H         5 555   B  {    s       {            B              0          b   B                       5 5   B              "          c    B                        B                      5 55   B   t    t       B          c    g   B )  q  !  q     )            B  S  o  K  o     S         5 55   B   Y    Y       B          c    g    h    B                     5    B   W  {  W       @          b    d    e    B  (
  -   
  -     (
         5    B  a  U  Y  U     a             e    B  a  p  Y  p     a         5    B    S    S              5 555   B   e    e       @          b    f    g    B   b    b                 B    `    `              5 55   B                        B D    <       D  0          b    c    B                          d    B                      5 5555   B    o    o                 B   ]    ]              5    B              "          c    B m    e       m  0          b    d    B                          e    B                      5    B                      5 555   B F  m  >  m     F  "          c    B %  k    k     %            B  O  i  G  i     O         5 5555!!      !!   core/loglevel    !!        B   `    `     -   0          a    b    B            f              d    B                      5 5   B (  ]     ]               5 5!!      !!   jquery    !!       B   U!    U!     ,   P          a    b    c    d    B                        5    B    <!     <!     @             e    B    :!     :!     u         5 55!!       C                                                    v!  !  n!  !                       5   !    M   cfg!!              +H;      5 !!      !!#   core/chart_series!!   core/chart_axis    !!       B !  ,  !  ,     J   @          a    b    c       c  !  8"  !  8"     Z          5   B #  4$  #  4$        "       5   B P$  %  H$  %                  e    B $  $  $  $     J         5    B %  ?%  %  ?%              5    B Z%  %  R%  %              5 5   B %  &  %  &       "       5   B  &  &  &  &     ?         5    B  '  '  &  '     }         5    B  <'  S'  4'  S'              5    B  q'  '  i'  '              5    B  '  '  '  '              5    B  (  1(  (  1(              5    B O(  t(  G(  t(              5    B  (  (  (  (     	         5    B (  (  (  (     =         5    B )  -)  
)  -)              5    B  O)  S)  G)  S)              5    B r)  )  j)  )              5    B *  +*  *  +*              5    B I*  *  A*  *              5    B *  +  *  +     -	         5    B (+  +   +  +     	  "       5   B +  ,  +  ,     q
         5 5!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!   core/str!!   core/config!!   core/url    !!        B {-  :9  s-  :9                  a    b    c    d    e    f    g    B -  59  -  59           
       j    k    l    m    n    p    q    r    s   B .  ?/  ~.  ?/              5    B J/  /  B/  /     W         5    B /  1  /  1       0          e    f    B K0  $1  C0  $1     X  0          b    d    B 0  "1  0  "1              5 5   B 21  1  *1  1     ?         5 5   B 1  z2  1  z2              5    B  2  2  }2  2                 B  2  2  2  2              5 5   B 2  G3  2  G3              5    B R3   6  J3   6     _             b    B 3  6  3  6                  e    B j5  6  b5  6     w  0       5 55   B +6  =6  #6  =6     8	         5    B H6  l8  @6  l8     U	  0          b    e    B 7  j8  7  j8     
  0       5 5   B w8  *9  o8  *9              5 55!!      !!   core/yui!!   jquery!!   core/log    !!       B 9   C  z9   C     E   P   	       a    b    c    d    B  Y:  :  Q:  :                 B z:  :  r:  :     =         5 5   B ;  a;  ;  a;                 B ,;  _;  $;  _;              5 5   B  |;  O<  t;  O<     ?         5    B h<  V=  `<  V=     +         5    B r=  |>  j=  |>     5  0          a    e    B =  9>  =  9>                  c    B =  %>  =  %>              5 55   B >  ?  >  ?     N  @          b    c    d    B  >  ?  >  ?              5 5   B ?  ?  ?  ?       p          b    c    d    e    f    g    B  W?  ?  O?  ?                 B  ?  ?  ?  ?     }         5    B  ?  ?  ?  ?              5 55   B @  1B   @  1B       0          b   B  B  /B  A  /B              5 5   B GB  B  ?B  B     
	         5 5!!      !!   core/chart_base    !!        B XC  JF  PC  JF     5              a       b  fC  C  \C  C     C         5   B *D  D  "D  D              5    B  D  E  D  E             5    B  ;E  VE  3E  VE              5    B  vE  E  nE  E     S         5    B E  
F  E  
F              5    B *F  GF  "F  GF              5 5!!       C                                                    hF  tF  `F  tF  	                         Y!!              +H;      5!!      !!   jquery!!   core/chartjs!!   core/chart_axis!!   core/chart_bar!!-   core/chart_output_base!!   core/chart_line!!   core/chart_pie!!#   core/chart_series    !!        B 0G  U  (G  U  
                a    b    c    d    e    f    g    h    j       i  LG  H  BG  H  
            5   B H  2H  H  2H  
            5    B  H  I  H  I  
   Q         5    B =I  I  5I  I  
               B iI  I  aI  I  
            5 5   B  I  J  I  J  
   X         5    B J  gL  J  gL  
   [         5    B  L  P  L  P  
     "          a    B M  N  M  N  
   $  "          d    B N  N  yN  N  
   
         5 5   B O  >P  N  >P  
     "          d    B O  P  O  P  
   p	         5 55   B  P  nR  P  nR  
   C
            B P  XR  P  XR  
   p
         5 5   B R  S  R  S  
     "       5   B S  T  S  T  
   x         5    B  T  U  T  U  
   F         5    B  5U  |U  -U  |U  
            5 5!!      !!   jquery    !!       B U  Gk  U  Gk     '   0          a    b    B W  Y  W  Y     )         5    B  <Y  Y  4Y  Y              5    B  Y  Y  Y  Y     (         5    B Y  [  Y  [     x         5    B $[  =[  [  =[              5    B c[  [  [[  [              5    B [  \  [  \     Z         5    B 0\  _\  (\  _\              5    B \  6]  |\  6]       "          d    B  \  4]  \  4]     }         5 5   B a]  ]  Y]  ]              5    B ]  %^  ]  %^     r         5    B  J^  ^  B^  ^       "          c    B  ^  ^  ^  ^     	  "          b    B  ^  ^  ^  ^     ;	         5 55   B _  _   _  _     	  "          d    B  R_  _  J_  _     	  "          b    B  _  _  _  _     
         5 55   B _  a  _  a     G
  R          b    c    e   B `  a  `  a     r            B  a  a  a  a              5 55   B a  ub  a  ub     s         5    B b  Sc  b  Sc       "       5   B tc  c  lc  c              5    B c  Si  c  Si     d  R          c   B f  f  f  f     	             b    B  f  f  f  f     0         5 55   B ti  i  li  i              5    B j  Wj  j  Wj              5    B  ~j  Dk  vj  Dk       "          c    B j  j  j  j     *         5    B j  k  j  k     _         5    B k  :k  k  :k              5 55!!       C             +                         	              ok  n  gk  n                       W   QV   5    @6   QV   5    @6   QV   5    @6   QV   5    @6   QV   5       6   QV   5       6   QV   5       6   QV   5       6   QV   5       6	   QV      6
   QV   ,8!dEm  <W    prototype   callback   backOffFunction	   time   timeout!   generateNextTime   reset	   stop   start   restart-   getIncrementalCallback!!      a         +H!!          aB k  k  xk  k     6          5!!       9   a.prototype.generateNextTimeb  Dl  l  <l  l               5 !!       #   a.prototype.resetb  l  l  l  l     S         5!!       !   a.prototype.stopb  l  4m  l  4m              5 !!       #   a.prototype.startb  Om  m  Gm  m       "          B  m  m  m  m     _         5 5!!       '   a.prototype.restartb  n  ,n  n  ,n              5!!       1   a.getIncrementalCallbackb Nn  n  Fn  n       P          a    b    c    d    B gn  n  _n  n              5 5;5!!      !!   core/chart_base    !!        B n  q  n  q     5              a       b  n  n  n  n     C         5   B xo  o  po  o               5    B o  p  o  p     f  #       5   B  p  p  p  p     P         5    B q  1q  q  1q              5    B  Vq  q  Nq  q              5 5!!       C         	   $                                    q  r  q  r     	              =       'E$   Q   E   Q=      5      T     q   =      'E   Q   5   /         =   Z   =   `    T  #   T  [    6   QT T  5    Q
#3(    object   exports   string   nodeName   function   define   amd   core/mustache   Mustache!!      a   b        +H!!            ;      5 !!       B r  f  r  f          &       m    t    k    o    s    a    q    r    w    p    b    y    x    f    e    g    v    d    i    j    u    c    l       b r  r  r  r               5      c r  s  r  s              5      d "s  ]s  s  ]s     :         5      e gs  s  ]s  s              5      f s  s  s  s              5      g s  s  s  s              5      h s  't  s  't                B t  %t  t  %t     -         5 5      i 1t  x  't  x     I            h    i    m    o    q    r    s      e  At  t  7t  t     Y         5      f t  Ku  t  Ku              55      j x  +y  x  +y              5      k 5y  z  +y  z     M          5       l )z  Rz  z  Rz     A         5      m \z  z  Rz  z     t         5      n  z  z  z  z              5   B z  !{  z  !{     	         5    B  {  |  {  |     
         5    B 0|  |  (|  |     H
         5    B |  }  |  }     
  "       5   B }  }  }  }              5    B }  ~  }  ~              5    B  9~  K~  1~  K~     Q         5    B l~  ~  d~  ~              5    B ~    ~         2       5    B  :  K  2  K     R         5    B f    ^       ~         5    B                     5    B >    6       V         5    B              b          c    d    g       f   "    "              55   B   f     f               5    B              "       5   B     	       )  "       5   B                     5    B                     5    B   3    3              5    B Q  a  I  a     i         5    B                      5    B                     5    B            +         5    B   7    7              5 5!!      !!   jquery!!#   core/notification!!=   core/custom_interaction_events!!   core/modal!!#   core/modal_events    !!       B               p          a    b    c    d    e    f    B 3    +                 5    B    T    T              5    B      x                   B   r    r              5 55!!      !!   jquery    !!       B   5    5     4              a       b            B          5   B    2    2               5 5!!      !!   core/ajax!!   jquery    !!        B {    s       C   0          a    b    B   l    l     g          5    B     w       G  0          d    e    B Q    I                 555!!      !!3   core/chart_output_chartjs    !!        B _  t  W  t     B          5 !!      !!   core/config    !!        B   J    J     6              a    B            H          5    B    s    s     8  B       5   B                     5    B             W         5    B   2    2     H         5    B K    C                5    B   G    G     L  B       55!!      !!#   core/chartjs-lazy    !!        B     z       5          5 !!      !!   jquery!!#   core/notification!!=   core/custom_interaction_events!!   core/modal!!#   core/modal_events    !!       B               p          a    b    c    d    e    f    B v  =  n  =               5    B                      5    B                         B     |                5    B K    C                5 55!!      !!   jquery!!   core/config!!#   core/notification!!   core/templates!!   core/yui    !!       B P  C  H  C     r            a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    B             )            B q    i         @         B                      5 5   B                     5 5   B   3    3       0          b    e    B     |         `          g    B                      55   B   1    1     <         5 5   B >    6       `             b    B                         B               P          f    h    B .    &       P	            B            	         5 5555   B            

             b    B  #           E
  @          e    f    h    B                      5 55   B   A    A              5 5!!       C                                                 O    G       	              =       'E   Q   5             =   T  P   =      'E   Q   5         T :  0      T  T :  0   Q%-
    function   define   amd   core/loglevel   object   module   exports   log!!      a   b        +H;      5 !!       C             0                         	               M    M                           Q      Q      Q      Q      Q      Q      Q=     	  Qf    
  Q   A,  R     Q[      Q   	   0   Q   ' 	  I      5      >(   Q   
   0   Q    i*  T    undefined   getLogger   window   log   noConflict!!      a   b   c   d   e   f   g   h   i   j   k   l         +H!!          a   z    z               5!!          b   D  z  D     >  `          a    c    B    B     B              5 5!!          c N    D         @          a    b    c   B  e    ]               5 5!!          d            r  "       5 !!          e   E    E              5!!          f O    E       	  r          a    f    g    j    k    l      f a    W         p       5      g               p       5   B  z    r       4         5    B            T         5    B                     5    B   9    9              5    B O  q  G  q     	         5 5!!          gB             s         5!!      !!   trace!!   debug!!	   info!!	   warn!!   error   !!            !!           j.getLoggerb                     5!!          j.noConflictb    J    J              5 ;5!!      !!   jquery!!   core/templates!!#   core/notification!!   core/key_codes!!=   core/custom_interaction_events!!'   core/modal_backdrop!!#   core/modal_events    !!        B   m    m                  a    b    c    d    e    f    g    h    i    j    B                     5    B  !                    5    B               "          b    B N    F                5 5   B               e            B   	    	              5 5   B  =  Q  5  Q              5    B  o    g                5    B             R         5    B                      5    B                      5    B ;    3         "          c    B            d	         5 5   B            	  2          a    c    B ;    3       	            B X    P       
         5 55   B            
  2          a    c    B 3    +       
            B P    H                 5 55   B                      5    B  %  T    T              5    B  r    j       "         5    B             z         5    B               "          c    B            A         5 5   B     %    %              5    B  C    ;                5    B             j         5    B    g    g                 B X  Y  P  Y              5 5   B      y       1            B   u    u     f            B                      5 55   B             O         5    B                          B %             "       55   B  &                       B q    i       !         5 5   B )    !         "       5   B  4  j  ,  j                 B [    S                5    B *  ]  "  ]              5 55!!       B    G    G     '              a       a            4          5   B            p         5    B             k         5    B    1    1              5    B  O  m  G  m              5    B                      5    B             P         5    B                      5    B  *  ?  "  ?              5    B  ^  u  V  u              5    B             #         5    B             W         5    B    2    2              5    B P  e  H  e              5    B     |                5    B '  q    q              5    B                      5    B   H    H     o         5    B f  ~  ^  ~              5    B            ,         5    B   D    D     i         5 5!!      !!   jquery!!   core/ajax!!'   core/sessionstorage!!   core/config    !!        B            \             a    b    c    d    e    f    g    h    i    j    k    l    B   @    @     y          5    B K  _  C  _              5    B j  {  b  {               5    B     ~       <         5    B            j         5    B                     5    B   @    @                  a    B   1    1              5    B            a            B            }         5 5   B   >    >                  b    B #  <    <              5 55   B K    C         0          c    d    B v    n       ,          5   B  7    /                5 55!!      !!   jquery    !!       B            *              a    B            <             B     	       |   2       5 5   B   ~    ~     p  0       5    B   '    '               5   B I  b  A  b              5    B     ~                5    B            =         5    B   K    K     {         5    B l    d                5 5!!      !!   core/mustache!!   jquery!!   core/ajax!!   core/str!!#   core/notification!!   core/url!!   core/config!!#   core/localstorage!!!   core/icon_system!!   core/event!!   core/yui!!   core/log!!   core/truncate!!   core/user_date    !!       B v    n          p         a    b    c    d    e    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    w    B             *         5    B   A    A     "  "          g    B 
  :    :              5 5   B d    \                5    B   B    B     r  R          a    c    d    f    B H    @                5    B            I         5    B   @    @              5 5   B a  w  Y  w              5    B            
         5    B   1    1     [         5    B R    J                5    B   w    w     g	         5    B   K    K     
         5    B k    c       
  "          a    B             D         5    B    8  
  8              5    B  Q  v  I  v              5    B                      5    B    
    
     Q         5    B  )  T  !  T              5 5   B                      5    B              0       5    B            &             a    B            E         5 5   B :    2         B          c    e    f    B    #    #              5    B =    5         2          a    c    B              "          d    B   D    D     K         5 55   B            y  2          a    c    B T    L                5 55   B   v    v               5   B   c  y  c               5   B   "    "                  e    B            !         5 5   B E  M  =  M                 B q  @  i  @       2          a   B  2  >  *  >              5 55   B i    a         R          a    c    d    f    B   d    d     d         5    B  u    m                5    B            $         5 5   B   <    <     `         5    B G    ?                5    B            #         5    B            a         5    B H  \  @  \              5    B q    i                5    B                     5    B            D         5 5!!   
   !!   jquery!!#   core/modal_events!!'   core/modal_registry!!   core/modal!!-   core/modal_save_cancel!!%   core/modal_confirm!!#   core/modal_cancel!!   core/templates!!#   core/notification!!=   core/custom_interaction_events    !!       B
   s    s                  a    b    c    h    i    j    l    m    n    o    B R  M  J  M     m  0          a    c    B                        B                     5 5   B   J    J     )            B  9  F  1  F     T         5 55   B X    P       s         5    B   	    	                  b    B                     5 5   B   Y    Y     /  0          a    e    B   W    W              5 55!!      !!!   core/icon_system!!   core/url!!   core/mustache    !!        B   $    $     \   @          a    b    c    B             r         5    B Q    I                 5    B    !     !              5 5!!      !!   jquery!!   core/yui    !!       B Z    R       3   0          a    b    B    2    2                   c    B    $    $               5 5   B V  "  N  "     /             c    B              d         5 5   B  G    ?                    B t    l       M         5 55!!      !!   jquery!!#   core/notification!!=   core/custom_interaction_events!!   core/modal!!#   core/modal_events    !!       B p   h          p          a    b    c    d    e    f    B                     5    B   Y  Y     &         5    B   N } N                 B  s  s              5    B  A  A              5 5   B u  m               5 5!!      !!   jquery    !!       B     !   0              a    B  v  v !   H   0          b    c    B 9 h 1 h !             5 55!!      !!   jquery!!   core/key_codes    !!       B     "   M            a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    w    B Y  Q  "            5    B     "            5    B  S  S "   V  0          c    d    B  Q  Q "            5 5   B ^ 	 V 	 "               B     "            5    B 	 ~	 	 ~	 "            5 5   B 	 O
 	 O
 "               B 	 M
 	 M
 "   [         5 5   B Z
 u
 R
 u
 "            5    B 
 
 x
 
 "            5    B 
 
 
 
 "   #         5    B 
 
 
 
 "   F         5    B 
  
  "   h         5    B  Z  Z "            5    B e  ]  "            5    B     "   >         5    B  z  z "   f             a    B . x & x "            5 5   B  E } E "                a    B  C  C "   K         5 5   B P  H  "                a    B     "   n         5 5   B  A  A "   
            B  ?  ? "   a
         5 5   B L  D  "   
            B     "            5 5   B     "            5    B  ' 4  4 "            5    B ?  7  "     0          b    c    B {  s  "            5 55!!      !!   core/config!!'   core/storagewrapper    !!       B  m  m #   J              c    B 2 F * F #             5    B S k K k #             5 5!!      !!   jquery!!   core/str!!=   core/custom_interaction_events    !!       B  %  % $   h   P          a    b    c    d    B  M  M $            5    B  p  h  $             5    B  B b : b $            5    B    z  $            5    B      $   I         5    B   9  9 $            5    B  X 8 P 8 $            5    B  V  N  $            5    B      $   E            B  "  " $            5    B ^  V  $            5 5   B   \  \ $   F         5    B  } & u & $   	         5    B  K f C f $   	         5    B      $   
         5    B   ^  ^ $   ~
         5    B   |  $            5    B   B  B $            5    B  l  d  $            5    B   0   0  $   d         5    B  ^    V    $            5    B    "   " $   z            B  Z! o! R! o! $            5    B  ! " ! " $   5            B  ! ! ! ! $   ]         5    B " n" " n" $            5 55   B  " % " % $               B I# $ A# $ $            5    B  @$ % 8$ % $               B $ $ $ $ $   1         5    B % \% % \% $            5    B % % % % $            5 555!!      !!   core/config!!'   core/storagewrapper    !!       B :& & 2& & %   L              c    B v& & n& & %             5    B & & & & %             5 5!!      !!   jquery!!   core/templates!!#   core/notification    !!        B 
' * ' * &   V   @   	       a    c    d    B J' ' B' ' &             5    B  ' ' ' ' &   /         5    B  ( ]( ( ]( &   d         5    B |( ( t( ( &            5    B  ( ( ( ( &            5    B  ) -) ( -) &   O         5    B  G) ) ?) ) &            5    B  ) * ) * &               B  E* |* =* |* &            5 5   B  * * * * &   '         5 5!!      !!   jquery!!   core/config    !!        B ++ - #+ - '   4   0          a    b    B H+ + @+ + '   Q          5    B + _- + _- '                B - -- - -- '   !         5 5   B q- - i- - '   z         5 5!!       B  - . - . (   '          5 !!      !!   jquery!!-   core/chart_output_base    !!       B . L2 . L2 )   R   0          a    b       c  . #/ . #/ )   b         5   B  l/ / d/ / )             5    B  / 2 / 2 )   E  2          b   B 0 1 0 1 )   V         5 5   B  82 I2 02 I2 )            5 5!!      !!!   core/icon_system!!   jquery!!   core/ajax!!   core/mustache!!#   core/localstorage!!   core/url    !!        B 2 $6 2 $6 *                a    b    c    d    e    f    g    h    B  3 3 2 3 *            5    B  d3 4 \3 4 *               B G4 4 ?4 4 *               B h4 4 `4 4 *            5 55   B 4 5 4 5 *             5   B  5 !6 5 !6 *            5 5!!      !!   jquery!!%   core/modal_factory!!   core/templates!!   core/str!!#   core/notification    !!        B 6 S8 6 S8 +   u   `          a    b    c    d    e    B 6 Q8 6 Q8 +      0          f    h    B 6 67 6 67 +             5    B \7 7 T7 7 +   5            B u7 7 m7 7 +   N         5 5   B 7 7 7 7 +            5 55!!      !!   jquery!!   core/ajax    !!        B 8 3< 8 3< ,   7   @          a    b    c    B 8 9 8 9 ,   K              i    B l9 }9 d9 }9 ,            5    B 9 9 9 9 ,   6         5 5   B 9 1< 9 1< ,   q             g    B : < : < ,                d    B 9: ; 1: ; ,     @          c    f   B : : : : ,   \         5 55   B < #< < #< ,            5 55!!      !!   jquery    !!       B a< A Y< A -   +             a    b    c    d    e    f    g    B < = < = -   `          5    B = = = = -   X         5    B = (> = (> -            5    B C> ~> ;> ~> -            5    B > A > A -   _  "          h    B  > }A > }A -     R          i    l    B @ zA @ zA -   \          5555!!      !!#   core/notification    !!        B 6B C .B C .   <   @          a    b    c    B MB ]B EB ]B .   S          5    B hB gC `B gC .   n          5 5!!      !!   jquery    !!       B C (D C (D /   (             B  C C C C /   Q          5    B  
D &D D &D /             5 5!!       B  PD J HD J 0   %              a       a  ]D aD SD aD 0   2          5   B E >F E >F 0   |         5    B  \F rF TF rF 0   1         5    B  F F F F 0   f         5    B  F F F F 0            5    B  F G F G 0            5    B  )G BG !G BG 0            5    B  cG |G [G |G 0   8         5    B G G G G 0   o         5    B G H G H 0            5    B H H H H 0   w         5    B H I H I 0            5    B 5I I -I I 0   
         5    B I J I J 0     "       55!!      !!   jquery    !!       B J L J L 1   /   p          a    b    c    d    e    f    B J K J K 1   H          5    B K +L K +L 1   w          5    B  6L zL .L zL 1            5    B  L L }L L 1            5    B L L L L 1            5 5!!      !!   jquery!!   core/log!!   core/str!!   core/templates!!#   core/notification    !!        B `M m XM m 2   o   p         a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    B M O M O 2             5    B O Q 
O Q 2   !  P          c    g    i    k    B O "P O "P 2            5    B ~P Q vP Q 2               B P Q P Q 2            5 55   B #Q Q Q Q 2   2         5    B Q _R Q _R 2                f    B Q OR Q OR 2            5 5   B jR VT bR VT 2   y         5    B aT T YT T 2   p         5    B T U T U 2            5    B U rV U rV 2            5    B }V W uV W 2   	         5    B W W W W 2   (
         5    B W [ W [ 2   
            b    f    i    j    k    m    n    B yX X qX X 2            5    B `Y [ XY [ 2   o            B Y Z Y Z 2            5    B Z [ Z [ 2            5 55   B &[ \ [ \ 2   5  @          b    d    h    B [ \ [ \ 2     0          e   B [ :\ [ :\ 2            5 55   B \ !^ \ !^ 2                g    B ] ^ ] ^ 2            5 5   B ,^ ` $^ ` 2   ;  P          c    d    f    g    B x^ _ p^ _ 2     0          h   B ^ _ ^ _ 2            5    B w_ _ o_ _ 2             555   B `  i `  i 2   "  `   
       b    c    d    e   B a` rb Y` rb 2   p  0          g   B ` ` ` ` 2            5 5   B b b b b 2            5    B  b c b c 2            5    B  c #d c #d 2               B  c d c d 2            5 5   B }d d ud d 2                a    B d d d d 2            5 5   B ;e e 3e e 2   J         5    B 5f ]f -f ]f 2   D         5    B vf g nf g 2             5   B g ah g ah 2     @          a    f    g    B g g g g 2            5    B g Ph g Ph 2   	         5 5   B xh h ph h 2            5 5   B i m i m 2   '  `          o    p    q    r    s    B tj j lj j 2            5    B 8l pl 0l pl 2   G         5    B Pm m Hm m 2   _          5 55!!      !!   core/chart_base    !!        B 2n o *n o 3   6              a       b  @n qn 6n qn 3   D         5   B n =o n =o 3             5    B  \o so To so 3   `         5    B o o o o 3            5 5!!      !!   jquery    !!       B o p o p 4   .              a    B  o o o o 4   @          5    B  p 0p p 0p 4   e          5    B Pp p Hp p 4             5    B  p p p p 4            5 5!!      !!   jquery!!   core/ajax!!#   core/localstorage    !!       B :q v 2q v 5   F   P          a    b    c    d    B eq q ]q q 5   q             B q q q q 5             5 5   B q v q v 5                e    f    g    h    B s s s s 5            5    B s s s s 5            5    B  Hu gv @u gv 5   T         5    B vv v nv v 5            5 55!!      !!   jquery!!   core/config!!   core/log    !!        B Bw J| :w J| 6   @   p          a    b    c    d    e    f    B ]w x Uw x 6   [   R       5    B x "y x "y 6     "       5   B 7y H| /y H| 6   5            B  ey my ]y my 6   c         5 55!!       C   g          !                                        n| } f| } 7   !              Y    	]    ]   ]    ]   #]   $]   %]   &]   ']   (]	   8^j]
   !]   "]   $	
	
    tab   enter   escape   space   end	   home   arrowLeft   arrowUp   arrowRight   arrowDown   asterix   pageUp   pageDown!!              +H;      5 !!   
   !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!   core/str!!   core/url!!   core/yui!!%   core/modal_factory!!#   core/modal_events!!   core/key_codes    !!        B
 } 2 } 2 8               t    b    C    o    s    a    q    r    i    u    z    h    D    v    w    g    p    x    y    k    B    n    e    A    m    d    j    l    c    B      8            5    B  c  c 8     0          a    b    B $ _  _ 8            5 5   B n  f  8   g  0          a    b    B     8            5 5   B  {  { 8             5   B   ~  8             5   B % i  i 8            5    B t  l  8   m  0          a    b    B      8            5 5   B     8                a    B      8            5 5   B  8 
 8 8     0          a   B  D  <  8   =         5 5   B C V ; V 8   <         5    B a  Y  8   Z  @          b    d    e    B      8            5 5   B     8     `          c    g    h    i    j    B   	  8   

             d    B g  _  8   `
         5 5   B     8            5 5   B  `  ` 8     0          c    f    B 1 E ) E 8   *         5    B  T ^ L ^ 8   M         5 5   B k  c  8   d  0          b    f    B     8               B s  k  8   l         5 55   B     8     0          a    b    B     8            5 5   B ! v  v 8     0          a    b    B P  H  8   I         5    B     8               B     8            5 5   B 9 \ 1 \ 8   2         5 5   B   y  8   z  0       5    B  b  b 8                b    B   `  ` 8            5 5   B m  e  8   f  p          c    f    g    h    j    m    B Z  R  8   S         5    B .  &  8   '         5 5   B      8               B 0  (  8   )          55   B     8                b    B     8     b          c    d    f    B  {  s  8   t         5 5   B     8     R          d    e    f   B      8            5 5   B     8     0          c    d    B ?  7  8   8  0          e    f    B    {  8   |         5    B  8  0  8   1            B c  [  8   \         5 5   B     8            5 555   B  0  0 8            5 5!!      !!   jquery    !!       B j ^ b ^ 9   5              a    B |  t  9   G          5 5!!      !!   jquery!!   core/templates    !!       B     :   G   0   	       a    b    B     :   [          5    B   \  \ :               B < 6 4 6 :            5    B  ?  ? :   /         5    B y  q  :            5    B # O  O :            5 5   B  = w = :     "          b    B   1  1 :   V         5 5   B  b  Z  :            5    B      :   I         5    B   "  " :            5    B F  >  :   
         5    B      :            5    B  6  .  :               B     :   q         5 55!!      !!   jquery    !!       B Q ; I ; ;   8   0          a    b    B  c  [  ;   J             B  p  h  ;   W         5 5   B     ;            5    B  @  @ ;            5    B  W u O u ;   >         5    B   .  . ;   z             d    B      ;            5 55!!      !!   jquery!!   core/ajax!!#   core/notification    !!       B     <   ]   0          b    c    B     <   s          5    B  O  O <            5    B Z  R  <            5 5!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!=   core/custom_interaction_events    !!       B  A  A =         	       a    b    c    d    e    f    g    h    i    j    k    l    m    B     =             5    B     =             5    B  =  = =            5    B H i @ i =   :         5    B t  l  =   f         5    B  p  p =                c    B  8 m 0 m =   *         5 5   B { O s O =   m  0          a   B   L  L =               B ' J  J =            5 55   B Z + R + =   L  0          a   B   (  ( =               B  &  & =            5 55   B 6 . . . =   (             b    B     =            5    B  ,  , =            5 55!!      !!   jquery!!   core/ajax!!#   core/notification!!   core/fragment!!   core/templates!!   core/str!!!   tool_lp/dialogue    !!        B     >                a    b    c    d    e    f    g    h    B a  Y  >            5    B      >               B     >   E  2          b    c    B     >     "          f    B      >            5    B      >            5    B  = h 5 h >            5    B      >   \         5 555   B      >     2          d    e    B     >             555!!      !!   jquery!!   core/ajax!!#   core/notification!!G   core_message/notification_processor    !!        B     ?      `   	       a    b    c    d    e    B p  h  ?             5    B      ?   8         5    B   L  L ?            5    B  {  s  ?            5    B      ?   E            B     ?   w         5 5   B  <  4  ?            5    B      ?   )         5    B  ' O  O ?            5    B  i  a  ?     2          d    e    B  k  k ?   Z         5    B      ?            5 55!!      !!   jquery!!   core/ajax!!#   core/notification!!Y   core_message/message_notification_preference!!=   core/custom_interaction_events    !!       B c  [  @      p          a    b    c    d    e    f    B   y  @            5    B   )  ) @   -         5    B  Y  Q  @     "          e    B      @            5 5   B      @   b            B  ~  v  @            5    B     @     2          e   B    z  @            5 555!!      !!   jquery!!E   core_message/message_area_contacts!!E   core_message/message_area_messages!!C   core_message/message_area_profile!!=   core_message/message_area_tabs!!A   core_message/message_area_search    !!        B  |  | A      p          a    b    c    d    e    f       g     A            5   B      A            5    B     A   B         5    B 5 M - M A            5    B j  b  A            5    B     A            5    B   %  % A   N         5    B  L y D y A            5 5!!       B   )  ) B   6          5 !!      !!   jquery!!   core/ajax!!#   core/notification!!=   core/custom_interaction_events!!I   core_message/notification_preference!!Y   core_message/notification_processor_settings    !!       B     C                a    b    c    d    e    f    g    B     C   ]         5    B   5  5 C            5    B  V  N  C   *         5    B   +  + C            5    B  W  O  C   +  2          e    f    B      C   [         5    B      C            5 5   B  )  !  C               B  b  b C   g  2          c   B  C _ ; _ C            5 5   B     C   ~         5    B  U v M v C   )         5 55!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!   core/str!!   core/config!!=   core/custom_interaction_events!!A   core_message/message_area_events    !!        B V  N  D                b    c    d    e    f    g    h    j       i r  h  D             5   B   a  a D   U            B     D   $         5    B I  A  D            5    B  "  " D   [         5    B   x  D            5    B  R  R D            5    B     D   (         5 5   B  c { c D               B     D   )         5    B     D   *	         5    B  D  D D   t	         5 5   B      D    
         5    B   4  4 D   n
         5    B  W < O < D   
            B   /  / D   f         5 5   B  a N Y N D               B   A  A D   v         5 5   B  o U g U D               B  
 H  H D            5 5   B  y X q X D               B   K  K D            5 5   B | ~ t ~ D     R          c    f    g    h    B   2  2 D            5    B A _ 9 _ D            5 5   B  !  ! D            5    B  A { 9 { D            5    B      D            5 5!!      !!   jquery!!   core/ajax!!#   core/notification!!=   core/custom_interaction_events    !!       B  r  r E      P          a    b    c    d    B  F  F E                B A  9  E   7            B  q  i  E   g         5 5   B   D  D E            5 5   B  o  g  E   e         5    B      E            5    B      E            5    B  6 o . o E   ,            B  L b D b E   B         5 55!!      !!   jquery    !!       B     F   A   0          a    b    B d w \ w F             5    B      F   &         5    B      F   }         5    B      F            5 5!!      !!A   core_message/message_area_events    !!       B < C 4 C G   Y   0          a    c       b J a @ a G   g          5   B   @  @ G             5 5!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!=   core/custom_interaction_events!!   core/str!!A   core_message/message_area_events    !!       B  z!  z! H                 a    b    c    d    e    f    g    i       h   D  D H             5   B  } v u v H   7            B     H   l	         5    B  7  7 H   	         5    B |  t  H   6
         5    B     H   
         5 5   B      H   T         5    B   :  : H            5    B  b  Z  H            5    B      H            5    B     H     "       5   B  ! .  . H     "          a    B  .
  .
 H   _         5    B H
 
 @
 
 H            5    B 
  
  H   u         5 5   B  Q  I  H     "          a    B  6  6 H            5    B P  H  H   
         5    B     H   }         5 5   B      H            5    B     H   g         5    B  f  f H             5    B     H   I!         5    B 5  -  H   !  "       5   B   k  k H   "         5    B     H   I#         5    B  
  
 H   #         5    B / ; ' ; H   $         5    B ]  U  H   &         5    B     H   &         5    B  i  i H   '         5    B     H   K(  2          a    b    B     H   (         5    B  ! P  P H   (         5 5   B  M  M H   )         5    B y  q  H   3*         5    B #    H   *         5    B  J  J H   +         5    B w  o  H   1,         5    B 4  ,  H   ,         5    B        H   -         5    B  5  e  -  e  H   -         5    B          H   G.         5    B  ! w! ! w! H   .         5 5!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!=   core/custom_interaction_events!!   core/auto_rows!!C   core_message/message_area_actions!!%   core/modal_factory!!#   core/modal_events!!   core/str!!A   core_message/message_area_events!!%   core/backoff_timer    !!       B " pS " pS I   3           a    b    c    d    e    f    g    h    i    j    k    l    n    o    p    q       m " " " " I   W         5   B  O' Z/ G' Z/ I            5    B }/ /3 u/ /3 I      B          f    g    h    B 0 0 0 0 I            5    B  1 1 0 1 I            5    B 1 L2 1 L2 I   z         5    B [2 3 S2 3 I            5 5   B  R3 6 J3 6 I     "          b    B 3 f4 3 f4 I   O         5    B 4 4 x4 4 I            5    B 4 6 4 6 I   b  "       55   B  7 8 7 8 I     2          a   B 88 h8 08 h8 I            5    B  8 8 |8 8 I            5 5   B 8 (; 8 (; I   f            B 7: : /: : I     "       5   B : ; : ; I   q         5 5   B  J; = B; = I     2          a    c    B < S= |< S= I            5    B  m= = e= = I            5    B  = = = = I   )         5 5   B  
> > > > I            5    B  > B > B I   E  B          c    f    g    B C? ? ;? ? I            5    B  @ qB @ qB I               B s@ @ k@ @ I            5    B @ A @ A I   c         5 55   B C C C C I   !         5    B  C F C F I   "            B D F D F I   #            B E F D F I   #            B  @E ~F 8E ~F I   #  "          a    B  E eF E eF I   l$         5 5555   B  F dG F dG I   X%         5    B  G G G G I   &         5    B G dJ G dJ I   v&  B          d    e    f    B ?H H 7H H I   &         5    B ?I WJ 7I WJ I   '  "       55   B  J L J L I   )            B ZK K RK K I   )         5    B  K K K K I   #*         5 5   B  $L _L L _L I   *         5    B  L L zL L I   +         5    B M M L M I   +         5    B M ~N M ~N I   Y,         5    B N N N N I   $-         5    B O KO N KO I   -         5    B oO O gO O I   -         5    B  O #P O #P I   b.         5    B GP P ?P P I   .  "       5   B  Q Q Q Q I   /         5    B Q Q Q Q I   D0         5    B  $R R R R I   0         5    B R mS R mS I   31         5 5!!      !!=   core/custom_interaction_events!!A   core_message/message_area_events    !!       B S 3^ S 3^ J   w   @          a    b    d       c S T S T J             5   B  GU Z ?U Z J               B  Z Z Z Z J   (         5 5   B  [ p[ Z p[ J            5    B  [ [ [ [ J             5    B \ \ \ \ J            5    B ] 0^ ] 0^ J   	         5 5!!      !!   jquery!!   core/ajax!!   core/templates!!#   core/notification!!   core/str!!=   core/custom_interaction_events!!A   core_message/message_area_events    !!       B ^ } ^ } K                a    b    c    d    e    f    g    i       h _ 2_ _ 2_ K             5   B  c i c i K               B c d c d K            5    B  8e f 0e f K            5    B  Wf f Of f K   !         5    B  g g 
g g K            5    B  g @h g @h K   	         5    B  h i h i K   
         5 5   B  j n j n K               B  l >m l >m K            5    B  m m m m K   s         5    B  3n |n +n |n K            5 5   B  n tr n tr K   ~  2          e    f    B p p p p K            5    B p q p q K            5    B (q Ur  q Ur K            5 5   B  r yu r yu K   `  "          e    B s "t s "t K   i         5    B <t t 4t t K            5    B u Zu u Zu K            5 5   B  u y u y K   m  2          e    f    B 'w w w w K            5    B w 6x w 6x K            5    B Ex ly =x ly K            5 5   B y >z y >z K   ~            B y 1z y 1z K            5 5   B ^z { Vz { K   (            B g{ { _{ { K   1         5 5   B  { | { | K            5    B  | } | } K            5    B  E} } =} } K            5 5!!      !!   jquery!!I   core_message/notification_preference    !!       B W~ e O~ e L   q   0          b    c    B ~ ~ ~ ~ L             5    B   b  b L   5         5 5!!      !!   jquery!!#   core/notification!!   core/str!!-   core/form-autocomplete!!   core/ajax!!M   mod_assign/grading_form_change_checker    !!       B     M      p          a    b    c    d    e    f    B ,  $  M                B     M   G         5    B  C Y ; Y M            5    B      M   -         5 5   B  h q ` q M             5    B     M   +  "       5   B     M   V  "       5   B     M   	  R          i    k    l   B Y  Q  M   
         5    B ) l ! l M            5    B  a  a M     2          c    d    B <  4  M            5 55   B      M               B  m  m M               B  A k 9 k M            5 55   B     M   T  "          g    B ) ~ ! ~ M               B  S | K | M            5 55   B     M            5    B / X ' X M     "       5   B }  u  M     "       5   B      M   X  2          B _  W  M            5 5   B  t  t M            5    B      M   3  "          e    B  b  b M               B  7 ` / ` M            5 555!!      !!   jquery!!3   mod_assign/grading_events    !!        B  B  B N   Y   0   	       a    b    B  *  "  N   m          5    B  v  v N   	         5    B      N            5    B   > 
 > N   U         5    B  j  b  N            5    B   G  G N            5    B  j  b  N            5    B      N   X         5    B   ?  ? N               B     N   $         5    B *  "  N   m         5    B      N   )         5    B  / ~ ' ~ N   r         5    B      N            5    B   2  2 N   6         5 55!!       C   /                                                 q H i H O   ,              [    =    ]   =   ]   =   ]   =   ]   /6240 ;   grading:collapse-review-panel+   COLLAPSE_REVIEW_PANEL7   grading:expand-review-panel'   EXPAND_REVIEW_PANEL9   grading:collapse-grade-panel)   COLLAPSE_GRADE_PANEL5   grading:expand-grade-panel%   EXPAND_GRADE_PANEL!!              +H!!       !!+   COLLAPSE_REVIEW_PANEL!!!!'   EXPAND_REVIEW_PANEL!!!!)   COLLAPSE_GRADE_PANEL!!!!%   EXPAND_GRADE_PANEL!!    ;      5 !!      !!   jquery    !!       B     P   D              a    B     P   e          5    B (     P             5 5!!      !!   core/ajax!!   jquery!!   core/templates    !!        B  H  H Q   Z   @          a    b    c    B * 9 " 9 Q             5    B L F D F Q      0          f    k    B     Q   A         5    B     Q     0          d    e    B     Q   d  @          f    g    h    B  D  D Q   O         5    B     Q            5 55   B   8  8 Q   E         5 55!!   	   !!   jquery!!   core/yui!!#   core/notification!!   core/templates!!   core/fragment!!   core/ajax!!   core/str!!M   mod_assign/grading_form_change_checker!!3   mod_assign/grading_events    !!       B	  e  e R                a    b    c    d    e    f    g    h    i    B ?  7  R             5    B H  @  R     P          b    c    e    f    B    {  R   8            B      R   p         5 55   B      R            5    B  |  | R            5    B     R   d            B     R   O         5    B   (  ( R            5 5   B  H  H R   }         5    B l C d C R   !  "          i    B u $ m $ R   *	            B      R   Q	         5 55   B j  b  R   
  "          e    B     R   c
         5 5   B     R            5    B  A  A R     R          f    g    i    j    B K ! C ! R                B      R   C  "         B * * " * R               B  m  e  R   "            B      R            5 55555   B  f  ^  R            5    B      R   i         5    B   8  8 R            5    B  d b \ b R               B     R   ]         5    B      R   e         5    B      R            5    B  ? U 7 U R            5 55!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates    !!       B  ;  ; S   v   P          a    b    c    d    B  v  v S             5    B   D  D S            5    B j 8 b 8 S     2          f    g    B     S   s  B          e    h   B   O   O S            5    B  -  - S   G  2          a    b    B        S   q         5 5   B '    S            5    B     S   R  2          c    f    B s  k  S            5    B q  i  S   	  2          a    b    B      S   3         5 55   B  (     S               B n  f  S     2          a    b    B      S   0         5 55555!!      !!   jquery!!3   mod_assign/grading_events    !!        B  ]  ] T   T   0          a    b    B     T   h          5    B r  j  T   4         5    B 0 K ( K T            5    B  v  n  T   8         5    B      T            5    B  . q & q T            5    B      T   e         5    B   Q  Q T            5    B  y % q % T   ;         5    B  N  F  T            5    B  !    T            5    B      T            5    B   Z  Z T     "         B  Q  Q T            5    B p  h  T   2         5    B 6 g . g T            5    B   ~  T   H	         5    B H v @ v T   

         5    B     T   W
         5    B A X 9 X T            5 55!!      !!   jquery!!   core/ajax!!   core/str!!#   core/notification    !!       B     U   Z   P          a    c    d    e    B     U   ~              b    B     U   J            B      U   |         5 55   B  ( m   m U            5 5!!       B   s  s V   $          5 !!      !!   jquery    !!       B  c  c W   0   0          a    b    B  8  8 W   B          5    B  `  ` W     B       55!!      !!   jquery!!   core/ajax!!#   core/notification!!   core/templates!!#   mod_lti/tool_type!!   mod_lti/events!!   mod_lti/keys!!   core/str    !!        B     X      0         t    G    C    o    s    a    F    q    r    i    u    E    z    h    D    v    w    g    p    x    y    f    k    B    n    e    A    m    d    I    j    l    c    H    B     X            5    B  :  : X            5    B E n = n X            5    B y  q  X            5    B     X   C         5    B     X   f         5    B     X            5    B & H  H X            5    B S  K  X            5    B     X   <         5    B     X   s         5    B     X     0          b    c    B  g  _  X            5 5   B  ;  ; X   G  0          b    c    B   5  5 X            5 5   B F e > e X     @          b    d    f    B C - ; - X               B  m  e  X               B      X   &            B      X   @         5    B      X   q         5 5   B     X            5 5   B   +  + X            5 5   B < ` 4 ` X            5 5   B p  h  X   
         5    B     X   9         5    B     X   k          5   B $    X                f    B 1 d ) d X            5    B      X   !	         5 5   B     X   L	          5   B  h  h X   	             d    B  7  7 X   
         5    B  H d @ d X   
         5 5   B s  k  X                b    B  {  { X               B N y F y X            5 5   B      X   &         5 5   B     X   B         5    B     X   y         5    B  ,  , X            5    B 7  /  X               a    b    c    d    e    B V r N r X            5    B     X   !         5    B  7  7 X            5    B H d @ d X            5    B y  q  X            5    B     X            5    B ( D   D X            5    B Y  Q  X            5    B     X   x         5    B     X            5    B      X   X         5    B      X            5 5   B     X            5 5!!      !!   jquery!!   core/ajax!!#   core/notification!!   core/templates!!%   mod_lti/tool_proxy!!   mod_lti/events!!   mod_lti/keys!!   core/str    !!       B  	  	 Y      @         a    c    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    B m  e  Y   S         5    B     Y            5    B     Y            5    B  =  = Y            5    B H t @ t Y   .         5    B   w  Y   e         5    B  H  H Y     0          b    c    B   B  B Y            5 5   B S  K  Y   9  0          b    c    B      Y            5 5   B     Y     @          b    d    f    B     Y               B      Y               B  2 z * z Y               B  L f D f Y   2         5 5   B     Y   o         5 5   B      Y            5 5   B     Y            5 5   B  P  P Y            5    B [  S  Y   A  @          a    b    c    B z  r  Y   `         5    B  "  " Y            5    B ? [ 7 [ Y   %         5    B p  h  Y   V         5 5   B     Y            5 5!!       B  F  >  Z   :             B ]  U  Z   Q          5 5!!      !!   core/ajax!!#   core/notification    !!       B     [   F   0          a    b    B 1  )  [   a          5    B     [             5    B  t  t [   =         5    B   ~  [            5    B  5  5 [   >         5    B J  B  [   z         5 5!!   	   !!   jquery!!   core/ajax!!#   core/notification!!   core/templates!!   mod_lti/events!!%   mod_lti/tool_proxy!!#   mod_lti/tool_type!!   mod_lti/keys!!   core/str    !!        B	  	  	 \               t    b    G    J    C    o    s    a    F    q    r    i    u    E    z    h    M    D    v    L    K    w    g    p    x    y    f    k    B    n    e    A    m    d    I    j    l    c    H    B  t  l  \            5    B      \            5    B   $  $ \            5    B  / _ ' _ \   U         5    B  j  b  \            5    B      \            5    B      \            5    B      \   #         5    B  # A  A \   I         5    B  L f D f \   r         5    B  q  i  \            5    B      \            5    B      \            5    B     \            5    B   O  O \   D         5    B  Z  R  \            5    B      \            5    B      \            5    B   )  ) \            5    B  4 l , l \   Z         5    B w  o  \            5    B   b   b  \     0          b   B  1 @ ) @ \   W         5    B O _ G _ \   u         5    B      \            5    B  ^   ^  \               B  J   J  \   "         5 55   B m  ! e  ! \               B       \            5 5   B , n $ n \   R	         5    B y  q  \   	  0          b    f    B     \   	             g    B  [  S  \   
            B  v  n  \   
         5 5   B      \   
         5 5   B      \            5 5   B     \   D             c    B h z ` z \            5    B     \            5 5   B 
    \   0             c    B ? s 7 s \   e            B  U d M d \   {         5 55   B      \            5    B      \               B . a & a \   T         5    B }  u  \            5    B     \            5    B S  K  \   y  P          d    f    B     \            5    B   n  n \   9         5    B  -  - \               B      \   %         5 5   B  < K 4 K \   b         5    B    w  \               B      \            5 555   B  	 	  	 	 \   .         5 5!!      !!   jquery    !!       B L	 	 D	 	 ]   8              a    B d	 	 \	 	 ]   P              b    B  	 	 x	 	 ]   l          5 55!!      !!   jquery!!   core/ajax!!#   core/notification!!#   mod_lti/tool_type!!   mod_lti/events!!   mod_lti/keys!!   core/str    !!        B ^
  V
  ^                a    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    B      ^            5    B      ^            5    B  
 4  4 ^   L         5    B  ? a 7 a ^            5    B  l  d  ^            5    B      ^            5    B      ^            5    B      ^   +         5    B      ^   X            B      ^               B  w  w ^   $         5 5   B      ^               B  y  y ^            5 5   B      ^            5 5   B      ^                c    B       ^   '         5    B  f  f ^   ^         5    B {  s  ^            5 5   B  	    ^   K         5 5!!      !!   jquery!!#   core/notification!!   core/str!!   core/templates!!%   mod_lti/form-field!!%   core/modal_factory!!#   core/modal_events    !!       B     _                a    b    c    d    f    g    h    j    B  	  	 _      @          a    e    i    B     _               B     _                a    B      _            5 555   B W  O  _   B          55!!   	   !!   jquery!!   core/ajax!!#   core/notification!!   core/templates!!   mod_lti/events!!   mod_lti/keys!!#   mod_lti/tool_type!!%   mod_lti/tool_proxy!!   core/str    !!        B	  !  ! `               t    C    o    s    a    q    r    i    u    E    z    h    D    v    w    g    p    x    y    k    B    n    e    A    m    d    j    l    c    B      `            5    B      `            5    B      `            5    B  * Z " Z `   V         5    B  e  ]  `            5    B      `            5    B      `            5    B      `            5    B   *  * `   <         5    B  5 a - a `   a         5    B l  d  `            5    B      `            5    B   N  N `   L         5    B  Y s Q s `            5    B  ~  v  `            5    B     `            5    B     `   /         5    B ( E   E `   T         5    B  P z H z `   |  0          b    e    B  <  < `               B  +  + `            5 5   B  p x h x `            5 5   B   Y } Y `     0          b    d    B       `   ,         5    B     `   E         5    B   U  U `               B  A  A `   '	         5 55   B  d }! \ }! `   	            B      `   	         5    B      `   	         5    B  #  .    .  `   O
         5    B f  q  ^  q  `   
         5    B          `   
         5    B )! 4! !! 4! `   U         5    B `! {! X! {! `            5 5   B  ! ! ! ! `            5 5!!       B  ! ! ! ! a   "          5 !!      !!   core/ajax!!#   core/notification    !!       B +" # #" # b   G   0          a    b    B F" " >" " b   b          5    B " 0# " 0# b             5    B @# # 8# # b   \         5 5!!      !!   jquery!!   core/yui    !!       B # ' # ' c   @   0          b    c    B $ %  $ % c   o   `          a    d    e    f    g    B  C$ % ;$ % c             5 5   B % & % & c   J         5    B "& L& & L& c            5    B e& ' ]& ' c     0          a    c    B  & ' & ' c            5 55!!      !!   jquery!!   core/str!!%   core/modal_factory!!#   core/notification    !!        B ( ) ' ) d   g   P          a    b    c    d    B -( ) %( ) d      0          f    g    B ( ( ( ( d            5    B ) ) ) ) d               B ) ) ) ) d            5 555!!      !!   jquery    !!       B ) * ) * e   7   0          a    b       b ) L* ) L* e   E              c   B  * >* * >* e   q          5 5   B  `* * X* * e      0          c    d    B  * * * * e   5         5 55!!   
   !!   jquery!!   core/ajax!!   core/templates!!   core/str!!   core/url!!#   core/notification!!=   core/custom_interaction_events!!=   core/popover_region_controller!!K   message_popup/notification_repository!!M   message_popup/notification_area_events    !!        B
 , ? , ? f   %            a    c    d    e    f    g    h    i    j    k    B - / - / f            5    B  / !1 x/ !1 f               B / / / / f            5    B r0 0 j0 0 f            5    B 0 1 0 1 f            5 5   B  A1 Z1 91 Z1 f   P         5    B  y1 1 q1 1 f            5    B  1 1 1 1 f            5    B  1 2 1 2 f            5    B  ;2 T2 32 T2 f   J         5    B }2 2 u2 2 f            5    B  2 =3 2 =3 f            5    B  b3 3 Z3 3 f   q         5    B  3 [4 3 [4 f               B 4 N4 3 N4 f   	         5 5   B 4 4 4 4 f   	         5    B 5 6 4 6 f   
  b          b    d    g    h    i    B B5 M6 :5 M6 f   Q
  "          a    B %6 96 6 96 f   4         5 5   B  ~6 6 v6 6 f               B 6 6 6 6 f            5 55   B  6 8 6 8 f     "          c    B 7 8 7 8 f            5    B  8 8 8 8 f            5 5   B  9 5: 9 5: f   .            B  9 9 9 9 f            5    B  9 (: 9 (: f            5 5   B a: : Y: : f   p  "          a    B  : : : : f            5 5   B  ; ? ; ? f   &            B ; ; x; ; f            5    B ; V< ; V< f            5    B  <  = <  = f            5    B  ;= t= 3= t= f   J         5    B  = = = = f            5    B  > J> > J> f   *         5    B  > > > > f            5    B R? ? J? ? f   a  "       555!!      !!   core/ajax!!#   core/notification    !!       B A@ 
C 9@ 
C g   Z   0          a    b    B U@ A M@ A g   n          5    B )A A !A A g   B         5    B A .B A .B g            5    B 9B B 1B B g   R         5 5!!      !!   jquery!!   core/templates!!#   core/notification!!=   core/custom_interaction_events!!K   message_popup/notification_repository!!M   message_popup/notification_area_events    !!       B C K C K h      p          a    b    d    f    g    h    B E eF }E eF h   x         5    B  F F F F h   |         5    B  F F F F h            5    B  F G F G h            5    B  ,G BG $G BG h            5    B  bG yG ZG yG h   U         5    B  G G G G h            5    B  G G G G h            5    B  H OH H OH h   
         5    B rH H jH H h   e         5    B H H H H h            5    B I )I H )I h            5    B OI J GI J h   B  "          c    B {I I sI I h   n         5    B I I I I h            5    B J -J J -J h            5    B  \J J TJ J h   O         5 5   B  J K J K h               B  CK RK ;K RK h   6         5    B K K K K h            5 55!!       B  K L K L i   <          5 !!   	   !!   jquery!!   core/ajax!!   core/templates!!   core/str!!#   core/notification!!=   core/custom_interaction_events!!=   core/popover_region_controller!!?   core_message/message_repository!!   core/url    !!        B	 zM [\ rM [\ j                a    c    d    f    g    h    i    j    B N O N O j            5    B  
P !P P !P j            5    B  FP aP >P aP j            5    B  P R P R j               B P Q P Q j   Q         5    B tQ Q lQ Q j            5    B Q R Q R j   _         5 5   B  ER R =R R j            5    B  R &S R &S j   e         5    B  RS S JS S j               B S S S S j            5 5   B T U T U j     b          b    d    e    f    g    B NT HU FT HU j     "          a    B 2U FU *U FU j            5 5   B  yU U qU U j               B U U U U j   	         5 55   B  U W U W j   a	  "          c    B V lW V lW j   *
         5    B  W W W W j   
         5 5   B  W JY W JY j   E            B  {X X sX X j            5    B  Y <Y Y <Y j            5 5   B  vY X\ nY X\ j               B  Y 8Z Y 8Z j   N         5    B  sZ Z kZ Z j            5    B  Z Z Z Z j   [         5    B J[ [ B[ [ j            5    B  \ K\ \ K\ j            5 55!!      !!   jquery!!   core/templates!!#   core/notification!!=   core/custom_interaction_events!!K   message_popup/notification_repository!!M   message_popup/notification_area_events    !!       B ?] n 7] n k                a    b    c    d    e    f    g    h    B ^ _ ^ _ k   -         5    B  _ _ _ _ k   Q         5    B  _ _ _ _ k            5    B  ` 3` ` 3` k            5    B  S` j` K` j` k            5    B  ` ` ` ` k   +         5    B  ` ` ` ` k   _         5    B ` a ` a k            5    B !a 2a a 2a k            5    B  Wa ra Oa ra k            5    B  a a a a k   6         5    B  a (b a (b k            5    B  Pb kb Hb kb k            5    B  b b b b k   6         5    B b b b b k   x         5    B c 4c c 4c k            5    B ^c c Vc c k             5    B c d c d k   M         5    B 7d d /d d k     "       5   B d Gf d Gf k     "       5   B sf f kf f k   
             a    B  f f f f k   M
         5 5   B f h f h k   
  b          d    e    f    g    i    B >g h 6g h k   
  B          a    d    i    B g g g g k   G         5 5   B  5h ~h -h ~h k               B Sh |h Kh |h k            5 55   B  h j h j k   M            B i j i j k   f         5    B  j j j j k   U         5 5   B  k n k n k               B  k k k k k   Q         5    B l ^l l ^l k            5    B l m l m k   B         5    B Um m Mm m k            5    B n n m n k     "       555!!      !!   jquery!!#   core/notification!!   core/templates!!=   core/custom_interaction_events!!W   block_myoverview/calendar_events_repository    !!       B Xo y Po y l               a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    w    x    B iq q aq q l            5    B q q q q l            5    B q Rr q Rr l            5    B ]r r Ur r l            5    B r s r s l   O         5    B &s Gs s Gs l   {         5    B Rs xs Js xs l            5    B s s {s s l            5    B s t s t l            5    B t t t t l   h             a    B ^t t Vt t l            5 5   B t t t t l            5    B t ju t ju l   %         5    B uu u mu u l     0          b    c    B u u u u l            5 5   B u v u v l     P          b    c    d    e    B Qv v Iv v l            5    B  v v v v l             5 5   B v y v y l     @          c    g   B x x x x l   `	         5    B .x x &x x l   	             a    B x x x x l   	         5 5   B  x  y x  y l   M
         5 5   B y my y my l   b
             a    B  cy ky [y ky l   
         5 5   B y y zy y l   
         5 5!!      !!   jquery!!   core/ajax!!=   core/custom_interaction_events!!#   core/notification    !!       B Oz | Gz | m      P          a    b    c    d    B gz { _z { m                B z { z { m             5 55!!      !!   jquery!!=   core/custom_interaction_events    !!       B k|  c|  n   Z   p          a    b    c    d    e    f    B =} {} 5} {} n   ,         5    B } } ~} } n   u         5    B } R } R n                g    B N~ P F~ P n   =         5 55!!      !!   jquery!!   core/templates!!7   block_myoverview/paging_bar    !!        B   (  ( o   l   P          a    b    c    d    B r  j  o             5    B  p  p o   D  "          a    B  .  . o   p         5    B  H c @ c o            5 5   B     o            5    B     o   I            B j  b  o            5 5   B   %  % o                B     o   T         5 55!!      !!   jquery!!7   block_myoverview/event_list!!W   block_myoverview/calendar_events_repository    !!       B     p      p          a    b    c    d    e    f    B ]  U  p   2  0          m   B   9  9 p            5    B   ~  p   [  0          e    g    B  d  d p               B  2  2 p            5 5   B s  k  p   H         5 55   B     p   ~         5 5!!      !!   jquery!!   core/ajax!!#   core/notification    !!       B '    q   i   @          b    c    d    B B  :  q             5    B     q            5    B  a   a q   J         5 5!!      !!   jquery!!   core/ajax!!   core/config!!O   block_navigation/ajax_response_renderer    !!        B      r      `          a    c    d    e    f    B v  n  r      0          b    g    B     r   \         5 55!!      !!   jquery!!   core/tree    !!        B b # Z # s   C              b    B | ! t ! s   ]              a    B  m  m s                B    k  k s            5 5   B    ~   s   g            B      s            5 555!!      !!   jquery!!   core/templates!!#   core/notification!!   core/url    !!        B     t   u   p          a    b    c    d    e    f       e  '  ' t                 i   B     t      `          m    o   B M a E a t   '         5    B     t            5 55   B ]  U  t   7          55!!      !!   jquery!!   core/ajax!!   core/config!!O   block_navigation/ajax_response_renderer    !!        B     u   }   `          a    c    d    e    f       e " _  _ u             5   B     u     0          b    g    B   {  u            5 55!!      !!   jquery!!   core/tree    !!        B  &  & v   F              b    B 
 $  $ v   `   0          a   B  p  p v   %            B  # n  n v   y         5 5   B  #  # v               B   !  ! v   ,         5 555!!      !!   jquery!!   core/event    !!       B h A ` A w   ?   P          a    b    c    e    B ~  v  w   U             B     w             5 5   B  0  0 w                B  O . G . w   &  2          b    d    B  ,  , w            5 555!!      !!   jquery    !!       B     x   F              a    B     x   X          5    B 1  )  x             5 5!!      !!   jquery!!#   core/notification!!   core/str!!   core/ajax!!   core/log!!   core/templates!!!   tool_lp/dialogue    !!       B }  u  y                a    b    c    d    e    f    g    B  5  5 y             5    B ^ { V { y   x  B          g    h    i    B   y  y y            5 5   B     y     "          d    B     y     0          a    e    B Q  I  y   k         5 55   B      y            5    B  Z  Z y     "          c    B  F  F y   5         5 55!!      !!   jquery!!   core/templates!!#   core/notification!!   core/yui    !!        B     z   o   @          a    b    c    B ;  3  z      `          d    f    g    h    i       h O 3 E 3 z                 i   B      z            5    B     z   "  0          c    e    B  	 b  b z   _         5    B      z            5 5   B  &  & z   S         5 5      i  =  3  z              B     z            5 5   B     z   *         5 55!!      !!   core/str!!   core/yui    !!       B 9 } 1 } {   C   P          a    b    c    d    B T  L  {   ^          5    B  {  { {                e    f    g    h    i    j    k    l    B  w y o y {               B   w  w {            5 555!!      !!   core/ajax!!#   core/notification!!   core/templates!!   tool_lp/tree!!7   tool_lp/competency_outcomes!!   jquery    !!        B   
  |                a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    B K  C  |             5    B     |   e  0          b    e    B /  '  |               B     |   V            B  z  z |   S          5555   B     |   5         5    B  F  F |   u         5    B R e J e |            5    B z  r  |     0          a    b    B     |            5 5   B      |   d         5    B     |            5    B 3  +  |            5    B     |   #         5    B  3  3 |   \         5    B  O q G q |            5    B      |            5 5!!      !!   jquery!!   core/str!!   core/templates!!/   tool_lp/competency_rule    !!        B     }   r   @          a    c    d    B  & A  A }            5    B   8  8 }   -         5    B  d ^ \ ^ }     "          b    B   Z  Z }            5 5   B    ~  }            5    B   &  & }   W         5    B J  B  }               b    d    e    g   B  @  @ }                e    B  +  + }   Q         5 5   B |  t  }               B      }            5 55   B      }   {  2          c    d    B     }            5 55!!      !!   jquery    !!       B  ^  ^ ~   @              a    B "    ~   R          5    B     ~   *         5 5!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates    !!       B  =  =    k   @          b    c    d    B                  5    B   )  )      "          a    B        '            B          w         5 555!!      !!   jquery!!#   core/notification!!   core/templates!!!   tool_lp/dialogue!!7   tool_lp/competency_outcomes!!   core/str    !!       B           p          a    b    c    d    e    f    B  N  N              5    B  O  G              5    B  *  *             5    B  L  D       "          a    B         J         5    B                  5    B  ? n 7 n             5    B         e         5 5   B   4  4      "          b    B  0  0             5 5   B  O w G w             5    B   X  X    T  "          a    B  D  D                 b    B  B  B             5 55   B s  k     3         5    B   g  g      2          b    c    B  c  c             5 5   B   K  K    W  2          b    c    B  G  G             5 5   B  k  c     +         5    B   7   7             5    B  U  M     	  2          b    c    B        d	         5 5   B  W  W    	  2          b    c    B * S " S    	         5 5   B  z  r     :
  "          a    B        g
         5 5   B         
  2          b    c    B        
  0          d    e    B  5  -     
         5    B         V         5 55   B   R  R             5    B j  b     *         5    B         h         5    B                  5    B   ;  ;      "          a    B  K 9 C 9             5 5   B f  ^     &  "          c    B        t         5 5   B   9  9      B          b    c    d    B V j N j             5    B  ~ 7 v 7    >            B        Z         5    B   5  5             5 55   B  _  W              5    B         }  2          a    b    B  2 > * >             5    B  G [ ? [             5    B  l  d     ,         5 5   B                 5 5!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates!!   core/str!!!   tool_lp/dialogue    !!       B {  s                  a    b    c    d    f    g    h    B                   5    B  !  !              5    B C 0 ; 0    O  2          a    g    B                     c    B                 5 55   B Z  R     f  2          a    c    B                 5 5   B *  "     6         5    B        &            B                 5 5   B  
                5 5!!      !!   jquery!!   core/ajax!!   core/str!!1   tool_lp/competencypicker!!   core/templates!!#   core/notification    !!       B 4 ~ , ~                 a    b    c    d    e    f    g    B P  H               5    B  I  I      2          d    e    B :  2              5    B  5  5    ?         5 5   B  m P e P      "          b    B  N  N                 B         `  "          a    B  3  +              5 5   B + @ # @             5 55   B _ | W |             5 5!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates!!!   tool_lp/dialogue!!   core/str!!   tool_lp/tree    !!       B                     a    b    c    d    e    f    g    B 3  +               5    B         S  2          b    c    B g % _ %                 f    B  3  3    *  0          e    g    B  $ 	 $             5 55   B u  m              5    B                     c    B         ;         5 5   B 9 Z 1 Z             5    B  v  v    +         5    B        /	         5 5   B  ! K  K    	         5    B  h  `     	  "          a    B  
  
    
             b    B        X
         5 55   B F  >     
  "          e    B        V             b       b        d         555   B 2 a * a             5    B   |       2          b    c    B        4         5 5   B   H  H             5    B  m 0 e 0      "          e    B ) 7 ! 7             5    B                 5 5   B H f @ f             5    B   V ~ V      "          b    B   T  T    ;         5 5   B  t  l       "          a    B        !         5 5   B           "          b    B  D  <                 B x  p              5 55   B                  5    B K o C o             5    B                 5 5!!      !!   core/yui    !!       B        0              a    B        B   r          b    c    d    e    f    g    B  w  o                  B 9  1                 B  l  d              5    B                  5 555   B    6  6    H         5    B  V  N              5 5!!      !!   jquery!!   core/url!!   core/log    !!       B  q  q    @   P          a    c    d    e    B T X L X              5    B  y  q       "          b    B         #         5 5   B                 5    B        k         5    B  %   %     J         5    B  H    @                5    B          j  2       5    B        	         5    B  K  K    
         5    B l Y d Y    
         5    B |  t       b          g    B   3  3             5    B                  5 5   B  y  y    c  B       5   B                 5    B ?  7              5    B  #  #    ^         5    B D  <              5    B         m         5    B ' I  I             5    B  p n h n      "          b    B                 5    B        Q         5    B - h % h             5    B   }              5    B        <         5    B  /  /    ~         5    B I l A l             5 55!!      !!   jquery!!   core/ajax    !!        B        =   @          a    b    c    B        f   0          d    e    B e } ] }              5 55!!      !!   jquery    !!       B  1  1    -   `          a    b    c    d    e    B   A  A    I          5    B L  D               5    B  =  =    J         5    B  d R \ R      "          e    B                  5    B                  5    B   L  L    m         5    B j  b              5    B                 5    B         B         5    B  0 P ( P             5 5   B s  k       b          b    e    f    g   B P  H               55   B        d  "       5   B         	         5    B            p	         5    B   $   $    %  "       5   B $ ( $ (      "       5   B ( , ( ,      "       5   B *, . ", .    z  B       5   B 0. . (. .             5    B  . 1 . 1    M         5    B "1 1 1 1    r             c    B :1 1 21 1             5 55!!      !!   jquery!!#   core/notification!!   core/templates!!   core/ajax!!!   tool_lp/dialogue!!'   tool_lp/scalevalues    !!        B 22 Q; *2 Q;       p          a    b    c    e    f    g    B N2 3 F2 3              5    B  4 5 4 5    e  B          d    f   B  4 k5 4 k5                B .5 W5 &5 W5             5 55   B  5 86 5 86    
  "       5   B ]6 P8 U6 P8      B          b    c   B 6 7 6 7    J         5    B  7 8 7 8    <         5    B  A8 N8 98 N8             5 5   B  t8 : l8 :      2          b    c    B 8 9 8 9    -         5 5   B 6: : .: :                B ^: ~: V: ~:             5 5   B : $; : $;    	         5    B 3; O; +; O;    	         5 5!!      !!   jquery    !!       B ; > ; >    5              a    B ; ; ; ;    G          5    B  n< < f< <             5    B  < < < <    o         5    B  < = < =             5    B  /= F= '= F=             5    B  j= = b= =             5    B  = = = =    ]         5    B  = = = =             5    B > !> = !>             5    B J> a> B> a>             5    B > > w> >    +         5    B  > > > >    t         5 5!!      !!   jquery!!   core/str    !!       B 2? A *? A    D   0          a    b    B  ? QA ? QA       "          a    B @ OA @ OA             5 5   B dA A \A A    v  "          b    B A A A A             5 55!!      !!   jquery    !!       B 1B D )B D    G              a    B CB  C ;B  C    Y          5    B )C C !C C    ?         5    B C eD C eD             5 5!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates!!   core/str!!   tool_lp/tree!!1   tool_lp/competencypicker    !!       B E M E M       `          a    b    c    d    g    B E GF E GF              5    B  F G F G      #         b    B zG G rG G    z         5 5   B G 'I G 'I      2          d    e    B gH I _H I    g         5 5   B EI I =I I    E  2          b    c    B qI I iI I    q         5 5   B  I I I I             5    B  J SK J SK      "          e    B J J J J             5    B /K >K 'K >K    /         5 5   B  sK  L kK  L    s  "          b    B  K L K L             5 5   B  =L M 5L M    =  "          b    B  nL M fL M    n            B L L L L             5 555!!      !!   jquery!!#   core/notification!!!   tool_lp/dialogue!!   core/str!!   core/ajax!!   core/templates    !!       B N ,U N ,U       p          a    b    c    d    e    f    B 6N mN .N mN              5    B N nP N nP    +            B O OP O OP      "          a    B O 0P O 0P    j         5 55   B  P >Q P >Q             5    B aQ Q YQ Q             5    B Q Q Q Q             5    B R tS R tS                B  -S US %S US             5 5   B  S )U S )U                B @T 
U 8T 
U                B T T xT T             5 555!!      !!   jquery!!   core/ajax!!   core/templates    !!        B U W ~U W    W   @          a    b    c    B U V U V    }              d    B U U U U              5 5   B V W V W                  f    B V W V W      @          b    d    e    B W KW V KW             5    B  qW W iW W    B  !          c    B W W W W    n         5 5555!!      !!   jquery!!   core/templates!!   core/ajax!!#   core/notification!!   core/str    !!       B AX ^ 9X ^    r             a    b    c    d    e    f    g    h    i    k    B cX X [X X              5    B X Y X Y              5    B Y 5Z Y 5Z    P         5    B  @Z q\ 8Z q\    q            B [ >\ [ >\    @            B [ ;\ }[ ;\                B \ '\ \ '\    A         5 555   B |\ C^ t\ C^                B %] /^ ] /^    V            B ] ^ ] ^    '         5 55   B {^ ^ s^ ^             5 5!!      !!   jquery!!   core/ajax!!#   core/notification    !!       B ^ a ^ a    [   @          a    b    c    B ^ _ ^ _    w          5    B _ 6` _ 6`    G             d    B _ 2` _ 2`    n         5 5   B I` ` A` `             5 5!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/log!!-   tool_lp/grade_dialogue!!%   tool_lp/event_base!!'   tool_lp/scalevalues    !!        B a tg a tg       p          a    b    c    e    f    g    B a d a d                 B b c b c             5 5   B  e f d f      2          a    d    B Ce f ;e f    ?            B e f e f                 f    B Qf f If f    M         5 5555!!      !!   jquery!!   core/str!!/   tool_lp/competency_rule    !!        B g h g h    ^              c    B  g h g h    t         5    B  Qh h Ih h              5    B  h h h h    '         5 5!!      !!   jquery    !!       B h i h i    0              a    B  h i h i    B          5    B Qi oi Ii oi              5    B i i i i              5 5!!      !!   jquery!!   core/templates!!   core/ajax!!#   core/notification!!   core/str!!   tool_lp/menubar!!%   tool_lp/event_base    !!        B Yj Px Qj Px       P          a    c    f    g    B  wj j oj j              5    B 3k gl +k gl    {  "          a    B  k "l k "l             5    B  6l Zl .l Zl    ~         5 5   B l l l l             5    B l Em l Em    *         5    B im n am n      "          a    B   n In m In    H         5    B  ]n n Un n             5 5   B n n n n             5    B n To n To    ?         5    B vo p no p      "          a    B  p Rp p Rp    S         5    B  fp p ^p p             5 5   B p p p p              5    B p Uq p Uq    B         5    B vq r nq r      "          a    B  
r Qr r Qr    R         5    B  er r ]r r             5 5   B r r r r             5    B r Ps r Ps    >	         5    B ts "t ls "t    	         5    B Ot iu Gt iu    
         5    B u v u v             5    B v Mx v Mx    +         5 5!!      !!   jquery!!   core/ajax!!   core/templates    !!        B x { x {    U   @          a    b    c    B x #y x #y    {              d    B x y x y              5 5   B 6y { .y {                  f    B y { y {      @          b    d    e    B z { z {      @          e    f    g    B oz z gz z             5 5   B  6{ { .{ {      !          c    B `{ x{ X{ x{             5 5555!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates!!   core/str!!1   tool_lp/competencypicker!!1   tool_lp/dragdrop-reorder    !!       B 4| . ,| .                 a    b    c    d    e    f    g    B R| } J| }              5    B  9} w~ 1} w~      "          a    B }} c~ u} c~                B I~ a~ A~ a~             5 55   B ~  ~       "       5   B   &  &    [  R          e    g    h    j    B                    B  [  [    ]         5    B '                5    B        	         5    B        	            B        %
         5 555   B D P < P    
  2          h    i    B  <  <    6            B  (  (    U         5 55   B s  k       R          a    d    f   B                    B D  <                 B  n  f              5 555   B   +  +    =  "          e    B T 3 L 3      0          h    i    B                    B        8         5 55   B g  _              5    B  )  )    =         5 55!!      !!   jquery!!   core/templates!!   core/ajax!!#   core/notification!!   core/str!!   tool_lp/menubar!!G   tool_lp/competencypicker_user_plans    !!       B  N  N                 a    b    c    d    e    f    g    B           "       5   B  "  "             5    B C  ;       "          e    B w  o     F         5 5   B          "          f    B  Z  R     )         5 5   B  *  *             5    B N  F       2          a    f    B                    B   {     R            B         |         5 555   B  m  m             5    B  Y  Y    q  2          b    e    B  @  @             5 5   B  !  !    Z	  2          a    b    B        	         5 5   B [  S     *
         5    B        
         5    B                 5    B 0  (              5    B                 5    B  s  s      2          a    f    B & _  _                B  K  K                B   I  I             5 555   B        ~         5    B > G 6 G             5    B k ~ c ~    :         5    B   K  K    q         5 5!!      !!   jquery!!   core/url!!   core/templates!!#   core/notification!!   core/str!!   core/ajax!!1   tool_lp/dragdrop-reorder!!   tool_lp/tree!!!   tool_lp/dialogue!!   tool_lp/menubar!!1   tool_lp/competencypicker!!7   tool_lp/competency_outcomes!!9   tool_lp/competencyruleconfig    !!       B v  n     %  `          l    t    k    b    P    G    O    Y    s    j    a    X    F    w    r    W    N    E    _    z    q    h    V    i    D    x    y    p    L    U    C    o    f    T    K    B    M    n    e    S    J    A    v    m    d    R    I    u    c    Z    Q    H    $    B         w  0          f    g    B  |  t     +         5    B        l         5 5   B   ^  ^             5    B  i r a r                B 3 X + X             5 5   B }  u     ,             b    B                 5    B  M ^ E ^             5    B         =         5 5   B  E  E    W         5    B P z H z                 g    B  f  f    `
  @          b    h   B  R  R    x             a    B * > " >             5 555   B   ~ } ~    4         5    B  -  -    8            B        x         5 5   B 8 O 0 O             5    B  Z  R     	         5    B         l         5    B  "                   B        v            B  u  u                 a    B P a H a             5 555   B   .  .    W            B "                    h    B T  L              5    B R  J                 B        D         5 555   B 9  1              5    B  R  R    p             b    B  D  D             5 5   B  ]  U                  b    B  f  f    V            B ; R 3 R             5 55   B   #  #    S            B                 5 5   B .  &              5    B        9         5    B                 5    B # c  c             5    B n  f              5    B                    B V  N                 B        A         5 55   B   :  :             5    B E  =              5    B        `          5    B           0          b    g    B          `!             d    B        !         5 5   B  ] 
 ]    !         5    B  l  d     "            B        ["         5 5   B   H  H    "         5    B W  O     #         5    B         \#            B        #            B ]  U     $         5 555   B        $         5    B  W  W    $         5    B b  Z     %  @          f    h   B        @'         5    B        b'         5 5   B  B   B    '         5    B W  O     (         5 5!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/templates!!!   tool_lp/dialogue!!%   tool_lp/event_base    !!       B 7 $ / $       `          a    b    d    e    f    B S  K               5    B   E  E    M  "          b    B   4  4             5    B v  n              5    B  C  C    0         5 5   B  `  X              5    B           "          a    B        +         5 5   B : i 2 i             5    B           "          a    B                 5 5   B  #       y         5    B   !  !    L         5 5!!      !!   jquery!!   core/templates!!   core/ajax!!#   core/notification!!   core/str!!-   tool_lp/actionselector    !!       B                     a    b    c    d    e    f    g    h    i    j    k    l    B  '  '              5    B 2 | * |             5    B   Y  Y    `         5    B d a \ a    =         5    B l y d y    E  "          j    B R e J e    +             a    B h Q ` Q    A            B  B  B    s            B  @  @             5 5   B  =  =             5 555   B                 5 5!!      !!   jquery!!#   core/notification!!   core/str!!   core/ajax!!   core/templates!!!   tool_lp/dialogue    !!       B M " E "       p          a    b    c    d    e    f    B i  a               5    B = < 5 <      B          f    g    h    B g : _ :             5 5   B ` h X h      "          d    B  T  T      0          a    g    B  @  @    A         5 55   B    ~              5    B A  9       "          c    B }  u              5 55!!      !!   jquery!!#   core/notification!!   core/ajax!!   core/str!!   core/log    !!       B  {  {    k   p          a    b    c    d    e    f    B  g  g                  h    B  d  d       0          g    i    B v $ n $    Q            B   "  "    {            B                   5 55555!!      !!   jquery!!#   core/notification!!   core/templates!!!   tool_lp/dialogue!!%   tool_lp/event_base!!   core/str    !!        B 
          p          a    b    c    d    e    f    B & g  g              5    B         q  B          b    c    d    B                 5    B   1  1    n         5    B L  D              5 5   B         \         5    B                     B E  =       "          a    B |  t              5 55   B  *  *    }         5    B  G  ?              5 5!!      !!   jquery!!   core/templates!!   core/ajax!!#   core/notification!!   core/str!!   tool_lp/menubar!!!   tool_lp/dialogue    !!        B M  E                  a    b    c    d    e    f    g    B k  c        "       5   B  -  -             5    B J  B              5    B  &  &      "          e    B        "         5 5   B K  C       "          f    B                  5 5   B 2  *     w         5    B  @  @      2          a    f    B  ,  ,    b            B                    B         I         5 555   B c  [              5    B        0  2          a    b    B P o H o                B  [  [    ^	            B  C Y ; Y    	         5 555   B        	         5    B 4  ,     y
  2          a    b    B        
            B f  ^                 B                  5 555   B  k  k    :         5    B  3  3      2          a    b    B        5            B                    B   	  	    8         5 555   B Y  Q              5    B        )         5    B -  %     r         5    B        
         5    B  r  r    Q         5    B                 5    B  6  6             5    B V p N p             5    B                 5    B   %    %     S         5    B G    ?                5    B                     5    B  x 	 x    V            B  d  d                B  P  P    9             a    B - < % <    r         5 555   B                 5    B         M         5    B ) I ! I    n         5    B  m  e              5 5!!      !!   jquery!!   core/ajax!!   core/log!!#   core/notification!!   core/templates!!   core/config!!   core/str    !!        B                     a    b    c    d    e    f    g    h    i    j    B 9  1        0       5    B          P          B l  d              5    B  6  6    ]         5    B                 5 5   B          ^             c    B        q         5 5   B u  m              5 5!!      !!   jquery!!   core/ajax!!   core/log!!#   core/notification!!   core/templates!!   core/config    !!        B ? x 7 x                 a    b    d    e    f    g    h    i    j    B [  S                  B                  5 5   B        I         5    B  Y  Y    H             a    B  G U ? U             5 5   B  d  \              5 5!!       C         	                             
            ( | (    	              =       'E   Q=      '      T :  6   T   =      'E   Q   5             =   T     T  T :  6   Q
,    object   exports   undefined   module   function   define   amd+   tool_usertours/popper   Popper!!      a   b        +H;      5!!       C         R   z      F                 /             6 ZZ . ZZ                       
  Q      Q    ,  Q    (  Q    #  Q      Q      Q      Q      Q	      Q
      Q    +  Q    '  Q    "  Q      Q      Q      Q   W  Q   W  Q      Q    *  Q    &  Q    !  Q      Q      Q      Q    %  Q      Q      Q      Q      Q      Q       Q!    -  Q"    )  Q#    $  Q$      Q%      Q&   W  Q'   W  Q(   W  Q)      Q*   W  Q+   W  Q,   W  Q-   W  Q.   W
  Q/   W  Q0   W  QZ   =    `    =   `      Q1   W   Q=      'W  QZ   =   `    =   `   =   `   W  Q>   Q>W	  Q O   mV  E&   Q   5   	   
V  V	  7: >   ?   Q&   V	  ?W	  QV	  V  
   V  E   QV      5   : W  QV     V  
   V      Q2      Q3   :     Q4    	  Q   5   D   Q5      Q[6      ]       ]    *  ]      ]      ]      ]    &  ]    
  ]    '  ]      ]    !  ]    ,  ]      ]      ]      ]      ]    (  ]      ]    %  ]       ]!    +  ]"      ]#    #  ]$      ]%      ]&      ]'   V   ](      ])      ]*      ]+    -  ],    )  ]-    $  ].      ]/   W  Q[@   [7   d]0   C]1   V
  ]2   ]3   [8   X ]0   C]1   V  ]2   >]4   ]4   [9   X,]0   C]1   V  ]2   Z   =5   `    =6   `   =7   `   =8   `   ]9   ]:   =;   ]<   ]=   [:   X]0   C]1   V  ]2   ]>   [;   X]0   C]1   V  ]2   =?   ]@   ]A   [<   XX]0   C]1   V  ]2   =B   ]C   ]:   =D   ]<   ]B   [=   X]0   B]1   V  ]2   ]E   [>   X ]0   C]1   V  ]2   ]F   [?   X]0   C]1   C]G   V  ]2   V  ]H   ]I   W  Q[C   =8   ]J   C]K   A   ]L   B   ]M   V  ]N   W  QD   :  W  QV  V  0O   QV  fE   0P   QV  V  0Q   QV   1}(R
&OC_'PM
`  z  &







"






 	      native codeI   [object MutationObserverConstructor]   undefined   window	   Edge   Trident   Firefox   navigator   userAgent   indexOf   length!   MutationObserver   Object   assign)   computeAutoPlacement   debounce   findIndex   getBordersSize   getBoundaries+   getBoundingClientRect   getClientRect   getOffsetParent   getOffsetRectG   getOffsetRectRelativeToCustomParent   getOuterSizes   getParentNode!   getPopperOffsets   getPosition'   getReferenceOffsets   getScroll   getScrollParent1   getStyleComputedProperty1   getSupportedPropertyName   getTotalScroll   getWindowSizes   includeScroll   isFixed   isFunction#   isModifierEnabled%   isModifierRequired   isNative   isNumeric   isTransformed)   removeEventListeners   runModifiers   setAttributes   setStyles'   setupEventListeners   order   enabled   function   shift   offset	   left   right   top   bottom   priority   padding   scrollParent#   boundariesElement   preventOverflow   keepTogether   [x-arrow]   element   arrow	   flip   behavior   viewport   inner	   hide   gpuAcceleration   onLoad   applyStyle   placement   eventsEnabled   onCreate   onUpdate   modifiers   Utils   placements   Defaults!!A      ga   t   k   b   Y   P   G   s   j   fa   a   X   O   F   ea   r   i   W   N   E   da   z   q   h   _   V   M   ba   D   y   p   g   aa   U   L   C   x   o   f   T   K   B   ca   ha   w   n   e   S   J   A   ka   v   m   d   R   I   ja   u   l   c   Z   Q   H   ia   $        +H!!          a P  F               5!!          b        K         5!!          c ' \  \             5!!          d f " \ "             5!!          e ,  "              5!!          f                 5!!          g  j  j    O         5!!          h t  j       `       5 !!          i        C  !       5 !!          j  c  c    E         5!!          k m T c T             5!!          l  ^ X  T X     	         5!!          m b  Y! X  Y!    
          5 !!          n c! ." Y! ."              5 !!          o 8" " ." "             5!!          p " $ " $    [  P       5!!          q $ % $ %    Z             e   B % % % %             5 5!!          r % & % &    c  P          a    b    c    d   B  /& ;& '& ;&             5    B  i& & a& &             5 5!!          s & & & &    '  0          a    b   B  & & & &    C            B  & & & &    b         5 55!!          t & 4' & 4'    ~         5!!          u >' ' 4' '      0          b    c   B ~' ' v' '             5    B ' ' ' '    +         5 5!!          v ' ( ' (    _         5!!          w %( ( ( (             5!!          x ( }) ( })    ~             b   B k) {) c) {)             5 5!!          y ) * }) *             5!!          z * * * *             5!!          A * + * +              5 !!          B + , + ,    U         5!!          C , e, , e,                 b   B 6, c, ., c,             5 5!!          D o, , e, ,      @          b    c    d   B , , , ,             5    B , , , ,    H         5 5!!          E - 6- , 6-             5!!          F @- - 6- -             5!!          G - {. - {.                 b   B - ). - ).    |         5 5!!          H . / {. /    
             b   B . 
/ . 
/    W         5 5!!          I / / / /      0          a    b   B =/ / 5/ /             5 5!!          J / %0 / %0      0          a    b   B / #0 / #0    5         5 5!!          K /0 0 %0 0             5!!          L 0 q1 0 q1    :         5!!          M {1 E3 q1 E3              5!!          N O3 3 E3 3             5!!          O 3 97 3 97    K          5 !!          P C7 s7 97 s7    !         5!!          Q }7 ; s7 ;    "            a    b    c    d    e    f    g   B 8 ; 8 ;    .#         5 5!!          R ; < ; <    E&         5!!          S < x@ < x@    p'  0          a    c   B h= t? `= t?    '  @       55!!          T @ B x@ B    +  P          c    e    g    h   B $A A A A    +         5    B A )B A )B    ,         5    B DB B <B B    ,         5 5!!          U B C B C    <-          5 !!          V C E C E    [.  0         B D D D D    \/         5 5!!          W E F E F    {0         5!!          YB ?G G 7G G    1             a   B YG G QG G    1         5 5!!          daB OH H GH H    2         5 !!          ea<b  H I H I    43             a      a H XI H XI    A3          5    B gI I _I I    3         5 5!!          faB I J I J    *4         5 !!          ga<b .J J &J J    4  !       5 !!    "   !!)   computeAutoPlacement!!!!   debounce!!!!   findIndex!!!!   getBordersSize!!!!   getBoundaries!!!!+   getBoundingClientRect!!!!   getClientRect!!!!   getOffsetParent!!!!   getOffsetRect!!!!G   getOffsetRectRelativeToCustomParent!!!!   getOuterSizes!!!!   getParentNode!!!!!   getPopperOffsets!!!!   getPosition!!!!'   getReferenceOffsets!!!!   getScroll!!!!   getScrollParent!!!!1   getStyleComputedProperty!!!!1   getSupportedPropertyName!!!!   getTotalScroll!!!!   getWindowSizes!!!!   includeScroll!!!!   isFixed!!!!   isFunction!!!!#   isModifierEnabled!!!!%   isModifierRequired!!!!   isNative!!!!   isNumeric!!!!   isTransformed!!!!)   removeEventListeners!!!!   runModifiers!!!!   setAttributes!!!!   setStyles!!!!'   setupEventListeners!!    !!       !!   order!!!!   enabled!!!!   function!!    !!       !!   order!!!!   enabled!!!!   function!!!!   offset!!    !!       !!   order!!!!   enabled!!!!   function!!!!   priority!!!!   padding!!!!#   boundariesElement!!    !!       !!   order!!!!   enabled!!!!   function!!    !!       !!   order!!!!   enabled!!!!   function!!!!   element!!    !!       !!   order!!!!   enabled!!!!   function!!!!   behavior!!!!   padding!!!!#   boundariesElement!!    !!       !!   order!!!!   enabled!!!!   function!!    !!       !!   order!!!!   enabled!!!!   function!!    !!       !!   order!!!!   enabled!!!!   gpuAcceleration!!!!   function!!!!   onLoad!!    !!    	   !!   shift!!!!   offset!!!!   preventOverflow!!!!   keepTogether!!!!   arrow!!!!	   flip!!!!   inner!!!!	   hide!!!!   applyStyle!!    !!           onCreateB  O O O O    0:         5 !!          onUpdateB  O O O O    F:         5 !!       !!   placement!!!!   eventsEnabled!!!!   onCreate!!!!   onUpdate!!!!   modifiers!!    !!           ka<b  O Y O Y    d:             a      a O {T O {T    q:  3          d    e   B  `P P XP P    :         5    B Q Q }Q Q    
<         5    B Q "R Q "R    f<         5    B R R R R    =          5   B JS gS BS gS    =         5    B S S S S    >         5 5   B  T V T V    )?  "       5   B  V BX V BX    pA         5    B  nX X fX X    B         5    B  Y {Y X {Y    C         5 5!!      !!	   auto!!   auto-start!!   auto-end!!   top!!   top-start!!   top-end!!   right!!   right-start!!   right-end!!   bottom!!   bottom-start!!   bottom-end!!	   left!!   left-start!!   left-end   ;      _   5 !!      !!   jquery!!   core/str!!#   core/notification    !!        B Z \ Z \    W   P          a    b    c    d    B Z 0\ Z 0\    y              d    B [ .\ [ .\    d            B  [ \ [ \             5 55   B  ?\ \ 7\ \             5 5!!       C            )                                    \ ] \ ]                   =       'E   Q   5   ;         =   Z   =   `    =   `           =      'E   Q   5   B         	   	   =   : 	   	   =
   : : 6   -            5      5   : 6   Q9	c/1    function   define   amd'   tool_usertours/tour   jquery   ./popper   object   module   exports   require   popper.js   $   Popper	   Tour!!      a   b       +H!!       B ] +] ] +]    q          5 ;5!!       B ]  ]       @   1       a    b    d       c ] ] ] ]    1         5   B +^ ?^ #^ ?^             5    B H^ ^ @^ ^             5    B ` ` _ `    h  C       5   B  a a a a    z         5    B a c a c    )  2          a    b    B  hb b `b b                 c    B b b b b             5 55   B  c ?d c ?d             5    B fd >e ^d >e             5    B ce f [e f             5    B  ?f mf 7f mf    	         5    B f Mg f Mg    	  B       5   B tg %h lg %h    
  "       5   B Ph h Hh h      "       5   B i Ei 	i Ei    r         5    B fi i ^i i             5    B i Uj i Uj    -         5    B j j xj j             5    B  j /k j /k    ^         5    B  Mk k Ek k             5    B k l k l             5    B 5l m -l m      "       5   B n n n n    q         5    B n Yp n Yp    #         5    B |p p tp p             5    B p Jq p Jq    )  "          b    B *q =q "q =q             5 5   B oq q gq q             5    B r t r t    o  "         B s Wt s Wt    E         5    B t t t t             5 5   B  t Ou t Ou    :            B u 6u 
u 6u    s         5 5   B ou ,x gu ,x             5    B  Tx ~x Lx ~x             5    B x | x |      2          c   B  z z z z             5 5   B | } | }    Z   "          b    B  3} } +} }                 B  } } } }              5 55   B }  }     \!         5    B        _$  B          b    c   B         %  R          d    g    B C b ; b    %         5 55   B  =  =    l'  2       5    B  ^ z V z    (         5    B         (  "       5   B        )  "         B  q  i     ,         5 5   B  3 p + p    -         5    B         -         5    B        A.         5    B  J  B     /         5    B  R 
 R    s0  "       5   B x  p     2  2          B         8         5 5   B        M8  0       5    B        N9          5   B  T  T    @:          5   B  {  s     :  B          b    c    d    B  0  0    ;          5   B ^ l V l    ;         5    B        <         5 5   B         H<  @          b    c    d    B  i  i    }<         5    B   |     <         5 55!!      !!   jquery!!   core/ajax!!   core/str!!#   core/notification    !!       B Q ; I ;    c   P          a    c    d    e    B u  m                   b    B `  X     r            B                  5 55   B   #  #             5 5!!      !!   core/ajax!!'   tool_usertours/tour!!   jquery!!   core/templates!!   core/str!!   core/log!!#   core/notification    !!        B  ^  ^                 a    b    c    d    e    f    g    h    B                     B                 5 5   B   
                  b    B                 5 5   B  +  #                 B l  d     .         5 5   B                    B                 5 5   B  % &  &             5    B  @ D 8 D             5    B \ ( T (                B                 5 55!!      !!   exports!!   ./util    !!        B        9   @          d    e    f       c        V          5      d  @  @              5   B   n ~ n    %             a       a  /  /    2          5    B > m 6 m             5 5   B {  s                 a    b    c    g    j    k    m    n    o    B  h  `           
       b       b u  k              5   B  ;  ;    Y         5    B  Z  R              5    B  '  '    T         5    B Q  I              5    B        J         5    B        T         5    B          "          c    B  ) } ! }             5 5   B        D             a    B        W         5 5   B   
  
             5 5   B         H         5 55!!      !!   exports!!   ./util    !!        B % &  &    7   @          d    e    f       c B m 8 m    T          5      d w  m               5   B    	     #             a       a        0          5    B                 5 5   B                    a    b    c    g    j    k    l    m    n    o    B  >  6     P             b       b K i A i    ]         5   B   f  f      R          b    d    B   <  <             5 5   B    }              5    B                 5    B 0  (     B	  0       5    B 0  (     B  "          c    B  M  E     _  "       55   B                  5 5   B W  O     i         5    B                  5 55!!      !!   jquery!!   ./tether!!   core/event    !!       B q   i      H   0          a    c    B         t            B        o            B                  5 555!!      !!   exports!!   ./util    !!        B _ ] W ]    <   P          d    e    f    g       c |  r     Y          5      d                  5   B        d         5    B                 5    B                      a       a                  5    B                 5 5   B  E  E                a    b    c    h    k    l    m    n    o    p    q    r    s    B                      i       i  ]  ]             5   B    }     b         5    B           b          b    g   B  h  `     E	         5 5   B   I  I    
  B          b    B  >  6              5 5   B q  i     N         5    B   7  7             5    B Y  Q     6         5    B   #  #             5    B  E  =     "  "          b    B                 5 5   B K  C     (          5   B  M  M             5    B u  m     R  "          b    B         o  "       55   B                  5    B                  5 5   B G  ?     $         5    B   B  B             5 55!!      !!   jquery!!=   core/custom_interaction_events!!   core/log    !!       B        \   `          a    b    c    d    e    B  o  g                 B # b  b             5 5   B   ?  ?                B  =  =             5 5   B a  Y       "       5   B                 5    B                     B                    B ^  V              5 55   B         q	         5 5!!      !!   exports    !!        B  U  U    1   0          b    c       b 2  (     L          5   B                       a       a  n  n               5    B }  u              5 5   B  =  =                a    d    e    f    i    j    k    m    B   d  d    4             d       d ' E  E    A         5   B  m F e F      B       5   B  e  ]              5    B  5  5      "          b    B   3  3             5 5   B  R ^ J ^    l         5 5   B  ,  ,             5    B d  \     ~         5    B   :  :    -         5 55!!      !!   jquery!!   core/event    !!       B        J   0          a    b    B        g              d    B                  5 55!!      !!   exports!!   ./util    !!        B        =   P          d    e    f    g       c  3  3    Z          5      d =  3               5   B  '  '    e         5    B 0  (              5    B   u  u                 a       a  6  6              5    B E t = t             5 5   B   z                 a    b    c    h    i    k    l    m    n    o    p    q    r    B         Q             j       j        ^         5   B           B          b    d    f    B  s  s    9         5    B   |              5    B                 5    B        	         5 5   B         l	         5    B #       u
          5   B   n  n    _         5    B                  5    B  - T % T      2       5    B u  m       "          b    B                 5 5   B  " ^  ^    t         5    B          "          b    B           "       55   B                  5    B                  5 5   B   t   t    Z          5   B                  5 55!!       C         	                                               	              =       'E   Q   5             =   T  M   =      '+      T          : 6      T  T :  6   Q*#    function   define   amd%   theme_boost/tether   object   exports   module   require   Tether!!      a   b        +H;      5!!       C           |      3                  G             >\  >\                       %  Q       Q      Q      Q      Q    
  Q      Q      Q    )  Q	    $  Q
      Q      Q      Q      Q    %  Q    	  Q      Q      Q    (  Q    #  Q      Q   :     Q>(   Q=       'E   Q[   Z    ]      Q@   Q   :   "  Q[      Q      QZ       Q      Q      Q   :  W   Q   [       ]      ]      ]    
  ]      ]    $  ]    )  ]      ]	      ]
      ]      ]    "  ]   V   ]      ]      ]   0   Q   :   +  Q   :     Q     '  Q=       '      A=   ,  R p   5   W  QV  5      QV  5      QV  5    
  QV  5      QV  5    $  QV  5    )  QV  5
      QV  5      QV  5      QV  5      QV  5      Q!   :     QZ       Q"      Q#   :   Q[$   =   ]   =   ]   =   ]      Q[%   =   ]   =   ]   =   ]      Q[&   >]   >]   =   ]   =   ]   =   ]   =   ]      Q'    *  Q(    &  Q)    !  Q !     Q*   V   : W  QV  Z    0   Q      0   Q   V     : W  Q+   :   +  Q   5   W  QV  5      QV  5      QV  5
      QV  5      QZ   =   `    =   `   =   `   =   `      Q   5      
[-   ,   ]    Q   5   W  QV  5      QV  5
      QV  5      Q   5      
[/   .   ]    Q0   :   +  Q   5      
[2   1   ]    QV     3 ". 		
    3	E


  9 n  N % 


 

       undefined   modules7   getActualBoundingClientRect!   getScrollParents   getBounds   getOffsetParent   extend   addClass   removeClass   hasClass   updateClasses   defer   flush   uniqueId   Evented!   getScrollBarSize%   removeUtilElements   Utils   Errorg   You must include the utils.js file before tether.js   center   right	   left   middle   bottom   top   50%	   100%   position	   push!!1      a   b   c   t   k   P   G   s   j   O   F   r   i   W   N   E   z   q   h   V   M   D   y   p   g   U   L   C   x   o   f   T   K   B   w   n   e   S   J   A   v   m   d   R   I   u   l   Q   H      +H!!           d  ,  ,              5!!          e 6  ,     /  0       5!!          f '            P       5!!          g    I    I              5!!          h S  ! I  !    L         5!!          i + _ ! _    $         5!!          j  i / _ /    b         5!!          k  9  /     2  !          a   B                 5 5!!          l        	  0          a    B c  [     \	         5 5!!          m        	  0          a    B : [ 2 [    3
         5 5!!          n        
         5!!          o                 5!!          p                 5!!          q  *  *      0          a    b   B                 5    B  (  (             5 5!!          d 4  *     -         5!!          r  	  	             5!!          s 	 )
 	 )
             5!!          t  3
 
 )
 
    ,         5!!          u  
  
       !          a   B                 5 5!!          v  k  k             5!!          w u  k     n             b   B  Q  I     J  0          e   B O  G     H         5 55!!          x<b                      a       a                  5    B                 5 5!!       !!   modules!!    !!           A<b  " J  J                 a    B  < I 4 I    5         5 5!!            !!          CB  \ s T s    U             b   B  \ k T k    U         5 5!!          EB   {     |         5!!          FB                  5!!          G<b                      a       a                  5   B                  5    B  *  *    	         5    B E 4 = 4    >         5    B S  K     L  3      5 5!!       !!7   getActualBoundingClientRect!!!!!   getScrollParents!!!!   getBounds!!!!   getOffsetParent!!!!   extend!!!!   addClass!!!!   removeClass!!!!   hasClass!!!!   updateClasses!!!!   defer!!!!   flush!!!!   uniqueId!!!!   Evented!!!!!   getScrollBarSize!!!!%   removeUtilElements!!    !!          H<b   (  (                 a       a  {  {      p       5   B  '  '             5 5!!          x<b  5  -     .             a       a B  8     ;          5    B                 5 5!!          IB * R " R    #  0       5!!          K<b  | \ t \    u          5!!          MB  n  f     g            B   {     |          5 5!!       B            P          a    b    c    d       eB                    5    B        !         5 5!!       !!   center!!!!	   left!!!!   right!!    !!       !!   middle!!!!   top!!!!   bottom!!    !!       !!   top!!!!	   left!!!!   middle!!!!   center!!!!   bottom!!!!   right!!    !!          QB  4  4    "         5!!          RB ?  7     8#         5!!          SB          #         5!!          U<b "  E   E    $             b       b 0  N! &  N!    )$  "          c   B ! <!   <!    $         5 5   B  ! N" w! N"    x%         5    B p" ' h" '    i&  #          b    B n$ ?% f$ ?%    g(         5 5   B  ' - ' -    +  2       5    B  . . - .    1         5    B 4. . ,. .    -2         5    B  . /0 . /0    2  #          a    B / 0 / 0    3         5 5   B  N0 91 F0 91    G4  "          a    B 1 71  1 71    5         5 5   B  X1 1 P1 1    Q5  "          a    B 1 1 1 1    5         5 5   B 1 l5 1 l5    5  2          c    f    B R4 4 J4 4    K8         5    B  4 j5 4 j5    8         5 5   B  5 > 5 >    9  s          a    x    z   B  }6 6 u6 6    v:         5    B  W7 u7 O7 u7    P;         5    B  I< > A< >    B@  P          b    d    f   B  x< < p< <    q@         5    B  < < < <    @         5    B "= [= = [=    A         5 55   B ? E ? E    C           a    b    c    j    l    m    p   B E@ A =@ A    >D          5   B   C C C C    G             d    B  eC {C ]C {C    ^G         5    B  C C C C    G         5 5   B  E E E E    I         5 55!!          H<b  E G E G    I             a       a F F E F    I  p       5   B F G F G    J         5 5!!          positionB H U H U    L            b    c    d    e    g    i    m    n    o    p    r    s   B  H H H H    L         5    B  SI qI KI qI    LM         5    B I 3J I 3J    M         5    B GJ J ?J J    @N             a    B {J J sJ J    tN         5 5   B J U J U    N  @          u    v   B pQ Q hQ Q    iU         5    B  S S R S    V             a    B S S |S S    }W         5 5   B  S ZT S ZT    W             a    B DT XT <T XT    =X         5 55   B  U U U U    Y         5 5!!       !!   position!!    !!          positionB FV X >V X    ?Z            b    c    d    i    j    k    l    m    n    B  V V V V    Z         5    B W CW W CW    [         5    B }W W uW W    v[         5    B X 8X X 8X    	\         5    B wX X oX X    p\         5    B  X X X X    \         5 5!!       !!   position!!    !!          H<b  Y Z X Z    \             a       a Y Y 	Y Y    ]  p       5   B Z Z Y Z     ^         5 5!!          positionB Z 9\ Z 9\    ^  2       5 !!       !!   position!!    ;5!!      !!   exports!!   ./util    !!        B z\ t| r\ t|    9   P          d    e    f    g       c \ \ \ \    V          5      d \  ] \  ]              5   B ] ] ] ]    a         5    B ] ^ ] ^    ~         5    B  ^ _ ^ _                 a       a )^ ^ ^ ^              5    B ^ _ ^ _             5 5   B _ \| 	_ \|                a    b    c    h    i    k    l    m    n    o    p    q    r    s    t    B  (b Jz  b Jz                 j       j 5b )c +b )c             5   B Qc c Ic c             5    B c e c e    ^  "          c    B  e e e e                B Me e Ee e    	         5 55   B e g e g    	         5    B  h Li g Li             5    B ni i fi i    -         5    B i Hl i Hl      2          c    f    B  k k k k    u         5 5   B  ml m el m    ,  "          b    B l m l m    j         5 5   B  ;m m 3m m      "          b    B m m m m    [         5 5   B  n wn n wn             5    B  n o n o    X  "          b    B  o o o o             5 5   B  o o o o    p         5    B p s p s      R          b    c    B yq r qq r    8         5    B  *s Hs "s Hs             5 5   B  t +t t +t             5    B  Pt Mu Ht Mu             5    B  vu u nu u    5         5    B  u ]v u ]v             5    B  v Zw zv Zw    A         5    B  w w yw w    @         5    B  w x w x             5    B x y x y      2          b    c    B  x y x y      "       55   B  z z z z             5    B  8z Dz 0z Dz             5 5   B z { z {    I  2          c    i    B f{ { ^{ {    %            B  { { { {    X         5 55   B  2| Y| *| Y|             5 55!!      !!   exports!!   ./util    !!        B |  |     ;   P          d    e    f    g       c | | | |    X          5      d } X} | X}              5   B } } } }    c         5    B } I~ } I~             5    B  T~ < L~ <                 a       a a~ ~ W~ ~              5    B  ;  ;             5 5   B I  A       0         a    b    c    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    B         R             j       j        _         5   B         H         5    B   
  
    }         5    B  / S ' S             5    B q  i       2       5    B   a  a    
         5    B  } h u h      2          b   B  >  6              5 5   B  ~ | ~      B          b    c    d    B         d         5 5   B         ,         5    B   #  #    t         5    B  E  =              5    B                 5    B         s         5    B         >         5    B  !  !             5    B  F j > j      "          b    B                  55   B   |  |             5    B        #  "          c    B  O q G q             5 5   B  }  }    >  "          c    B  5 X - X             5 5   B         2         5    B                 5    B                  5    B        O   "          b    B         l   "       55   B         !         5    B  # /  /    !         5    B  I U A U    !         5    B  s  k     !         5    B         #"         5    B         N"         5    B         {"         5 5   B  Z  R     "         5 55!!      !!   exports    !!        B  C  C    /             B  +  +                 a    b    c    d    e    f    h    i    j    k       b , r " r              5      c |  r               5      d   -  -               B  +  +    ?         5 5      e  7  -              5      f  M  M    (  2          c    d   B         h         5    B  $ D  D             5 5      g  W  M              5   B                 5    B  i  i    [         5    B y  q              5    B        +         5    B         b         5    B /  '               555!!      !!   exports!!   ./util    !!        B   z     <   P          d    e    f    g       c        Y          5      d  (  (              5   B        d         5    B                 5    B  $                    a       a 1  '               5    B                 5 5   B  n  n               a    b    c    h    i    k    l    m    n    o    p    q    r    s    t    u    B  5 , - ,                 j       j B D 8 D             5   B  j  b     $         5    B         s         5    B   !  !             5    B >  6              5    B 7 8 / 8             5    B R  J     
  B          b    c   B  1 C ) C    
         5 5   B                  5    B                 5    B  @ C 8 C             5    B c  [       "       5   B  t  t             5    B        Y         5    B  +  +             5    B ]  U       "       5   B 5  -                 b    d    f    g    i    k   B   K  K    D            B  $ G  G             5 55   B          "          b    B  "         "       55   B        t  2       5    B                  5    B   &  &             5 5   B         Z            B         y         5 5   B  D k < k             5 55!!      !!   exports!!   ./tooltip    !!       B        >   p          d    e    f    g    h    i       c        [          5      d  m  m              5      e w  m               5      f  K  K             5   B        D         5    B  <  <    a         5    B  G / ? /                 a       a T  J               5    B  .  .    v         5 5   B <  4                 a    b    c    j    k    l    m    n    o    p    q    r    B  4  4    i             l       l    Z  Z    w         5   B                  5    B         Z         5    B  =  5              5    B  3  +     	         5    B        m
  "          b    B         
  "       55   B  * 6 " 6             5    B  S _ K _             5    B  y  q              5    B                  5    B         A         5    B         l         5    B  " .  .             5 5   B                  5 55!!      !!   exports!!   ./util    !!        B        <   @          d    e    f       c 4 _ * _    Y          5      d i  _               5   B         (             a       a        5          5    B                 5 5   B                    a    b    c    g    h    j    k    l    m    n    o    p    q    r    B  I  A     n      	       b       b V  L     {         5   B           "       5   B   O  O    (         5    B  y  q              5    B          "          c    B           "       55   B          @       5   B        
         5    B I  A     n  R          B  $  $              5 5   B                  5 5   B  1  1    >         5    B    w              5 55!!      !!   jquery    !!       B  J  J    ;   0         a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r       b        I              b   B  D  <               5 5      c  2  2              5      d <  2     x         5   B                     B                     B                  5 55   B  .  .    H         5    B I  A       "          d       c  W w M w             55   B  h  h       "          b    B   f  f    =         5 5   B                  5    B  P  P    B         5    B n k f k      B          a    b    c    B   g  g    X         5 5   B                  5    B =  5     y	  "          b    B  Z  R     	         5 5   B  N k F k    
         5    B        
         5    B        Q         5    B        P         5    B   s  s    (         5    B  T w T      2          b    d    B         9         5 5   B c = [ =             5    B  K y C y             5    B                  5    B                     b    e    f    h    j   B  _  W              5    B   /  /                B   +  +    I         5 55   B        P  "          b    B  1  )     m         5 5   B                  5    B        ;         5    B        8         5    B                  5    B  %       a  2       5    B         !         5    B  W  W             5    B k  c       B          c    d    e    B                  5 5   B                  5    B 
       F  "          b    B  '       c         5 5   B  6 U . U    r         5    B                 5    B  C  C      "          c    B   A  A    [          5 5   B n h f h              5    B y  q     !  "       5   B <  4     x#  "          b    B  Y  Q     #         5 5   B   #  #    @$         5    B   ~     $         5    B '       c%         5    B   I  I    X&         5    B  W X O X    &  "          b    B   U  U    ''            B   /   /    D(         5 55   B f  ^     (         5    B   I  I    )  "          b    B  G  G    1*         5 5   B  Y 	 Q 	    *  "          a    B        *         5 5   B  )	 	 !	 	    e+  2          b    c    B  L	 	 D	 	    +         5    B  	 	 	 	    +         5 5   B  	 c
 	 c
    1,  "          a    B  .
 a
 &
 a
    j,         5 5   B  {
 
 s
 
    ,         5    B 
 J 
 J    -  "       5   B p B h B    /  "          b    B   @  @    /         5 5   B         0         5    B        O1  "          c    B         12         5 5   B  3  3    P2         5    B \  T     2         5    B  h  h    5         5    B w  o     5  B          c    d    e    B        6         5    B         6         5 5   B  	  	    ,7  "          c    B         8         5 5   B   [  [    S8  2       5    B s  k     ;         5    B  4  4    @=         5    B  H  @     =         5    B   a  a    $>  "          c       b         1>             b   B   = 	 =    M>         5    B  j  b     >         5 55   B  s  k     ?         5    B  $ >  >    `@         5    B  S 	 K 	    @         5    B         WA         5    B         A         5    B   <   <     3B         5    B  N    F       B         5    B             B         5    B             C         5    B    !   !    ;C         5    B -! ! %! !    iC         5    B  ! ! ! !    C         5    B  " " " "    \D  "          b    B  =" " 5" "    yD         5 5   B  # # # #    F         5    B $ *$ $ *$    GF         5    B  $ m% $ m%    F         5    B  % % y% %    G         5    B  % I& % I&    G         5    B  V& & N& &    H         5    B  & & & &    H         5    B ' ' ' '    SI  "          b    B  4' ' ,' '    pI         5 5   B  ( ( ( (    K         5    B  #) * ) *    _K  "          c    B  ) G* ~) G*    K         5    B V* m* N* m*    L         5    B  |* * t* *    L         5 5   B  * , * ,    L         5    B ,, ]- $, ]-    hN         5    B - +. - +.    O  "          b    B  - ). - ).    O         5 5   B  . . . .    P         5    B  . / . /    Q            B  . / . /    1Q         5 5   B ./ D/ &/ D/    jQ         5    B  m/ 1 e/ 1    Q  2          b    e    B  0 1 0 1    S         5 5   B 1 2 1 2    VS  P          b    d    f    g       e  ,1  2 "1  2    hS         55   B 2 @3 2 @3    U  "          b    B  2 >3 2 >3    U         5 5   B  t3 3 l3 3    U         5    B 3 4 3 4    #V         5    B "4 5 4 5    ^V         5    B  5 56 5 56    W         5    B F6 S6 >6 S6    X         5    B  a6 $7 Y6 $7    X         5    B  27 a7 *7 a7    nY         5    B q7 g8 i7 g8    Y         5    B x8 #9 p8 #9    Z  "          c    B 8 8 8 8    Z         5 5   B 49 q9 ,9 q9    p[         5    B 9 ': y9 ':    [         5    B <: : 4: :    x\            B : : : :    \         5 5   B : ; : ;    &]  "          c    B ; q; ; q;    O]         5 5   B ; ;< ; ;<    ]         5    B I< < A< <    ^         5    B  < w> < w>    _         5    B > ? > ?    `         5    B ? ? ? ?    Ra  2       5    B ? 8@ ? 8@    !b         5    B J@ x@ B@ x@    b         5    B @ qA @ qA    b  "       5   B A A xA A    c         5    B A A A A    c         5    B A >B A >B    +d         5    B RB B JB B    d         5    B B C B C    e         5    B @C C 8C C    |e  "          b    B  ]C C UC C    e         5 5   B  D D D D    f         5    B E WE E WE    Vg         5    B gE }F _E }F    g            B  F MF F MF    Wh         5 5   B  F H F H    h  "       5   B H zI H zI    k  "          b    B  H xI H xI    ;k         5 5   B  I I I I    l         5    B  
J J J J    Fl            B  2J J *J J    nl         5 55;#:eDAh      \=\=@1]O   B    :https://c2.etf.unsa.ba/lib/requirejs.php/1543312098/core/first.js necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEAMQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAVZMIIFVTCCBD2gAwIBAgISBOkphsePXBm93wBPoz/kRCgPMA0GCSqGSIb3DQEBCwUAMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQDExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzAeFw0xOTAzMjUwNzUzNTFaFw0xOTA2MjMwNzUzNTFaMBkxFzAVBgNVBAMTDmMyLmV0Zi51bnNhLmJhMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2Zpjx7YJDCN7CZlGtqQOD2OAQ/2Yu+weuus9ew+FHv5u46neh7HNWg0b5VNZ4sM6N6RvheCY+JpyUk7GJ/KTYdOvRbFc9IPOpFb0xiioa7HQKl2/T31fSOotVjlFQyapEeIpsbhKsuTyfLpF7VambeWMEhr1/yMfOlOiGMv0rVFDiFmelBcLpIe/Ab/I1mHyKQA/sm26ipEFxliHvtHLK+LBMgqP1SOJyjlGzqzsuq3ve3Czs1uVNpHeTmbDOCq/r0mPML5cf+/X7nelU9I1kjJ+TTLze3/LqdQCPM3hQy/5Y0Boh7FDg4uKiWQMP99+oEYTipFj4TB490ITFSoLIQIDAQABo4ICZDCCAmAwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBTHzIZtwWYj0lyZjeJun3NDOH/WFDAfBgNVHSMEGDAWgBSoSmpjBH3duubRObemRWXv86jsoTBvBggrBgEFBQcBAQRjMGEwLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3NwLmludC14My5sZXRzZW5jcnlwdC5vcmcwLwYIKwYBBQUHMAKGI2h0dHA6Ly9jZXJ0LmludC14My5sZXRzZW5jcnlwdC5vcmcvMBkGA1UdEQQSMBCCDmMyLmV0Zi51bnNhLmJhMEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcGCysGAQQBgt8TAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5cHQub3JnMIIBBQYKKwYBBAHWeQIEAgSB9gSB8wDxAHcA4mlLribo6UAJ6IYbtjuD1D7n/nSI+6SPKJMBnd3x2/4AAAFptA5SRQAABAMASDBGAiEAsrkbgqzjcrBws3AR8tJFC6FshsWL2P3n4GBKwMCFWNECIQCuMk3dg8FlrLS/CGP9BgA2JyN+gWc6ufUw/zxNJKGLXwB2AGPy283oO8wszwtyhCdXazOkjWF3j711pjixx2hUS9iNAAABabQOUjUAAAQDAEcwRQIhAKBUO2R6dyLuoDe7y8etiLg8+7xfaECOP3y5wgL/Is/iAiAeF/zGj/EKEYo/H52m/J8yhpmgwIZqcNbMtS3g+xY8WzANBgkqhkiG9w0BAQsFAAOCAQEAgvZmfB+XI/BmnLr9jfeywd5/8CxItIJ02lBxBZNVc8NzPnvsy1cBIEqKXF4Krt0bcm2wX+8ch8LhnPf5daICrwYh+O8gK7YLIXbyf2jUVEW7r1Z0ACyQE360MCx2QSqJErEw+wclWNl/VkqQZinkowUspLR1xKsKdFp1+aJSwZxIvaRIkAEP2Y3aT/iwzmKDGZm44m1ONN4GjMxjsmF7y5QbfF6xrfkJkmrl4SzuUugT0UpQtk/Uq00ajKdiXZHROY9N0pOCUXCUP2H9eYGdKbw5Lbmb16f6NPfOJGGM95wWmXo35TcqC0Kt6m1cCt8ceZbftCbg/6ZnmPTy/ZthhcAvAAMAAAAAAQEAAAAAAAAEbm9uZQAAABBSU0EtUEtDUzEtU0hBNTEyAZWfsWVlF0h/q5vYkTvlMZeudM2lzS9HP5b18Lf/9ixoAAAAA2YKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAABVkwggVVMIIEPaADAgECAhIE6SmGx49cGb3fAE+jP+REKA8wDQYJKoZIhvcNAQELBQAwSjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUxldCdzIEVuY3J5cHQxIzAhBgNVBAMTGkxldCdzIEVuY3J5cHQgQXV0aG9yaXR5IFgzMB4XDTE5MDMyNTA3NTM1MVoXDTE5MDYyMzA3NTM1MVowGTEXMBUGA1UEAxMOYzIuZXRmLnVuc2EuYmEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDZmmPHtgkMI3sJmUa2pA4PY4BD/Zi77B666z17D4Ue/m7jqd6Hsc1aDRvlU1niwzo3pG+F4Jj4mnJSTsYn8pNh069FsVz0g86kVvTGKKhrsdAqXb9PfV9I6i1WOUVDJqkR4imxuEqy5PJ8ukXtVqZt5YwSGvX/Ix86U6IYy/StUUOIWZ6UFwukh78Bv8jWYfIpAD+ybbqKkQXGWIe+0csr4sEyCo/VI4nKOUbOrOy6re97cLOzW5U2kd5OZsM4Kr+vSY8wvlx/79fud6VT0jWSMn5NMvN7f8up1AI8zeFDL/ljQGiHsUODi4qJZAw/336gRhOKkWPhMHj3QhMVKgshAgMBAAGjggJkMIICYDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFMfMhm3BZiPSXJmN4m6fc0M4f9YUMB8GA1UdIwQYMBaAFKhKamMEfd265tE5t6ZFZe/zqOyhMG8GCCsGAQUFBwEBBGMwYTAuBggrBgEFBQcwAYYiaHR0cDovL29jc3AuaW50LXgzLmxldHNlbmNyeXB0Lm9yZzAvBggrBgEFBQcwAoYjaHR0cDovL2NlcnQuaW50LXgzLmxldHNlbmNyeXB0Lm9yZy8wGQYDVR0RBBIwEIIOYzIuZXRmLnVuc2EuYmEwTAYDVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYBBAGC3xMBAQEwKDAmBggrBgEFBQcCARYaaHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5vcmcwggEFBgorBgEEAdZ5AgQCBIH2BIHzAPEAdwDiaUuuJujpQAnohhu2O4PUPuf+dIj7pI8okwGd3fHb/gAAAWm0DlJFAAAEAwBIMEYCIQCyuRuCrONysHCzcBHy0kULoWyGxYvY/efgYErAwIVY0QIhAK4yTd2DwWWstL8IY/0GADYnI36BZzq59TD/PE0koYtfAHYAY/Lbzeg7zCzPC3KEJ1drM6SNYXePvXWmOLHHaFRL2I0AAAFptA5SNQAABAMARzBFAiEAoFQ7ZHp3Iu6gN7vLx62IuDz7vF9oQI4/fLnCAv8iz+ICIB4X/MaP8QoRij8fnab8nzKGmaDAhmpw1sy1LeD7FjxbMA0GCSqGSIb3DQEBCwUAA4IBAQCC9mZ8H5cj8Gacuv2N97LB3n/wLEi0gnTaUHEFk1Vzw3M+e+zLVwEgSopcXgqu3RtybbBf7xyHwuGc9/l1ogKvBiH47yArtgshdvJ/aNRURbuvVnQALJATfrQwLHZBKokSsTD7ByVY2X9WSpBmKeSjBSyktHXEqwp0WnX5olLBnEi9pEiQAQ/ZjdpP+LDOYoMZmbjibU403gaMzGOyYXvLlBt8XrGt+QmSauXhLO5S6BPRSlC2T9SrTRqMp2JdkdE5j03Sk4JRcJQ/Yf15gZ0pvDktuZvXp/o0984kYYz3nBaZejflNyoLQq3qbVwK3xx5lt+0JuD/pmeY9PL9m2GFZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEljCCBJIwggN6oAMCAQICEAoBQUIAAAFThXNqC4XspwgwDQYJKoZIhvcNAQELBQAwPzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMRcwFQYDVQQDEw5EU1QgUm9vdCBDQSBYMzAeFw0xNjAzMTcxNjQwNDZaFw0yMTAzMTcxNjQwNDZaMEoxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MSMwIQYDVQQDExpMZXQncyBFbmNyeXB0IEF1dGhvcml0eSBYMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJzTDPBa5S5Ht3JdN4OzaGMw6tc1Jhkl4b2+NfFwki+3uEtBBaupnjUIWOyxKsRohwuj43Xk5vOnYnG6eYFgH9eRmp/z0HhncchpDpWRz/7mmelgPEjMfspNdxIknUcbWuu57B43ABycrHunBerOSuu9QeU2mLnL/W08lmjfIypCkAyGdGfIf6WauFJhFBM/ZemCh8vb+g5W9oaJ84U/l4avsNwa72sNlRZ9xCugZbKZBDZ1gGusSvMbkEl4L6KWTyogJSkExnTA0DHNjzE4lRa6qDO4Q/GxH8Mwf6J5MRM9LTb44/zyM2q5OTHFr8SNDR1kFjOq+oQpttQLwNh9w5MCAwEAAaOCAX0wggF5MBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYDVR0PAQH/BAQDAgGGMH8GCCsGAQUFBwEBBHMwcTAyBggrBgEFBQcwAYYmaHR0cDovL2lzcmcudHJ1c3RpZC5vY3NwLmlkZW50cnVzdC5jb20wOwYIKwYBBQUHMAKGL2h0dHA6Ly9hcHBzLmlkZW50cnVzdC5jb20vcm9vdHMvZHN0cm9vdGNheDMucDdjMB8GA1UdIwQYMBaAFMSnsaR7LHH62+FLkHX/xBVghYkQMFQGA1UdIARNMEswCAYGZ4EMAQIBMD8GCysGAQQBgt8TAQEBMDAwLgYIKwYBBQUHAgEWImh0dHA6Ly9jcHMucm9vdC14MS5sZXRzZW5jcnlwdC5vcmcwPAYDVR0fBDUwMzAxoC+gLYYraHR0cDovL2NybC5pZGVudHJ1c3QuY29tL0RTVFJPT1RDQVgzQ1JMLmNybDAdBgNVHQ4EFgQUqEpqYwR93brm0Tm3pkVl7/Oo7KEwDQYJKoZIhvcNAQELBQADggEBAN0z1xHzY1g43RgV+wlVvnZWuXBIpWlHJ3vCJAiS8VofShIpNyR0URxiaLjNlXBn5fekvE4oUc2b6K6HnerYulqhAZrc8N1qHWrYPlcjnqYeBGKa/9cFyrcfP8AKSLyUsLZlYuDBVOWjKq0gxOnmu9zI9rXDMqOYzHeo5nllByvLKP46FlKBzlIMLl+D6NUGM/t3bM5A6jKeH5JcQcF0bFtdCl8zzE2frDjwL3ssYp3Zo5FvJRsvkLEZRj32fhumeoe5o3ptGPolpZGHFeDyFi9YsAYvLGgmxkuYzdqfDPl/kO1DShJETm9zeijqpKpue0x9h93gyQJEp4evwzRbtEJmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAANOMIIDSjCCAjKgAwIBAgIQRK+wgNajJ7qJMDmGLvhAazANBgkqhkiG9w0BAQUFADA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMB4XDTAwMDkzMDIxMTIxOVoXDTIxMDkzMDE0MDExNVowPzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMRcwFQYDVQQDEw5EU1QgUm9vdCBDQSBYMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN+v6ZdQCINXtMxiZfaQguzH0yxrMMpb7NnDfcdAwRgUi+DoM3ZJKuM/IUmTrE4Orz5Iy2Xu/NMhD2XSKtkyj4zl93ewEnu1lcCJo6m67XMuegwGMoOifooUMM0RoOEqOLl5CjH9UL2AZd+3UWODyOKIYepLYYHsUmu5ouJLGiifSKOeDNoJjj4XLh7dIN9bxiqKqy69cK3FCxolkHRyxXtqqzTWMIn/5WgTe1QLyNau7Fqckh49ZLOMxt+/yUFw7BZy1SbsOFU5Q9D8/RhcQPGX69Wam40dutolucbY38EVAjqr2m7xPi71XAicPNaDaeQQmxkqtilX4+U9m5/wAl0CAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFMSnsaR7LHH62+FLkHX/xBVghYkQMA0GCSqGSIb3DQEBBQUAA4IBAQCjGiybFwBcqR7uKGY3Or+Dxz9LwwmglSBd49lZRNI+DT69ikugdB/OEIKcdBodfpga3csTS7MgROSR6cz8faXbauX+5v3gTt23ADq1cEmv8uXrAvHRAosZy5Q6XkjEGB5YGV8eAlrwDPGxrancWYaLbumR9YbK+rlmM6pZW87ipxZzR8srzJmwN0jP41ZL9c8PDHIyh8bwRLtTcm1D9SZImlJnt1ir/md2cXjbDaJWFBM5JDGFoqgCWjBH4d1QB7wCCZAA62RjYJsWvIjJEubSfZGL+T0yjWW06XyxV3bqxbYoOb8VZRzI9neWagqNdwvYkQsEjgfbKbYK7p2CNTUQAA== request-method GET response-head HTTP/1.1 200 OK
Server: nginx/1.10.3 (Ubuntu)
Date: Mon, 25 Mar 2019 10:09:55 GMT
Content-Type: application/javascript; charset=utf-8
X-Powered-By: PHP/7.0.10
Etag: "eba51893588c046c8eee9202328fd02400bd4aa7"
Content-Disposition: inline; filename="requirejs.php"
Last-Modified: Tue, 27 Nov 2018 09:48:43 GMT
Expires: Sun, 23 Jun 2019 10:09:55 GMT
Cache-Control: public, max-age=7776000, immutable
Accept-Ranges: none
Front-End-Https: on
 original-response-headers Server: nginx/1.10.3 (Ubuntu)
Date: Mon, 25 Mar 2019 10:09:55 GMT
Content-Type: application/javascript; charset=utf-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Powered-By: PHP/7.0.10
Etag: "eba51893588c046c8eee9202328fd02400bd4aa7"
Content-Disposition: inline; filename="requirejs.php"
Last-Modified: Tue, 27 Nov 2018 09:48:43 GMT
Expires: Sun, 23 Jun 2019 10:09:55 GMT
Pragma: 
Cache-Control: public, max-age=7776000, immutable
Accept-Ranges: none
Front-End-Https: on
 uncompressed-len 0 net-response-time-onstart 9 net-response-time-onstop 52 alt-data 1;477905,javascript/moz-bytecode-20190315140653 alt-data-from-child 1  